/*! For license information please see main.4325f767.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&s(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),b=s(t),k=g?d:u(e),w=b?d:u(t),x=(k=k==f?h:k)==h,E=(w=w==f?h:w)==h,I=k==w;if(I&&c(e)){if(!c(t))return!1;g=!0,x=!1}if(I&&!x)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,k,n,v,m,y);if(!(1&n)){var C=x&&p.call(e,"__wrapped__"),_=E&&p.call(t,"__wrapped__");if(C||_){var S=C?e.value():e,T=_?t.value():t;return y||(y=new r),m(S,T,n,v,y)}}return!!I&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=o(h(e),h(t),r,c,f,d);return d.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var d=c[f];if(!(s?d in t:i.call(t,d)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[d=c[f]],g=t[d];if(a)var b=s?a(g,y,d,t,e,u):a(y,g,d,e,t,u);if(!(void 0===b?y===g||o(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(u),k=s;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=d||u&&k(new u)!=h)&&(k=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return d;case b:return h}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case C:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Ie=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Se(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ie)&&(Ne(),Se())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,It,Ct,_t=!1,St=[],Tt=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return In}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(_n),Tn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Ir={};function Cr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Cr("animationend"),Sr=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Sr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case _r:case Sr:case Tr:s=yn;break;case Nr:s=An;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Ei=-1;function Ii(e){return{current:e}}function Ci(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Si={},Ti=Ii(Si),Ni=Ii(!1),Ai=Si;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ci(Ni),Ci(Ti)}function Di(e,t,n){if(Ti.current!==Si)throw Error(a(168));_i(Ti,t),_i(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ti.current,_i(Ti,e),_i(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ti),_i(Ti,e)):Ci(Ni),_i(Ni,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ci(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Sa(e){null===_a?_a=[e]:_a.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Pi(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Pi(t)?Ai:Ti.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Za),_i(Za,t)}function io(){Ci(Za),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ci(Za),Ci(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Co(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function zo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return So().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Sa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ca,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ca,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ca,useCallback:Yo,useContext:Ca,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:$o,useDeferredValue:function(e){return Jo(So(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],So().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ca,useCallback:Yo,useContext:Ca,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(To)},useDebugValue:$o,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],So().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),du(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Co(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Su(e,t,n,r,i)}function Cu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Pi(n)?Ai:Ti.current;return a=Oi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Co(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Tu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Oi(t,c=Pi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ca(s):s=Oi(t,s=Pi(n)?Ai:Ti.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Du,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Hu(t),null;case 3:return r=t.stateNode,io(),Ci(Ni),Ci(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ci(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ci(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ni),Ci(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ju=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(h){Ic(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,Is=Math.ceil,Cs=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ss=k.ReactCurrentBatchConfig,Ts=0,Ns=null,As=null,Os=0,Ps=0,Rs=Ii(0),Ds=0,Ms=null,Ls=0,Fs=0,js=0,Vs=null,Us=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Hs=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Ts)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===Ns||(e===Ns&&(0===(2&Ts)&&(Fs|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Bs=Xe()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Ts)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,Bs=Xe()+500,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}wa(),Cs.current=o,Ts=i,null!==As?t=0:(Ns=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,dc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Bs=Xe()+500,Vi&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Ts)&&xc();var t=Ts;Ts|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(Ts=t))&&Bi()}}function fc(){Ps=Rs.current,Ci(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ci(Ni),Ci(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ps=t,Ds=0,Ms=null,js=Fs=Ls=0,Us=Vs=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function hc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,_s.current=null,null===n||null===n.return){Ds=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Cs.current;return Cs.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||uc(Ns,Os)}function mc(e,t){var n=Ts;Ts|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wa(),Ts=n,Cs.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ds}function yc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!$e();)bc(As)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=bt;bt=1;var s=Ts;Ts|=4,_s.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Ts=s,bt=u,Ss.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt($s),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Ts=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Xe()-zs?dc(e,0):js|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case C:return(e=Oc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case S:u=9;break e;case T:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ca(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Cu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ts)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6666:function(e){e.exports=function(){for(var e=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],t=[],n=0;n<36;n++)t[n]=8===n||13===n||18===n||23===n?"-":e[Math.ceil(Math.random()*e.length-1)];return t.join("")}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,C=null,_=-1,S=5,T=-1;function N(){return!(t.unstable_now()-T<S)}function A(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?E():(I=!1,C=null)}}else I=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function R(e){C=e,I||(I=!0,E())}function D(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d1d4a2c2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Uc},SDK_VERSION:function(){return Gl},_DEFAULT_ENTRY_NAME:function(){return Dl},_addComponent:function(){return jl},_addOrOverwriteComponent:function(){return Vl},_apps:function(){return Ll},_clearComponents:function(){return ql},_components:function(){return Fl},_getProvider:function(){return zl},_registerComponent:function(){return Ul},_removeServiceInstance:function(){return Bl},deleteApp:function(){return Xl},getApp:function(){return $l},getApps:function(){return Yl},initializeApp:function(){return Ql},onLog:function(){return ef},registerVersion:function(){return Zl},setLogLevel:function(){return tf}});var t,r=n(2791),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var d="beforeunload",h="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=b(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=p-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else S(e)}}r.addEventListener(h,u),r.addEventListener("hashchange",(function(){g(a()[1])!==g(k)&&u()}));var s=t.Pop,c=a(),p=c[0],k=c[1],w=m(),x=m();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:g(e))}function I(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:y()}))}function C(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function S(e){s=e;var t=a();p=t[0],k=t[1],w.call({action:s,location:k})}function T(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var N={get action(){return s},get location(){return k},createHref:E,push:function e(n,a){var o=t.Push,u=I(n,a);if(_(o,u,(function(){e(n,a)}))){var s=C(u,p+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}S(o)}},replace:function e(n,r){var a=t.Replace,o=I(n,r);if(_(a,o,(function(){e(n,r)}))){var u=C(o,p),s=u[0],c=u[1];i.replaceState(s,"",c),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,v),function(){t(),x.length||r.removeEventListener(d,v)}}};return N}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var w=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=N(i[o],r);return a}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||E(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&E(!1),C(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var _=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(_.test(t)?3:""===t?1:10)}),r)}function N(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:R(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function D(){return null!=(0,r.useContext)(w)}function M(){return D()||E(!1),(0,r.useContext)(w).location}function L(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function F(e){E(!1)}function j(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;D()&&E(!1);var h=R(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=b(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,x=void 0===g?"":g,I=v.hash,C=void 0===I?"":I,_=v.state,S=void 0===_?null:_,T=v.key,N=void 0===T?"default":T,A=(0,r.useMemo)((function(){var e=O(y,h);return null==e?null:{pathname:e,search:x,hash:C,state:S,key:N}}),[h,y,x,C,S,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:A,navigationType:c}}))}function V(e){var t=e.children,n=e.location;return function(e,t){D()||E(!1);var n,i=(0,r.useContext)(x).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,M());if(t){var c,l="string"===typeof t?b(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||E(!1),n=l}else n=s;var f=n.pathname||"/",d=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,e.pathnameBase])})})),i)}(U(t),n)}function U(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==F&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=U(e.props.children)),t.push(n)}else t.push.apply(t,U(e.props.children))})),t}function z(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,u=c((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],l=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(j,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}var W=n(1694),K=n.n(W),H=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),G=H.Consumer;function Q(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var $,Y=function(){if(!Q()||!window.document.documentElement)return!1;if(void 0!==$)return $;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),$=1===e.scrollHeight,document.body.removeChild(e),$},X=["xxl","xl","lg","md","sm","xs"],J={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Z=new Map,ee=-1,te={},ne={matchHandlers:{},dispatch:function(e){return te=e,Z.forEach((function(e){return e(te)})),Z.size>=1},subscribe:function(e){return Z.size||this.register(),ee+=1,Z.set(ee,e),e(te),ee},unsubscribe:function(e){Z.delete(e),Z.size||this.unregister()},unregister:function(){var e=this;Object.keys(J).forEach((function(t){var n=J[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Z.clear()},register:function(){var e=this;Object.keys(J).forEach((function(t){var n=J[t],r=function(n){var r=n.matches;e.dispatch(l(l({},te),B({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},ie=(0,r.createContext)({}),ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oe=(re("top","middle","bottom","stretch"),re("start","end","center","space-around","space-between","space-evenly"),r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.justify,o=e.align,u=e.className,s=e.style,f=e.children,d=e.gutter,h=void 0===d?0:d,p=e.wrap,v=ae(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=r.useContext(H),y=m.getPrefixCls,g=m.direction,b=c(r.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),k=b[0],w=b[1],x=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return r.useEffect((function(){n(Y())}),[]),t}(),E=r.useRef(h);r.useEffect((function(){var e=ne.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===q(t)||Array.isArray(t)&&("object"===q(t[0])||"object"===q(t[1])))&&w(e)}));return function(){return ne.unsubscribe(e)}}),[]);var I=y("row",i),C=function(){var e=[void 0,void 0];return(Array.isArray(h)?h:[h,void 0]).forEach((function(t,n){if("object"===q(t))for(var r=0;r<X.length;r++){var i=X[r];if(k[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),_=K()(I,(B(n={},"".concat(I,"-no-wrap"),!1===p),B(n,"".concat(I,"-").concat(a),a),B(n,"".concat(I,"-").concat(o),o),B(n,"".concat(I,"-rtl"),"rtl"===g),n),u),S={},T=null!=C[0]&&C[0]>0?C[0]/-2:void 0,N=null!=C[1]&&C[1]>0?C[1]/-2:void 0;if(T&&(S.marginLeft=T,S.marginRight=T),x){var A=c(C,2);S.rowGap=A[1]}else N&&(S.marginTop=N,S.marginBottom=N);var O=c(C,2),P=O[0],R=O[1],D=r.useMemo((function(){return{gutter:[P,R],wrap:p,supportFlexGap:x}}),[P,R,p,x]);return r.createElement(ie.Provider,{value:D},r.createElement("div",l({},v,{className:_,style:l(l({},S),s),ref:t}),f))})));var ue=oe,se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var ce=["xs","sm","md","lg","xl","xxl"],le=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPrefixCls,o=i.direction,u=r.useContext(ie),s=u.gutter,c=u.wrap,f=u.supportFlexGap,d=e.prefixCls,h=e.span,p=e.order,v=e.offset,m=e.push,y=e.pull,g=e.className,b=e.children,k=e.flex,w=e.style,x=se(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=a("col",d),I={};ce.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===q(i)&&(r=i||{}),delete x[t],I=l(l({},I),(B(n={},"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),B(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),B(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),B(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),B(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),B(n,"".concat(E,"-rtl"),"rtl"===o),n))}));var C=K()(E,(B(n={},"".concat(E,"-").concat(h),void 0!==h),B(n,"".concat(E,"-order-").concat(p),p),B(n,"".concat(E,"-offset-").concat(v),v),B(n,"".concat(E,"-push-").concat(m),m),B(n,"".concat(E,"-pull-").concat(y),y),n),g,I),_={};if(s&&s[0]>0){var S=s[0]/2;_.paddingLeft=S,_.paddingRight=S}if(s&&s[1]>0&&!f){var T=s[1]/2;_.paddingTop=T,_.paddingBottom=T}return k&&(_.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(k),!1!==c||_.minWidth||(_.minWidth=0)),r.createElement("div",l({},x,{style:l(l({},_),w),className:C,ref:t}),b)}));var fe=le;function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){var n=he({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var ve=r.createContext(void 0),me=ve,ye=function(e){var t,n,i=e.prefixCls,a=e.className,o=e.style,u=e.size,s=e.shape,c=K()((B(t={},"".concat(i,"-lg"),"large"===u),B(t,"".concat(i,"-sm"),"small"===u),t)),f=K()((B(n={},"".concat(i,"-circle"),"circle"===s),B(n,"".concat(i,"-square"),"square"===s),B(n,"".concat(i,"-round"),"round"===s),n)),d="number"===typeof u?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return r.createElement("span",{className:K()(i,c,f,a),style:l(l({},d),o)})},ge=function(e){var t=e.prefixCls,n=e.className,i=e.active,a=(0,r.useContext(H).getPrefixCls)("skeleton",t),o=pe(e,["prefixCls","className"]),u=K()(a,"".concat(a,"-element"),B({},"".concat(a,"-active"),i),n);return r.createElement("div",{className:u},r.createElement(ye,l({prefixCls:"".concat(a,"-avatar")},o)))};ge.defaultProps={size:"default",shape:"circle"};var be=ge,ke=function(e){var t,n=e.prefixCls,i=e.className,a=e.active,o=e.block,u=void 0!==o&&o,s=(0,r.useContext(H).getPrefixCls)("skeleton",n),c=pe(e,["prefixCls"]),f=K()(s,"".concat(s,"-element"),(B(t={},"".concat(s,"-active"),a),B(t,"".concat(s,"-block"),u),t),i);return r.createElement("div",{className:f},r.createElement(ye,l({prefixCls:"".concat(s,"-button")},c)))};ke.defaultProps={size:"default"};var we=ke,xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};function Ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ie=(0,r.createContext)({});function Ce(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function _e(e){return e<=1?"".concat(100*Number(e),"%"):e}function Se(e){return 1===e.length?"0"+e:String(e)}function Te(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ne(e){return Ae(e)/255}function Ae(e){return parseInt(e,16)}var Oe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Pe(e){var t,n,r,i={r:0,g:0,b:0},a=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Oe[e])e=Oe[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Le.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Le.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Le.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Le.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Le.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Le.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Le.hex8.exec(e))return{r:Ae(n[1]),g:Ae(n[2]),b:Ae(n[3]),a:Ne(n[4]),format:t?"name":"hex8"};if(n=Le.hex6.exec(e))return{r:Ae(n[1]),g:Ae(n[2]),b:Ae(n[3]),format:t?"name":"hex"};if(n=Le.hex4.exec(e))return{r:Ae(n[1]+n[1]),g:Ae(n[2]+n[2]),b:Ae(n[3]+n[3]),a:Ne(n[4]+n[4]),format:t?"name":"hex8"};if(n=Le.hex3.exec(e))return{r:Ae(n[1]+n[1]),g:Ae(n[2]+n[2]),b:Ae(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Fe(e.r)&&Fe(e.g)&&Fe(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*Ce(t,255),g:255*Ce(n,255),b:255*Ce(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):Fe(e.h)&&Fe(e.s)&&Fe(e.v)?(o=_e(e.s),u=_e(e.v),i=function(e,t,n){e=6*Ce(e,360),t=Ce(t,100),n=Ce(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):Fe(e.h)&&Fe(e.s)&&Fe(e.l)&&(o=_e(e.s),s=_e(e.l),i=function(e,t,n){var r,i,a;if(e=Ce(e,360),t=Ce(t,100),n=Ce(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=Te(u,o,e+1/3),i=Te(u,o,e),a=Te(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(a),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var Re="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),De="[\\s|\\(]+(".concat(Re,")[,|\\s]+(").concat(Re,")[,|\\s]+(").concat(Re,")\\s*\\)?"),Me="[\\s|\\(]+(".concat(Re,")[,|\\s]+(").concat(Re,")[,|\\s]+(").concat(Re,")[,|\\s]+(").concat(Re,")\\s*\\)?"),Le={CSS_UNIT:new RegExp(Re),rgb:new RegExp("rgb"+De),rgba:new RegExp("rgba"+Me),hsl:new RegExp("hsl"+De),hsla:new RegExp("hsla"+Me),hsv:new RegExp("hsv"+De),hsva:new RegExp("hsva"+Me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Fe(e){return Boolean(Le.CSS_UNIT.exec(String(e)))}var je=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ve(e){var t=function(e,t,n){e=Ce(e,255),t=Ce(t,255),n=Ce(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Ue(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[Se(Math.round(e).toString(16)),Se(Math.round(t).toString(16)),Se(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function ze(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Be(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function qe(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function We(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Ke(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Pe(e),i=5;i>0;i-=1){var a=Ve(r),o=Ue(Pe({h:Be(a,i,!0),s:qe(a,i,!0),v:We(a,i,!0)}));n.push(o)}n.push(Ue(r));for(var u=1;u<=4;u+=1){var s=Ve(r),c=Ue(Pe({h:Be(s,u),s:qe(s,u),v:We(s,u)}));n.push(c)}return"dark"===t.theme?je.map((function(e){var r=e.index,i=e.opacity;return Ue(ze(Pe(t.backgroundColor||"#141414"),Pe(n[r]),100*i))})):n}var He={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ge={},Qe={};Object.keys(He).forEach((function(e){Ge[e]=Ke(He[e]),Ge[e].primary=Ge[e][5],Qe[e]=Ke(He[e],{theme:"dark",backgroundColor:"#141414"}),Qe[e].primary=Qe[e][5]}));Ge.red,Ge.volcano,Ge.gold,Ge.orange,Ge.yellow,Ge.lime,Ge.green,Ge.cyan,Ge.blue,Ge.geekblue,Ge.purple,Ge.magenta,Ge.grey;var $e={};function Ye(e,t){0}function Xe(e,t,n){t||$e[n]||(e(!1,n),$e[n]=!0)}var Je=function(e,t){Xe(Ye,e,t)},Ze="data-rc-order",et="rc-util-key",tt=new Map;function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):et}function rt(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function it(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function at(e){return Array.from((tt.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Q())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(Ze,it(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var a=rt(t),o=a.firstChild;if(r){if("queue"===r){var u=at(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(Ze))}));if(u.length)return a.insertBefore(i,u[u.length-1].nextSibling),i}a.insertBefore(i,o)}else a.appendChild(i);return i}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt(t);return at(n).find((function(n){return n.getAttribute(nt(t))===e}))}function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rt(n);if(!tt.has(r)){var i=ot("",n),a=i.parentNode;tt.set(r,a),a.removeChild(i)}var o=ut(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=ot(e,n);return l.setAttribute(nt(n),t),l}function ct(e){return"object"===q(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===q(e.icon)||"function"===typeof e.icon)}function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ft(e,t,n){return n?r.createElement(e.tag,he(he({key:t},lt(e.attrs)),n),(e.children||[]).map((function(n,r){return ft(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,he({key:t},lt(e.attrs)),(e.children||[]).map((function(n,r){return ft(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function dt(e){return Ke(e)[0]}function ht(e){return e?Array.isArray(e)?e:[e]:[]}var pt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",vt=["icon","className","onClick","style","primaryColor","secondaryColor"],mt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var yt=function(e){var t,n,i=e.icon,a=e.className,o=e.onClick,u=e.style,s=e.primaryColor,c=e.secondaryColor,l=Ee(e,vt),f=mt;if(s&&(f={primaryColor:s,secondaryColor:c||dt(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=(0,r.useContext)(Ie).csp;(0,r.useEffect)((function(){st(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=ct(i),n="icon should be icon definiton, but got ".concat(i),Je(t,"[@ant-design/icons] ".concat(n)),!ct(i))return null;var d=i;return d&&"function"===typeof d.icon&&(d=he(he({},d),{},{icon:d.icon(f.primaryColor,f.secondaryColor)})),ft(d.icon,"svg-".concat(d.name),he({className:a,onClick:o,style:u,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};yt.displayName="IconReact",yt.getTwoToneColors=function(){return he({},mt)},yt.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;mt.primaryColor=t,mt.secondaryColor=n||dt(t),mt.calculated=!!n};var gt=yt;function bt(e){var t=c(ht(e),2),n=t[0],r=t[1];return gt.setTwoToneColors({primaryColor:n,secondaryColor:r})}var kt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];bt("#1890ff");var wt=r.forwardRef((function(e,t){var n,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,l=e.onClick,f=e.twoToneColor,d=Ee(e,kt),h=r.useContext(Ie).prefixCls,p=void 0===h?"anticon":h,v=K()(p,(B(n={},"".concat(p,"-").concat(a.name),!!a.name),B(n,"".concat(p,"-spin"),!!o||"loading"===a.name),n),i),m=s;void 0===m&&l&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=c(ht(f),2),b=g[0],k=g[1];return r.createElement("span",he(he({role:"img","aria-label":a.name},d),{},{ref:t,tabIndex:m,onClick:l,className:v}),r.createElement(gt,{icon:a,primaryColor:b,secondaryColor:k,style:y}))}));wt.displayName="AntdIcon",wt.getTwoToneColor=function(){var e=gt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},wt.setTwoToneColor=bt;var xt=wt,Et=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:xe}))};Et.displayName="DotChartOutlined";var It=r.forwardRef(Et),Ct=function(e){var t,n=e.prefixCls,i=e.className,a=e.style,o=e.active,u=(0,r.useContext(H).getPrefixCls)("skeleton",n),s=K()(u,"".concat(u,"-element"),B({},"".concat(u,"-active"),o),i),c=null!==(t=e.children)&&void 0!==t?t:r.createElement(It,null);return r.createElement("div",{className:s},r.createElement("div",{className:K()("".concat(u,"-image"),i),style:a},c))},_t=function(e){var t=e.prefixCls,n=e.className,i=e.style,a=e.active,o=(0,r.useContext(H).getPrefixCls)("skeleton",t),u=K()(o,"".concat(o,"-element"),B({},"".concat(o,"-active"),a),n);return r.createElement("div",{className:u},r.createElement("div",{className:K()("".concat(o,"-image"),n),style:i},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(o,"-image-svg")},r.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(o,"-image-path")}))))},St=function(e){var t,n=e.prefixCls,i=e.className,a=e.active,o=e.block,u=(0,r.useContext(H).getPrefixCls)("skeleton",n),s=pe(e,["prefixCls"]),c=K()(u,"".concat(u,"-element"),(B(t={},"".concat(u,"-active"),a),B(t,"".concat(u,"-block"),o),t),i);return r.createElement("div",{className:c},r.createElement(ye,l({prefixCls:"".concat(u,"-input")},s)))};St.defaultProps={size:"default"};var Tt=St;function Nt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function At(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Nt(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ot=function(e){var t=function(t){var n=e.width,r=e.rows,i=void 0===r?2:r;return Array.isArray(n)?n[t]:i-1===t?n:void 0},n=e.prefixCls,i=e.className,a=e.style,o=e.rows,u=At(Array(o)).map((function(e,n){return r.createElement("li",{key:n,style:{width:t(n)}})}));return r.createElement("ul",{className:K()(n,i),style:a},u)},Pt=function(e){var t=e.prefixCls,n=e.className,i=e.width,a=e.style;return r.createElement("h3",{className:K()(t,n),style:l({width:i},a)})};function Rt(e){return e&&"object"===q(e)?e:{}}var Dt=function(e){var t=e.prefixCls,n=e.loading,i=e.className,a=e.style,o=e.children,u=e.avatar,s=e.title,c=e.paragraph,f=e.active,d=e.round,h=r.useContext(H),p=h.getPrefixCls,v=h.direction,m=p("skeleton",t);if(n||!("loading"in e)){var y,g,b,k=!!u,w=!!s,x=!!c;if(k){var E=l(l({prefixCls:"".concat(m,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(w,x)),Rt(u));g=r.createElement("div",{className:"".concat(m,"-header")},r.createElement(ye,l({},E)))}if(w||x){var I,C;if(w){var _=l(l({prefixCls:"".concat(m,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(k,x)),Rt(s));I=r.createElement(Pt,l({},_))}if(x){var S=l(l({prefixCls:"".concat(m,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(k,w)),Rt(c));C=r.createElement(Ot,l({},S))}b=r.createElement("div",{className:"".concat(m,"-content")},I,C)}var T=K()(m,(B(y={},"".concat(m,"-with-avatar"),k),B(y,"".concat(m,"-active"),f),B(y,"".concat(m,"-rtl"),"rtl"===v),B(y,"".concat(m,"-round"),d),y),i);return r.createElement("div",{className:T,style:a},g,b)}return"undefined"!==typeof o?o:null};Dt.defaultProps={avatar:!1,title:!0,paragraph:!0},Dt.Button=we,Dt.Avatar=be,Dt.Input=Tt,Dt.Image=_t,Dt.Node=Ct;var Mt=Dt,Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Ft=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:Lt}))};Ft.displayName="CloseOutlined";var jt=r.forwardRef(Ft),Vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Ut=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:Vt}))};Ut.displayName="EllipsisOutlined";var zt=r.forwardRef(Ut),Bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},qt=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:Bt}))};qt.displayName="PlusOutlined";var Wt=r.forwardRef(qt),Kt=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function Ht(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Gt,Qt=Q()?r.useLayoutEffect:r.useEffect,$t=Qt;function Yt(e){var t=r.useRef(!1),n=c(r.useState(e),2),i=n[0],a=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||a(e)}]}function Xt(e){return void 0!==e}function Jt(e,t){var n=t||{},i=n.defaultValue,a=n.value,o=n.onChange,u=n.postState,s=c(Yt((function(){var t,n=void 0;return Xt(a)?(n=a,t=Gt.PROP):Xt(i)?(n="function"===typeof i?i():i,t=Gt.PROP):(n="function"===typeof e?e():e,t=Gt.INNER),[n,t,n]})),2),l=s[0],f=s[1],d=Xt(a)?a:l[0],h=u?u(d):d;!function(e,t){var n=r.useRef(!0);Qt((function(){if(!n.current)return e()}),t),Qt((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){f((function(e){var t=c(e,1)[0];return[a,Gt.PROP,t]}))}),[a]);var p=r.useRef(),v=Ht((function(e,t){f((function(t){var n=c(t,3),r=n[0],i=n[1],a=n[2],o="function"===typeof e?e(r):e;if(o===r)return t;var u=i===Gt.INNER&&p.current!==a?a:r;return[o,Gt.INNER,u]}),t)})),m=Ht(o);return $t((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===Gt.INNER&&(m(t,r),p.current=r)}),[l]),[h,v]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(Gt||(Gt={}));var Zt=n(4164);function en(e){return e instanceof HTMLElement?e:Zt.findDOMNode(e)}var tn=n(3873);function nn(e,t){"function"===typeof e?e(t):"object"===q(e)&&e&&"current"in e&&(e.current=t)}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){nn(t,e)}))}}function an(e){var t,n,r=(0,tn.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function on(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var un=function(e,t){var n={animationend:on("Animation","AnimationEnd"),transitionend:on("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Q(),"undefined"!==typeof window?window:{}),sn={};if(Q()){var cn=document.createElement("div");sn=cn.style}var ln={};function fn(e){if(ln[e])return ln[e];var t=un[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in sn)return ln[e]=t[a],ln[e]}return""}var dn=fn("animationend"),hn=fn("transitionend"),pn=!(!dn||!hn),vn=dn||"animationend",mn=hn||"transitionend";function yn(e,t){return e?"object"===q(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var gn="none",bn="appear",kn="enter",wn="leave",xn="none",En="prepare",In="start",Cn="active",_n="end",Sn=function(e){return+setTimeout(e,16)},Tn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Sn=function(e){return window.requestAnimationFrame(e)},Tn=function(e){return window.cancelAnimationFrame(e)});var Nn=0,An=new Map;function On(e){An.delete(e)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Nn+=1;function r(t){if(0===t)On(n),e();else{var i=Sn((function(){r(t-1)}));An.set(n,i)}}return r(t),n}Pn.cancel=function(e){var t=An.get(e);return On(t),Tn(t)};var Rn=Q()?r.useLayoutEffect:r.useEffect,Dn=[En,In,Cn,_n];function Mn(e){return e===Cn||e===_n}var Ln=function(e,t){var n=c(Yt(xn),2),i=n[0],a=n[1],o=function(){var e=r.useRef(null);function t(){Pn.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Pn((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),u=c(o,2),s=u[0],l=u[1];return Rn((function(){if(i!==xn&&i!==_n){var e=Dn.indexOf(i),n=Dn[e+1],r=t(i);false===r?a(n,!0):s((function(e){function t(){e.isCanceled()||a(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),r.useEffect((function(){return function(){l()}}),[]),[function(){a(En,!0)},i]};function Fn(e,t,n,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,l=i.motionLeave,f=void 0===l||l,d=i.motionDeadline,h=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,b=i.onLeaveStart,k=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,E=i.onAppearEnd,I=i.onEnterEnd,C=i.onLeaveEnd,_=i.onVisibleChanged,S=c(Yt(),2),T=S[0],N=S[1],A=c(Yt(gn),2),O=A[0],P=A[1],R=c(Yt(null),2),D=R[0],M=R[1],L=(0,r.useRef)(!1),F=(0,r.useRef)(null);function j(){return n()}var V=(0,r.useRef)(!1);function U(e){var t=j();if(!e||e.deadline||e.target===t){var n,r=V.current;O===bn&&r?n=null===E||void 0===E?void 0:E(t,e):O===kn&&r?n=null===I||void 0===I?void 0:I(t,e):O===wn&&r&&(n=null===C||void 0===C?void 0:C(t,e)),O!==gn&&r&&!1!==n&&(P(gn,!0),M(null,!0))}}var z=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(mn,i),e.removeEventListener(vn,i))}return r.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(mn,i),e.addEventListener(vn,i),t.current=e)},a]}(U),q=c(z,1)[0],W=r.useMemo((function(){var e,t,n;switch(O){case bn:return B(e={},En,p),B(e,In,y),B(e,Cn,k),e;case kn:return B(t={},En,v),B(t,In,g),B(t,Cn,w),t;case wn:return B(n={},En,m),B(n,In,b),B(n,Cn,x),n;default:return{}}}),[O]),K=c(Ln(O,(function(e){if(e===En){var t=W.prepare;return!!t&&t(j())}var n;G in W&&M((null===(n=W[G])||void 0===n?void 0:n.call(W,j(),null))||null);return G===Cn&&(q(j()),d>0&&(clearTimeout(F.current),F.current=setTimeout((function(){U({deadline:!0})}),d))),true})),2),H=K[0],G=K[1],Q=Mn(G);V.current=Q,Rn((function(){N(t);var n,r=L.current;(L.current=!0,e)&&(!r&&t&&s&&(n=bn),r&&t&&o&&(n=kn),(r&&!t&&f||!r&&h&&!t&&f)&&(n=wn),n&&(P(n),H()))}),[t]),(0,r.useEffect)((function(){(O===bn&&!s||O===kn&&!o||O===wn&&!f)&&P(gn)}),[s,o,f]),(0,r.useEffect)((function(){return function(){L.current=!1,clearTimeout(F.current)}}),[]);var $=r.useRef(!1);(0,r.useEffect)((function(){T&&($.current=!0),void 0!==T&&O===gn&&(($.current||T)&&(null===_||void 0===_||_(T)),$.current=!0)}),[T,O]);var Y=D;return W.prepare&&G===In&&(Y=he({transition:"none"},Y)),[O,G,Y,null!==T&&void 0!==T?T:t]}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zn(e,t){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zn(e,t)}function Bn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zn(e,t)}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}function Wn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){if(t&&("object"===q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kn(e)}function Gn(e){var t=Wn();return function(){var n,r=qn(e);if(t){var i=qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hn(this,n)}}var Qn=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),$n=Qn;var Yn=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===q(e)&&(t=e.transitionSupport);var i=r.forwardRef((function(e,t){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,s=e.forceRender,l=e.children,f=e.motionName,d=e.leavedClassName,h=e.eventProps,p=n(e),v=(0,r.useRef)(),m=(0,r.useRef)();var y=c(Fn(p,a,(function(){try{return v.current instanceof HTMLElement?v.current:en(m.current)}catch(e){return null}}),e),4),g=y[0],b=y[1],k=y[2],w=y[3],x=r.useRef(w);w&&(x.current=!0);var E,I=r.useCallback((function(e){v.current=e,nn(t,e)}),[t]),C=he(he({},h),{},{visible:a});if(l)if(g!==gn&&n(e)){var _,S;b===En?S="prepare":Mn(b)?S="active":b===In&&(S="start"),E=l(he(he({},C),{},{className:K()(yn(f,g),(_={},B(_,yn(f,"".concat(g,"-").concat(S)),S),B(_,f,"string"===typeof f),_)),style:k}),I)}else E=w?l(he({},C),I):!u&&x.current?l(he(he({},C),{},{className:d}),I):s?l(he(he({},C),{},{style:{display:"none"}}),I):null;else E=null;r.isValidElement(E)&&an(E)&&(E.ref||(E=r.cloneElement(E,{ref:I})));return r.createElement($n,{ref:m},E)}));return i.displayName="CSSMotion",i}(pn),Xn="add",Jn="keep",Zn="remove",er="removed";function tr(e){var t;return he(he({},t=e&&"object"===q(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(tr)}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=nr(e),o=nr(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return he(he({},e),{},{status:Xn})}))),r=a),n.push(he(he({},u),{},{status:Jn})),r+=1,t=!0;break}}t||n.push(he(he({},e),{},{status:Zn}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return he(he({},e),{},{status:Xn})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Zn}))).forEach((function(t){t.key===e&&(t.status=Jn)}))})),n}var ir=["component","children","onVisibleChanged","onAllRemoved"],ar=["status"],or=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn,n=function(e){Bn(i,e);var n=Gn(i);function i(){var e;jn(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:he(he({},e),{},{status:er})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==er})).length},e}return Un(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=Ee(i,ir),f=a||r.Fragment,d={};return or.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,r.createElement(f,c,n.map((function(n){var i=n.status,a=Ee(n,ar),c=i===Xn||i===Jn;return r.createElement(t,l({},d,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=nr(n);return{keyEntities:rr(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==er||e.status!==Zn}))}}}]),i}(r.Component);n.defaultProps={component:"div"}}(pn);var ur=Yn,sr=(0,r.createContext)(null),cr=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,a=e.style,o=e.id,u=e.active,s=e.tabKey,c=e.children;return r.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!u,style:a,className:K()(n,u&&"".concat(n,"-active"),i),ref:t},c)}));var lr=cr,fr=["key","forceRender","style","className"];function dr(e){var t=e.id,n=e.activeKey,i=e.animated,a=e.tabPosition,o=e.destroyInactiveTabPane,u=r.useContext(sr),s=u.prefixCls,c=u.tabs,f=i.tabPane,d="".concat(s,"-tabpane");return r.createElement("div",{className:K()("".concat(s,"-content-holder"))},r.createElement("div",{className:K()("".concat(s,"-content"),"".concat(s,"-content-").concat(a),B({},"".concat(s,"-content-animated"),f))},c.map((function(e){var a=e.key,u=e.forceRender,s=e.style,c=e.className,h=Ee(e,fr),p=a===n;return r.createElement(ur,l({key:a,visible:p,forceRender:u,removeOnLeave:!!o,leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),(function(e,n){var i=e.style,o=e.className;return r.createElement(lr,l({},h,{prefixCls:d,id:t,tabKey:a,animated:f,active:p,style:he(he({},s),i),className:K()(c,o),ref:n}))}))}))))}function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(hr(e)):(0,tn.isFragment)(e)&&e.props?n=n.concat(hr(e.props.children,t)):n.push(e))})),n}var pr=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),vr="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,mr="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),yr="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(mr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var gr=["top","right","bottom","left","width","height","size","weight"],br="undefined"!==typeof MutationObserver,kr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function o(){yr(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){vr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),br?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){vr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;gr.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),wr=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},xr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||mr},Er=Nr(0,0,0,0);function Ir(e){return parseFloat(e)||0}function Cr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ir(e["border-"+n+"-width"])}),0)}function _r(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Er;var r=xr(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Ir(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=Ir(r.width),s=Ir(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=Cr(r,"left","right")+a),Math.round(s+o)!==n&&(s-=Cr(r,"top","bottom")+o)),!function(e){return e===xr(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return Nr(i.left,i.top,u,s)}var Sr="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof xr(e).SVGGraphicsElement}:function(e){return e instanceof xr(e).SVGElement&&"function"===typeof e.getBBox};function Tr(e){return vr?Sr(e)?function(e){var t=e.getBBox();return Nr(0,0,t.width,t.height)}(e):_r(e):Er}function Nr(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Ar=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Nr(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Tr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Or=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return wr(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);wr(this,{target:e,contentRect:n})},Pr=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new pr,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof xr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ar(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof xr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Or(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Rr="undefined"!==typeof WeakMap?new WeakMap:new pr,Dr=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=kr.getInstance(),r=new Pr(t,n,this);Rr.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Dr.prototype[e]=function(){var t;return(t=Rr.get(this))[e].apply(t,arguments)}}));var Mr="undefined"!==typeof mr.ResizeObserver?mr.ResizeObserver:Dr,Lr=new Map;var Fr=new Mr((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Lr.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var jr=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),Vr=r.createContext(null);function Ur(e){var t=e.children,n=e.disabled,i=r.useRef(null),a=r.useRef(null),o=r.useContext(Vr),u="function"===typeof t,s=u?t(i):t,c=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!u&&r.isValidElement(s)&&an(s),f=l?s.ref:null,d=r.useMemo((function(){return rn(f,i)}),[f,i]),h=r.useRef(e);h.current=e;var p=r.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),d=Math.floor(u);if(c.current.width!==f||c.current.height!==d||c.current.offsetWidth!==s||c.current.offsetHeight!==l){var p={width:f,height:d,offsetWidth:s,offsetHeight:l};c.current=p;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,y=he(he({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return r.useEffect((function(){var e,t,r=en(i.current)||en(a.current);return r&&!n&&(e=r,t=p,Lr.has(e)||(Lr.set(e,new Set),Fr.observe(e)),Lr.get(e).add(t)),function(){return function(e,t){Lr.has(e)&&(Lr.get(e).delete(t),Lr.get(e).size||(Fr.unobserve(e),Lr.delete(e)))}(r,p)}}),[i.current,n]),r.createElement(jr,{ref:a},l?r.cloneElement(s,{ref:d}):s)}function zr(e){var t=e.children;return("function"===typeof t?[t]:hr(t)).map((function(t,n){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(Ur,l({},e,{key:i}),t)}))}zr.Collection=function(e){var t=e.children,n=e.onBatchResize,i=r.useRef(0),a=r.useRef([]),o=r.useContext(Vr),u=r.useCallback((function(e,t,r){i.current+=1;var u=i.current;a.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){u===i.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,r)}),[n,o]);return r.createElement(Vr.Provider,{value:u},t)};var Br=zr;function qr(e){var t=(0,r.useRef)(),n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return n.current=!1,function(){n.current=!0,Pn.cancel(t.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(Pn.cancel(t.current),t.current=Pn((function(){e.apply(void 0,i)})))}}var Wr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Wr.F1&&t<=Wr.F12)return!1;switch(t){case Wr.ALT:case Wr.CAPS_LOCK:case Wr.CONTEXT_MENU:case Wr.CTRL:case Wr.DOWN:case Wr.END:case Wr.ESC:case Wr.HOME:case Wr.INSERT:case Wr.LEFT:case Wr.MAC_FF_META:case Wr.META:case Wr.NUMLOCK:case Wr.NUM_CENTER:case Wr.PAGE_DOWN:case Wr.PAGE_UP:case Wr.PAUSE:case Wr.PRINT_SCREEN:case Wr.RIGHT:case Wr.SHIFT:case Wr.UP:case Wr.WIN_KEY:case Wr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Wr.ZERO&&e<=Wr.NINE)return!0;if(e>=Wr.NUM_ZERO&&e<=Wr.NUM_MULTIPLY)return!0;if(e>=Wr.A&&e<=Wr.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Wr.SPACE:case Wr.QUESTION_MARK:case Wr.NUM_PLUS:case Wr.NUM_MINUS:case Wr.NUM_PERIOD:case Wr.NUM_DIVISION:case Wr.SEMICOLON:case Wr.DASH:case Wr.EQUALS:case Wr.COMMA:case Wr.PERIOD:case Wr.SLASH:case Wr.APOSTROPHE:case Wr.SINGLE_QUOTE:case Wr.OPEN_SQUARE_BRACKET:case Wr.BACKSLASH:case Wr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Kr=Wr;function Hr(e,t){var n,i=e.prefixCls,a=e.id,o=e.active,u=e.tab,s=u.key,c=u.label,l=u.disabled,f=u.closeIcon,d=e.closable,h=e.renderWrapper,p=e.removeAriaLabel,v=e.editable,m=e.onClick,y=e.onRemove,g=e.onFocus,b=e.style,k="".concat(i,"-tab");r.useEffect((function(){return y}),[]);var w=v&&!1!==d&&!l;function x(e){l||m(e)}var E=r.createElement("div",{key:s,ref:t,className:K()(k,(n={},B(n,"".concat(k,"-with-remove"),w),B(n,"".concat(k,"-active"),o),B(n,"".concat(k,"-disabled"),l),n)),style:b,onClick:x},r.createElement("div",{role:"tab","aria-selected":o,id:a&&"".concat(a,"-tab-").concat(s),className:"".concat(k,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(e){e.stopPropagation(),x(e)},onKeyDown:function(e){[Kr.SPACE,Kr.ENTER].includes(e.which)&&(e.preventDefault(),x(e))},onFocus:g},c),w&&r.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(k,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:s,event:t})}},f||v.removeIcon||"\xd7"));return h?h(E):E}var Gr=r.forwardRef(Hr),Qr={width:0,height:0,left:0,top:0};var $r={width:0,height:0,left:0,top:0,right:0};var Yr=n(9613),Xr=n.n(Yr),Jr=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Zr=void 0;function ei(e,t){var n=e.prefixCls,i=e.invalidate,a=e.item,o=e.renderItem,u=e.responsive,s=e.responsiveDisabled,c=e.registerSize,f=e.itemKey,d=e.className,h=e.style,p=e.children,v=e.display,m=e.order,y=e.component,g=void 0===y?"div":y,b=Ee(e,Jr),k=u&&!v;function w(e){c(f,e)}r.useEffect((function(){return function(){w(null)}}),[]);var x,E=o&&a!==Zr?o(a):p;i||(x={opacity:k?0:1,height:k?0:Zr,overflowY:k?"hidden":Zr,order:u?m:Zr,pointerEvents:k?"none":Zr,position:k?"absolute":Zr});var I={};k&&(I["aria-hidden"]=!0);var C=r.createElement(g,l({className:K()(!i&&n,d),style:he(he({},x),h)},I,b,{ref:t}),E);return u&&(C=r.createElement(Br,{onResize:function(e){w(e.offsetWidth)},disabled:s},C)),C}var ti=r.forwardRef(ei);ti.displayName="Item";var ni=ti;var ri=["component"],ii=["className"],ai=["className"],oi=function(e,t){var n=r.useContext(li);if(!n){var i=e.component,a=void 0===i?"div":i,o=Ee(e,ri);return r.createElement(a,l({},o,{ref:t}))}var u=n.className,s=Ee(n,ii),c=e.className,f=Ee(e,ai);return r.createElement(li.Provider,{value:null},r.createElement(ni,l({ref:t,className:K()(u,c)},s,f)))},ui=r.forwardRef(oi);ui.displayName="RawItem";var si=ui,ci=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],li=r.createContext(null),fi="responsive",di="invalidate";function hi(e){return"+ ".concat(e.length," ...")}function pi(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,a=e.data,o=void 0===a?[]:a,u=e.renderItem,s=e.renderRawItem,f=e.itemKey,d=e.itemWidth,h=void 0===d?10:d,p=e.ssr,v=e.style,m=e.className,y=e.maxCount,g=e.renderRest,b=e.renderRawRest,k=e.suffix,w=e.component,x=void 0===w?"div":w,E=e.itemComponent,I=e.onVisibleChange,C=Ee(e,ci),_=function(){var e=c(Yt({}),2)[1],t=(0,r.useRef)([]),n=0,i=0;return function(r){var a=n;return n+=1,t.current.length<a+1&&(t.current[a]=r),[t.current[a],function(n){t.current[a]="function"===typeof n?n(t.current[a]):n,Pn.cancel(i),i=Pn((function(){e({},!0)}))}]}}(),S="full"===p,T=c(_(null),2),N=T[0],A=T[1],O=N||0,P=c(_(new Map),2),R=P[0],D=P[1],M=c(_(0),2),L=M[0],F=M[1],j=c(_(0),2),V=j[0],U=j[1],z=c(_(0),2),B=z[0],q=z[1],W=c((0,r.useState)(null),2),H=W[0],G=W[1],Q=c((0,r.useState)(null),2),$=Q[0],Y=Q[1],X=r.useMemo((function(){return null===$&&S?Number.MAX_SAFE_INTEGER:$||0}),[$,N]),J=c((0,r.useState)(!1),2),Z=J[0],ee=J[1],te="".concat(i,"-item"),ne=Math.max(L,V),re=y===fi,ie=o.length&&re,ae=y===di,oe=ie||"number"===typeof y&&o.length>y,ue=(0,r.useMemo)((function(){var e=o;return ie?e=null===N&&S?o:o.slice(0,Math.min(o.length,O/h)):"number"===typeof y&&(e=o.slice(0,y)),e}),[o,h,N,y,ie]),se=(0,r.useMemo)((function(){return ie?o.slice(X+1):o.slice(ue.length)}),[o,ue,ie,X]),ce=(0,r.useCallback)((function(e,t){var n;return"function"===typeof f?f(e):null!==(n=f&&(null===e||void 0===e?void 0:e[f]))&&void 0!==n?n:t}),[f]),le=(0,r.useCallback)(u||function(e){return e},[u]);function fe(e,t,n){($!==e||void 0!==t&&t!==H)&&(Y(e),n||(ee(e<o.length-1),null===I||void 0===I||I(e)),void 0!==t&&G(t))}function de(e,t){D((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function pe(e){return R.get(ce(ue[e],e))}$t((function(){if(O&&ne&&ue){var e=B,t=ue.length,n=t-1;if(!t)return void fe(0,null);for(var r=0;r<t;r+=1){var i=pe(r);if(S&&(i=i||0),void 0===i){fe(r-1,void 0,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+pe(n)<=O){fe(n,null);break}if(e+ne>O){fe(r-1,e-i-B+V);break}}k&&pe(0)+B>O&&G(null)}}),[O,R,V,B,ce,ue]);var ve=Z&&!!se.length,me={};null!==H&&ie&&(me={position:"absolute",left:H,top:0});var ye,ge={prefixCls:te,responsive:ie,component:E,invalidate:ae},be=s?function(e,t){var n=ce(e,t);return r.createElement(li.Provider,{key:n,value:he(he({},ge),{},{order:t,item:e,itemKey:n,registerSize:de,display:t<=X})},s(e,t))}:function(e,t){var n=ce(e,t);return r.createElement(ni,l({},ge,{order:t,key:n,item:e,renderItem:le,itemKey:n,registerSize:de,display:t<=X}))},ke={order:ve?X:Number.MAX_SAFE_INTEGER,className:"".concat(te,"-rest"),registerSize:function(e,t){U(t),F(V)},display:ve};if(b)b&&(ye=r.createElement(li.Provider,{value:he(he({},ge),ke)},b(se)));else{var we=g||hi;ye=r.createElement(ni,l({},ge,ke),"function"===typeof we?we(se):we)}var xe=r.createElement(x,l({className:K()(!ae&&i,m),style:v,ref:t},C),ue.map(be),oe?ye:null,k&&r.createElement(ni,l({},ge,{responsive:re,responsiveDisabled:!ie,order:X,className:"".concat(te,"-suffix"),registerSize:function(e,t){q(t)},display:!0,style:me}),k));return re&&(xe=r.createElement(Br,{onResize:function(e,t){A(t.clientWidth)},disabled:!ie},xe)),xe}var vi=r.forwardRef(pi);vi.displayName="Overflow",vi.Item=si,vi.RESPONSIVE=fi,vi.INVALIDATE=di;var mi=vi,yi=["children","locked"],gi=r.createContext(null);function bi(e){var t=e.children,n=e.locked,i=Ee(e,yi),a=r.useContext(gi),o=function(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}((function(){return function(e,t){var n=he({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,i)}),[a,i],(function(e,t){return!n&&(e[0]!==t[0]||!Xr()(e[1],t[1]))}));return r.createElement(gi.Provider,{value:o},t)}function ki(e,t,n,i){var a=r.useContext(gi),o=a.activeKey,u=a.onActive,s=a.onInactive,c={active:o===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),u(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),s(e)}),c}var wi=["item"];function xi(e){var t=e.item,n=Ee(e,wi);return Object.defineProperty(n,"item",{get:function(){return Je(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Ei(e){var t=e.icon,n=e.props,i=e.children;return("function"===typeof t?r.createElement(t,he({},n)):t)||i||null}function Ii(e){var t=r.useContext(gi),n=t.mode,i=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return i?{paddingRight:e*a}:{paddingLeft:e*a}}var Ci=[],_i=r.createContext(null);function Si(){return r.useContext(_i)}var Ti=r.createContext(Ci);function Ni(e){var t=r.useContext(Ti);return r.useMemo((function(){return void 0!==e?[].concat(At(t),[e]):t}),[t,e])}var Ai=r.createContext(null),Oi=r.createContext(null);function Pi(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Ri(e){return Pi(r.useContext(Oi),e)}var Di=r.createContext({}),Mi=["title","attribute","elementRef"],Li=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Fi=["active"],ji=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=pe(Ee(e,Mi),["eventKey"]);return Je(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(mi.Item,l({},n,{title:"string"===typeof t?t:void 0},a,{ref:i}))}}]),n}(r.Component),Vi=function(e){var t,n=e.style,i=e.className,a=e.eventKey,o=(e.warnKey,e.disabled),u=e.itemIcon,s=e.children,c=e.role,f=e.onMouseEnter,d=e.onMouseLeave,h=e.onClick,p=e.onKeyDown,v=e.onFocus,m=Ee(e,Li),y=Ri(a),g=r.useContext(gi),b=g.prefixCls,k=g.onItemClick,w=g.disabled,x=g.overflowDisabled,E=g.itemIcon,I=g.selectedKeys,C=g.onActive,_=r.useContext(Di)._internalRenderMenuItem,S="".concat(b,"-item"),T=r.useRef(),N=r.useRef(),A=w||o,O=Ni(a);var P=function(e){return{key:a,keyPath:At(O).reverse(),item:T.current,domEvent:e}},R=u||E,D=ki(a,A,f,d),M=D.active,L=Ee(D,Fi),F=I.includes(a),j=Ii(O.length),V={};"option"===e.role&&(V["aria-selected"]=F);var U=r.createElement(ji,l({ref:T,elementRef:N,role:null===c?"none":c||"menuitem",tabIndex:o?null:-1,"data-menu-id":x&&y?null:y},m,L,V,{component:"li","aria-disabled":o,style:he(he({},j),n),className:K()(S,(t={},B(t,"".concat(S,"-active"),M),B(t,"".concat(S,"-selected"),F),B(t,"".concat(S,"-disabled"),A),t),i),onClick:function(e){if(!A){var t=P(e);null===h||void 0===h||h(xi(t)),k(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===Kr.ENTER){var t=P(e);null===h||void 0===h||h(xi(t)),k(t)}},onFocus:function(e){C(a),null===v||void 0===v||v(e)}}),s,r.createElement(Ei,{props:he(he({},e),{},{isSelected:F}),icon:R}));return _&&(U=_(U,e,{selected:F})),U};var Ui=function(e){var t=e.eventKey,n=Si(),i=Ni(t);return r.useEffect((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r.createElement(Vi,e)},zi=["label","children","key","type"];function Bi(e,t){return hr(e).map((function(e,n){if(r.isValidElement(e)){var i,a,o=e.key,u=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o;(null===u||void 0===u)&&(u="tmp_key-".concat([].concat(At(t),[n]).join("-")));var s={key:u,eventKey:u};return r.cloneElement(e,s)}return e}))}function qi(e){return(e||[]).map((function(e,t){if(e&&"object"===q(e)){var n=e.label,i=e.children,a=e.key,o=e.type,u=Ee(e,zi),s=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?r.createElement(hu,l({key:s},u,{title:n}),qi(i)):r.createElement(Uo,l({key:s},u,{title:n}),qi(i)):"divider"===o?r.createElement(pu,l({key:s},u)):r.createElement(Ui,l({key:s},u),n)}return null})).filter((function(e){return e}))}function Wi(e,t,n){var r=e;return t&&(r=qi(t)),Bi(r,n)}function Ki(e){var t=r.useRef(e);t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var Hi=["className","children"],Gi=function(e,t){var n=e.className,i=e.children,a=Ee(e,Hi),o=r.useContext(gi),u=o.prefixCls,s=o.mode,c=o.rtl;return r.createElement("ul",l({className:K()(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===s?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},Qi=r.forwardRef(Gi);Qi.displayName="SubMenuList";var $i=Qi;function Yi(e,t){return!!e&&e.contains(t)}function Xi(e,t,n,r){var i=Zt.unstable_batchedUpdates?function(e){Zt.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var Ji=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,a=e.children,o=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var s=(0,r.useRef)(!1);return!s.current&&Q()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?Zt.createPortal(a,u.current):null})),Zi=Ji;function ea(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function ta(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function na(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,u=e.maskAnimation,s=e.maskTransitionName;if(!a)return null;var c={};return(o||s||u)&&(c=he({motionAppear:!0},ta({motion:o,prefixCls:t,transitionName:s,animation:u}))),r.createElement(ur,l({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:i},className:K()("".concat(t,"-mask"),n)})}))}var ra,ia=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}return!1};function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e){return ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ca={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function la(){if(void 0!==ra)return ra;ra="";var e=document.createElement("p").style;for(var t in ca)t+"Transform"in e&&(ra=t);return ra}function fa(){return la()?"".concat(la(),"TransitionProperty"):"transitionProperty"}function da(){return la()?"".concat(la(),"Transform"):"transform"}function ha(e,t){var n=fa();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function pa(e,t){var n=da();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var va,ma=/matrix\((.*)\)/,ya=/matrix3d\((.*)\)/;function ga(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ba(e,t,n){var r=n;if("object"!==ua(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):va(e,t);for(var i in t)t.hasOwnProperty(i)&&ba(e,i,t[i])}function ka(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function wa(e){return ka(e)}function xa(e){return ka(e,!0)}function Ea(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=wa(r),t.top+=xa(r),t}function Ia(e){return null!==e&&void 0!==e&&e==e.window}function Ca(e){return Ia(e)?e.document:9===e.nodeType?e:e.ownerDocument}var _a=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Sa=/^(top|right|bottom|left)$/;function Ta(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Na(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Aa(e,t,n){"static"===ba(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=Ta("left",n),o=Ta("top",n),u=Na(a),s=Na(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=Ea(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[fa()]||"",ha(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),ga(e);var d=Ea(e),h={};for(var p in t)if(t.hasOwnProperty(p)){var v=Ta(p,n),m="left"===p?r:i,y=f[p]-d[p];h[v]=v===p?m+y:m-y}ba(e,h),ga(e),("left"in t||"top"in t)&&ha(e,l);var g={};for(var b in t)if(t.hasOwnProperty(b)){var k=Ta(b,n),w=t[b]-f[b];g[k]=b===k?h[k]+w:h[k]-w}ba(e,g)}function Oa(e,t){var n=Ea(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(da());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(da());if(r&&"none"!==r){var i,a=r.match(ma);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,pa(e,"matrix(".concat(i.join(","),")"))):((i=r.match(ya)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,pa(e,"matrix3d(".concat(i.join(","),")")))}else pa(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function Pa(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Ra(e){return"border-box"===va(e,"boxSizing")}"undefined"!==typeof window&&(va=window.getComputedStyle?function(e,t,n){var r=n,i="",a=Ca(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(_a.test(n)&&!Sa.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var Da=["margin","border","padding"];function Ma(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function La(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(va(e,u))||0}return o}var Fa={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ja(e,t,n){var r=n;if(Ia(e))return"width"===t?Fa.viewportWidth(e):Fa.viewportHeight(e);if(9===e.nodeType)return"width"===t?Fa.docWidth(e):Fa.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=Ra(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=va(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-La(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-La(e,["border"],i):La(e,["margin"],i)):u+La(e,Da.slice(r),i)}Pa(["Width","Height"],(function(e){Fa["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Fa["viewport".concat(e)](n))},Fa["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var Va={position:"absolute",visibility:"hidden",display:"block"};function Ua(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=ja.apply(void 0,t):Ma(i,Va,(function(){r=ja.apply(void 0,t)})),r}function za(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Pa(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Fa["outer".concat(t)]=function(t,n){return t&&Ua(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Fa[e]=function(t,r){var i=r;return void 0!==i?t?(Ra(t)&&(i+=La(t,["padding","border"],n)),ba(t,e,i)):void 0:t&&Ua(t,e,-1)}}));var Ba={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Ca,offset:function(e,t,n){if("undefined"===typeof t)return Ea(e);!function(e,t,n){if(n.ignoreShake){var r=Ea(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?Aa(e,t,n):n.useCssTransform&&da()in document.body.style?Oa(e,t):Aa(e,t,n)}(e,t,n||{})},isWindow:Ia,each:Pa,css:ba,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:za,getWindowScrollLeft:function(e){return wa(e)},getWindowScrollTop:function(e){return xa(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Ba.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};za(Ba,Fa);var qa=Ba.getParent;function Wa(e){if(Ba.isWindow(e)||9===e.nodeType)return null;var t,n=Ba.getDocument(e).body,r=Ba.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:qa(e);for(t=qa(e);t&&t!==n&&9!==t.nodeType;t=qa(t))if("static"!==(r=Ba.css(t,"position")))return t;return null}var Ka=Ba.getParent;function Ha(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Wa(e),i=Ba.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===Ba.css(r,"overflow")){if(r===o||r===u)break}else{var s=Ba.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=Wa(r)}var c=null;Ba.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Ba.css(e,"position")&&(e.style.position="fixed"));var l=Ba.getWindowScrollLeft(a),f=Ba.getWindowScrollTop(a),d=Ba.viewportWidth(a),h=Ba.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Ba.isWindow(e)||9===e.nodeType)return!1;var t=Ba.getDocument(e),n=t.body,r=null;for(r=Ka(e);r&&r!==n&&r!==t;r=Ka(r))if("fixed"===Ba.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+d),n.bottom=Math.min(n.bottom,f+h);else{var y=Math.max(p,l+d);n.right=Math.min(n.right,y);var g=Math.max(v,f+h);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ga(e){var t,n,r;if(Ba.isWindow(e)||9===e.nodeType){var i=Ba.getWindow(e);t={left:Ba.getWindowScrollLeft(i),top:Ba.getWindowScrollTop(i)},n=Ba.viewportWidth(i),r=Ba.viewportHeight(i)}else t=Ba.offset(e),n=Ba.outerWidth(e),r=Ba.outerHeight(e);return t.width=n,t.height=r,t}function Qa(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function $a(e,t,n,r,i){var a=Qa(t,n[1]),o=Qa(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function Ya(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Xa(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Ja(e,t,n){var r=[];return Ba.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Za(e,t){return e[t]=-e[t],e}function eo(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function to(e,t){e[0]=eo(e[0],t.width),e[1]=eo(e[1],t.height)}function no(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=Ha(s,!(!(u=u||{})||!u.alwaysByViewport)),d=Ga(s);to(a,d),to(o,t);var h=$a(d,t,i,a,o),p=Ba.merge(d,h);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&Ya(h,d,f)){var v=Ja(i,/[lr]/gi,{l:"r",r:"l"}),m=Za(a,0),y=Za(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})($a(d,t,v,m,y),d,f)||(l=1,i=v,a=m,o=y)}if(u.adjustY&&Xa(h,d,f)){var g=Ja(i,/[tb]/gi,{t:"b",b:"t"}),b=Za(a,1),k=Za(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})($a(d,t,g,b,k),d,f)||(l=1,i=g,a=b,o=k)}l&&(h=$a(d,t,i,a,o),Ba.mix(p,h));var w=Ya(h,d,f),x=Xa(h,d,f);if(w||x){var E=i;w&&(E=Ja(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=Ja(i,/[tb]/gi,{t:"b",b:"t"})),i=E,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&w,c.adjustY=u.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=Ba.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),Ba.mix(i,a)}(h,d,f,c))}return p.width!==d.width&&Ba.css(s,"width",Ba.width(s)+p.width-d.width),p.height!==d.height&&Ba.css(s,"height",Ba.height(s)+p.height-d.height),Ba.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function ro(e,t,n){var r=n.target||t,i=Ga(r),a=!function(e,t){var n=Ha(e,t),r=Ga(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return no(e,i,n,a)}ro.__getOffsetParent=Wa,ro.__getVisibleRectForElement=Ha;var io=n(8111),ao=n.n(io);function oo(e,t){var n=null,r=null;var i=new Mr((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,s=Math.floor(o),l=Math.floor(u);n===s&&r===l||Promise.resolve().then((function(){t({width:s,height:l})})),n=s,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function uo(e){return"function"!==typeof e?null:e()}function so(e){return"object"===q(e)&&e?e:null}var co=function(e,t){var n=e.children,i=e.disabled,a=e.target,o=e.align,u=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,d=r.useRef({}),h=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=i,v.current.target=a,v.current.align=o,v.current.onAlign=u;var m=function(e,t){var n=r.useRef(!1),i=r.useRef(null);function a(){window.clearTimeout(i.current)}return[function r(o){if(a(),n.current&&!0!==o)i.current=window.setTimeout((function(){n.current=!1,r()}),t);else{if(!1===e())return;n.current=!0,i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,a()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=h.current,u=uo(n),s=so(n);d.current.element=u,d.current.point=s,d.current.align=r;var c=document.activeElement;return u&&ia(u)?a=ro(o,u,r):s&&(a=function(e,t,n){var r,i,a=Ba.getDocument(e),o=a.defaultView||a.parentWindow,u=Ba.getWindowScrollLeft(o),s=Ba.getWindowScrollTop(o),c=Ba.viewportWidth(o),l=Ba.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},d=r>=0&&r<=u+c&&i>=0&&i<=s+l,h=[n.points[0],"cc"];return no(e,f,oa(oa({},n),{},{points:h}),d)}(o,s,r)),function(e,t){e!==document.activeElement&&Yi(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),f),y=c(m,2),g=y[0],b=y[1],k=r.useRef({cancel:function(){}}),w=r.useRef({cancel:function(){}});r.useEffect((function(){var e,t,n=uo(a),r=so(a);h.current!==w.current.element&&(w.current.cancel(),w.current.element=h.current,w.current.cancel=oo(h.current,g)),d.current.element===n&&((e=d.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&ao()(d.current.align,o)||(g(),k.current.element!==n&&(k.current.cancel(),k.current.element=n,k.current.cancel=oo(n,g)))})),r.useEffect((function(){i?b():g()}),[i]);var x=r.useRef(null);return r.useEffect((function(){s?x.current||(x.current=Xi(window,"resize",g)):x.current&&(x.current.remove(),x.current=null)}),[s]),r.useEffect((function(){return function(){k.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),b()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:rn(p.ref,h)})),p},lo=r.forwardRef(co);lo.displayName="Align";var fo=lo;function ho(){ho=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==q(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,u(y,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function po(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){po(a,r,i,o,u,"next",e)}function u(e){po(a,r,i,o,u,"throw",e)}o(void 0)}))}}var mo=["measure","alignPre","align",null,"motion"],yo=r.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,a=e.className,o=e.style,u=e.children,s=e.zIndex,f=e.stretch,d=e.destroyPopupOnHide,h=e.forceRender,p=e.align,v=e.point,m=e.getRootDomNode,y=e.getClassNameFromAlign,g=e.onAlign,b=e.onMouseEnter,k=e.onMouseLeave,w=e.onMouseDown,x=e.onTouchStart,E=e.onClick,I=(0,r.useRef)(),C=(0,r.useRef)(),_=c((0,r.useState)(),2),S=_[0],T=_[1],N=function(e){var t=c(r.useState({width:0,height:0}),2),n=t[0],i=t[1];return[r.useMemo((function(){var t={};if(e){var r=n.width,i=n.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(f),A=c(N,2),O=A[0],P=A[1];var R=function(e,t){var n=c(Yt(null),2),i=n[0],a=n[1],o=(0,r.useRef)();function u(e){a(e,!0)}function s(){Pn.cancel(o.current)}return(0,r.useEffect)((function(){u("measure")}),[e]),(0,r.useEffect)((function(){"measure"===i&&t(),i&&(o.current=Pn(vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=mo.indexOf(i),(n=mo[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,r.useEffect)((function(){return function(){s()}}),[]),[i,function(e){s(),o.current=Pn((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){f&&P(m())})),D=c(R,2),M=D[0],L=D[1],F=c((0,r.useState)(0),2),j=F[0],V=F[1],U=(0,r.useRef)();function z(){var e;null===(e=I.current)||void 0===e||e.forceAlign()}function B(e,t){var n=y(t);S!==n&&T(n),V((function(e){return e+1})),"align"===M&&(null===g||void 0===g||g(e,t))}$t((function(){"alignPre"===M&&V(0)}),[M]),$t((function(){"align"===M&&(j<2?z():L((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})))}),[j]);var q=he({},ta(e));function W(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return L(),null===t||void 0===t?void 0:t(e,n)}})),r.useEffect((function(){q.motionName||"motion"!==M||L()}),[q.motionName,M]),r.useImperativeHandle(t,(function(){return{forceAlign:z,getElement:function(){return C.current}}}));var H=he(he({},O),{},{zIndex:s,opacity:"motion"!==M&&"stable"!==M&&n?0:void 0,pointerEvents:n||"stable"===M?void 0:"none"},o),G=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==M&&"stable"!==M||(G=!1);var Q=u;return r.Children.count(u)>1&&(Q=r.createElement("div",{className:"".concat(i,"-content")},u)),r.createElement(ur,l({visible:n,ref:C,leavedClassName:"".concat(i,"-hidden")},q,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:d,forceRender:h}),(function(e,t){var n=e.className,o=e.style,u=K()(i,a,S,n);return r.createElement(fo,{target:v||m,key:"popup",ref:I,monitorWindowResize:!0,disabled:G,align:p,onAlign:B},r.createElement("div",{ref:t,className:u,onMouseEnter:b,onMouseLeave:k,onMouseDownCapture:w,onTouchStartCapture:x,onClick:E,style:he(he({},o),H)},Q))}))}));yo.displayName="PopupInner";var go=yo,bo=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,u=e.mobile,s=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,f=u.popupMotion,d=void 0===f?{}:f,h=u.popupRender,p=e.onClick,v=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var m=he({zIndex:a},c),y=o;return r.Children.count(o)>1&&(y=r.createElement("div",{className:"".concat(n,"-content")},o)),h&&(y=h(y)),r.createElement(ur,l({visible:i,ref:v,removeOnLeave:!0},d),(function(e,t){var i=e.className,a=e.style,o=K()(n,s,i);return r.createElement("div",{ref:t,className:o,onClick:p,style:he(he({},a),m)},y)}))}));bo.displayName="MobilePopupInner";var ko=bo,wo=["visible","mobile"],xo=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,a=Ee(e,wo),o=c((0,r.useState)(n),2),u=o[0],s=o[1],f=c((0,r.useState)(!1),2),d=f[0],h=f[1],p=he(he({},a),{},{visible:u});(0,r.useEffect)((function(){s(n),n&&i&&h(Kt())}),[n,i]);var v=d?r.createElement(ko,l({},p,{mobile:i,ref:t})):r.createElement(go,l({},p,{ref:t}));return r.createElement("div",null,r.createElement(na,p),v)}));xo.displayName="Popup";var Eo=xo,Io=r.createContext(null);function Co(){}function _o(){return""}function So(e){return e?e.ownerDocument:window.document}var To=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var No=function(e){var t=function(t){Bn(i,t);var n=Gn(i);function i(e){var t,a;return jn(this,i),(t=n.call(this,e)).popupRef=r.createRef(),t.triggerRef=r.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Yi(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Yi(r,n)&&!t.isContextMenuOnly()||Yi(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=en(t.triggerRef.current);if(n)return n}catch(r){}return Zt.findDOMNode(Kn(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(ea(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&n.push(s(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,f=e.popupStyle,d=e.mask,h=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,k=e.mobile,w=e.forceRender,x=e.onPopupClick,E=t.state,I=E.popupVisible,C=E.point,_=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,r.createElement(Eo,l({prefixCls:n,destroyPopupOnHide:i,visible:I,point:b&&C,className:a,align:_,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:d,zIndex:m,transitionName:c,maskAnimation:h,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:u,mobile:k,forceRender:w,onClick:x}),"function"===typeof y?y():y)},t.attachParent=function(e){Pn.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Pn((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},To.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return Un(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Xi(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Xi(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Xi(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Xi(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Pn.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return he(he({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,u=n.className,s=n.autoDestroy,c=r.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=K()(c&&c.props&&c.props.className,u);f&&(l.className=f);var d=he({},l);an(c)&&(d.ref=rn(this.triggerRef,c.ref));var h,p=r.cloneElement(c,d);return(t||this.popupRef.current||a)&&(h=r.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(h=null),r.createElement(Io.Provider,{value:this.triggerContextValue},p,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r.Component);return t.contextType=Io,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:_o,getDocument:So,onPopupVisibleChange:Co,afterPopupVisibleChange:Co,onPopupAlign:Co,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(Zi),Ao={adjustX:1,adjustY:1},Oo={topLeft:{points:["bl","tl"],overflow:Ao,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ao,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Ao,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Ao,offset:[4,0]}},Po={topLeft:{points:["bl","tl"],overflow:Ao,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ao,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Ao,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Ao,offset:[4,0]}};function Ro(e,t,n){return t||(n?n[e]||n.other:void 0)}var Do={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Mo(e){var t=e.prefixCls,n=e.visible,i=e.children,a=e.popup,o=e.popupClassName,u=e.popupOffset,s=e.disabled,l=e.mode,f=e.onVisibleChange,d=r.useContext(gi),h=d.getPopupContainer,p=d.rtl,v=d.subMenuOpenDelay,m=d.subMenuCloseDelay,y=d.builtinPlacements,g=d.triggerSubMenuAction,b=d.forceSubMenuRender,k=d.rootClassName,w=d.motion,x=d.defaultMotions,E=c(r.useState(!1),2),I=E[0],C=E[1],_=he(he({},p?Po:Oo),y),S=Do[l],T=he(he({},Ro(l,w,x)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=r.useRef();return r.useEffect((function(){return N.current=Pn((function(){C(n)})),function(){Pn.cancel(N.current)}}),[n]),r.createElement(No,{prefixCls:t,popupClassName:K()("".concat(t,"-popup"),B({},"".concat(t,"-rtl"),p),o,k),stretch:"horizontal"===l?"minWidth":null,getPopupContainer:h,builtinPlacements:_,popupPlacement:S,popupVisible:I,popup:a,popupAlign:u&&{offset:u},action:s?[]:[g],mouseEnterDelay:v,mouseLeaveDelay:m,onPopupVisibleChange:f,forceRender:b,popupMotion:T},i)}function Lo(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,o="inline",u=r.useContext(gi),s=u.prefixCls,f=u.forceSubMenuRender,d=u.motion,h=u.defaultMotions,p=u.mode,v=r.useRef(!1);v.current=p===o;var m=c(r.useState(!v.current),2),y=m[0],g=m[1],b=!!v.current&&n;r.useEffect((function(){v.current&&g(!1)}),[p]);var k=he({},Ro(o,d,h));i.length>1&&(k.motionAppear=!1);var w=k.onVisibleChanged;return k.onVisibleChanged=function(e){return v.current||e||g(!0),null===w||void 0===w?void 0:w(e)},y?null:r.createElement(bi,{mode:o,locked:!v.current},r.createElement(ur,l({visible:b},k,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,i=e.style;return r.createElement($i,{id:t,className:n,style:i},a)})))}var Fo=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],jo=["active"],Vo=function(e){var t,n=e.style,i=e.className,a=e.title,o=e.eventKey,u=(e.warnKey,e.disabled),s=e.internalPopupClose,f=e.children,d=e.itemIcon,h=e.expandIcon,p=e.popupClassName,v=e.popupOffset,m=e.onClick,y=e.onMouseEnter,g=e.onMouseLeave,b=e.onTitleClick,k=e.onTitleMouseEnter,w=e.onTitleMouseLeave,x=Ee(e,Fo),E=Ri(o),I=r.useContext(gi),C=I.prefixCls,_=I.mode,S=I.openKeys,T=I.disabled,N=I.overflowDisabled,A=I.activeKey,O=I.selectedKeys,P=I.itemIcon,R=I.expandIcon,D=I.onItemClick,M=I.onOpenChange,L=I.onActive,F=r.useContext(Di)._internalRenderSubMenuItem,j=r.useContext(Ai).isSubPathKey,V=Ni(),U="".concat(C,"-submenu"),z=T||u,q=r.useRef(),W=r.useRef();var H=d||P,G=h||R,Q=S.includes(o),$=!N&&Q,Y=j(O,o),X=ki(o,z,k,w),J=X.active,Z=Ee(X,jo),ee=c(r.useState(!1),2),te=ee[0],ne=ee[1],re=function(e){z||ne(e)},ie=r.useMemo((function(){return J||"inline"!==_&&(te||j([A],o))}),[_,J,A,te,o,j]),ae=Ii(V.length),oe=Ki((function(e){null===m||void 0===m||m(xi(e)),D(e)})),ue=E&&"".concat(E,"-popup"),se=r.createElement("div",l({role:"menuitem",style:ae,className:"".concat(U,"-title"),tabIndex:z?null:-1,ref:q,title:"string"===typeof a?a:null,"data-menu-id":N&&E?null:E,"aria-expanded":$,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":z,onClick:function(e){z||(null===b||void 0===b||b({key:o,domEvent:e}),"inline"===_&&M(o,!Q))},onFocus:function(){L(o)}},Z),a,r.createElement(Ei,{icon:"horizontal"!==_?G:null,props:he(he({},e),{},{isOpen:$,isSubMenu:!0})},r.createElement("i",{className:"".concat(U,"-arrow")}))),ce=r.useRef(_);if("inline"!==_&&(ce.current=V.length>1?"vertical":_),!N){var le=ce.current;se=r.createElement(Mo,{mode:le,prefixCls:U,visible:!s&&$&&"inline"!==_,popupClassName:p,popupOffset:v,popup:r.createElement(bi,{mode:"horizontal"===le?"vertical":le},r.createElement($i,{id:ue,ref:W},f)),disabled:z,onVisibleChange:function(e){"inline"!==_&&M(o,e)}},se)}var fe=r.createElement(mi.Item,l({role:"none"},x,{component:"li",style:n,className:K()(U,"".concat(U,"-").concat(_),i,(t={},B(t,"".concat(U,"-open"),$),B(t,"".concat(U,"-active"),ie),B(t,"".concat(U,"-selected"),Y),B(t,"".concat(U,"-disabled"),z),t)),onMouseEnter:function(e){re(!0),null===y||void 0===y||y({key:o,domEvent:e})},onMouseLeave:function(e){re(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),se,!N&&r.createElement(Lo,{id:ue,open:$,keyPath:V},f));return F&&(fe=F(fe,e,{selected:Y,active:ie,open:$,disabled:z})),r.createElement(bi,{onItemClick:oe,mode:"horizontal"===_?"vertical":_,itemIcon:H,expandIcon:G},fe)};function Uo(e){var t,n=e.eventKey,i=e.children,a=Ni(n),o=Bi(i,a),u=Si();return r.useEffect((function(){if(u)return u.registerPath(n,a),function(){u.unregisterPath(n,a)}}),[a]),t=u?o:r.createElement(Vo,e,o),r.createElement(Ti.Provider,{value:a},t)}function zo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ia(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function Bo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=At(e.querySelectorAll("*")).filter((function(e){return zo(e,t)}));return zo(e,t)&&n.unshift(e),n}var qo=Kr.LEFT,Wo=Kr.RIGHT,Ko=Kr.UP,Ho=Kr.DOWN,Go=Kr.ENTER,Qo=Kr.ESC,$o=Kr.HOME,Yo=Kr.END,Xo=[Ko,Ho,qo,Wo];function Jo(e,t){return Bo(e,!0).filter((function(e){return t.has(e)}))}function Zo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Jo(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function eu(e,t,n,i,a,o,u,s,c,l){var f=r.useRef(),d=r.useRef();d.current=t;var h=function(){Pn.cancel(f.current)};return r.useEffect((function(){return function(){h()}}),[]),function(r){var p=r.which;if([].concat(Xo,[Go,Qo,$o,Yo]).includes(p)){var v,m,y,g=function(){return v=new Set,m=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(Pi(i,e),"']"));t&&(v.add(t),y.set(t,e),m.set(e,t))})),v};g();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),v),k=y.get(b),w=function(e,t,n,r){var i,a,o,u,s="prev",c="next",l="children",f="parent";if("inline"===e&&r===Go)return{inlineTrigger:!0};var d=(B(i={},Ko,s),B(i,Ho,c),i),h=(B(a={},qo,n?c:s),B(a,Wo,n?s:c),B(a,Ho,l),B(a,Go,l),a),p=(B(o={},Ko,s),B(o,Ho,c),B(o,Go,l),B(o,Qo,f),B(o,qo,n?l:f),B(o,Wo,n?f:l),o);switch(null===(u={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===u(k,!0).length,n,p);if(!w&&p!==$o&&p!==Yo)return;(Xo.includes(p)||[$o,Yo].includes(p))&&r.preventDefault();var x=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);s(r),h(),f.current=Pn((function(){d.current===r&&t.focus()}))}};if([$o,Yo].includes(p)||w.sibling||!b){var E,I,C=Jo(E=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):a.current,v);I=p===$o?C[0]:p===Yo?C[C.length-1]:Zo(E,v,b,w.offset),x(I)}else if(w.inlineTrigger)c(k);else if(w.offset>0)c(k,!0),h(),f.current=Pn((function(){g();var e=b.getAttribute("aria-controls"),t=Zo(document.getElementById(e),v);x(t)}),5);else if(w.offset<0){var _=u(k,!0),S=_[_.length-2],T=m.get(S);c(S,!1),x(T)}}null===l||void 0===l||l(r)}}var tu=Math.random().toFixed(5).toString().slice(2),nu=0;var ru="__RC_UTIL_PATH_SPLIT__",iu=function(e){return e.join(ru)},au="rc-menu-more";function ou(){var e=c(r.useState({}),2)[1],t=(0,r.useRef)(new Map),n=(0,r.useRef)(new Map),i=c(r.useState([]),2),a=i[0],o=i[1],u=(0,r.useRef)(0),s=(0,r.useRef)(!1),l=(0,r.useCallback)((function(r,i){var a=iu(i);n.current.set(a,r),t.current.set(r,a),u.current+=1;var o,c=u.current;o=function(){c===u.current&&(s.current||e({}))},Promise.resolve().then(o)}),[]),f=(0,r.useCallback)((function(e,r){var i=iu(r);n.current.delete(i),t.current.delete(e)}),[]),d=(0,r.useCallback)((function(e){o(e)}),[]),h=(0,r.useCallback)((function(e,n){var r=t.current.get(e)||"",i=r.split(ru);return n&&a.includes(i[0])&&i.unshift(au),i}),[a]),p=(0,r.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),v=(0,r.useCallback)((function(e){var r="".concat(t.current.get(e)).concat(ru),i=new Set;return At(n.current.keys()).forEach((function(e){e.startsWith(r)&&i.add(n.current.get(e))})),i}),[]);return r.useEffect((function(){return function(){s.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=At(t.current.keys());return a.length&&e.push(au),e},getSubPathKeys:v}}var uu=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],su=[],cu=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=void 0===a?"rc-menu":a,u=e.rootClassName,s=e.style,f=e.className,d=e.tabIndex,h=void 0===d?0:d,p=e.items,v=e.children,m=e.direction,y=e.id,g=e.mode,b=void 0===g?"vertical":g,k=e.inlineCollapsed,w=e.disabled,x=e.disabledOverflow,E=e.subMenuOpenDelay,I=void 0===E?.1:E,C=e.subMenuCloseDelay,_=void 0===C?.1:C,S=e.forceSubMenuRender,T=e.defaultOpenKeys,N=e.openKeys,A=e.activeKey,O=e.defaultActiveFirst,P=e.selectable,R=void 0===P||P,D=e.multiple,M=void 0!==D&&D,L=e.defaultSelectedKeys,F=e.selectedKeys,j=e.onSelect,V=e.onDeselect,U=e.inlineIndent,z=void 0===U?24:U,q=e.motion,W=e.defaultMotions,H=e.triggerSubMenuAction,G=void 0===H?"hover":H,Q=e.builtinPlacements,$=e.itemIcon,Y=e.expandIcon,X=e.overflowedIndicator,J=void 0===X?"...":X,Z=e.overflowedIndicatorPopupClassName,ee=e.getPopupContainer,te=e.onClick,ne=e.onOpenChange,re=e.onKeyDown,ie=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ae=e._internalRenderSubMenuItem,oe=Ee(e,uu),ue=r.useMemo((function(){return Wi(v,p,su)}),[v,p]),se=c(r.useState(!1),2),ce=se[0],le=se[1],fe=r.useRef(),de=function(e){var t=c(Jt(e,{value:e}),2),n=t[0],i=t[1];return r.useEffect((function(){nu+=1;var e="".concat(tu,"-").concat(nu);i("rc-menu-uuid-".concat(e))}),[]),n}(y),pe="rtl"===m;var ve=c(r.useMemo((function(){return"inline"!==b&&"vertical"!==b||!k?[b,!1]:["vertical",k]}),[b,k]),2),me=ve[0],ye=ve[1],ge=c(r.useState(0),2),be=ge[0],ke=ge[1],we=be>=ue.length-1||"horizontal"!==me||x,xe=c(Jt(T,{value:N,postState:function(e){return e||su}}),2),Ie=xe[0],Ce=xe[1],_e=function(e){Ce(e),null===ne||void 0===ne||ne(e)},Se=c(r.useState(Ie),2),Te=Se[0],Ne=Se[1],Ae="inline"===me,Oe=r.useRef(!1);r.useEffect((function(){Ae&&Ne(Ie)}),[Ie]),r.useEffect((function(){Oe.current&&(Ae?Ce(Te):_e(su))}),[Ae]),r.useEffect((function(){return Oe.current=!0,function(){Oe.current=!1}}),[]);var Pe=ou(),Re=Pe.registerPath,De=Pe.unregisterPath,Me=Pe.refreshOverflowKeys,Le=Pe.isSubPathKey,Fe=Pe.getKeyPath,je=Pe.getKeys,Ve=Pe.getSubPathKeys,Ue=r.useMemo((function(){return{registerPath:Re,unregisterPath:De}}),[Re,De]),ze=r.useMemo((function(){return{isSubPathKey:Le}}),[Le]);r.useEffect((function(){Me(we?su:ue.slice(be+1).map((function(e){return e.key})))}),[be,we]);var Be=c(Jt(A||O&&(null===(n=ue[0])||void 0===n?void 0:n.key),{value:A}),2),qe=Be[0],We=Be[1],Ke=Ki((function(e){We(e)})),He=Ki((function(){We(void 0)}));(0,r.useImperativeHandle)(t,(function(){return{list:fe.current,focus:function(e){var t,n,r,i,a=null!==qe&&void 0!==qe?qe:null===(t=ue.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=fe.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(Pi(de,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Ge=c(Jt(L||[],{value:F,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?su:[e]}}),2),Qe=Ge[0],$e=Ge[1],Ye=Ki((function(e){null===te||void 0===te||te(xi(e)),function(e){if(R){var t,n=e.key,r=Qe.includes(n);t=M?r?Qe.filter((function(e){return e!==n})):[].concat(At(Qe),[n]):[n],$e(t);var i=he(he({},e),{},{selectedKeys:t});r?null===V||void 0===V||V(i):null===j||void 0===j||j(i)}!M&&Ie.length&&"inline"!==me&&_e(su)}(e)})),Xe=Ki((function(e,t){var n=Ie.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==me){var r=Ve(e);n=n.filter((function(e){return!r.has(e)}))}Xr()(Ie,n)||_e(n)})),Je=Ki(ee),Ze=eu(me,qe,pe,de,fe,je,Fe,We,(function(e,t){var n=null!==t&&void 0!==t?t:!Ie.includes(e);Xe(e,n)}),re);r.useEffect((function(){le(!0)}),[]);var et=r.useMemo((function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:ae}}),[ie,ae]),tt="horizontal"!==me||x?ue:ue.map((function(e,t){return r.createElement(bi,{key:e.key,overflowDisabled:t>be},e)})),nt=r.createElement(mi,l({id:y,ref:fe,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:Ui,className:K()(o,"".concat(o,"-root"),"".concat(o,"-").concat(me),f,(i={},B(i,"".concat(o,"-inline-collapsed"),ye),B(i,"".concat(o,"-rtl"),pe),i),u),dir:m,style:s,role:"menu",tabIndex:h,data:tt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ue.slice(-t):null;return r.createElement(Uo,{eventKey:au,title:J,disabled:we,internalPopupClose:0===t,popupClassName:Z},n)},maxCount:"horizontal"!==me||x?mi.INVALIDATE:mi.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ke(e)},onKeyDown:Ze},oe));return r.createElement(Di.Provider,{value:et},r.createElement(Oi.Provider,{value:de},r.createElement(bi,{prefixCls:o,rootClassName:u,mode:me,openKeys:Ie,rtl:pe,disabled:w,motion:ce?q:null,defaultMotions:ce?W:null,activeKey:qe,onActive:Ke,onInactive:He,selectedKeys:Qe,inlineIndent:z,subMenuOpenDelay:I,subMenuCloseDelay:_,forceSubMenuRender:S,builtinPlacements:Q,triggerSubMenuAction:G,getPopupContainer:Je,itemIcon:$,expandIcon:Y,onItemClick:Ye,onOpenChange:Xe},r.createElement(Ai.Provider,{value:ze},nt),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(_i.Provider,{value:Ue},ue)))))})),lu=["className","title","eventKey","children"],fu=["children"],du=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=Ee(e,lu),o=r.useContext(gi).prefixCls,u="".concat(o,"-item-group");return r.createElement("li",l({},a,{onClick:function(e){return e.stopPropagation()},className:K()(u,t)}),r.createElement("div",{className:"".concat(u,"-title"),title:"string"===typeof n?n:void 0},n),r.createElement("ul",{className:"".concat(u,"-list")},i))};function hu(e){var t=e.children,n=Ee(e,fu),i=Bi(t,Ni(n.eventKey));return Si()?i:r.createElement(du,pe(n,["warnKey"]),i)}function pu(e){var t=e.className,n=e.style,i=r.useContext(gi).prefixCls;return Si()?null:r.createElement("li",{className:K()("".concat(i,"-item-divider"),t),style:n})}var vu=Ni,mu=cu;mu.Item=Ui,mu.SubMenu=Uo,mu.ItemGroup=hu,mu.Divider=pu;var yu=mu,gu={adjustX:1,adjustY:1},bu=[0,0],ku={topLeft:{points:["bl","tl"],overflow:gu,offset:[0,-4],targetOffset:bu},topCenter:{points:["bc","tc"],overflow:gu,offset:[0,-4],targetOffset:bu},topRight:{points:["br","tr"],overflow:gu,offset:[0,-4],targetOffset:bu},bottomLeft:{points:["tl","bl"],overflow:gu,offset:[0,4],targetOffset:bu},bottomCenter:{points:["tc","bc"],overflow:gu,offset:[0,4],targetOffset:bu},bottomRight:{points:["tr","br"],overflow:gu,offset:[0,4],targetOffset:bu}},wu=Kr.ESC,xu=Kr.TAB;var Eu=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Iu(e,t){var n=e.arrow,i=void 0!==n&&n,a=e.prefixCls,o=void 0===a?"rc-dropdown":a,u=e.transitionName,s=e.animation,l=e.align,f=e.placement,d=void 0===f?"bottomLeft":f,h=e.placements,p=void 0===h?ku:h,v=e.getPopupContainer,m=e.showAction,y=e.hideAction,g=e.overlayClassName,b=e.overlayStyle,k=e.visible,w=e.trigger,x=void 0===w?["hover"]:w,E=e.autoFocus,I=Ee(e,Eu),C=c(r.useState(),2),_=C[0],S=C[1],T="visible"in e?k:_,N=r.useRef(null);r.useImperativeHandle(t,(function(){return N.current})),function(e){var t=e.visible,n=e.setTriggerVisible,i=e.triggerRef,a=e.onVisibleChange,o=e.autoFocus,u=r.useRef(!1),s=function(){var e,r,o,u;t&&i.current&&(null===(e=i.current)||void 0===e||null===(r=e.triggerRef)||void 0===r||null===(o=r.current)||void 0===o||null===(u=o.focus)||void 0===u||u.call(o),n(!1),"function"===typeof a&&a(!1))},c=function(){var e,t,n,r,a=Bo(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),u.current=!0,!0)},l=function(e){switch(e.keyCode){case wu:s();break;case xu:var t=!1;u.current||(t=c()),t?e.preventDefault():s()}};r.useEffect((function(){return t?(window.addEventListener("keydown",l),o&&Pn(c,3),function(){window.removeEventListener("keydown",l),u.current=!1}):function(){u.current=!1}}),[t])}({visible:T,setTriggerVisible:S,triggerRef:N,onVisibleChange:e.onVisibleChange,autoFocus:E});var A=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(o,"-arrow")}),t)},O=y;return O||-1===x.indexOf("contextMenu")||(O=["click"]),r.createElement(No,he(he({builtinPlacements:p},I),{},{prefixCls:o,ref:N,popupClassName:K()(g,B({},"".concat(o,"-show-arrow"),i)),popupStyle:b,action:x,showAction:m,hideAction:O||[],popupPlacement:d,popupAlign:l,popupTransitionName:u,popupAnimation:s,popupVisible:T,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?A:A(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;S(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;S(!1),n&&n(t)},getPopupContainer:v}),function(){var t=e.children,n=t.props?t.props:{},i=K()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return T&&t?r.cloneElement(t,{className:i}):t}())}var Cu=r.forwardRef(Iu);function _u(e,t){var n=e.prefixCls,i=e.editable,a=e.locale,o=e.style;return i&&!1!==i.showAdd?r.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var Su=r.forwardRef(_u);function Tu(e,t){var n=e.prefixCls,i=e.id,a=e.tabs,o=e.locale,u=e.mobile,s=e.moreIcon,l=void 0===s?"More":s,f=e.moreTransitionName,d=e.style,h=e.className,p=e.editable,v=e.tabBarGutter,m=e.rtl,y=e.removeAriaLabel,g=e.onTabClick,b=e.getPopupContainer,k=e.popupClassName,w=c((0,r.useState)(!1),2),x=w[0],E=w[1],I=c((0,r.useState)(null),2),C=I[0],_=I[1],S="".concat(i,"-more-popup"),T="".concat(n,"-dropdown"),N=null!==C?"".concat(S,"-").concat(C):null,A=null===o||void 0===o?void 0:o.dropdownAriaLabel;var O=r.createElement(yu,{onClick:function(e){var t=e.key,n=e.domEvent;g(t,n),E(!1)},prefixCls:"".concat(T,"-menu"),id:S,tabIndex:-1,role:"listbox","aria-activedescendant":N,selectedKeys:[C],"aria-label":void 0!==A?A:"expanded dropdown"},a.map((function(e){var t=p&&!1!==e.closable&&!e.disabled;return r.createElement(Ui,{key:e.key,id:"".concat(S,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},r.createElement("span",null,e.label),t&&r.createElement("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(T,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),p.onEdit("remove",{key:r,event:n})}},e.closeIcon||p.removeIcon||"\xd7"))})));function P(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===C}))||0,r=t.length,i=0;i<r;i+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void _(o.key)}}(0,r.useEffect)((function(){var e=document.getElementById(N);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[C]),(0,r.useEffect)((function(){x||_(null)}),[x]);var R=B({},m?"marginRight":"marginLeft",v);a.length||(R.visibility="hidden",R.order=1);var D=K()(B({},"".concat(T,"-rtl"),m)),M=u?null:r.createElement(Cu,{prefixCls:T,overlay:O,trigger:["hover"],visible:!!a.length&&x,transitionName:f,onVisibleChange:E,overlayClassName:K()(D,k),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:b},r.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:R,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":S,id:"".concat(i,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case Kr.UP:P(-1),e.preventDefault();break;case Kr.DOWN:P(1),e.preventDefault();break;case Kr.ESC:E(!1);break;case Kr.SPACE:case Kr.ENTER:null!==C&&g(C,e)}else[Kr.DOWN,Kr.SPACE,Kr.ENTER].includes(t)&&(E(!0),e.preventDefault())}},l));return r.createElement("div",{className:K()("".concat(n,"-nav-operations"),h),style:d,ref:t},M,r.createElement(Su,{prefixCls:n,locale:o,editable:p}))}var Nu=r.memo(r.forwardRef(Tu),(function(e,t){return t.tabMoving})),Au=Math.pow(.995,20);function Ou(e,t){var n=r.useRef(e),i=c(r.useState({}),2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var Pu=function(e){var t,n=e.position,i=e.prefixCls,a=e.extra;if(!a)return null;var o={};return a&&"object"===q(a)&&!r.isValidElement(a)?o=a:o.right=a,"right"===n&&(t=o.right),"left"===n&&(t=o.left),t?r.createElement("div",{className:"".concat(i,"-extra-content")},t):null};function Ru(e,t){var n,i=r.useContext(sr),a=i.prefixCls,o=i.tabs,u=e.className,s=e.style,f=e.id,d=e.animated,h=e.activeKey,p=e.rtl,v=e.extra,m=e.editable,y=e.locale,g=e.tabPosition,b=e.tabBarGutter,k=e.children,w=e.onTabClick,x=e.onTabScroll,E=(0,r.useRef)(),I=(0,r.useRef)(),C=(0,r.useRef)(),_=(0,r.useRef)(),S=c(function(){var e=(0,r.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,r.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),2),T=S[0],N=S[1],A="top"===g||"bottom"===g,O=c(Ou(0,(function(e,t){A&&x&&x({direction:e>t?"left":"right"})})),2),P=O[0],R=O[1],D=c(Ou(0,(function(e,t){!A&&x&&x({direction:e>t?"top":"bottom"})})),2),M=D[0],L=D[1],F=c((0,r.useState)(0),2),j=F[0],V=F[1],U=c((0,r.useState)(0),2),z=U[0],q=U[1],W=c((0,r.useState)(null),2),H=W[0],G=W[1],Q=c((0,r.useState)(null),2),$=Q[0],Y=Q[1],X=c((0,r.useState)(0),2),J=X[0],Z=X[1],ee=c((0,r.useState)(0),2),te=ee[0],ne=ee[1],re=function(e){var t=(0,r.useRef)([]),n=c((0,r.useState)({}),2)[1],i=(0,r.useRef)("function"===typeof e?e():e),a=qr((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,n({})}));return[i.current,function(e){t.current.push(e),a()}]}(new Map),ie=c(re,2),ae=ie[0],oe=ie[1],ue=function(e,t,n){return(0,r.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||Qr,a=i.left+i.width,o=0;o<e.length;o+=1){var u,s=e[o].key,c=t.get(s);c||(c=t.get(null===(u=e[o-1])||void 0===u?void 0:u.key)||Qr);var l=r.get(s)||he({},c);l.right=a-l.left-l.width,r.set(s,l)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(o,ae,j),se="".concat(a,"-nav-operations-hidden"),ce=0,le=0;function fe(e){return e<ce?ce:e>le?le:e}A?p?(ce=0,le=Math.max(0,j-H)):(ce=Math.min(0,H-j),le=0):(ce=Math.min(0,$-z),le=0);var de=(0,r.useRef)(),pe=c((0,r.useState)(),2),ve=pe[0],me=pe[1];function ye(){me(Date.now())}function ge(){window.clearTimeout(de.current)}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=ue.get(e)||{width:0,height:0,left:0,right:0,top:0};if(A){var n=P;p?t.right<P?n=t.right:t.right+t.width>P+H&&(n=t.right+t.width-H):t.left<-P?n=-t.left:t.left+t.width>-P+H&&(n=-(t.left+t.width-H)),L(0),R(fe(n))}else{var r=M;t.top<-M?r=-t.top:t.top+t.height>-M+$&&(r=-(t.top+t.height-$)),R(0),L(fe(r))}}!function(e,t){var n=c((0,r.useState)(),2),i=n[0],a=n[1],o=c((0,r.useState)(0),2),u=o[0],s=o[1],l=c((0,r.useState)(0),2),f=l[0],d=l[1],h=c((0,r.useState)(),2),p=h[0],v=h[1],m=(0,r.useRef)(),y=(0,r.useRef)(),g=(0,r.useRef)(null);g.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(m.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,o=n.screenY;a({x:r,y:o});var c=r-i.x,l=o-i.y;t(c,l);var f=Date.now();s(f),d(f-u),v({x:c,y:l})}},onTouchEnd:function(){if(i&&(a(null),v(null),p)){var e=p.x/f,n=p.y/f,r=Math.abs(e),o=Math.abs(n);if(Math.max(r,o)<.1)return;var u=e,s=n;m.current=window.setInterval((function(){Math.abs(u)<.01&&Math.abs(s)<.01?window.clearInterval(m.current):t(20*(u*=Au),20*(s*=Au))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===y.current?n:r:a>o?(i=n,y.current="x"):(i=r,y.current="y"),t(-i,-i)&&e.preventDefault()}},r.useEffect((function(){function t(e){g.current.onTouchMove(e)}function n(e){g.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){g.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){g.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(E,(function(e,t){function n(e,t){e((function(e){return fe(e+t)}))}if(A){if(H>=j)return!1;n(R,e)}else{if($>=z)return!1;n(L,t)}return ge(),ye(),!0})),(0,r.useEffect)((function(){return ge(),ve&&(de.current=window.setTimeout((function(){me(0)}),100)),ge}),[ve]);var ke=function(e,t,n,i,a){var o,u,s,c=a.tabs,l=a.tabPosition,f=a.rtl;["top","bottom"].includes(l)?(o="width",u=f?"right":"left",s=Math.abs(t.left)):(o="height",u="top",s=-t.top);var d=t[o],h=n[o],p=i[o],v=d;return h+p>d&&h<d&&(v=d-p),(0,r.useMemo)((function(){if(!c.length)return[0,0];for(var t=c.length,n=t,r=0;r<t;r+=1){var i=e.get(c[r].key)||$r;if(i[u]+i[o]>s+v){n=r-1;break}}for(var a=0,l=t-1;l>=0;l-=1)if((e.get(c[l].key)||$r)[u]<s){a=l+1;break}return[a,n]}),[e,s,v,l,c.map((function(e){return e.key})).join("_"),f])}(ue,{width:H,height:$,left:P,top:M},{width:j,height:z},{width:J,height:te},he(he({},e),{},{tabs:o})),we=c(ke,2),xe=we[0],Ee=we[1],Ie={};"top"===g||"bottom"===g?Ie[p?"marginRight":"marginLeft"]=b:Ie.marginTop=b;var Ce=o.map((function(e,t){var n=e.key;return r.createElement(Gr,{id:f,prefixCls:a,key:n,tab:e,style:0===t?void 0:Ie,closable:e.closable,editable:m,active:n===h,renderWrapper:k,removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:T(n),onClick:function(e){w(n,e)},onRemove:function(){N(n)},onFocus:function(){be(n),ye(),E.current&&(p||(E.current.scrollLeft=0),E.current.scrollTop=0)}})})),_e=qr((function(){var e,t,n,r,i,a,u=(null===(e=E.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=E.current)||void 0===t?void 0:t.offsetHeight)||0,c=(null===(n=_.current)||void 0===n?void 0:n.offsetWidth)||0,l=(null===(r=_.current)||void 0===r?void 0:r.offsetHeight)||0;G(u),Y(s),Z(c),ne(l);var f=((null===(i=I.current)||void 0===i?void 0:i.offsetWidth)||0)-c,d=((null===(a=I.current)||void 0===a?void 0:a.offsetHeight)||0)-l;V(f),q(d),oe((function(){var e=new Map;return o.forEach((function(t){var n=t.key,r=T(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Se=o.slice(0,xe),Te=o.slice(Ee+1),Ne=[].concat(At(Se),At(Te)),Ae=c((0,r.useState)(),2),Oe=Ae[0],Pe=Ae[1],Re=ue.get(h),De=(0,r.useRef)();function Me(){Pn.cancel(De.current)}(0,r.useEffect)((function(){var e={};return Re&&(A?(p?e.right=Re.right:e.left=Re.left,e.width=Re.width):(e.top=Re.top,e.height=Re.height)),Me(),De.current=Pn((function(){Pe(e)})),Me}),[Re,A,p]),(0,r.useEffect)((function(){be()}),[h,Re,ue,A]),(0,r.useEffect)((function(){_e()}),[p,b,h,o.map((function(e){return e.key})).join("_")]);var Le,Fe,je,Ve,Ue=!!Ne.length,ze="".concat(a,"-nav-wrap");return A?p?(Fe=P>0,Le=P+H<j):(Le=P<0,Fe=-P+H<j):(je=M<0,Ve=-M+$<z),r.createElement("div",{ref:t,role:"tablist",className:K()("".concat(a,"-nav"),u),style:s,onKeyDown:function(){ye()}},r.createElement(Pu,{position:"left",extra:v,prefixCls:a}),r.createElement(Br,{onResize:_e},r.createElement("div",{className:K()(ze,(n={},B(n,"".concat(ze,"-ping-left"),Le),B(n,"".concat(ze,"-ping-right"),Fe),B(n,"".concat(ze,"-ping-top"),je),B(n,"".concat(ze,"-ping-bottom"),Ve),n)),ref:E},r.createElement(Br,{onResize:_e},r.createElement("div",{ref:I,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(P,"px, ").concat(M,"px)"),transition:ve?"none":void 0}},Ce,r.createElement(Su,{ref:_,prefixCls:a,locale:y,editable:m,style:he(he({},0===Ce.length?void 0:Ie),{},{visibility:Ue?"hidden":null})}),r.createElement("div",{className:K()("".concat(a,"-ink-bar"),B({},"".concat(a,"-ink-bar-animated"),d.inkBar)),style:Oe}))))),r.createElement(Nu,l({},e,{removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:C,prefixCls:a,tabs:Ne,className:!Ue&&se,tabMoving:!!ve})),r.createElement(Pu,{position:"right",extra:v,prefixCls:a}))}var Du=r.forwardRef(Ru),Mu=["renderTabBar"],Lu=["label","key"];function Fu(e){var t=e.renderTabBar,n=Ee(e,Mu),i=(0,r.useContext)(sr).tabs;return t?t(he(he({},n),{},{panes:i.map((function(e){var t=e.label,n=e.key,i=Ee(e,Lu);return r.createElement(lr,l({tab:t,key:n,tabKey:n},i))}))}),Du):r.createElement(Du,n)}var ju=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Vu=0;function Uu(e,t){var n,i=e.id,a=e.prefixCls,o=void 0===a?"rc-tabs":a,u=e.className,s=e.items,f=e.direction,d=e.activeKey,h=e.defaultActiveKey,p=e.editable,v=e.animated,m=e.tabPosition,y=void 0===m?"top":m,g=e.tabBarGutter,b=e.tabBarStyle,k=e.tabBarExtraContent,w=e.locale,x=e.moreIcon,E=e.moreTransitionName,I=e.destroyInactiveTabPane,C=e.renderTabBar,_=e.onChange,S=e.onTabClick,T=e.onTabScroll,N=e.getPopupContainer,A=e.popupClassName,O=Ee(e,ju),P=r.useMemo((function(){return(s||[]).filter((function(e){return e&&"object"===q(e)&&"key"in e}))}),[s]),R="rtl"===f,D=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:he({inkBar:!0},"object"===q(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(v),M=c((0,r.useState)(!1),2),L=M[0],F=M[1];(0,r.useEffect)((function(){F(Kt())}),[]);var j=c(Jt((function(){var e;return null===(e=P[0])||void 0===e?void 0:e.key}),{value:d,defaultValue:h}),2),V=j[0],U=j[1],z=c((0,r.useState)((function(){return P.findIndex((function(e){return e.key===V}))})),2),W=z[0],H=z[1];(0,r.useEffect)((function(){var e,t=P.findIndex((function(e){return e.key===V}));-1===t&&(t=Math.max(0,Math.min(W,P.length-1)),U(null===(e=P[t])||void 0===e?void 0:e.key));H(t)}),[P.map((function(e){return e.key})).join("_"),V,W]);var G=c(Jt(null,{value:i}),2),Q=G[0],$=G[1];(0,r.useEffect)((function(){i||($("rc-tabs-".concat(Vu)),Vu+=1)}),[]);var Y={id:Q,activeKey:V,animated:D,tabPosition:y,rtl:R,mobile:L},X=he(he({},Y),{},{editable:p,locale:w,moreIcon:x,moreTransitionName:E,tabBarGutter:g,onTabClick:function(e,t){null===S||void 0===S||S(e,t);var n=e!==V;U(e),n&&(null===_||void 0===_||_(e))},onTabScroll:T,extra:k,style:b,panes:null,getPopupContainer:N,popupClassName:A});return r.createElement(sr.Provider,{value:{tabs:P,prefixCls:o}},r.createElement("div",l({ref:t,id:i,className:K()(o,"".concat(o,"-").concat(y),(n={},B(n,"".concat(o,"-mobile"),L),B(n,"".concat(o,"-editable"),p),B(n,"".concat(o,"-rtl"),R),n),u)},O),undefined,r.createElement(Fu,l({},X,{renderTabBar:C})),r.createElement(dr,l({destroyInactiveTabPane:I},Y,{animated:D}))))}var zu=r.forwardRef(Uu),Bu=function(){return{height:0,opacity:0}},qu=function(e){return{height:e.scrollHeight,opacity:1}},Wu=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Ku={motionName:"ant-motion-collapse",onAppearStart:Bu,onEnterStart:Bu,onAppearActive:qu,onEnterActive:qu,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Bu,onAppearEnd:Wu,onEnterEnd:Wu,onLeaveEnd:Wu,motionDeadline:500},Hu=(re("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),Gu=Ku,Qu={motionAppear:!1,motionEnter:!0,motionLeave:!0};var $u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Yu=function(){return null},Xu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ju(e){var t,n=e.type,i=e.className,a=e.size,o=e.onEdit,u=e.hideAdd,s=e.centered,c=e.addIcon,f=e.children,d=e.items,h=e.animated,p=Xu(e,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),v=p.prefixCls,m=p.moreIcon,y=void 0===m?r.createElement(zt,null):m,g=r.useContext(H),b=g.getPrefixCls,k=g.direction,w=b("tabs",v);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===o||void 0===o||o("add"===e?r:n,e)},removeIcon:r.createElement(jt,null),addIcon:c||r.createElement(Wt,null),showAdd:!0!==u});var x=b(),E=function(e,t){if(e)return e;var n=hr(t).map((function(e){if(r.isValidElement(e)){var t=e.key,n=e.props||{},i=n.tab,a=$u(n,["tab"]);return l(l({key:String(t)},a),{label:i})}return null}));return function(e){return e.filter((function(e){return e}))}(n)}(d,f),I=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!1}:l({inkBar:!0},"object"===q(n)?n:{})).tabPane&&(t.tabPaneMotion=l(l({},Qu),{motionName:Hu(e,"switch")})),t}(w,h);return r.createElement(me.Consumer,null,(function(e){var o,u=void 0!==a?a:e;return r.createElement(zu,l({direction:k,moreTransitionName:"".concat(x,"-slide-up")},p,{items:E,className:K()((o={},B(o,"".concat(w,"-").concat(u),u),B(o,"".concat(w,"-card"),["card","editable-card"].includes(n)),B(o,"".concat(w,"-editable-card"),"editable-card"===n),B(o,"".concat(w,"-centered"),s),o),i),editable:t,moreIcon:y,prefixCls:w,animated:I}))}))}Ju.TabPane=Yu;var Zu=Ju,es=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ts=function(e){var t=e.prefixCls,n=e.className,i=e.hoverable,a=void 0===i||i,o=es(e,["prefixCls","className","hoverable"]);return r.createElement(G,null,(function(e){var i=(0,e.getPrefixCls)("card",t),u=K()("".concat(i,"-grid"),n,B({},"".concat(i,"-grid-hoverable"),a));return r.createElement("div",l({},o,{className:u}))}))},ns=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var rs=r.forwardRef((function(e,t){var n,i,a,o=r.useContext(H),u=o.getPrefixCls,s=o.direction,c=r.useContext(me),f=e.prefixCls,d=e.className,h=e.extra,p=e.headStyle,v=void 0===p?{}:p,m=e.bodyStyle,y=void 0===m?{}:m,g=e.title,b=e.loading,k=e.bordered,w=void 0===k||k,x=e.size,E=e.type,I=e.cover,C=e.actions,_=e.tabList,S=e.children,T=e.activeTabKey,N=e.defaultActiveTabKey,A=e.tabBarExtraContent,O=e.hoverable,P=e.tabProps,R=void 0===P?{}:P,D=ns(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),M=u("card",f),L=r.createElement(Mt,{loading:!0,active:!0,paragraph:{rows:4},title:!1},S),F=void 0!==T,j=l(l({},R),(B(n={},F?"activeKey":"defaultActiveKey",F?T:N),B(n,"tabBarExtraContent",A),n)),V=_&&_.length?r.createElement(Zu,l({size:"large"},j,{className:"".concat(M,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),_.map((function(e){return r.createElement(Zu.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(g||h||V)&&(a=r.createElement("div",{className:"".concat(M,"-head"),style:v},r.createElement("div",{className:"".concat(M,"-head-wrapper")},g&&r.createElement("div",{className:"".concat(M,"-head-title")},g),h&&r.createElement("div",{className:"".concat(M,"-extra")},h)),V));var U=I?r.createElement("div",{className:"".concat(M,"-cover")},I):null,z=r.createElement("div",{className:"".concat(M,"-body"),style:y},b?L:S),q=C&&C.length?r.createElement("ul",{className:"".concat(M,"-actions")},function(e){var t=e.map((function(t,n){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},r.createElement("span",null,t))}));return t}(C)):null,W=pe(D,["onTabChange"]),G=x||c,Q=K()(M,(B(i={},"".concat(M,"-loading"),b),B(i,"".concat(M,"-bordered"),w),B(i,"".concat(M,"-hoverable"),O),B(i,"".concat(M,"-contain-grid"),function(){var t;return r.Children.forEach(e.children,(function(e){e&&e.type&&e.type===ts&&(t=!0)})),t}()),B(i,"".concat(M,"-contain-tabs"),_&&_.length),B(i,"".concat(M,"-").concat(G),G),B(i,"".concat(M,"-type-").concat(E),!!E),B(i,"".concat(M,"-rtl"),"rtl"===s),i),d);return r.createElement("div",l({ref:t},W,{className:Q}),a,U,z,q)})),is=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},as=function(e){return r.createElement(G,null,(function(t){var n=t.getPrefixCls,i=e.prefixCls,a=e.className,o=e.avatar,u=e.title,s=e.description,c=is(e,["prefixCls","className","avatar","title","description"]),f=n("card",i),d=K()("".concat(f,"-meta"),a),h=o?r.createElement("div",{className:"".concat(f,"-meta-avatar")},o):null,p=u?r.createElement("div",{className:"".concat(f,"-meta-title")},u):null,v=s?r.createElement("div",{className:"".concat(f,"-meta-description")},s):null,m=p||v?r.createElement("div",{className:"".concat(f,"-meta-detail")},p,v):null;return r.createElement("div",l({},c,{className:d}),h,m)}))},os=rs;os.Grid=ts,os.Meta=as;var us=os,ss={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},cs=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:ss}))};cs.displayName="CheckCircleFilled";var ls=r.forwardRef(cs),fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ds=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:fs}))};ds.displayName="CheckOutlined";var hs=r.forwardRef(ds),ps={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},vs=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:ps}))};vs.displayName="CloseCircleFilled";var ms=r.forwardRef(vs),ys={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},gs=function(){var e=(0,r.useRef)([]),t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current},bs=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],ks=function(e){var t=e.className,n=e.percent,i=e.prefixCls,a=e.strokeColor,o=e.strokeLinecap,u=e.strokeWidth,s=e.style,c=e.trailColor,f=e.trailWidth,d=e.transition,h=Ee(e,bs);delete h.gapPosition;var p=Array.isArray(n)?n:[n],v=Array.isArray(a)?a:[a],m=gs(),y=u/2,g=100-u/2,b="M ".concat("round"===o?y:0,",").concat(y,"\n         L ").concat("round"===o?g:100,",").concat(y),k="0 0 100 ".concat(u),w=0;return r.createElement("svg",l({className:K()("".concat(i,"-line"),t),viewBox:k,preserveAspectRatio:"none",style:s},h),r.createElement("path",{className:"".concat(i,"-line-trail"),d:b,strokeLinecap:o,stroke:c,strokeWidth:f||u,fillOpacity:"0"}),p.map((function(e,t){var n=1;switch(o){case"round":n=1-u/100;break;case"square":n=1-u/2/100;break;default:n=1}var a={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(w,"px"),transition:d||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},s=v[t]||v[v.length-1];return w+=e,r.createElement("path",{key:t,className:"".concat(i,"-line-path"),d:b,strokeLinecap:o,stroke:s,strokeWidth:u,fillOpacity:"0",ref:function(e){m[t]=e},style:a})})))};ks.defaultProps=ys,ks.displayName="Line";var ws=0,xs=Q();var Es=function(e){var t=c(r.useState(),2),n=t[0],i=t[1];return r.useEffect((function(){i("rc_progress_".concat(function(){var e;return xs?(e=ws,ws+=1):e="TEST_OR_SSR",e}()))}),[]),e||n},Is=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Cs(e){return+e.replace("%","")}function _s(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var Ss=100,Ts=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,s=i>0?90+i/2:-90,c=2*Math.PI*e,l=c*((360-i)/360),f=t/100*360*((360-i)/360),d=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],h=(100-n)/100*l;return"round"===o&&100!==n&&(h+=u/2)>=l&&(h=l-.01),{stroke:"string"===typeof r?r:void 0,strokeDasharray:"".concat(l,"px ").concat(c),strokeDashoffset:h,transform:"rotate(".concat(s+f+d,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Ns=function(e){var t=e.id,n=e.prefixCls,i=e.strokeWidth,a=e.trailWidth,o=e.gapDegree,u=e.gapPosition,s=e.trailColor,c=e.strokeLinecap,f=e.style,d=e.className,h=e.strokeColor,p=e.percent,v=Ee(e,Is),m=Es(t),y="".concat(m,"-gradient"),g=50-i/2,b=Ts(g,0,100,s,o,u,c,i),k=_s(p),w=_s(h),x=w.find((function(e){return e&&"object"===q(e)})),E=gs();return r.createElement("svg",l({className:K()("".concat(n,"-circle"),d),viewBox:"0 0 ".concat(Ss," ").concat(Ss),style:f,id:t},v),x&&r.createElement("defs",null,r.createElement("linearGradient",{id:y,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(x).sort((function(e,t){return Cs(e)-Cs(t)})).map((function(e,t){return r.createElement("stop",{key:t,offset:e,stopColor:x[e]})})))),r.createElement("circle",{className:"".concat(n,"-circle-trail"),r:g,cx:50,cy:50,stroke:s,strokeLinecap:c,strokeWidth:a||i,style:b}),function(){var e=0;return k.map((function(t,a){var s=w[a]||w[w.length-1],l=s&&"object"===q(s)?"url(#".concat(y,")"):void 0,f=Ts(g,e,t,s,o,u,c,i);return e+=t,r.createElement("circle",{key:a,className:"".concat(n,"-circle-path"),r:g,cx:50,cy:50,stroke:l,strokeLinecap:c,strokeWidth:i,opacity:0===t?0:1,style:f,ref:function(e){E[a]=e}})})).reverse()}())};Ns.defaultProps=ys,Ns.displayName="Circle";var As=Ns;function Os(e){return!e||e<0?0:e>100?100:e}function Ps(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}function Rs(e){var t=e.percent,n=Os(Ps({success:e.success,successPercent:e.successPercent}));return[n,Os(Os(t)-n)]}var Ds=function(e){var t=e.prefixCls,n=e.width,i=e.strokeWidth,a=e.trailColor,o=void 0===a?null:a,u=e.strokeLinecap,s=void 0===u?"round":u,c=e.gapPosition,l=e.gapDegree,f=e.type,d=e.children,h=e.success,p=n||120,v={width:p,height:p,fontSize:.15*p+6},m=i||6,y=c||"dashboard"===f&&"bottom"||void 0,g="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||He.green,r||null]}({success:h,strokeColor:e.strokeColor}),k=K()("".concat(t,"-inner"),B({},"".concat(t,"-circle-gradient"),g));return r.createElement("div",{className:k,style:v},r.createElement(As,{percent:Rs(e),strokeWidth:m,trailWidth:m,strokeColor:b,strokeLinecap:s,trailColor:o,prefixCls:t,gapDegree:l||0===l?l:"dashboard"===f?75:void 0,gapPosition:y}),d)},Ms=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ls=function(e,t){var n=e.from,r=void 0===n?He.blue:n,i=e.to,a=void 0===i?He.blue:i,o=e.direction,u=void 0===o?"rtl"===t?"to left":"to right":o,s=Ms(e,["from","to","direction"]);if(0!==Object.keys(s).length){var c=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(s);return{backgroundImage:"linear-gradient(".concat(u,", ").concat(c,")")}}return{backgroundImage:"linear-gradient(".concat(u,", ").concat(r,", ").concat(a,")")}},Fs=function(e){var t=e.prefixCls,n=e.direction,i=e.percent,a=e.strokeWidth,o=e.size,u=e.strokeColor,s=e.strokeLinecap,c=void 0===s?"round":s,f=e.children,d=e.trailColor,h=void 0===d?null:d,p=e.success,v=u&&"string"!==typeof u?Ls(u,n):{background:u},m="square"===c||"butt"===c?0:void 0,y={backgroundColor:h||void 0,borderRadius:m},g=l({width:"".concat(Os(i),"%"),height:a||("small"===o?6:8),borderRadius:m},v),b=Ps(e),k={width:"".concat(Os(b),"%"),height:a||("small"===o?6:8),borderRadius:m,backgroundColor:null===p||void 0===p?void 0:p.strokeColor},w=void 0!==b?r.createElement("div",{className:"".concat(t,"-success-bg"),style:k}):null;return r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(t,"-outer")},r.createElement("div",{className:"".concat(t,"-inner"),style:y},r.createElement("div",{className:"".concat(t,"-bg"),style:g}),w)),f)},js=function(e){for(var t=e.size,n=e.steps,i=e.percent,a=void 0===i?0:i,o=e.strokeWidth,u=void 0===o?8:o,s=e.strokeColor,c=e.trailColor,l=void 0===c?null:c,f=e.prefixCls,d=e.children,h=Math.round(n*(a/100)),p="small"===t?2:14,v=new Array(n),m=0;m<n;m++){var y=Array.isArray(s)?s[m]:s;v[m]=r.createElement("div",{key:m,className:K()("".concat(f,"-steps-item"),B({},"".concat(f,"-steps-item-active"),m<=h-1)),style:{backgroundColor:m<=h-1?y:l,width:p,height:u}})}return r.createElement("div",{className:"".concat(f,"-steps-outer")},v,d)},Vs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Us=(re("line","circle","dashboard"),re("normal","exception","active","success")),zs=function(e){var t,n=e.prefixCls,i=e.className,a=e.steps,o=e.strokeColor,u=e.percent,s=void 0===u?0:u,c=e.size,f=void 0===c?"default":c,d=e.showInfo,h=void 0===d||d,p=e.type,v=void 0===p?"line":p,m=Vs(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);var y,g=r.useContext(H),b=g.getPrefixCls,k=g.direction,w=b("progress",n),x=function(){var t=e.status;return Us.indexOf(t)<0&&function(){var t=Ps(e);return parseInt(void 0!==t?t.toString():s.toString(),10)}()>=100?"success":t||"normal"}(),E=function(t,n){var i,a=e.format,o=Ps(e);if(!h)return null;var u="line"===v;return a||"exception"!==n&&"success"!==n?i=(a||function(e){return"".concat(e,"%")})(Os(s),Os(o)):"exception"===n?i=u?r.createElement(ms,null):r.createElement(jt,null):"success"===n&&(i=u?r.createElement(ls,null):r.createElement(hs,null)),r.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof i?i:void 0},i)}(w,x),I=Array.isArray(o)?o[0]:o,C="string"===typeof o||Array.isArray(o)?o:void 0;"line"===v?y=a?r.createElement(js,l({},e,{strokeColor:C,prefixCls:w,steps:a}),E):r.createElement(Fs,l({},e,{strokeColor:I,prefixCls:w,direction:k}),E):"circle"!==v&&"dashboard"!==v||(y=r.createElement(Ds,l({},e,{strokeColor:I,prefixCls:w,progressStatus:x}),E));var _=K()(w,(B(t={},"".concat(w,"-").concat(("dashboard"===v?"circle":a&&"steps")||v),!0),B(t,"".concat(w,"-status-").concat(x),!0),B(t,"".concat(w,"-show-info"),h),B(t,"".concat(w,"-").concat(f),f),B(t,"".concat(w,"-rtl"),"rtl"===k),t),i);return r.createElement("div",l({},pe(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:_}),y)},Bs=zs,qs=r.createContext(!1),Ws=qs,Ks=r.isValidElement;function Hs(e,t){return function(e,t,n){return Ks(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Gs,Qs=0,$s={};function Ys(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Qs++,r=t;function i(){(r-=1)<=0?(e(),delete $s[n]):$s[n]=Pn(i)}return $s[n]=Pn(i),n}function Xs(e){return!e||null===e.offsetParent||e.hidden}function Js(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Ys.cancel=function(e){void 0!==e&&(Pn.cancel($s[e]),delete $s[e])},Ys.ids=$s;var Zs=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).containerRef=r.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||Xs(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=Kn(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Js(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;Gs=st("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Xs(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),Ys.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Ys((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,i=e.props.children;if(e.csp=n,!r.isValidElement(i))return i;var a=e.containerRef;return an(i)&&(a=rn(i.ref,e.containerRef)),Hs(i,{ref:a})},e}return Un(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Gs&&(Gs.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return r.createElement(G,null,this.renderWave)}}]),n}(r.Component);Zs.contextType=H;var ec=(0,r.forwardRef)((function(e,t){return r.createElement(Zs,l({ref:t},e))})),tc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nc=r.createContext(void 0),rc=function(e){var t,n=r.useContext(H),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,u=e.size,s=e.className,c=tc(e,["prefixCls","size","className"]),f=i("btn-group",o),d="";switch(u){case"large":d="lg";break;case"small":d="sm"}var h=K()(f,(B(t={},"".concat(f,"-").concat(d),d),B(t,"".concat(f,"-rtl"),"rtl"===a),t),s);return r.createElement(nc.Provider,{value:u},r.createElement("div",l({},c,{className:h})))},ic={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ac=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:ic}))};ac.displayName="LoadingOutlined";var oc=r.forwardRef(ac),uc=function(){return{width:0,opacity:0,transform:"scale(0)"}},sc=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},cc=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(oc,null)):r.createElement(ur,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:uc,onAppearActive:sc,onEnterStart:uc,onEnterActive:sc,onLeaveStart:sc,onLeaveActive:uc},(function(e,n){var i=e.className,a=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:a,ref:n},r.createElement(oc,{className:i}))}))},lc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},fc=/^[\u4e00-\u9fa5]{2}$/,dc=fc.test.bind(fc);function hc(e){return"text"===e||"link"===e}function pc(e,t){if(null!==e&&void 0!==e){var n,i=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&dc(e.props.children)?Hs(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?dc(e)?r.createElement("span",null,e.split("").join(i)):r.createElement("span",null,e):(n=e,r.isValidElement(n)&&n.type===r.Fragment?r.createElement("span",null,e):e)}}re("default","primary","ghost","dashed","link","text"),re("default","circle","round"),re("submit","button","reset");var vc=function(e,t){var n,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,s=void 0===u?"default":u,f=e.danger,d=e.shape,h=void 0===d?"default":d,p=e.size,v=e.disabled,m=e.className,y=e.children,g=e.icon,b=e.ghost,k=void 0!==b&&b,w=e.block,x=void 0!==w&&w,E=e.htmlType,I=void 0===E?"button":E,C=lc(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),_=r.useContext(me),S=r.useContext(Ws),T=v||S,N=r.useContext(nc),A=c(r.useState(!!a),2),O=A[0],P=A[1],R=c(r.useState(!1),2),D=R[0],M=R[1],L=r.useContext(H),F=L.getPrefixCls,j=L.autoInsertSpaceInButton,V=L.direction,U=t||r.createRef(),z=function(){return 1===r.Children.count(y)&&!g&&!hc(s)},W="boolean"===typeof a?a:(null===a||void 0===a?void 0:a.delay)||!0;r.useEffect((function(){var e=null;return"number"===typeof W?e=window.setTimeout((function(){e=null,P(W)}),W):P(W),function(){e&&(window.clearTimeout(e),e=null)}}),[W]),r.useEffect((function(){if(U&&U.current&&!1!==j){var e=U.current.textContent;z()&&dc(e)?D||M(!0):D&&M(!1)}}),[U]);var G=function(t){var n=e.onClick;O||T?t.preventDefault():null===n||void 0===n||n(t)},Q=F("btn",o),$=!1!==j,Y=N||p||_,X=Y&&{large:"lg",small:"sm",middle:void 0}[Y]||"",J=O?"loading":g,Z=pe(C,["navigate"]),ee=K()(Q,(B(n={},"".concat(Q,"-").concat(h),"default"!==h&&h),B(n,"".concat(Q,"-").concat(s),s),B(n,"".concat(Q,"-").concat(X),X),B(n,"".concat(Q,"-icon-only"),!y&&0!==y&&!!J),B(n,"".concat(Q,"-background-ghost"),k&&!hc(s)),B(n,"".concat(Q,"-loading"),O),B(n,"".concat(Q,"-two-chinese-chars"),D&&$&&!O),B(n,"".concat(Q,"-block"),x),B(n,"".concat(Q,"-dangerous"),!!f),B(n,"".concat(Q,"-rtl"),"rtl"===V),B(n,"".concat(Q,"-disabled"),void 0!==Z.href&&T),n),m),te=g&&!O?g:r.createElement(cc,{existIcon:!!g,prefixCls:Q,loading:!!O}),ne=y||0===y?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t=q(e),r="string"===t||"number"===t;if(n&&r){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);n=r})),r.Children.map(i,(function(e){return pc(e,t)}))}(y,z()&&$):null;if(void 0!==Z.href)return r.createElement("a",l({},Z,{className:ee,onClick:G,ref:U}),te,ne);var re=r.createElement("button",l({},C,{type:I,className:ee,onClick:G,disabled:T,ref:U}),te,ne);return hc(s)?re:r.createElement(ec,{disabled:!!O},re)},mc=r.forwardRef(vc);mc.Group=rc,mc.__ANT_BUTTON=!0;var yc=mc,gc=n(184);function bc(e){var t=e.category,n=e.topics,r=e.home,i=e.disabled;return(0,gc.jsxs)("div",{className:"flex flex-wrap",children:[(0,gc.jsx)("h1",{className:"m-auto",children:t}),n.map((function(e){return(0,gc.jsx)(ue,{gutter:24,children:e.map((function(e){return(0,gc.jsx)(fe,{span:24,className:"!w-1/2 !px-0 !mt-2 !mx-auto !min-w-[320px] !max-w-[550px]",children:(0,gc.jsx)(us,{title:e.name.substring(0,1).toUpperCase()+e.name.substring(1),children:(0,gc.jsxs)("div",{className:"!p-0 !m-0 w-[120px] !m-auto",children:[(0,gc.jsxs)("div",{className:"pb-1",children:[(0,gc.jsx)(Bs,{type:"circle",percent:e.percentCompleted}),e.percentCompleted," % Completed"]}),(0,gc.jsx)(yc,{disabled:i,type:"primary",onClick:function(){return function(e,t,n){window.location.href=e?"/#/category?c=".concat(n.name):"/#/question?category=".concat(t,"&topic=").concat(n.name)}(r,t,e)},children:"Start Learning!"})]})})})}))})}))]})}function kc(e){var t=e.category,n=(e.session,[]);return"Mathematics"===t?n=[[{percentCompleted:0,name:"Addition"},{percentCompleted:0,name:"Subtraction"},{percentCompleted:0,name:"Multiplication"},{percentCompleted:0,name:"Division"},{percentCompleted:0,name:"Fractions"},{percentCompleted:0,name:"Measurement"},{percentCompleted:0,name:"Characteristics of Numbers"},{percentCompleted:0,name:"2D Shapes"},{percentCompleted:0,name:"Perimeter"},{percentCompleted:0,name:"Area"},{percentCompleted:0,name:"Decimal Numbers"},{percentCompleted:0,name:"Distance Calculations"},{percentCompleted:0,name:"Lines"},{percentCompleted:0,name:"Coordinate Plane"},{percentCompleted:0,name:"Linear Functions"},{percentCompleted:0,name:"Polynomial Functions"},{percentCompleted:0,name:"Transcendental Functions"},{percentCompleted:0,name:"Trigonometry"},{percentCompleted:0,name:"Derivatives"},{percentCompleted:0,name:"Integrals"},{percentCompleted:0,name:"Differential Equations"}]]:"Statistics"===t?n=[[{percentCompleted:0,name:"Average"},{percentCompleted:0,name:"Median"},{percentCompleted:0,name:"Mode"},{percentCompleted:0,name:"Range"},{percentCompleted:0,name:"Sampling"},{percentCompleted:0,name:"Variance"},{percentCompleted:0,name:"Standard Deviation"},{percentCompleted:0,name:"Z-score"},{percentCompleted:0,name:"Confidence Interval"},{percentCompleted:0,name:"T-test"},{percentCompleted:0,name:"Linear Regression"},{percentCompleted:0,name:"Basic Probability"},{percentCompleted:0,name:"Binomial Distribution"},{percentCompleted:0,name:"Intermediate Probability"},{percentCompleted:0,name:"Geometric Distribution"},{percentCompleted:0,name:"HyperGeometric Distribution"},{percentCompleted:0,name:"Poisson Distribution"},{percentCompleted:0,name:"Gamma Distribution"},{percentCompleted:0,name:"Beta Distribution"},{percentCompleted:0,name:"Chi-Squared Distribution"},{percentCompleted:0,name:"ANOVA"},{percentCompleted:0,name:"Probability Models"},{percentCompleted:0,name:"Advanced Probability"},{percentCompleted:0,name:"Machine Learning"},{percentCompleted:0,name:"Maximum Likelihood Estimation"}]]:"Economics"===t?n=[[{percentCompleted:0,name:"Production Possibilities Frontier"},{percentCompleted:0,name:"Supply Optimization"},{percentCompleted:0,name:"Supply & Demand"},{percentCompleted:0,name:"Price Elasticity"},{percentCompleted:0,name:"Utility Optimization"},{percentCompleted:0,name:"Cost Optimization"},{percentCompleted:0,name:"Market Efficiency"},{percentCompleted:0,name:"Budget Optimizations"},{percentCompleted:0,name:"Economics of Strategy"},{percentCompleted:0,name:"Game Theory"},{percentCompleted:0,name:"Behavioral Economics"},{percentCompleted:0,name:"Mathematical Economics"}]]:"Finance"===t?n=[[{percentCompleted:0,name:"Future Value"},{percentCompleted:0,name:"Present Value"},{percentCompleted:0,name:"Decision Making"},{percentCompleted:0,name:"Risk of an asset"},{percentCompleted:0,name:"Duration of an asset"},{percentCompleted:0,name:"Options"}]]:"Accounting"===t?n=[[{percentCompleted:0,name:"Income Statement"},{percentCompleted:0,name:"Balance Sheet"},{percentCompleted:0,name:"Cash Flow Statement"}]]:"Marketing"===t?n=[[{percentCompleted:0,name:"Marketing Strategy"},{percentCompleted:0,name:"Customer Journey"},{percentCompleted:0,name:"Creative Asset Development"},{percentCompleted:0,name:"Advertisement"},{percentCompleted:0,name:"Public Relations"},{percentCompleted:0,name:"Brand Development"},{percentCompleted:0,name:"Media Planning"},{percentCompleted:0,name:"Marketing Research"}]]:"Software"===t&&(n=[[{percentCompleted:0,name:"Variables"},{percentCompleted:0,name:"Primitive Data Types"},{percentCompleted:0,name:"Operations"},{percentCompleted:0,name:"Terminal Input"},{percentCompleted:0,name:"Functions"},{percentCompleted:0,name:"Loops"},{percentCompleted:0,name:"Logic"},{percentCompleted:0,name:"String Methods"},{percentCompleted:0,name:"Arrays"},{percentCompleted:0,name:"Classes"},{percentCompleted:0,name:"File System"},{percentCompleted:0,name:"HTTP Server"},{percentCompleted:0,name:"Unit Testing"},{percentCompleted:0,name:"Basic SQL"},{percentCompleted:0,name:"Intermediate SQL"},{percentCompleted:0,name:"Advanced SQL"},{percentCompleted:0,name:"Websocket Server"},{percentCompleted:0,name:"Pulsar Messaging"},{percentCompleted:0,name:"Integration Testing"},{percentCompleted:0,name:"HTML"},{percentCompleted:0,name:"CSS Design"}]]),(0,gc.jsx)(bc,{category:t,topics:n,home:!1,disabled:!1})}function wc(){return(0,gc.jsx)("div",{children:"ConfirmAccount"})}function xc(e){e.session;return(0,gc.jsx)(bc,{title:"Home",topics:[[{percentCompleted:0,name:"Mathematics"},{percentCompleted:0,name:"Statistics"},{percentCompleted:0,name:"Economics"},{percentCompleted:0,name:"Finance"},{percentCompleted:0,name:"Accounting"},{percentCompleted:0,name:"Software"},{percentCompleted:0,name:"Marketing"}]],home:!0})}function Ec(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ic(e,t,n){return Ic=Wn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&zn(i,n.prototype),i},Ic.apply(null,arguments)}function Cc(e){var t="function"===typeof Map?new Map:void 0;return Cc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ic(e,arguments,qn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),zn(n,e)},Cc(e)}var _c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tc=function(e){return function(e){var t=_c(e);return Sc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Nc=function(e){try{return Sc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ac(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ac(e[n],t[n]));return e}var Oc=function(){function e(){var t=this;jn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Un(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tc(JSON.stringify({alg:"none",type:"JWT"})),Tc(JSON.stringify(a)),""].join(".")}function Rc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dc(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rc())}function Mc(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Lc(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Fc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function jc(){var e=Rc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vc(){return"object"===typeof indexedDB}var Uc=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Kn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Kn(a),zc.prototype.create),a}return Un(n)}(Cc(Error)),zc=function(){function e(t,n,r){jn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Un(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Bc(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Uc(n,a,t);return o}}]),e}();function Bc(e,t){return e.replace(qc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var qc=/\{\$([^}]+)}/g;function Wc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Hc(u)&&Hc(s)){if(!Kc(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Hc(e){return null!==e&&"object"===typeof e}function Gc(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $c(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yc(e,t){var n=new Xc(e,t);return n.subscribe.bind(n)}var Xc=function(){function e(t,n){var r=this;jn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Un(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ec(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Jc),void 0===r.error&&(r.error=Jc),void 0===r.complete&&(r.complete=Jc);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Jc(){}function Zc(e){return e&&e._delegate?e._delegate:e}var el=function(){function e(t,n,r){jn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Un(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),tl="[DEFAULT]",nl=function(){function e(t,n){jn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Un(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Oc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tl})}catch(s){}var t,n=Ec(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(At(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),At(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ec(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ec(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===tl?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl;return this.component?this.component.multipleInstances?e:tl:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var rl,il,al=function(){function e(t){jn(this,e),this.name=t,this.providers=new Map}return Un(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new nl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ol=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(il||(il={}));var ul={debug:il.DEBUG,verbose:il.VERBOSE,info:il.INFO,warn:il.WARN,error:il.ERROR,silent:il.SILENT},sl=il.INFO,cl=(B(rl={},il.DEBUG,"log"),B(rl,il.VERBOSE,"log"),B(rl,il.INFO,"info"),B(rl,il.WARN,"warn"),B(rl,il.ERROR,"error"),rl),ll=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=cl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fl=function(){function e(t){jn(this,e),this.name=t,this._logLevel=sl,this._logHandler=ll,this._userLogHandler=null,ol.push(this)}return Un(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in il))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ul[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,il.DEBUG].concat(t)),this._logHandler.apply(this,[this,il.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,il.VERBOSE].concat(t)),this._logHandler.apply(this,[this,il.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,il.INFO].concat(t)),this._logHandler.apply(this,[this,il.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,il.WARN].concat(t)),this._logHandler.apply(this,[this,il.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,il.ERROR].concat(t)),this._logHandler.apply(this,[this,il.ERROR].concat(t))}}]),e}();var dl,hl;var pl=new WeakMap,vl=new WeakMap,ml=new WeakMap,yl=new WeakMap,gl=new WeakMap;var bl={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ml.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xl(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function kl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hl||(hl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(El(this),n),xl(pl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xl(e.apply(El(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[El(this),t].concat(r));return ml.set(a,t.sort?t.sort():[t]),xl(a)}}function wl(e){return"function"===typeof e?kl(e):(e instanceof IDBTransaction&&function(e){if(!vl.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));vl.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,dl||(dl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,bl):e)}function xl(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(xl(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&pl.set(t,e)})).catch((function(){})),gl.set(t,e),t}(e);if(yl.has(e))return yl.get(e);var t=wl(e);return t!==e&&(yl.set(e,t),gl.set(t,e)),t}var El=function(e){return gl.get(e)};var Il,Cl,_l=["get","getKey","getAll","getAllKeys","count"],Sl=["put","add","delete","clear"],Tl=new Map;function Nl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Tl.get(t))return Tl.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Sl.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||_l.includes(n))){var a=function(){var e=vo(ho().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Tl.set(t,a),a}}}bl=function(e){return he(he({},e),{},{get:function(t,n,r){return Nl(t,n)||e.get(t,n,r)},has:function(t,n){return!!Nl(t,n)||e.has(t,n)}})}(bl);var Al=function(){function e(t){jn(this,e),this.container=t}return Un(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ol="@firebase/app",Pl="0.7.32",Rl=new fl("@firebase/app"),Dl="[DEFAULT]",Ml=(B(Il={},Ol,"fire-core"),B(Il,"@firebase/app-compat","fire-core-compat"),B(Il,"@firebase/analytics","fire-analytics"),B(Il,"@firebase/analytics-compat","fire-analytics-compat"),B(Il,"@firebase/app-check","fire-app-check"),B(Il,"@firebase/app-check-compat","fire-app-check-compat"),B(Il,"@firebase/auth","fire-auth"),B(Il,"@firebase/auth-compat","fire-auth-compat"),B(Il,"@firebase/database","fire-rtdb"),B(Il,"@firebase/database-compat","fire-rtdb-compat"),B(Il,"@firebase/functions","fire-fn"),B(Il,"@firebase/functions-compat","fire-fn-compat"),B(Il,"@firebase/installations","fire-iid"),B(Il,"@firebase/installations-compat","fire-iid-compat"),B(Il,"@firebase/messaging","fire-fcm"),B(Il,"@firebase/messaging-compat","fire-fcm-compat"),B(Il,"@firebase/performance","fire-perf"),B(Il,"@firebase/performance-compat","fire-perf-compat"),B(Il,"@firebase/remote-config","fire-rc"),B(Il,"@firebase/remote-config-compat","fire-rc-compat"),B(Il,"@firebase/storage","fire-gcs"),B(Il,"@firebase/storage-compat","fire-gcs-compat"),B(Il,"@firebase/firestore","fire-fst"),B(Il,"@firebase/firestore-compat","fire-fst-compat"),B(Il,"fire-js","fire-js"),B(Il,"firebase","fire-js-all"),Il),Ll=new Map,Fl=new Map;function jl(e,t){try{e.container.addComponent(t)}catch(n){Rl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vl(e,t){e.container.addOrOverwriteComponent(t)}function Ul(e){var t=e.name;if(Fl.has(t))return Rl.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fl.set(t,e);var n,r=Ec(Ll.values());try{for(r.s();!(n=r.n()).done;){jl(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zl(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dl;zl(e,t).clearInstance(n)}function ql(){Fl.clear()}var Wl=(B(Cl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),B(Cl,"bad-app-name","Illegal App name: '{$appName}"),B(Cl,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),B(Cl,"app-deleted","Firebase App named '{$appName}' already deleted"),B(Cl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),B(Cl,"invalid-log-argument","First argument to `onLog` must be null or a function."),B(Cl,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),B(Cl,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),B(Cl,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),B(Cl,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Cl),Kl=new zc("app","Firebase",Wl),Hl=function(){function e(t,n,r){var i=this;jn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new el("app",(function(){return i}),"PUBLIC"))}return Un(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kl.create("app-deleted",{appName:this._name})}}]),e}(),Gl="9.9.4";function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Dl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kl.create("bad-app-name",{appName:String(i)});var a=Ll.get(i);if(a){if(Kc(e,a.options)&&Kc(r,a.config))return a;throw Kl.create("duplicate-app",{appName:i})}var o,u=new al(i),s=Ec(Fl.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Hl(e,r,u);return Ll.set(i,l),l}function $l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,t=Ll.get(e);if(!t)throw Kl.create("no-app",{appName:e});return t}function Yl(){return Array.from(Ll.values())}function Xl(e){return Jl.apply(this,arguments)}function Jl(){return(Jl=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ll.has(n)){e.next=6;break}return Ll.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e,t,n){var r,i=null!==(r=Ml[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Rl.warn(u.join(" "))}Ul(new el("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ef(e,t){if(null!==e&&"function"!==typeof e)throw Kl.create("invalid-log-argument");!function(e,t){var n,r=Ec(ol);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ul[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:il[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function tf(e){var t;t=e,ol.forEach((function(e){e.setLogLevel(t)}))}var nf="firebase-heartbeat-store",rf=null;function af(){return rf||(rf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=xl(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(xl(u.result),e.oldVersion,e.newVersion,xl(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(nf)}}).catch((function(e){throw Kl.create("idb-open",{originalErrorMessage:e.message})}))),rf}function of(e){return uf.apply(this,arguments)}function uf(){return uf=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,af();case 3:return r=e.sent,e.abrupt("return",r.transaction(nf).objectStore(nf).get(lf(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Uc?Rl.warn(e.t0.message):(i=Kl.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Rl.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),uf.apply(this,arguments)}function sf(e,t){return cf.apply(this,arguments)}function cf(){return cf=vo(ho().mark((function e(t,n){var r,i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,af();case 3:return i=e.sent,a=i.transaction(nf,"readwrite"),o=a.objectStore(nf),e.next=8,o.put(n,lf(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Uc?Rl.warn(e.t0.message):(u=Kl.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Rl.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),cf.apply(this,arguments)}function lf(e){return"".concat(e.name,"!").concat(e.options.appId)}var ff=function(){function e(t){var n=this;jn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new mf(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Un(e,[{key:"triggerHeartbeat",value:function(){var e=vo(ho().mark((function e(){var t,n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=df(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=df(),n=hf(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Tc(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function df(){return(new Date).toISOString().substring(0,10)}function hf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ec(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),yf(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),yf(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var pf,vf,mf=function(){function e(t){jn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Un(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vc()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,of(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",sf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",sf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(At(r.heartbeats),At(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function yf(e){return Tc(JSON.stringify({version:2,heartbeats:e})).length}pf="",Ul(new el("platform-logger",(function(e){return new Al(e)}),"PRIVATE")),Ul(new el("heartbeat",(function(e){return new ff(e)}),"PRIVATE")),Zl(Ol,Pl,pf),Zl(Ol,Pl,"esm2017"),Zl("fire-js","");var gf=function(){function e(t,n){var r=this;jn(this,e),this._delegate=t,this.firebase=n,jl(t,new el("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Un(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Xl(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){jl(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Vl(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),bf=(B(vf={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),B(vf,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vf),kf=new zc("app-compat","Firebase",bf);var wf=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ql(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zl,setLogLevel:tf,onLog:ef,apps:null,SDK_VERSION:Gl,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ul(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw kf.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ac(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wc(n,e=e||Dl))throw kf.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(gf);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ac(n,e)},createSubscribe:Yc,ErrorFactory:zc,deepExtend:Ac}),n}(),xf=new fl("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){xf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ef=self.firebase.SDK_VERSION;Ef&&Ef.indexOf("LITE")>=0&&xf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var If=wf;!function(e){Zl("@firebase/app-compat","0.1.33",e)}();function Cf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qn(e)););return e}function _f(){return _f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Cf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_f.apply(this,arguments)}If.registerVersion("firebase","9.9.4","app-compat");var Sf,Tf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Nf={},Af=Af||{},Of=Tf||self;function Pf(){}function Rf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Df(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Mf="closure_uid_"+(1e9*Math.random()>>>0),Lf=0;function Ff(e,t,n){return e.call.apply(e.bind,arguments)}function jf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vf(e,t,n){return(Vf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ff:jf).apply(null,arguments)}function Uf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bf(){this.s=this.s,this.o=this.o}var qf={};Bf.prototype.s=!1,Bf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Mf)&&e[Mf]||(e[Mf]=++Lf)}(this);delete qf[e]}},Bf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Wf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Hf(e){return Array.prototype.concat.apply([],arguments)}function Gf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qf(e){return/^[\s\xa0]*$/.test(e)}var $f,Yf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Xf(e,t){return-1!=e.indexOf(t)}function Jf(e,t){return e<t?-1:e>t?1:0}e:{var Zf=Of.navigator;if(Zf){var ed=Zf.userAgent;if(ed){$f=ed;break e}}$f=""}function td(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function nd(e){var t={};for(var n in e)t[n]=e[n];return t}var rd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function id(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<rd.length;a++)n=rd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ad(e){return ad[" "](e),e}ad[" "]=Pf;var od,ud=Xf($f,"Opera"),sd=Xf($f,"Trident")||Xf($f,"MSIE"),cd=Xf($f,"Edge"),ld=cd||sd,fd=Xf($f,"Gecko")&&!(Xf($f.toLowerCase(),"webkit")&&!Xf($f,"Edge"))&&!(Xf($f,"Trident")||Xf($f,"MSIE"))&&!Xf($f,"Edge"),dd=Xf($f.toLowerCase(),"webkit")&&!Xf($f,"Edge");function hd(){var e=Of.document;return e?e.documentMode:void 0}e:{var pd="",vd=function(){var e=$f;return fd?/rv:([^\);]+)(\)|;)/.exec(e):cd?/Edge\/([\d\.]+)/.exec(e):sd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dd?/WebKit\/(\S+)/.exec(e):ud?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vd&&(pd=vd?vd[1]:""),sd){var md=hd();if(null!=md&&md>parseFloat(pd)){od=String(md);break e}}od=pd}var yd,gd={};function bd(){return function(e){var t=gd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Yf(String(od)).split("."),n=Yf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Jf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Jf(0==a[2].length,0==o[2].length)||Jf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Of.document&&sd){var kd=hd();yd=kd||(parseInt(od,10)||void 0)}else yd=void 0;var wd=yd,xd=function(){if(!Of.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Of.addEventListener("test",Pf,t),Of.removeEventListener("test",Pf,t)}catch(n){}return e}();function Ed(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Id(e,t){if(Ed.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fd){e:{try{ad(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Id.Z.h.call(this)}}Ed.prototype.h=function(){this.defaultPrevented=!0},zf(Id,Ed);var Cd={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _d="closure_listenable_"+(1e6*Math.random()|0),Sd=0;function Td(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Sd,this.ca=this.fa=!1}function Nd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ad(e){this.src=e,this.g={},this.h=0}function Od(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Wf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Nd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ad.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Pd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Td(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Rd="closure_lm_"+(1e6*Math.random()|0),Dd={};function Md(e,t,n,r,i){if(r&&r.once)return Fd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Md(e,t[a],n,r,i);return null}return n=Wd(n),e&&e[_d]?e.N(t,n,Df(r)?!!r.capture:!!r,i):Ld(e,t,n,!1,r,i)}function Ld(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Df(i)?!!i.capture:!!i,u=Bd(e);if(u||(e[Rd]=u=new Ad(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ud(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fd(e,t[a],n,r,i);return null}return n=Wd(n),e&&e[_d]?e.O(t,n,Df(r)?!!r.capture:!!r,i):Ld(e,t,n,!0,r,i)}function jd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)jd(e,t[a],n,r,i);else r=Df(r)?!!r.capture:!!r,n=Wd(n),e&&e[_d]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pd(a=e.g[t],n,r,i))&&(Nd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Bd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pd(t,n,r,i)),(n=-1<e?t[e]:null)&&Vd(n))}function Vd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[_d])Od(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ud(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bd(t))?(Od(n,e),0==n.h&&(n.src=null,t[Rd]=null)):Nd(e)}}}function Ud(e){return e in Dd?Dd[e]:Dd[e]="on"+e}function zd(e,t){if(e.ca)e=!0;else{t=new Id(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Vd(e),e=n.call(r,t)}return e}function Bd(e){return(e=e[Rd])instanceof Ad?e:null}var qd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wd(e){return"function"===typeof e?e:(e[qd]||(e[qd]=function(t){return e.handleEvent(t)}),e[qd])}function Kd(){Bf.call(this),this.i=new Ad(this),this.P=this,this.I=null}function Hd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ed(t,e);else if(t instanceof Ed)t.target=t.target||e;else{var i=t;id(t=new Ed(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Gd(o,r,!0,t)&&i}if(i=Gd(o=t.g=e,r,!0,t)&&i,i=Gd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Gd(o=t.g=n[a],r,!1,t)&&i}function Gd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Od(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}zf(Kd,Bf),Kd.prototype[_d]=!0,Kd.prototype.removeEventListener=function(e,t,n,r){jd(this,e,t,n,r)},Kd.prototype.M=function(){if(Kd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nd(n[r]);delete t.g[e],t.h--}}this.I=null},Kd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qd=Of.JSON.stringify;function $d(){var e=rh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yd,Xd=function(){function e(){jn(this,e),this.h=this.g=null}return Un(e,[{key:"add",value:function(e,t){var n=Jd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Jd=new(function(){function e(t,n){jn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Un(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Zd}),(function(e){return e.reset()})),Zd=function(){function e(){jn(this,e),this.next=this.g=this.h=null}return Un(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function eh(e){Of.setTimeout((function(){throw e}),0)}function th(e,t){Yd||function(){var e=Of.Promise.resolve(void 0);Yd=function(){e.then(ih)}}(),nh||(Yd(),nh=!0),rh.add(e,t)}var nh=!1,rh=new Xd;function ih(){for(var e;e=$d();){try{e.h.call(e.g)}catch(n){eh(n)}var t=Jd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nh=!1}function ah(e,t){Kd.call(this),this.h=e||1,this.g=t||Of,this.j=Vf(this.kb,this),this.l=Date.now()}function oh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function uh(e,t,n){if("function"===typeof e)n&&(e=Vf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Of.setTimeout(e,t||0)}function sh(e){e.g=uh((function(){e.g=null,e.i&&(e.i=!1,sh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}zf(ah,Kd),(Sf=ah.prototype).da=!1,Sf.S=null,Sf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hd(this,"tick"),this.da&&(oh(this),this.start()))}},Sf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sf.M=function(){ah.Z.M.call(this),oh(this),delete this.g};var ch=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Un(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:sh(this)}},{key:"M",value:function(){_f(qn(n.prototype),"M",this).call(this),this.g&&(Of.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bf);function lh(e){Bf.call(this),this.h=e,this.g={}}zf(lh,Bf);var fh=[];function dh(e,t,n,r){Array.isArray(n)||(n&&(fh[0]=n.toString()),n=fh);for(var i=0;i<n.length;i++){var a=Md(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function hh(e){td(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vd(e)}),e),e.g={}}function ph(){this.g=!0}function vh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Qd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}lh.prototype.M=function(){lh.Z.M.call(this),hh(this)},lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ph.prototype.Aa=function(){this.g=!1},ph.prototype.info=function(){};var mh={},yh=null;function gh(){return yh=yh||new Kd}function bh(e){Ed.call(this,mh.Ma,e)}function kh(e){var t=gh();Hd(t,new bh(t,e))}function wh(e,t){Ed.call(this,mh.STAT_EVENT,e),this.stat=t}function xh(e){var t=gh();Hd(t,new wh(t,e))}function Eh(e,t){Ed.call(this,mh.Na,e),this.size=t}function Ih(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Of.setTimeout((function(){e()}),t)}mh.Ma="serverreachability",zf(bh,Ed),mh.STAT_EVENT="statevent",zf(wh,Ed),mh.Na="timingevent",zf(Eh,Ed);var Ch={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_h={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sh(){}function Th(e){return e.h||(e.h=e.i())}function Nh(){}Sh.prototype.h=null;var Ah,Oh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ph(){Ed.call(this,"d")}function Rh(){Ed.call(this,"c")}function Dh(){}function Mh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new lh(this),this.P=Fh,e=ld?125:void 0,this.W=new ah(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}zf(Ph,Ed),zf(Rh,Ed),zf(Dh,Sh),Dh.prototype.g=function(){return new XMLHttpRequest},Dh.prototype.i=function(){return{}},Ah=new Dh;var Fh=45e3,jh={},Vh={};function Uh(e,t,n){e.K=1,e.v=cp(rp(t)),e.s=n,e.U=!0,zh(e,null)}function zh(e,t){e.F=Date.now(),Kh(e),e.A=rp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),xp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Lh,e.g=Iv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ch(Vf(e.Ia,e,e.g),e.O)),dh(e.V,e.g,"readystatechange",e.gb),t=e.H?nd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),kh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Bh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function qh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Wh(e,n))==Vh){4==t&&(e.o=4,xh(14),i=!1),vh(e.j,e.m,null,"[Incomplete Response]");break}if(r==jh){e.o=4,xh(15),vh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vh(e.j,e.m,r,null),Yh(e,r)}Bh(e)&&r!=Vh&&r!=jh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mv(t),t.L=!0,xh(11))):(vh(e.j,e.m,n,"[Invalid Chunked Response]"),$h(e),Qh(e))}function Wh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vh:(n=Number(t.substring(n,r)),isNaN(n)?jh:(r+=1)+n>t.length?Vh:(t=t.substr(r,n),e.C=r+n,t))}function Kh(e){e.Y=Date.now()+e.P,Hh(e,e.P)}function Hh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ih(Vf(e.eb,e),t)}function Gh(e){e.B&&(Of.clearTimeout(e.B),e.B=null)}function Qh(e){0==e.l.G||e.I||bv(e.l,e)}function $h(e){Gh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,oh(e.W),hh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ap(n.i,e)))if(n.I=e.N,!e.J&&Ap(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;gv(n),uv(n)}vv(n),xh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ih(Vf(n.ab,n),6e3));if(1>=Np(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else wv(n,11)}else if((e.J||n.g==e)&&gv(n),!Qf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Xf(l,"spdy")||Xf(l,"quic")||Xf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Op(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,sp(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Ev(r,r.H?r.la:null,r.W),h.J){Pp(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(Gh(p),Kh(p)),r.g=h}else pv(r);0<n.l.length&&lv(n)}else"stop"!=a[0]&&"close"!=a[0]||wv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?wv(n,7):ov(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}kh(4)}catch(a){}}function Xh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Rf(e)||"string"===typeof e)Kf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Rf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Rf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Jh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Jh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Zh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ep(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ep(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ep(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Sf=Mh.prototype).setTimeout=function(e){this.P=e},Sf.gb=function(e){e=e.target;var t=this.L;t&&3==tv(e)?t.l():this.Ia(e)},Sf.Ia=function(e){try{if(e==this.g)e:{var t=tv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ld||this.g&&(this.h.h||this.g.ga()||nv(this.g)))){this.I||4!=t||7==n||kh(8==n||0>=r?3:2),Gh(this);var i=this.g.ba();this.N=i;t:if(Bh(this)){var a=nv(this.g);e="";var o=a.length,u=4==tv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$h(this),Qh(this);var s="";break t}this.h.i=new Of.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,xh(12),$h(this),Qh(this);break e}vh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yh(this,i)}this.U?(qh(this,t,s),ld&&this.i&&3==t&&(dh(this.V,this.W,"tick",this.fb),this.W.start())):(vh(this.j,this.m,s,null),Yh(this,s)),4==t&&$h(this),this.i&&!this.I&&(4==t?bv(this.l,this):(this.i=!1,Kh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,xh(12)):(this.o=0,xh(13)),$h(this),Qh(this)}}}catch(t){}},Sf.fb=function(){if(this.g){var e=tv(this.g),t=this.g.ga();this.C<t.length&&(Gh(this),qh(this,e,t),this.i&&4!=e&&Kh(this))}},Sf.cancel=function(){this.I=!0,$h(this)},Sf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(kh(3),xh(17)),$h(this),this.o=2,Qh(this)):Hh(this,this.Y-e)},(Sf=Jh.prototype).R=function(){Zh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Sf.T=function(){return Zh(this),this.g.concat()},Sf.get=function(e,t){return ep(this.h,e)?this.h[e]:t},Sf.set=function(e,t){ep(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Sf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var tp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function np(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof np){this.g=void 0!==t?t:e.g,ip(this,e.j),this.s=e.s,ap(this,e.i),op(this,e.m),this.l=e.l,t=e.h;var n=new gp;n.i=t.i,t.g&&(n.g=new Jh(t.g),n.h=t.h),up(this,n),this.o=e.o}else e&&(n=String(e).match(tp))?(this.g=!!t,ip(this,n[1]||"",!0),this.s=lp(n[2]||""),ap(this,n[3]||"",!0),op(this,n[4]),this.l=lp(n[5]||"",!0),up(this,n[6]||"",!0),this.o=lp(n[7]||"")):(this.g=!!t,this.h=new gp(null,this.g))}function rp(e){return new np(e)}function ip(e,t,n){e.j=n?lp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ap(e,t,n){e.i=n?lp(t,!0):t}function op(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function up(e,t,n){t instanceof gp?(e.h=t,function(e,t){t&&!e.j&&(bp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kp(this,t),xp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=fp(t,mp)),e.h=new gp(t,e.g))}function sp(e,t,n){e.h.set(t,n)}function cp(e){return sp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}np.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fp(t,hp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fp(t,hp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(fp(n,"/"==n.charAt(0)?vp:pp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fp(n,yp)),e.join("")};var hp=/[#\/\?@]/g,pp=/[#\?:]/g,vp=/[#\?]/g,mp=/[#\?@]/g,yp=/#/g;function gp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bp(e){e.g||(e.g=new Jh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kp(e,t){bp(e),t=Ep(e,t),ep(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ep((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Zh(e)))}function wp(e,t){return bp(e),t=Ep(e,t),ep(e.g.h,t)}function xp(e,t,n){kp(e,t),0<n.length&&(e.i=null,e.g.set(Ep(e,t),Gf(n)),e.h+=n.length)}function Ep(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Sf=gp.prototype).add=function(e,t){bp(this),this.i=null,e=Ep(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sf.forEach=function(e,t){bp(this),this.g.forEach((function(n,r){Kf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Sf.T=function(){bp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Sf.R=function(e){bp(this);var t=[];if("string"===typeof e)wp(this,e)&&(t=Hf(t,this.g.get(Ep(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Hf(t,e[n])}return t},Sf.set=function(e,t){return bp(this),this.i=null,wp(this,e=Ep(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Sf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ip=Un((function e(t,n){jn(this,e),this.h=t,this.g=n}));function Cp(e){this.l=e||Sp,Of.PerformanceNavigationTiming?e=0<(e=Of.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Of.g&&Of.g.Ea&&Of.g.Ea()&&Of.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _p,Sp=10;function Tp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Np(e){return e.h?1:e.g?e.g.size:0}function Ap(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Op(e,t){e.g?e.g.add(t):e.h=t}function Pp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ec(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Gf(e.i)}function Dp(){}function Mp(){this.g=new Dp}function Lp(e,t,n){var r=n||"";try{Xh(e,(function(e,n){var i=e;Df(e)&&(i=Qd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function jp(e){this.l=e.$b||null,this.j=e.ib||!1}function Vp(e,t){Kd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Up,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cp.prototype.cancel=function(){if(this.i=Rp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ec(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Dp.prototype.stringify=function(e){return Of.JSON.stringify(e,void 0)},Dp.prototype.parse=function(e){return Of.JSON.parse(e,void 0)},zf(jp,Sh),jp.prototype.g=function(){return new Vp(this.l,this.j)},jp.prototype.i=(_p={},function(){return _p}),zf(Vp,Kd);var Up=0;function zp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Bp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qp(e)}function qp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Sf=Vp.prototype).open=function(e,t){if(this.readyState!=Up)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qp(this)},Sf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Of).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Sf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bp(this)),this.readyState=Up},Sf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qp(this)),this.g&&(this.readyState=3,qp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Of.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Sf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bp(this):qp(this),3==this.readyState&&zp(this)}},Sf.Ua=function(e){this.g&&(this.response=this.responseText=e,Bp(this))},Sf.Ta=function(e){this.g&&(this.response=e,Bp(this))},Sf.ha=function(){this.g&&Bp(this)},Sf.setRequestHeader=function(e,t){this.v.append(e,t)},Sf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wp=Of.JSON.parse;function Kp(e){Kd.call(this),this.headers=new Jh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hp,this.K=this.L=!1}zf(Kp,Kd);var Hp="",Gp=/^https?$/i,Qp=["POST","PUT"];function $p(e){return"content-type"==e.toLowerCase()}function Yp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xp(e),Zp(e)}function Xp(e){e.D||(e.D=!0,Hd(e,"complete"),Hd(e,"error"))}function Jp(e){if(e.h&&"undefined"!=typeof Af&&(!e.C[1]||4!=tv(e)||2!=e.ba()))if(e.v&&4==tv(e))uh(e.Fa,0,e);else if(Hd(e,"readystatechange"),4==tv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(tp)[1]||null;if(!a&&Of.self&&Of.self.location){var o=Of.self.location.protocol;a=o.substr(0,o.length-1)}i=!Gp.test(a?a.toLowerCase():"")}t=i}if(t)Hd(e,"complete"),Hd(e,"success");else{e.m=6;try{var u=2<tv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Xp(e)}}finally{Zp(e)}}}function Zp(e,t){if(e.g){ev(e);var n=e.g,r=e.C[0]?Pf:null;e.g=null,e.C=null,t||Hd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ev(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Of.clearTimeout(e.A),e.A=null)}function tv(e){return e.g?e.g.readyState:0}function nv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Hp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return td(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sp(e,t,n))}function iv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function av(e){this.za=0,this.l=[],this.h=new ph,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=iv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=iv("baseRetryDelayMs",5e3,e),this.$a=iv("retryDelaySeedMs",1e4,e),this.Ya=iv("forwardChannelMaxRetries",2,e),this.ra=iv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Cp(e&&e.concurrentRequestLimit),this.Ca=new Mp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ov(e){if(sv(e),3==e.G){var t=e.V++,n=rp(e.F);sp(n,"SID",e.J),sp(n,"RID",t),sp(n,"TYPE","terminate"),dv(e,n),(t=new Mh(e,e.h,t,void 0)).K=2,t.v=cp(rp(n)),n=!1,Of.navigator&&Of.navigator.sendBeacon&&(n=Of.navigator.sendBeacon(t.v.toString(),"")),!n&&Of.Image&&((new Image).src=t.v,n=!0),n||(t.g=Iv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Kh(t)}xv(e)}function uv(e){e.g&&(mv(e),e.g.cancel(),e.g=null)}function sv(e){uv(e),e.u&&(Of.clearTimeout(e.u),e.u=null),gv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Of.clearTimeout(e.m),e.m=null)}function cv(e,t){e.l.push(new Ip(e.Za++,t)),3==e.G&&lv(e)}function lv(e){Tp(e.i)||e.m||(e.m=!0,th(e.Ha,e),e.C=0)}function fv(e,t){var n;n=t?t.m:e.V++;var r=rp(e.F);sp(r,"SID",e.J),sp(r,"RID",n),sp(r,"AID",e.U),dv(e,r),e.o&&e.s&&rv(r,e.o,e.s),n=new Mh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=hv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Op(e.i,n),Uh(n,r,t)}function dv(e,t){e.j&&Xh({},(function(e,n){sp(t,n,e)}))}function hv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Lp(l,o,"req"+c+"_")}catch(Jv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function pv(e){e.g||e.u||(e.Y=1,th(e.Ga,e),e.A=0)}function vv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ih(Vf(e.Ga,e),kv(e,e.A)),e.A++,!0)}function mv(e){null!=e.B&&(Of.clearTimeout(e.B),e.B=null)}function yv(e){e.g=new Mh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=rp(e.oa);sp(t,"RID","rpc"),sp(t,"SID",e.J),sp(t,"CI",e.N?"0":"1"),sp(t,"AID",e.U),dv(e,t),sp(t,"TYPE","xmlhttp"),e.o&&e.s&&rv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=cp(rp(t)),n.s=null,n.U=!0,zh(n,e)}function gv(e){null!=e.v&&(Of.clearTimeout(e.v),e.v=null)}function bv(e,t){var n=null;if(e.g==t){gv(e),mv(e),e.g=null;var r=2}else{if(!Ap(e.i,t))return;n=t.D,Pp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hd(r=gh(),new Eh(r,n,t,i)),lv(e)}else pv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Np(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ih(Vf(e.Ha,e,t),kv(e,e.C)),e.C++,!0))}(e,t)||2==r&&vv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wv(e,5);break;case 4:wv(e,10);break;case 3:wv(e,6);break;default:wv(e,2)}}function kv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vf(e.jb,e);n||(n=new np("//www.google.com/images/cleardot.gif"),Of.location&&"http"==Of.location.protocol||ip(n,"https"),cp(n)),function(e,t){var n=new ph;if(Of.Image){var r=new Image;r.onload=Uf(Fp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Uf(Fp,n,r,"TestLoadImage: error",!1,t),r.onabort=Uf(Fp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Uf(Fp,n,r,"TestLoadImage: timeout",!1,t),Of.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xh(2);e.G=0,e.j&&e.j.va(t),xv(e),sv(e)}function xv(e){e.G=0,e.I=-1,e.j&&(0==Rp(e.i).length&&0==e.l.length||(e.i.i.length=0,Gf(e.l),e.l.length=0),e.j.ua())}function Ev(e,t,n){var r=function(e){return e instanceof np?rp(e):new np(e,void 0)}(n);if(""!=r.i)t&&ap(r,t+"."+r.i),op(r,r.m);else{var i=Of.location;r=function(e,t,n,r){var i=new np(null,void 0);return e&&ip(i,e),t&&ap(i,t),n&&op(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&td(e.aa,(function(e,t){sp(r,t,e)})),t=e.D,n=e.sa,t&&n&&sp(r,t,n),sp(r,"VER",e.ma),dv(e,r),r}function Iv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Kp(new jp({ib:!0})):new Kp(e.qa)).L=e.H,t}function Cv(){}function _v(){if(sd&&!(10<=Number(wd)))throw Error("Environmental error: no available transport.")}function Sv(e,t){Kd.call(this),this.g=new av(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Av(this)}function Tv(e){Ph.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nv(){Rh.call(this),this.status=1}function Av(e){this.g=e}(Sf=Kp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ah.g(),this.C=this.u?Th(this.u):Th(Ah),this.g.onreadystatechange=Vf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Yp(this,a)}e=n||"";var i=new Jh(this.headers);r&&Xh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=$p,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Of.FormData&&e instanceof Of.FormData,!(0<=Wf(Qp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ev(this),0<this.B&&((this.K=function(e){return sd&&bd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vf(this.pa,this)):this.A=uh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Yp(this,a)}},Sf.pa=function(){"undefined"!=typeof Af&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hd(this,"timeout"),this.abort(8))},Sf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hd(this,"complete"),Hd(this,"abort"),Zp(this))},Sf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zp(this,!0)),Kp.Z.M.call(this)},Sf.Fa=function(){this.s||(this.F||this.v||this.l?Jp(this):this.cb())},Sf.cb=function(){Jp(this)},Sf.ba=function(){try{return 2<tv(this)?this.g.status:-1}catch(_p){return-1}},Sf.ga=function(){try{return this.g?this.g.responseText:""}catch(_p){return""}},Sf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wp(t)}},Sf.Da=function(){return this.m},Sf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Sf=av.prototype).ma=8,Sf.G=1,Sf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Sf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Mh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?id(n=nd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hv(this,t,r),sp(i=rp(this.F),"RID",e),sp(i,"CVER",22),this.D&&sp(i,"X-HTTP-Session-Id",this.D),dv(this,i),this.o&&n&&rv(i,this.o,n),Op(this.i,t),this.Ra&&sp(i,"TYPE","init"),this.ja?(sp(i,"$req",r),sp(i,"SID","null"),t.$=!0,Uh(t,i,null)):Uh(t,i,r),this.G=2}}else 3==this.G&&(e?fv(this,e):0==this.l.length||Tp(this.i)||fv(this))},Sf.Ga=function(){if(this.u=null,yv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ih(Vf(this.bb,this),e)}},Sf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xh(10),uv(this),yv(this))},Sf.ab=function(){null!=this.v&&(this.v=null,uv(this),vv(this),xh(19))},Sf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),xh(2)):(this.h.info("Failed to ping google.com"),xh(1))},(Sf=Cv.prototype).xa=function(){},Sf.wa=function(){},Sf.va=function(){},Sf.ua=function(){},Sf.Oa=function(){},_v.prototype.g=function(e,t){return new Sv(e,t)},zf(Sv,Kd),Sv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),th(Vf(e.hb,e,t))),xh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ev(e,null,e.W),lv(e)},Sv.prototype.close=function(){ov(this.g)},Sv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,cv(this.g,t)}else this.v?((t={}).__data__=Qd(e),cv(this.g,t)):cv(this.g,e)},Sv.prototype.M=function(){this.g.j=null,delete this.j,ov(this.g),delete this.g,Sv.Z.M.call(this)},zf(Tv,Ph),zf(Nv,Rh),zf(Av,Cv),Av.prototype.xa=function(){Hd(this.g,"a")},Av.prototype.wa=function(e){Hd(this.g,new Tv(e))},Av.prototype.va=function(e){Hd(this.g,new Nv(e))},Av.prototype.ua=function(){Hd(this.g,"b")},_v.prototype.createWebChannel=_v.prototype.g,Sv.prototype.send=Sv.prototype.u,Sv.prototype.open=Sv.prototype.m,Sv.prototype.close=Sv.prototype.close,Ch.NO_ERROR=0,Ch.TIMEOUT=8,Ch.HTTP_ERROR=6,_h.COMPLETE="complete",Nh.EventType=Oh,Oh.OPEN="a",Oh.CLOSE="b",Oh.ERROR="c",Oh.MESSAGE="d",Kd.prototype.listen=Kd.prototype.N,Kp.prototype.listenOnce=Kp.prototype.O,Kp.prototype.getLastError=Kp.prototype.La,Kp.prototype.getLastErrorCode=Kp.prototype.Da,Kp.prototype.getStatus=Kp.prototype.ba,Kp.prototype.getResponseJson=Kp.prototype.Qa,Kp.prototype.getResponseText=Kp.prototype.ga,Kp.prototype.send=Kp.prototype.ea;var Ov=Nf.createWebChannelTransport=function(){return new _v},Pv=Nf.getStatEventTarget=function(){return gh()},Rv=Nf.ErrorCode=Ch,Dv=Nf.EventType=_h,Mv=Nf.Event=mh,Lv=Nf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fv=Nf.FetchXmlHttpFactory=jp,jv=Nf.WebChannel=Nh,Vv=Nf.XhrIo=Kp,Uv="@firebase/firestore",zv=function(){function e(t){jn(this,e),this.uid=t}return Un(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();zv.UNAUTHENTICATED=new zv(null),zv.GOOGLE_CREDENTIALS=new zv("google-credentials-uid"),zv.FIRST_PARTY=new zv("first-party-uid"),zv.MOCK_USER=new zv("mock-user");var Bv="9.9.4",qv=new fl("@firebase/firestore");function Wv(){return qv.logLevel}function Kv(e){if(qv.logLevel<=il.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qv);qv.debug.apply(qv,["Firestore (".concat(Bv,"): ").concat(e)].concat(At(i)))}}function Hv(e){if(qv.logLevel<=il.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qv);qv.error.apply(qv,["Firestore (".concat(Bv,"): ").concat(e)].concat(At(i)))}}function Gv(e){if(qv.logLevel<=il.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qv);qv.warn.apply(qv,["Firestore (".concat(Bv,"): ").concat(e)].concat(At(i)))}}function Qv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function $v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Bv,") INTERNAL ASSERTION FAILED: ")+e;throw Hv(t),new Error(t)}function Yv(e,t){e||$v()}function Xv(e,t){return e}var Jv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zv=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Un(n)}(Uc),em=Un((function e(){var t=this;jn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),tm=Un((function e(t,n){jn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),nm=function(){function e(){jn(this,e)}return Un(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),rm=function(){function e(t){jn(this,e),this.token=t,this.changeListener=null}return Un(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),im=function(){function e(t){jn(this,e),this.t=t,this.currentUser=zv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Un(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new em;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new em,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Kv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Kv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new em)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Kv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yv("string"==typeof n.accessToken),new tm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yv(null===e||"string"==typeof e),new zv(e)}}]),e}(),am=function(){function e(t,n,r,i){jn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=zv.FIRST_PARTY,this.p=new Map}return Un(e,[{key:"I",value:function(){return this.g?this.g():(Yv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),om=function(){function e(t,n,r,i){jn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Un(e,[{key:"getToken",value:function(){return Promise.resolve(new am(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),um=Un((function e(t){jn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),sm=function(){function e(t){jn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Un(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Kv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Kv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Kv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Kv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Yv("string"==typeof t.token),e.A=t.token,new um(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function cm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var lm=function(){function e(){jn(this,e)}return Un(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=cm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function fm(e,t){return e<t?-1:e>t?1:0}function dm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hm(e){return e+"\0"}var pm=function(){function e(t,n){if(jn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Zv(Jv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Zv(Jv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Zv(Jv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zv(Jv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Un(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?fm(this.nanoseconds,e.nanoseconds):fm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),vm=function(){function e(t){jn(this,e),this.timestamp=t}return Un(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new pm(0,0))}},{key:"max",value:function(){return new e(new pm(253402300799,999999999))}}]),e}(),mm=function(){function e(t,n,r){jn(this,e),void 0===n?n=0:n>t.length&&$v(),void 0===r?r=t.length-n:r>t.length-n&&$v(),this.segments=t,this.offset=n,this.len=r}return Un(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ym=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,At(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(mm),gm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bm=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return gm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Zv(Jv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Zv(Jv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Zv(Jv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(mm),km=function(){function e(t){jn(this,e),this.path=t}return Un(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ym.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ym.fromString(t))}},{key:"fromName",value:function(t){return new e(ym.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ym.emptyPath())}},{key:"comparator",value:function(e,t){return ym.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ym(t.slice()))}}]),e}(),wm=Un((function e(t,n,r,i){jn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function xm(e){return e.fields.find((function(e){return 2===e.kind}))}function Em(e){return e.fields.filter((function(e){return 2!==e.kind}))}wm.UNKNOWN_ID=-1;var Im=Un((function e(t,n){jn(this,e),this.fieldPath=t,this.kind=n}));var Cm=function(){function e(t,n){jn(this,e),this.sequenceNumber=t,this.offset=n}return Un(e,null,[{key:"empty",value:function(){return new e(0,Tm.min())}}]),e}();function _m(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vm.fromTimestamp(1e9===r?new pm(n+1,0):new pm(n,r));return new Tm(i,km.empty(),t)}function Sm(e){return new Tm(e.readTime,e.key,-1)}var Tm=function(){function e(t,n,r){jn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Un(e,null,[{key:"min",value:function(){return new e(vm.min(),km.empty(),-1)}},{key:"max",value:function(){return new e(vm.max(),km.empty(),-1)}}]),e}();function Nm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=km.comparator(e.documentKey,t.documentKey))?n:fm(e.largestBatchId,t.largestBatchId)}var Am="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Om=function(){function e(){jn(this,e),this.onCommittedListeners=[]}return Un(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Pm(e){return Rm.apply(this,arguments)}function Rm(){return Rm=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Jv.FAILED_PRECONDITION&&t.message===Am){e.next=2;break}throw t;case 2:Kv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}var Dm=function(){function e(t){var n=this;jn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Un(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&$v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ec(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Mm=function(){function e(t,n){var r=this;jn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new em,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new jm(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=qm(e.target.error);r.P.reject(new jm(t,n))}}return Un(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Kv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Um(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new jm(n,t)}}}]),e}(),Lm=function(){function e(t,n,r){jn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Rc())&&Hv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Un(e,[{key:"F",value:function(){var e=vo(ho().mark((function e(t){var n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Kv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new jm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Zv(Jv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Zv(Jv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new jm(t,n))},i.onupgradeneeded=function(e){Kv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Kv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ho().mark((function e(){var n,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Mm.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Dm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Kv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Kv("SimpleDb","Removing database:",e),zm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Vc())return!1;if(e.N())return!0;var t=Rc(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Fm=function(){function e(t){jn(this,e),this.U=t,this.q=!1,this.K=null}return Un(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return zm(this.U.delete())}}]),e}(),jm=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,Jv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Un(n)}(Zv);function Vm(e){return"IndexedDbTransactionError"===e.name}var Um=function(){function e(t){jn(this,e),this.store=t}return Un(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Kv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Kv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zm(n)}},{key:"add",value:function(e){return Kv("SimpleDb","ADD",this.store.name,e,e),zm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Kv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Kv("SimpleDb","DELETE",this.store.name,e),zm(this.store.delete(e))}},{key:"count",value:function(){return Kv("SimpleDb","COUNT",this.store.name),zm(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Dm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Dm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Kv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Dm((function(n,r){t.onerror=function(e){var t=qm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Dm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Fm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dm){var u=o.catch((function(e){return a.done(),Dm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Dm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zm(e){return new Dm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qm(e.target.error);n(t)}}))}var Bm=!1;function qm(e){var t=Lm.D(Rc());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Zv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Bm||(Bm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Wm=function(){function e(t,n){jn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Un(e,[{key:"start",value:function(){this.nt(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Kv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Kv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Vm(e.t4)){e.next=17;break}Kv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Pm(e.t4);case 19:return e.next=21,t.nt(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Km=function(){function e(t,n){jn(this,e),this.localStore=t,this.persistence=n}return Un(e,[{key:"st",value:function(){var e=vo(ho().mark((function e(){var t,n=this,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Dm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Kv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Kv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Sm(t);Nm(r,n)>0&&(n=r)})),new Tm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Hm=function(){function e(t,n){var r=this;jn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Un(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Gm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $m(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Hm.at=-1;var Ym=function(){function e(t,n){jn(this,e),this.comparator=t,this.root=n||Jm.EMPTY}return Un(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Xm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Xm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Xm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Xm(this.root,e,this.comparator,!0)}}]),e}(),Xm=function(){function e(t,n,r,i){jn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Un(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Jm=function(){function e(t,n,r,i,a){jn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Un(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw $v();if(this.right.isRed())throw $v();var e=this.left.check();if(e!==this.right.check())throw $v();return e+(this.isRed()?0:1)}}]),e}();Jm.EMPTY=null,Jm.RED=!0,Jm.BLACK=!1,Jm.EMPTY=new(function(){function e(){jn(this,e),this.size=0}return Un(e,[{key:"key",get:function(){throw $v()}},{key:"value",get:function(){throw $v()}},{key:"color",get:function(){throw $v()}},{key:"left",get:function(){throw $v()}},{key:"right",get:function(){throw $v()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Jm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Zm=function(){function e(t){jn(this,e),this.comparator=t,this.data=new Ym(this.comparator)}return Un(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ey(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ey(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ey=function(){function e(t){jn(this,e),this.iter=t}return Un(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ty(e){return e.hasNext()?e.getNext():void 0}var ny=function(){function e(t){jn(this,e),this.fields=t,t.sort(bm.comparator)}return Un(e,[{key:"unionWith",value:function(t){var n,r=new Zm(bm.comparator),i=Ec(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Ec(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ec(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return dm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var ry=function(e){function t(e){jn(this,t),this.binaryString=e}return Un(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return fm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ry.EMPTY_BYTE_STRING=new ry("");var iy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ay(e){if(Yv(!!e),"string"==typeof e){var t=0,n=iy.exec(e);if(Yv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:oy(e.seconds),nanos:oy(e.nanos)}}function oy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uy(e){return"string"==typeof e?ry.fromBase64String(e):ry.fromUint8Array(e)}function sy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cy(e){var t=e.mapValue.fields.__previous_value__;return sy(t)?cy(t):t}function ly(e){var t=ay(e.mapValue.fields.__local_write_time__.timestampValue);return new pm(t.seconds,t.nanos)}var fy=Un((function e(t,n,r,i,a,o,u,s){jn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),dy=function(){function e(t,n){jn(this,e),this.projectId=t,this.database=n||"(default)"}return Un(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function hy(e){return null==e}function py(e){return 0===e&&1/e==-1/0}function vy(e){return"number"==typeof e&&Number.isInteger(e)&&!py(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var my={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yy={nullValue:"NULL_VALUE"};function gy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sy(e)?4:Py(e)?9007199254740991:10:$v()}function by(e,t){if(e===t)return!0;var n=gy(e);if(n!==gy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ly(e).isEqual(ly(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ay(e.timestampValue),r=ay(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return uy(e.bytesValue).isEqual(uy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return oy(e.geoPointValue.latitude)===oy(t.geoPointValue.latitude)&&oy(e.geoPointValue.longitude)===oy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return oy(e.integerValue)===oy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=oy(e.doubleValue),r=oy(t.doubleValue);return n===r?py(n)===py(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return dm(e.arrayValue.values||[],t.arrayValue.values||[],by);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gm(n)!==Gm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!by(n[i],r[i])))return!1;return!0}(e,t);default:return $v()}}function ky(e,t){return void 0!==(e.values||[]).find((function(e){return by(e,t)}))}function wy(e,t){if(e===t)return 0;var n=gy(e),r=gy(t);if(n!==r)return fm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=oy(e.integerValue||e.doubleValue),r=oy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xy(e.timestampValue,t.timestampValue);case 4:return xy(ly(e),ly(t));case 5:return fm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=uy(e),r=uy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=fm(n[i],r[i]);if(0!==a)return a}return fm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=fm(oy(e.latitude),oy(t.latitude));return 0!==n?n:fm(oy(e.longitude),oy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=wy(n[i],r[i]);if(a)return a}return fm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===my.mapValue&&t===my.mapValue)return 0;if(e===my.mapValue)return 1;if(t===my.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=fm(r[o],a[o]);if(0!==u)return u;var s=wy(n[r[o]],i[a[o]]);if(0!==s)return s}return fm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw $v()}}function xy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fm(e,t);var n=ay(e),r=ay(t),i=fm(n.seconds,r.seconds);return 0!==i?i:fm(n.nanos,r.nanos)}function Ey(e){return Iy(e)}function Iy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ay(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?uy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,km.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ec(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Iy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ec(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Iy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):$v();var t,n}function Cy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function _y(e){return!!e&&"integerValue"in e}function Sy(e){return!!e&&"arrayValue"in e}function Ty(e){return!!e&&"nullValue"in e}function Ny(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ay(e){return!!e&&"mapValue"in e}function Oy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Qm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Oy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Oy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Py(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ry(e){return"nullValue"in e?yy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Cy(dy.empty(),km.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:$v()}function Dy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Cy(dy.empty(),km.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?my:$v()}function My(e,t){var n=wy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ly(e,t){var n=wy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Fy=function(){function e(t){jn(this,e),this.value=t}return Un(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ay(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oy(t)}},{key:"setAll",value:function(e){var t=this,n=bm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Oy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ay(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return by(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ay(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Qm(t,(function(t,n){return e[t]=n}));var r,i=Ec(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Oy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function jy(e){var t=[];return Qm(e.fields,(function(e,n){var r=new bm([e]);if(Ay(n)){var i=jy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ec(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ny(t)}var Vy=function(){function e(t,n,r,i,a,o){jn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Un(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=vm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,vm.min(),vm.min(),Fy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,vm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,vm.min(),Fy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,vm.min(),Fy.empty(),2)}}]),e}(),Uy=Un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;jn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function zy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Uy(e,t,n,r,i,a,o)}function By(e){var t=Xv(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ey(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ey(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ey(e)})).join(",")),t.ht=n}return t.ht}function qy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ag(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!by(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ug(e.startAt,t.startAt)&&ug(e.endAt,t.endAt)}function Wy(e){return km.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ky(e,t){return e.filters.filter((function(e){return e instanceof Qy&&e.field.isEqual(t)}))}function Hy(e,t,n){var r,i=yy,a=!0,o=Ec(Ky(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=yy,c=!0;switch(u.op){case"<":case"<=":s=Ry(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=yy}My({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];My({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Gy(e,t,n){var r,i=my,a=!0,o=Ec(Ky(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=my,c=!0;switch(u.op){case">=":case">":s=Dy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=my}Ly({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ly({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Qy=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(wy(t,this.value)):null!==t&&gy(this.value)===gy(t)&&this.ft(wy(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $v()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new $y(e,t,r):"array-contains"===t?new Zy(e,r):"in"===t?new eg(e,r):"not-in"===t?new tg(e,r):"array-contains-any"===t?new ng(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Yy(e,n):new Xy(e,n)}}]),n}(function(){return Un((function e(){jn(this,e)}))}()),$y=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this,e,r,i)).key=km.fromName(i.referenceValue),a}return Un(n,[{key:"matches",value:function(e){var t=km.comparator(e.key,this.key);return this.ft(t)}}]),n}(Qy),Yy=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,"in",r)).keys=Jy("in",r),i}return Un(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qy),Xy=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,"not-in",r)).keys=Jy("not-in",r),i}return Un(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qy);function Jy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return km.fromName(e.referenceValue)}))}var Zy=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"array-contains",r)}return Un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Sy(t)&&ky(t.arrayValue,this.value)}}]),n}(Qy),eg=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"in",r)}return Un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ky(this.value.arrayValue,t)}}]),n}(Qy),tg=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"not-in",r)}return Un(n,[{key:"matches",value:function(e){if(ky(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ky(this.value.arrayValue,t)}}]),n}(Qy),ng=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"array-contains-any",r)}return Un(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ky(t.value.arrayValue,e)}))}}]),n}(Qy),rg=Un((function e(t,n){jn(this,e),this.position=t,this.inclusive=n})),ig=Un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";jn(this,e),this.field=t,this.dir=n}));function ag(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function og(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?km.comparator(km.fromName(o.referenceValue),n.key):wy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ug(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!by(e.position[n],t.position[n]))return!1;return!0}var sg=Un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;jn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function cg(e,t,n,r,i,a,o,u){return new sg(e,t,n,r,i,a,o,u)}function lg(e){return new sg(e)}function fg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function dg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hg(e){var t,n=Ec(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function pg(e){return null!==e.collectionGroup}function vg(e){var t=Xv(e);if(null===t._t){t._t=[];var n=hg(t),r=dg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new ig(n)),t._t.push(new ig(bm.keyField(),"asc"));else{var i,a=!1,o=Ec(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ig(bm.keyField(),s))}}}return t._t}function mg(e){var t=Xv(e);if(!t.wt)if("F"===t.limitType)t.wt=zy(t.path,t.collectionGroup,vg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ec(vg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ig(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new rg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rg(t.startAt.position,t.startAt.inclusive):null;t.wt=zy(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function yg(e,t,n){return new sg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gg(e,t){return qy(mg(e),mg(t))&&e.limitType===t.limitType}function bg(e){return"".concat(By(mg(e)),"|lt:").concat(e.limitType)}function kg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ey(t.value));var t})).join(", "),"]")),hy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ey(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ey(e)})).join(",")),"Target(".concat(t,")")}(mg(e)),"; limitType=").concat(e.limitType,")")}function wg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):km.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ec(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ec(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=og(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vg(e),t))&&!(e.endAt&&!function(e,t,n){var r=og(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vg(e),t))}(e,t)}function xg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Eg(e){return function(t,n){var r,i=!1,a=Ec(vg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ig(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ig(e,t,n){var r=e.field.isKeyField()?km.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wy(r,i):$v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $v()}}function Cg(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:py(t)?"-0":t}}function _g(e){return{integerValue:""+e}}function Sg(e,t){return vy(t)?_g(t):Cg(e,t)}var Tg=Un((function e(){jn(this,e),this._=void 0}));function Ng(e,t,n){return e instanceof Pg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rg?Dg(e,t):e instanceof Mg?Lg(e,t):function(e,t){var n=Og(e,t),r=jg(n)+jg(e.yt);return _y(n)&&_y(e.yt)?_g(r):Cg(e.It,r)}(e,t)}function Ag(e,t,n){return e instanceof Rg?Dg(e,t):e instanceof Mg?Lg(e,t):n}function Og(e,t){return e instanceof Fg?_y(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pg=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n)}(Tg),Rg=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).elements=e,r}return Un(n)}(Tg);function Dg(e,t){var n,r=Vg(t),i=Ec(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return by(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mg=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).elements=e,r}return Un(n)}(Tg);function Lg(e,t){var n,r=Vg(t),i=Ec(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!by(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Fg=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Un(n)}(Tg);function jg(e){return oy(e.integerValue||e.doubleValue)}function Vg(e){return Sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ug=Un((function e(t,n){jn(this,e),this.field=t,this.transform=n}));var zg=Un((function e(t,n){jn(this,e),this.version=t,this.transformResults=n})),Bg=function(){function e(t,n){jn(this,e),this.updateTime=t,this.exists=n}return Un(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Wg=Un((function e(){jn(this,e)}));function Kg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rb(e.key,Bg.none()):new Yg(e.key,e.data,Bg.none());var n,r=e.data,i=Fy.empty(),a=new Zm(bm.comparator),o=Ec(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Xg(e.key,i,new ny(a.toArray()),Bg.none())}function Hg(e,t,n){e instanceof Yg?function(e,t,n){var r=e.value.clone(),i=Zg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xg?function(e,t,n){if(qg(e.precondition,t)){var r=Zg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gg(e,t,n,r){return e instanceof Yg?function(e,t,n,r){if(!qg(e.precondition,t))return n;var i=e.value.clone(),a=eb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xg?function(e,t,n,r){if(!qg(e.precondition,t))return n;var i=eb(e.fieldTransforms,r,t),a=t.data;return a.setAll(Jg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return qg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Qg(e,t){var n,r=null,i=Ec(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Og(a.transform,o||null);null!=u&&(null===r&&(r=Fy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function $g(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&dm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rg&&t instanceof Rg||e instanceof Mg&&t instanceof Mg?dm(e.elements,t.elements,by):e instanceof Fg&&t instanceof Fg?by(e.yt,t.yt):e instanceof Pg&&t instanceof Pg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Yg=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return jn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Un(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Wg),Xg=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return jn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Un(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Wg);function Jg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zg(e,t,n){var r=new Map;Yv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ag(o,u,n[i]))}return r}function eb(e,t,n){var r,i=new Map,a=Ec(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ng(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var tb,nb,rb=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Un(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Wg),ib=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Un(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Wg),ab=Un((function e(t){jn(this,e),this.count=t}));function ob(e){switch(e){default:return $v();case Jv.CANCELLED:case Jv.UNKNOWN:case Jv.DEADLINE_EXCEEDED:case Jv.RESOURCE_EXHAUSTED:case Jv.INTERNAL:case Jv.UNAVAILABLE:case Jv.UNAUTHENTICATED:return!1;case Jv.INVALID_ARGUMENT:case Jv.NOT_FOUND:case Jv.ALREADY_EXISTS:case Jv.PERMISSION_DENIED:case Jv.FAILED_PRECONDITION:case Jv.ABORTED:case Jv.OUT_OF_RANGE:case Jv.UNIMPLEMENTED:case Jv.DATA_LOSS:return!0}}function ub(e){if(void 0===e)return Hv("GRPC error has no .code"),Jv.UNKNOWN;switch(e){case tb.OK:return Jv.OK;case tb.CANCELLED:return Jv.CANCELLED;case tb.UNKNOWN:return Jv.UNKNOWN;case tb.DEADLINE_EXCEEDED:return Jv.DEADLINE_EXCEEDED;case tb.RESOURCE_EXHAUSTED:return Jv.RESOURCE_EXHAUSTED;case tb.INTERNAL:return Jv.INTERNAL;case tb.UNAVAILABLE:return Jv.UNAVAILABLE;case tb.UNAUTHENTICATED:return Jv.UNAUTHENTICATED;case tb.INVALID_ARGUMENT:return Jv.INVALID_ARGUMENT;case tb.NOT_FOUND:return Jv.NOT_FOUND;case tb.ALREADY_EXISTS:return Jv.ALREADY_EXISTS;case tb.PERMISSION_DENIED:return Jv.PERMISSION_DENIED;case tb.FAILED_PRECONDITION:return Jv.FAILED_PRECONDITION;case tb.ABORTED:return Jv.ABORTED;case tb.OUT_OF_RANGE:return Jv.OUT_OF_RANGE;case tb.UNIMPLEMENTED:return Jv.UNIMPLEMENTED;case tb.DATA_LOSS:return Jv.DATA_LOSS;default:return $v()}}(nb=tb||(tb={}))[nb.OK=0]="OK",nb[nb.CANCELLED=1]="CANCELLED",nb[nb.UNKNOWN=2]="UNKNOWN",nb[nb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nb[nb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nb[nb.NOT_FOUND=5]="NOT_FOUND",nb[nb.ALREADY_EXISTS=6]="ALREADY_EXISTS",nb[nb.PERMISSION_DENIED=7]="PERMISSION_DENIED",nb[nb.UNAUTHENTICATED=16]="UNAUTHENTICATED",nb[nb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nb[nb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nb[nb.ABORTED=10]="ABORTED",nb[nb.OUT_OF_RANGE=11]="OUT_OF_RANGE",nb[nb.UNIMPLEMENTED=12]="UNIMPLEMENTED",nb[nb.INTERNAL=13]="INTERNAL",nb[nb.UNAVAILABLE=14]="UNAVAILABLE",nb[nb.DATA_LOSS=15]="DATA_LOSS";var sb=function(){function e(t,n){jn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Un(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ec(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Qm(this.inner,(function(t,n){var r,i=Ec(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $m(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),cb=new Ym(km.comparator);function lb(){return cb}var fb=new Ym(km.comparator);function db(){for(var e=fb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function hb(e){var t=fb;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function pb(){return mb()}function vb(){return mb()}function mb(){return new sb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yb=new Ym(km.comparator),gb=new Zm(km.comparator);function bb(){for(var e=gb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var kb=new Zm(fm);function wb(){return kb}var xb=function(){function e(t,n,r,i,a){jn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Un(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Eb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(vm.min(),r,wb(),lb(),bb())}}]),e}(),Eb=function(){function e(t,n,r,i,a){jn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Un(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ry.EMPTY_BYTE_STRING,n,bb(),bb(),bb())}}]),e}(),Ib=Un((function e(t,n,r,i){jn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Cb=Un((function e(t,n){jn(this,e),this.targetId=t,this.At=n})),_b=Un((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ry.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;jn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sb=function(){function e(){jn(this,e),this.Rt=0,this.bt=Ab(),this.Pt=ry.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Un(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=bb(),t=bb(),n=bb();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$v()}})),new Eb(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Ab()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Tb=function(){function e(t){jn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=lb(),this.qt=Nb(),this.Kt=new Zm(fm)}return Un(e,[{key:"Gt",value:function(e){var t,n=Ec(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ec(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:$v()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Wy(i))if(0===n){var a=new km(i.path);this.jt(t,a,Vy.newNoDocument(a,vm.min()))}else Yv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Wy(a.target)){var o=new km(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Vy.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=bb();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new xb(e,n,this.Kt,this.Ut,r);return this.Ut=lb(),this.qt=Nb(),this.Kt=new Zm(fm),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Sb,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Zm(fm),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Kv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Sb),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Nb(){return new Ym(km.comparator)}function Ab(){return new Ym(km.comparator)}var Ob={asc:"ASCENDING",desc:"DESCENDING"},Pb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rb=Un((function e(t,n){jn(this,e),this.databaseId=t,this.gt=n}));function Db(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mb(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Lb(e,t){return Db(e,t.toTimestamp())}function Fb(e){return Yv(!!e),vm.fromTimestamp(function(e){var t=ay(e);return new pm(t.seconds,t.nanos)}(e))}function jb(e,t){return function(e){return new ym(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vb(e){var t=ym.fromString(e);return Yv(sk(t)),t}function Ub(e,t){return jb(e.databaseId,t.path)}function zb(e,t){var n=Vb(t);if(n.get(1)!==e.databaseId.projectId)throw new Zv(Jv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zv(Jv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new km(Kb(n))}function Bb(e,t){return jb(e.databaseId,t)}function qb(e){var t=Vb(e);return 4===t.length?ym.emptyPath():Kb(t)}function Wb(e){return new ym(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kb(e){return Yv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hb(e,t,n){return{name:Ub(e,t),fields:n.value.mapValue.fields}}function Gb(e,t,n){var r=zb(e,t.name),i=Fb(t.updateTime),a=new Fy({mapValue:{fields:t.fields}}),o=Vy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Qb(e,t){return"found"in t?function(e,t){Yv(!!t.found),t.found.name,t.found.updateTime;var n=zb(e,t.found.name),r=Fb(t.found.updateTime),i=new Fy({mapValue:{fields:t.found.fields}});return Vy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yv(!!t.missing),Yv(!!t.readTime);var n=zb(e,t.missing),r=Fb(t.readTime);return Vy.newNoDocument(n,r)}(e,t):$v()}function $b(e,t){var n;if(t instanceof Yg)n={update:Hb(e,t.key,t.value)};else if(t instanceof rb)n={delete:Ub(e,t.key)};else if(t instanceof Xg)n={update:Hb(e,t.key,t.data),updateMask:uk(t.fieldMask)};else{if(!(t instanceof ib))return $v();n={verify:Ub(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fg)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw $v()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$v()}(e,t.precondition)),n}function Yb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bg.updateTime(Fb(e.updateTime)):void 0!==e.exists?Bg.exists(e.exists):Bg.none()}(t.currentDocument):Bg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yv("REQUEST_TIME"===t.setToServerValue),n=new Pg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Rg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Mg(i)}else"increment"in t?n=new Fg(e,t.increment):$v();var a=bm.fromServerFormat(t.fieldPath);return new Ug(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zb(e,t.update.name),a=new Fy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ny(t.map((function(e){return bm.fromServerFormat(e)})))}(t.updateMask);return new Xg(i,a,o,n,r)}return new Yg(i,a,n,r)}if(t.delete){var u=zb(e,t.delete);return new rb(u,n)}if(t.verify){var s=zb(e,t.verify);return new ib(s,n)}return $v()}function Xb(e,t){return{documents:[Bb(e,t.path)]}}function Jb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ny(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NAN"}};if(Ty(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ny(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NOT_NAN"}};if(Ty(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rk(e.field),op:nk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rk(e.field),direction:tk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||hy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Zb(e){var t=qb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ek(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ig(ik(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return hy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new rg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new rg(n,t)}(n.endAt)),cg(t,i,u,o,s,"F",c,l)}function ek(e){return e?void 0!==e.unaryFilter?[ok(e)]:void 0!==e.fieldFilter?[ak(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ek(e)})).reduce((function(e,t){return e.concat(t)})):$v():[]}function tk(e){return Ob[e]}function nk(e){return Pb[e]}function rk(e){return{fieldPath:e.canonicalString()}}function ik(e){return bm.fromServerFormat(e.fieldPath)}function ak(e){return Qy.create(ik(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $v()}}(e.fieldFilter.op),e.fieldFilter.value)}function ok(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ik(e.unaryFilter.field);return Qy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ik(e.unaryFilter.field);return Qy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ik(e.unaryFilter.field);return Qy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ik(e.unaryFilter.field);return Qy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $v()}}function uk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ck(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fk(t)),t=lk(e.get(n),t);return fk(t)}function lk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fk(e){return e+"\x01\x01"}function dk(e){var t=e.length;if(Yv(t>=2),2===t)return Yv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ym.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&$v(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:$v()}a=o+2}return new ym(r)}var hk=["userId","batchId"];function pk(e,t){return[e,ck(t)]}function vk(e,t,n){return[e,ck(t),n]}var mk={},yk=["prefixPath","collectionGroup","readTime","documentId"],gk=["prefixPath","collectionGroup","documentId"],bk=["collectionGroup","readTime","prefixPath","documentId"],kk=["canonicalId","targetId"],wk=["targetId","path"],xk=["path","targetId"],Ek=["collectionId","parent"],Ik=["indexId","uid"],Ck=["uid","sequenceNumber"],_k=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sk=["indexId","uid","orderedDocumentKey"],Tk=["userId","collectionPath","documentId"],Nk=["userId","collectionPath","largestBatchId"],Ak=["userId","collectionGroup","largestBatchId"],Ok=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Pk=[].concat(At(Ok),["documentOverlays"]),Rk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dk=Rk,Mk=[].concat(Dk,["indexConfiguration","indexState","indexEntries"]),Lk=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Un(n)}(Om);function Fk(e,t){var n=Xv(e);return Lm.O(n.ie,t)}var jk=function(){function e(t,n,r,i){jn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Un(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ec(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Gg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ec(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Gg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=vb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Kg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(vm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&dm(this.mutations,e.mutations,(function(e,t){return $g(e,t)}))&&dm(this.baseMutations,e.baseMutations,(function(e,t){return $g(e,t)}))}}]),e}(),Vk=function(){function e(t,n,r,i){jn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Un(e,null,[{key:"from",value:function(t,n,r){Yv(t.mutations.length===r.length);for(var i=yb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Uk=function(){function e(t,n){jn(this,e),this.largestBatchId=t,this.mutation=n}return Un(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:vm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ry.EMPTY_BYTE_STRING;jn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Un(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Bk=Un((function e(t){jn(this,e),this.re=t}));function qk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ub(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Db(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kk(t.version)};else{if(!t.isUnknownDocument())return $v();r.unknownDocument={path:n.path.toArray(),version:Kk(t.version)}}return r}function Wk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Kk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hk(e){var t=new pm(e.seconds,e.nanoseconds);return vm.fromTimestamp(t)}function Gk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yb(e.re,t)})),u=pm.fromMillis(t.localWriteTimeMs);return new jk(t.batchId,u,n,o)}function Qk(e){var t,n,r=Hk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hk(e.lastLimboFreeSnapshotVersion):vm.min();return void 0!==e.query.documents?(Yv(1===(n=e.query).documents.length),t=mg(lg(qb(n.documents[0])))):t=function(e){return mg(Zb(e))}(e.query),new zk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ry.fromBase64String(e.resumeToken))}function $k(e,t){var n,r=Kk(t.snapshotVersion),i=Kk(t.lastLimboFreeSnapshotVersion);n=Wy(t.target)?Xb(e.re,t.target):Jb(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:By(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Yk(e){var t=Zb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yg(t,t.limit,"L"):t}function Xk(e,t){return new Uk(t.largestBatchId,Yb(e.re,t.overlayMutation))}function Jk(e,t){var n=t.path.lastSegment();return[e,ck(t.path.popLast()),n]}function Zk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Kk(r.readTime),documentKey:ck(r.documentKey.path),largestBatchId:r.largestBatchId}}var ew=function(){function e(){jn(this,e)}return Un(e,[{key:"getBundleMetadata",value:function(e,t){return tw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return tw(e).put({bundleId:(n=t).id,createTime:Kk(Fb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return nw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Yk(t.bundledQuery),readTime:Hk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return nw(e).put(function(e){return{name:e.name,readTime:Kk(Fb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function tw(e){return Fk(e,"bundles")}function nw(e){return Fk(e,"namedQueries")}var rw=function(){function e(t,n){jn(this,e),this.It=t,this.userId=n}return Un(e,[{key:"getOverlay",value:function(e,t){var n=this;return iw(e).get(Jk(this.userId,t)).next((function(e){return e?Xk(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=pb();return Dm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Uk(t,a);i.push(r.ue(e,o))})),Dm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ck(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(iw(e).Y("collectionPathOverlayIndex",i))})),Dm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=pb(),a=ck(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return iw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Ec(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Xk(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=pb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Xk(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return iw(e).put(function(e,t,n){var r=c(Jk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:$b(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function iw(e){return Fk(e,"documentOverlays")}var aw=function(){function e(){jn(this,e)}return Un(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(oy(e.integerValue));else if("doubleValue"in e){var n=oy(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),py(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(uy(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Py(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):$v()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ec(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),km.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function ow(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function uw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ow(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}aw.Te=new aw;var sw=function(){function e(){jn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Un(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Ec(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Ec(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=uw(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=uw(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),cw=function(){function e(t){jn(this,e),this.Be=t}return Un(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),lw=function(){function e(t){jn(this,e),this.Be=t}return Un(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),fw=function(){function e(){jn(this,e),this.Be=new sw,this.Le=new cw(this.Be),this.Ue=new lw(this.Be)}return Un(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),dw=function(){function e(t,n,r,i){jn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Un(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=pw(e.arrayValue,t.arrayValue))?n:0!==(n=pw(e.directionalValue,t.directionalValue))?n:km.comparator(e.documentKey,t.documentKey)}function pw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var vw=function(){function e(t){jn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Ec(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Un(e,[{key:"We",value:function(e){var t=xm(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Em(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Ec(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),mw=function(){function e(){jn(this,e),this.Ye=new yw}return Un(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Dm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Dm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Dm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Dm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Dm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Dm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Dm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Dm.resolve(Tm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Dm.resolve(Tm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Dm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Dm.resolve()}}]),e}(),yw=function(){function e(){jn(this,e),this.index={}}return Un(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zm(ym.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Zm(ym.comparator)).toArray()}}]),e}(),gw=new Uint8Array(0),bw=function(){function e(t,n){jn(this,e),this.user=t,this.databaseId=n,this.Xe=new yw,this.Ze=new sb((function(e){return By(e)}),(function(e,t){return qy(e,t)})),this.uid=t.uid||""}return Un(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:ck(i)};return kw(e).put(a)}return Dm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hm(t),""],!1,!0);return kw(e).W(r).next((function(e){var r,i=Ec(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=xw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ew(e);return a.next((function(e){o.put(Zk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=xw(e),r=Ew(e),i=ww(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ww(e),i=!0,a=new Map;return Dm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=bb(),o=[];return Dm.forEach(a,(function(i,a){var u;Kv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(By(t)));var s=function(e,t){var n=xm(t);if(void 0===n)return null;var r,i=Ec(Ky(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ec(Em(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ec(Ky(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ec(Em(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Hy(e,o.fieldPath,e.startAt):Gy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new rg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ec(Em(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Gy(e,o.fieldPath,e.endAt):Hy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new rg(r,i)}(a,i),d=n.nn(i,a,l),h=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Dm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=km.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Dm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):gw,d=u.un(e,f,n[s%c],r),h=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,At(u.createRange(d,h,p)))},d=0;d<s;++d)f(d);return l}},{key:"un",value:function(e,t,n,r){var i=new dw(e,km.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new dw(e,km.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new vw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ec(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Dm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Zm(bm.comparator),r=!1,i=Ec(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Ec(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new fw,i=Ec(Em(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);aw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new fw;return aw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new fw;return aw.Te.ce(Cy(this.databaseId,t),n.qe(function(e){var t=Em(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new fw);var i,a=0,o=Ec(Em(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ec(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Sy(c))r=this.fn(r,s,c);else{var d=f.qe(s.kind);aw.Te.ce(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=At(e),a=[],o=Ec(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ec(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new fw;f.seed(l.$e()),aw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Qy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=xw(e),i=Ew(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Dm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Cm(t.sequenceNumber,new Tm(Hk(t.readTime),new km(dk(t.documentKey)),t.largestBatchId)):Cm.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Im(bm.fromServerFormat(n),r)}));return new wm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:fm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=xw(e),a=Ew(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Dm.forEach(t,(function(t){return a.put(Zk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Dm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Dm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Dm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Dm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return ww(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return ww(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=ww(e),i=new Zm(hw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new dw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Zm(hw),r=this.an(t,e);if(null==r)return n;var i=xm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Sy(a)){var o,u=Ec(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new dw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new dw(t.indexId,e.key,gw,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Kv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ty(a),s=ty(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ty(o)):l?(i(u),u=ty(a)):(u=ty(a),s=ty(o))}}(r,i,hw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Dm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Ew(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hw(e,t)})).filter((function(e,t,n){return!t||0!==hw(e,n[t-1])}));var r=[];r.push(e);var i,a=Ec(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hw(o,e),s=hw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,gw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,gw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Iw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Dm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||$v()}))})).next(Iw)}}]),e}();function kw(e){return Fk(e,"collectionParents")}function ww(e){return Fk(e,"indexEntries")}function xw(e){return Fk(e,"indexConfiguration")}function Ew(e){return Fk(e,"indexState")}function Iw(e){Yv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Nm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tm(t.readTime,t.documentKey,n)}var Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_w=function(){function e(t,n,r){jn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Un(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Sw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Yv(1===u)})));var c,l=[],f=Ec(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=vk(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Dm.waitFor(a).next((function(){return l}))}function Tw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $v();t=e.noDocument}return JSON.stringify(t).length}_w.DEFAULT_COLLECTION_PERCENTILE=10,_w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_w.DEFAULT=new _w(41943040,_w.DEFAULT_COLLECTION_PERCENTILE,_w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_w.DISABLED=new _w(-1,0,0);var Nw=function(){function e(t,n,r,i){jn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Un(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ow(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Pw(e),o=Ow(e);return o.add({}).next((function(u){Yv("number"==typeof u);var s,c=new jk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return $b(e.re,t)})),i=n.mutations.map((function(t){return $b(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],d=new Zm((function(e,t){return fm(e.canonicalString(),t.canonicalString())})),h=Ec(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=vk(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mk))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Dm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ow(e).get(t).next((function(e){return e?(Yv(e.userId===n.userId),Gk(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Dm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ow(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Yv(t.batchId>=r),a=Gk(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ow(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ow(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Gk(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Pw(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],d=dk(l);if(s===n.userId&&t.path.isEqual(d))return Ow(e).get(f).next((function(e){if(!e)throw $v();Yv(e.userId===n.userId),a.push(Gk(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zm(fm),i=[];return t.forEach((function(t){var a=pk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Pw(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=dk(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Dm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Zm(fm);return Pw(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],d=dk(l);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ow(e).get(t).next((function(e){if(null===e)throw $v();Yv(e.userId===n.userId),r.push(Gk(n.It,e))})))})),Dm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Sw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Dm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Pw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dk(e[1]);i.push(a)}else r.done()})).next((function(){Yv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Aw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Rw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Yv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Aw(e,t,n){var r=pk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Pw(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Ow(e){return Fk(e,"mutations")}function Pw(e){return Fk(e,"documentMutations")}function Rw(e){return Fk(e,"mutationQueues")}var Dw=function(){function e(t){jn(this,e),this.bn=t}return Un(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Mw=function(){function e(t,n){jn(this,e),this.referenceDelegate=t,this.It=n}return Un(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Dw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return vm.fromTimestamp(new pm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Lw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Yv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Lw(e).Z((function(o,u){var s=Qk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Dm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Lw(e).Z((function(e,n){var r=Qk(n);t(r)}))}},{key:"Vn",value:function(e){return Fw(e).get("targetGlobalKey").next((function(e){return Yv(null!==e),e}))}},{key:"Sn",value:function(e,t){return Fw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Lw(e).put($k(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=By(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Lw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Qk(n);qy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=jw(e);return t.forEach((function(t){var o=ck(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Dm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=jw(e);return Dm.forEach(t,(function(t){var a=ck(t.path);return Dm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=jw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=jw(e),i=bb();return r.Z({range:n,X:!0},(function(e,t,n){var r=dk(e[1]),a=new km(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ck(t.path),r=IDBKeyRange.bound([n],[hm(n)],!1,!0),i=0;return jw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Lw(e).get(t).next((function(e){return e?Qk(e):null}))}}]),e}();function Lw(e){return Fk(e,"targets")}function Fw(e){return Fk(e,"targetGlobal")}function jw(e){return Fk(e,"targetDocuments")}function Vw(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=fm(r,o);return 0===s?fm(i,u):s}var Uw=function(){function e(t){jn(this,e),this.xn=t,this.buffer=new Zm(Vw),this.Nn=0}return Un(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Vw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),zw=function(){function e(t,n,r){jn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Un(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;Kv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Vm(e.t0)){e.next=12;break}Kv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Pm(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Bw=function(){function e(t,n){jn(this,e),this.$n=t,this.params=n}return Un(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dm.resolve(Hm.at);var r=new Uw(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Kv("LruGarbageCollector","Garbage collection skipped; disabled"),Dm.resolve(Cw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Kv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Cw):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Kv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Wv()<=il.DEBUG&&Kv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Dm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),qw=function(){function e(t,n){jn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Bw(e,t)}(this,n)}return Un(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ww(e,n)}},{key:"removeReference",value:function(e,t,n){return Ww(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ww(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Rw(e).tt((function(r){return Aw(e,r,t).next((function(e){return e&&(n=!0),Dm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,vm.min()),jw(e).delete([0,ck(o.path)])}))}));i.push(s)}})).next((function(){return Dm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ww(e,t)}},{key:"Kn",value:function(e,t){var n,r=jw(e),i=Hm.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Hm.at&&t(new km(dk(n)),i),i=s,n=u):i=Hm.at})).next((function(){i!==Hm.at&&t(new km(dk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ww(e,t){return jw(e).put(function(e,t){return{targetId:0,path:ck(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Kw=function(){function e(){jn(this,e),this.changes=new sb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Un(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Hw=function(){function e(t){jn(this,e),this.It=t}return Un(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Yw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Yw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Wk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vy.newInvalidDocument(t);return Yw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Xw(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Vy.newInvalidDocument(t)};return Yw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Xw(t))},(function(e,i){r={document:n.jn(t,i),size:Tw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=lb();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=lb(),i=new Ym(km.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Tw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Dm.resolve();var r=new Zm(Zw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Xw(r.first()),Xw(r.last())),a=r.getIterator(),o=a.getNext();return Yw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=km.fromSegments([].concat(At(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Zw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Xw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Wk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=lb(),i=Ec(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(km.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=lb(),o=Jw(t,n),u=Jw(t,Tm.max());return Yw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(km.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Qw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return $w(e).get("remoteDocumentGlobalKey").next((function(e){return Yv(!!e),e}))}},{key:"Qn",value:function(e,t){return $w(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Gb(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=km.fromSegments(t.noDocument.path),i=Hk(t.noDocument.readTime);n=Vy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return $v();var a=km.fromSegments(t.unknownDocument.path),o=Hk(t.unknownDocument.version);n=Vy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new pm(e[0],e[1]);return vm.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(vm.min()))return n}return Vy.newInvalidDocument(e)}}]),e}();function Gw(e){return new Hw(e)}var Qw=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new sb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Un(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Zm((function(e,t){return fm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=qk(t.Yn.It,o);i=i.add(a.path.popLast());var c=Tw(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=qk(t.Yn.It,o.convertToNoDocument(vm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Dm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Kw);function $w(e){return Fk(e,"remoteDocumentGlobal")}function Yw(e){return Fk(e,"remoteDocumentsV14")}function Xw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jw(e,t){var n=t.documentKey.path.toArray();return[e,Wk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Zw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=fm(n[a],r[a]))return i;return(i=fm(n.length,r.length))||((i=fm(n[n.length-2],r[r.length-2]))||fm(n[n.length-1],r[r.length-1]))}var ex=Un((function e(t,n){jn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),tx=function(){function e(t,n,r,i){jn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Un(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Gg(r.mutation,e,ny.empty(),pm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,bb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bb(),i=pb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=db();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=pb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,bb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=lb(),a=mb(),o=mb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Xg)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Gg(o.mutation,t,o.mutation.getFieldMask(),pm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ex(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=mb(),i=new Ym((function(e,t){return e-t})),a=bb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ec(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ny.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||bb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=vb();c.forEach((function(e){if(!a.has(e)){var n=Kg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Dm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return km.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Dm.resolve(pb()),u=-1,s=a;return o.next((function(t){return Dm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Dm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,bb())})).next((function(e){return{batchId:u,changes:hb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new km(t)).next((function(e){var t=db();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=db();return this.indexManager.getCollectionParents(e,i).next((function(o){return Dm.forEach(o,(function(o){var u=function(e,t){return new sg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Vy.newInvalidDocument(n)))}));var n=db();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Gg(a.mutation,i,ny.empty(),pm.now()),wg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Dm.resolve(Vy.newInvalidDocument(t))}}]),e}(),nx=function(){function e(t){jn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Un(e,[{key:"getBundleMetadata",value:function(e,t){return Dm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fb(n.createTime)}),Dm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Yk(e.bundledQuery),readTime:Fb(e.readTime)}}(t)),Dm.resolve()}}]),e}(),rx=function(){function e(){jn(this,e),this.overlays=new Ym(km.comparator),this.es=new Map}return Un(e,[{key:"getOverlay",value:function(e,t){return Dm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=pb();return Dm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Dm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Dm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=pb(),i=t.length+1,a=new km(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Dm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ym((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=pb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=pb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Dm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Uk(t,n));var a=this.es.get(t);void 0===a&&(a=bb(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),ix=function(){function e(){jn(this,e),this.ns=new Zm(ax.ss),this.rs=new Zm(ax.os)}return Un(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ax(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ax(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new km(new ym([])),r=new ax(n,e),i=new ax(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new km(new ym([])),n=new ax(t,e),r=new ax(t,e+1),i=bb();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ax(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ax=function(){function e(t,n){jn(this,e),this.key=t,this._s=n}return Un(e,null,[{key:"ss",value:function(e,t){return km.comparator(e.key,t.key)||fm(e._s,t._s)}},{key:"os",value:function(e,t){return fm(e._s,t._s)||km.comparator(e.key,t.key)}}]),e}(),ox=function(){function e(t,n){jn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Zm(ax.ss)}return Un(e,[{key:"checkEmpty",value:function(e){return Dm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new jk(i,t,n,r);this.mutationQueue.push(a);var o,u=Ec(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new ax(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Dm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Dm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Dm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ax(t,0),i=new ax(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Dm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zm(fm);return t.forEach((function(e){var t=new ax(e,0),i=new ax(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Dm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;km.isDocumentKey(i)||(i=i.child(""));var a=new ax(new km(i),0),o=new Zm(fm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Dm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Dm.forEach(t.mutations,(function(i){var a=new ax(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ax(t,0),r=this.gs.firstAfterOrEqual(n);return Dm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Dm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ux=function(){function e(t){jn(this,e),this.Es=t,this.docs=new Ym(km.comparator),this.size=0}return Un(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dm.resolve(n?n.document.mutableCopy():Vy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=lb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vy.newInvalidDocument(e))})),Dm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=lb(),i=new km(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Nm(Sm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Dm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){$v()}},{key:"As",value:function(e,t){return Dm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sx(this)}},{key:"getSize",value:function(e){return Dm.resolve(this.size)}}]),e}(),sx=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).Yn=e,r}return Un(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Dm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Kw),cx=function(){function e(t){jn(this,e),this.persistence=t,this.Rs=new sb((function(e){return By(e)}),qy),this.lastRemoteSnapshotVersion=vm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ix,this.targetCount=0,this.vs=Dw.Pn()}return Un(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Dm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Dm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Dm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Dw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Dm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Dm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Dm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Dm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Dm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Dm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Dm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Dm.resolve(n)}},{key:"containsKey",value:function(e,t){return Dm.resolve(this.Ps.containsKey(t))}}]),e}(),lx=function(){function e(t,n){var r=this;jn(this,e),this.Vs={},this.overlays={},this.Ss=new Hm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new cx(this),this.indexManager=new mw,this.remoteDocumentCache=new ux((function(e){return r.referenceDelegate.xs(e)})),this.It=new Bk(n),this.Ns=new nx(this.It)}return Un(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new rx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ox(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Kv("MemoryPersistence","Starting transaction:",e);var i=new fx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Dm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),fx=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Un(n)}(Om),dx=function(){function e(t){jn(this,e),this.persistence=t,this.Fs=new ix,this.$s=null}return Un(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw $v()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Dm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Dm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Dm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dm.forEach(this.Ls,(function(r){var i=km.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,vm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Dm.or([function(){return Dm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),hx=function(){function e(t){jn(this,e),this.It=t}return Un(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Mm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hk,{unique:!0}),e.createObjectStore("documentMutations")}(e),px(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Dm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),px(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Dm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Tk});t.createIndex("collectionPathOverlayIndex",Nk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ak,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:yk});t.createIndex("documentKeyIndex",gk),t.createIndex("collectionGroupIndex",bk)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ik}).createIndex("sequenceNumberIndex",Ck,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:_k}).createIndex("documentKeyIndex",Sk,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Tw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Dm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Dm.forEach(r,(function(r){Yv(r.userId===n.userId);var i=Gk(t.It,r);return Sw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new ym(n),o=function(e){return[0,ck(e)]}(a);r.push(t.get(o).next((function(n){return n?Dm.resolve():function(n){return t.put({targetId:0,path:ck(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Dm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ek});var n=t.store("collectionParents"),r=new yw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ck(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new ym(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],dk(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Qk(r),a=$k(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new km(ym.fromString(i.document.name).popFirst(5)):i.noDocument?km.fromSegments(i.noDocument.path):i.unknownDocument?km.fromSegments(i.unknownDocument.path):$v()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Dm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Gw(this.It),a=new lx(dx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:bb();Gk(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Dm.forEach(r,(function(e,r){var o=new zv(r),u=rw.oe(n.It,o),s=a.getIndexManager(o),c=Nw.oe(o,n.It,s,a.referenceDelegate);return new tx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lk(t,Hm.at),e).next()}))}))}}]),e}();function px(e){e.createObjectStore("targetDocuments",{keyPath:wk}).createIndex("documentTargetsIndex",xk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kk,{unique:!0}),e.createObjectStore("targetGlobal")}var vx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(jn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Zv(Jv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qw(this,i),this.ii=n+"main",this.It=new Bk(s),this.ri=new Lm(this.ii,this.Xs,new hx(this.It)),this.Cs=new Mw(this.referenceDelegate,this.It),this.remoteDocumentCache=Gw(this.It),this.Ns=new ew,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Hv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Un(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Zv(Jv.FAILED_PRECONDITION,vx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Hm(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=vo(ho().mark((function n(r){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=vo(ho().mark((function t(n){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return gx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Vm(t))return Kv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Kv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return yx(e).get("owner").next((function(e){return Dm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return gx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Fk(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Ec(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Dm.resolve(!0):yx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Zv(Jv.FAILED_PRECONDITION,vx);return!1}}return!(!t.networkEnabled||!t.inForeground)||gx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Kv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=vo(ho().mark((function e(){var t=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lk(e,Hm.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return gx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Nw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new bw(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return rw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Kv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Mk:14===i?Dk:13===i?Rk:12===i?Pk:11===i?Ok:void $v();return this.ri.runTransaction(e,o,u,(function(i){return a=new Lk(i,r.Ss?r.Ss.next():Hm.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Hv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Zv(Jv.FAILED_PRECONDITION,Am);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return yx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Zv(Jv.FAILED_PRECONDITION,vx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=yx(e);return n.get("owner").next((function(e){return t.mi(e)?(Kv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Dm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Hv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Mc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Kv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Hv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(zf){Hv("Failed to set zombie client id.",zf)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(zf){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Lm.C()}}]),e}();function yx(e){return Fk(e,"owner")}function gx(e){return Fk(e,"clientMetadata")}function bx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var kx=function(){function e(t,n,r,i){jn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Un(e,null,[{key:"Ci",value:function(t,n){var r,i=bb(),a=bb(),o=Ec(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),wx=function(){function e(){jn(this,e),this.xi=!1}return Un(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(fg(t))return Dm.resolve(null);var r=mg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=yg(t,null,"F"),r=mg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=bb.apply(void 0,At(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,yg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return fg(t)||r.isEqual(vm.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Wv()<=il.DEBUG&&Kv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kg(t)),i.Bi(e,o,t,_m(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Zm(Eg(e));return t.forEach((function(t,r){wg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Wv()<=il.DEBUG&&Kv("QueryEngine","Using full collection scan to execute query:",kg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Tm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),xx=function(){function e(t,n,r,i){jn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Ym(fm),this.qi=new sb((function(e){return By(e)}),qy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Un(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Ex(e,t,n,r){return new xx(e,t,n,r)}function Ix(e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=bb(),s=Ec(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ec(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=Ec(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=Ec(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function _x(e,t){var n=Xv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=bb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Sx(e){var t=Xv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Tx(e,t){var n=Xv(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ry.EMPTY_BYTE_STRING,vm.min()).withLastLimboFreeSnapshotVersion(vm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=lb(),s=bb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Nx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(vm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Dm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Nx(e,t,n){var r=bb(),i=bb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=lb();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(vm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Kv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Ax(e,t){var n=Xv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ox(e,t){var n=Xv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Dm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new zk(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Px(e,t,n){return Rx.apply(this,arguments)}function Rx(){return Rx=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Xv(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Vm(e.t1)){e.next=12;break}throw e.t1;case 12:Kv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Rx.apply(this,arguments)}function Dx(e,t,n){var r=Xv(e),i=vm.min(),a=bb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Xv(e),i=r.qi.get(n);return void 0!==i?Dm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,mg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:vm.min(),n?a:bb())})).next((function(e){return Fx(r,xg(t),e),{documents:e,Hi:a}}))}))}function Mx(e,t){var n=Xv(e),r=Xv(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Lx(e,t){var n=Xv(e),r=n.Ki.get(t)||vm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,_m(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Fx(n,t,e),e}))}function Fx(e,t,n){var r=vm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function jx(e,t,n,r){return Vx.apply(this,arguments)}function Vx(){return Vx=vo(ho().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Xv(t),o=bb(),u=lb(),s=Ec(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Ox(a,function(e){return mg(lg(ym.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Nx(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Ux(e,t){return zx.apply(this,arguments)}function zx(){return zx=vo(ho().mark((function e(t,n){var r,i,a,o=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:bb(),e.next=3,Ox(t,mg(Yk(n.bundledQuery)));case 3:return i=e.sent,a=Xv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(ry.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Wx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kx=function(){function e(t,n,r,i){jn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Un(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Zv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Hv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Hx=function(){function e(t,n,r){jn(this,e),this.targetId=t,this.state=n,this.error=r}return Un(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Hv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Gx=function(){function e(t,n){jn(this,e),this.clientId=t,this.activeTargetIds=n}return Un(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=wb(),o=0;i&&o<r.activeTargetIds.length;++o)i=vy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Hv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Qx=function(){function e(t,n){jn(this,e),this.clientId=t,this.onlineState=n}return Un(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Hv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),$x=function(){function e(){jn(this,e),this.activeTargetIds=wb()}return Un(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Yx=function(){function e(t,n,r,i,a){jn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ym(fm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Bx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new $x),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Un(e,[{key:"start",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Ec(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Bx(this.persistenceKey,i)))&&(o=Gx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Ec(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Wx(this.persistenceKey,e));if(n){var r=Hx.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Wx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Kv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Kv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Kv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Kv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Hv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(vo(ho().mark((function e(){var r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Hm.at;if(null!=e)try{var n=JSON.parse(e);Yv("number"==typeof n),t=n}catch(e){Hv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Hm.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Kx(this.currentUser,e,t,n),i=qx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=qx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Wx(this.persistenceKey,e),i=new Hx(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Gx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kx.Zi(new zv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Hx.Zi(r,t)}},{key:"yr",value:function(e){return Qx.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Kv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=wb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Xx=function(){function e(){jn(this,e),this.Lr=new $x,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Un(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new $x,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Jx=function(){function e(){jn(this,e)}return Un(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Zx=function(){function e(){var t=this;jn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Un(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Kv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ec(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Kv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ec(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),eE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tE=function(){function e(t){jn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Un(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),nE=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Un(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Vv;o.listenOnce(Dv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Rv.NO_ERROR:var t=o.getResponseJson();Kv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Rv.TIMEOUT:Kv("Connection",'RPC "'+e+'" timed out'),a(new Zv(Jv.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:var n=o.getStatus();if(Kv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jv).indexOf(t)>=0?t:Jv.UNKNOWN}(r.status);a(new Zv(u,r.message))}else a(new Zv(Jv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Zv(Jv.UNAVAILABLE,"Connection failed."));break;default:$v()}}finally{Kv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ov(),a=Pv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fv({})),this.ho(o.initMessageHeaders,t,n),Dc()||Fc()||Rc().indexOf("Electron/")>=0||jc()||Rc().indexOf("MSAppHost/")>=0||Lc()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Kv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new tE({Hr:function(e){l?Kv("Connection","Not sending because WebChannel is closed:",e):(c||(Kv("Connection","Opening WebChannel transport."),s.open(),c=!0),Kv("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,jv.EventType.OPEN,(function(){l||Kv("Connection","WebChannel transport opened.")})),d(s,jv.EventType.CLOSE,(function(){l||(l=!0,Kv("Connection","WebChannel transport closed"),f.io())})),d(s,jv.EventType.ERROR,(function(e){l||(l=!0,Gv("Connection","WebChannel transport errored:",e),f.io(new Zv(Jv.UNAVAILABLE,"The operation could not be completed")))})),d(s,jv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Kv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=tb[e];if(void 0!==t)return ub(t)}(a),u=i.message;void 0===o&&(o=Jv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Zv(o,u)),s.close()}else Kv("Connection","WebChannel received:",n),f.ro(n)}})),d(a,Mv.STAT_EVENT,(function(e){e.stat===Lv.PROXY?Kv("Connection","Detected buffering proxy"):e.stat===Lv.NOPROXY&&Kv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){jn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Un(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Kv("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Kv("RestConnection","Received: ",e),e}),(function(t){throw Gv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=eE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function rE(){return"undefined"!=typeof window?window:null}function iE(){return"undefined"!=typeof document?document:null}function aE(e){return new Rb(e,!0)}var oE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;jn(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Un(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Kv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),uE=function(){function e(t,n,r,i,a,o,u,s){jn(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new oE(t,n)}return Un(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Jv.RESOURCE_EXHAUSTED?(Hv(n.toString()),Hv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Jv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Zv(Jv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Kv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Kv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),sE=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a,o,u){var s;return jn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Un(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Yv(void 0===t||"string"==typeof t),ry.fromBase64String(t||"")):(Yv(void 0===t||t instanceof Uint8Array),ry.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Jv.UNKNOWN:ub(e.code);return new Zv(t,e.message||"")}(o);n=new _b(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zb(e,s.document.name),l=Fb(s.document.updateTime),f=new Fy({mapValue:{fields:s.document.fields}}),d=Vy.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Ib(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=zb(e,v.document),y=v.readTime?Fb(v.readTime):vm.min(),g=Vy.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Ib([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=zb(e,k.document),x=k.removedTargetIds||[];n=new Ib([],x,w,null)}else{if(!("filter"in t))return $v();t.filter;var E=t.filter;E.targetId;var I=E.count||0,C=new ab(I),_=E.targetId;n=new Cb(_,C)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return vm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?vm.min():t.readTime?Fb(t.readTime):vm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Wb(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Wy(r)?{documents:Xb(e,r)}:{query:Jb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Mb(e,t.resumeToken):t.snapshotVersion.compareTo(vm.min())>0&&(n.readTime=Db(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $v()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Wb(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(uE),cE=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a,o,u){var s;return jn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Un(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,_f(qn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Yv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Yv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fb(e.updateTime):Fb(t);return n.isEqual(vm.min())&&(n=Fb(t)),new zg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fb(e.commitTime);return this.listener.Zo(n,t)}return Yv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Wb(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $b(t.It,e)}))};this.Bo(n)}}]),n}(uE),lE=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a){var o;return jn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return Un(n,[{key:"su",value:function(){if(this.nu)throw new Zv(Jv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Jv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Zv(Jv.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Jv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Zv(Jv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Un((function e(){jn(this,e)}))}()),fE=function(){function e(t,n){jn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Un(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Hv(t),this.ou=!1):Kv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),dE=Un((function e(t,n,r,i,a){var o=this;jn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=EE(o),!e.t0){e.next=5;break}return Kv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Xv(t))._u.add(4),e.next=4,vE(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,hE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new fE(r,i)}));function hE(e){return pE.apply(this,arguments)}function pE(){return pE=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!EE(t)){e.next=18;break}n=Ec(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),pE.apply(this,arguments)}function vE(e){return mE.apply(this,arguments)}function mE(){return mE=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ec(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),mE.apply(this,arguments)}function yE(e,t){var n=Xv(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),xE(n)?wE(n):JE(n).ko()&&bE(n,t))}function gE(e,t){var n=Xv(e),r=JE(n);n.du.delete(t),r.ko()&&kE(n,t),0===n.du.size&&(r.ko()?r.Fo():EE(n)&&n.gu.set("Unknown"))}function bE(e,t){e.yu.Ot(t.targetId),JE(e).zo(t)}function kE(e,t){e.yu.Ot(t),JE(e).Ho(t)}function wE(e){e.yu=new Tb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),JE(e).start(),e.gu.uu()}function xE(e){return EE(e)&&!JE(e).No()&&e.du.size>0}function EE(e){return 0===Xv(e)._u.size}function IE(e){e.yu=void 0}function CE(e){return _E.apply(this,arguments)}function _E(){return _E=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){bE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function SE(e,t){return TE.apply(this,arguments)}function TE(){return TE=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:IE(t),xE(t)?(t.gu.hu(n),wE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function NE(e,t,n){return AE.apply(this,arguments)}function AE(){return AE=vo(ho().mark((function e(t,n,r){var i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof _b&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ec(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Kv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,OE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ib?t.yu.Gt(n):n instanceof Cb?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(vm.min())){e.next=29;break}return e.prev=14,e.next=17,Sx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ry.EMPTY_BYTE_STRING,n.snapshotVersion)),kE(e,t);var r=new zk(n.target,t,1,n.sequenceNumber);bE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Kv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,OE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),AE.apply(this,arguments)}function OE(e,t,n){return PE.apply(this,arguments)}function PE(){return PE=vo(ho().mark((function e(t,n,r){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,vE(t);case 5:t.gu.set("Offline"),r||(r=function(){return Sx(t.localStore)}),t.asyncQueue.enqueueRetryable(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,hE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function RE(e,t){return t().catch((function(n){return OE(e,n,t)}))}function DE(e){return ME.apply(this,arguments)}function ME(){return ME=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xv(t),r=ZE(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!LE(n)){e.next=19;break}return e.prev=3,e.next=6,Ax(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,FE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,OE(n,e.t0);case 17:e.next=2;break;case 19:jE(n)&&VE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ME.apply(this,arguments)}function LE(e){return EE(e)&&e.fu.length<10}function FE(e,t){e.fu.push(t);var n=ZE(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function jE(e){return EE(e)&&!ZE(e).No()&&e.fu.length>0}function VE(e){ZE(e).start()}function UE(e){return zE.apply(this,arguments)}function zE(){return zE=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZE(t).eu();case 1:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(e){return qE.apply(this,arguments)}function qE(){return qE=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ZE(t),r=Ec(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function WE(e,t,n){return KE.apply(this,arguments)}function KE(){return KE=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Vk.from(i,n,r),e.next=3,RE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,DE(t);case 5:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function HE(e,t){return GE.apply(this,arguments)}function GE(){return GE=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ZE(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ob(i=n.code)||i===Jv.ABORTED){e.next=7;break}return r=t.fu.shift(),ZE(t).Oo(),e.next=5,RE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,DE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:jE(t)&&VE(t);case 5:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t){return $E.apply(this,arguments)}function $E(){return $E=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Xv(t)).asyncQueue.verifyOperationInProgress(),Kv("RemoteStore","RemoteStore received new credentials"),i=EE(r),r._u.add(3),e.next=6,vE(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,hE(r);case 12:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function YE(e,t){return XE.apply(this,arguments)}function XE(){return XE=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xv(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,hE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,vE(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function JE(e){return e.pu||(e.pu=function(e,t,n){var r=Xv(e);return r.su(),new sE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:CE.bind(null,e),Zr:SE.bind(null,e),Wo:NE.bind(null,e)}),e.wu.push(function(){var t=vo(ho().mark((function t(n){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),xE(e)?wE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:IE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function ZE(e){return e.Iu||(e.Iu=function(e,t,n){var r=Xv(e);return r.su(),new cE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:UE.bind(null,e),Zr:HE.bind(null,e),tu:BE.bind(null,e),Zo:WE.bind(null,e)}),e.wu.push(function(){var t=vo(ho().mark((function t(n){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,DE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Kv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var eI=function(){function e(t,n,r,i,a){jn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new em,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Un(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zv(Jv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function tI(e,t){if(Hv("AsyncQueue","".concat(t,": ").concat(e)),Vm(e))return new Zv(Jv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var nI=function(){function e(t){jn(this,e),this.comparator=t?function(e,n){return t(e,n)||km.comparator(e.key,n.key)}:function(e,t){return km.comparator(e.key,t.key)},this.keyedMap=db(),this.sortedSet=new Ym(this.comparator)}return Un(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),rI=function(){function e(){jn(this,e),this.Tu=new Ym(km.comparator)}return Un(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$v():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),iI=function(){function e(t,n,r,i,a,o,u,s){jn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Un(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,nI.emptySet(n),a,r,i,!0,!1)}}]),e}(),aI=Un((function e(){jn(this,e),this.Au=void 0,this.listeners=[]})),oI=Un((function e(){jn(this,e),this.queries=new sb((function(e){return bg(e)}),gg),this.onlineState="Unknown",this.Ru=new Set}));function uI(e,t){return sI.apply(this,arguments)}function sI(){return sI=vo(ho().mark((function e(t,n){var r,i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new aI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=tI(e.t0,"Initialization of query '".concat(kg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&hI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),sI.apply(this,arguments)}function cI(e,t){return lI.apply(this,arguments)}function lI(){return lI=vo(ho().mark((function e(t,n){var r,i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t){var n,r=Xv(e),i=!1,a=Ec(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ec(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&hI(r)}function dI(e,t,n){var r=Xv(e),i=r.queries.get(t);if(i){var a,o=Ec(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function hI(e){e.Ru.forEach((function(e){e.next()}))}var pI=function(){function e(t,n,r){jn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Un(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ec(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new iI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=iI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),vI=function(){function e(t,n){jn(this,e),this.payload=t,this.byteLength=n}return Un(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),mI=function(){function e(t){jn(this,e),this.It=t}return Un(e,[{key:"Ji",value:function(e){return zb(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Gb(this.It,e.document,!1):Vy.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Fb(e)}}]),e}(),yI=function(){function e(t,n,r){jn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gI(t)}return Un(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ym.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new mI(this.It),i=Ec(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Ec(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||bb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jx(this.localStore,new mI(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=Ec(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ux(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function gI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var bI=Un((function e(t){jn(this,e),this.key=t})),kI=Un((function e(t){jn(this,e),this.key=t})),wI=function(){function e(t,n){jn(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=bb(),this.mutatedKeys=bb(),this.Ku=Eg(t),this.Gu=new nI(this.Ku)}return Un(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new rI,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wg(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $v()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new iI(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new rI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=bb(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new kI(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new bI(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=bb();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return iI.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),xI=Un((function e(t,n,r){jn(this,e),this.query=t,this.targetId=n,this.view=r})),EI=Un((function e(t){jn(this,e),this.key=t,this.ec=!1})),II=function(){function e(t,n,r,i,a,o){jn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new sb((function(e){return bg(e)}),gg),this.ic=new Map,this.rc=new Set,this.oc=new Ym(km.comparator),this.uc=new Map,this.cc=new ix,this.ac={},this.hc=new Map,this.lc=Dw.vn(),this.onlineState="Unknown",this.fc=void 0}return Un(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function CI(e,t){return _I.apply(this,arguments)}function _I(){return _I=vo(ho().mark((function e(t,n){var r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gC(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Ox(r.localStore,mg(n));case 8:return u=e.sent,r.isPrimaryClient&&yE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,SI(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function SI(e,t,n,r){return TI.apply(this,arguments)}function TI(){return TI=vo(ho().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Dx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(QI(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Dx(t.localStore,n,!0);case 3:return a=e.sent,o=new wI(n,a.Hi),u=o.ju(a.documents),s=Eb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),QI(t,r,c.Yu),l=new xI(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function NI(e,t){return AI.apply(this,arguments)}function AI(){return AI=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xv(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!gg(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Px(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),gE(r.remoteStore,i.targetId),HI(r,i.targetId)})).catch(Pm);case 9:e.next=14;break;case 11:return HI(r,i.targetId),e.next=14,Px(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function OI(e,t,n){return PI.apply(this,arguments)}function PI(){return PI=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Xv(e),a=pm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),bb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=lb(),s=bb();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ec(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Qg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Xg(c.key,l,jy(l.value.mapValue),Bg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:hb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Ym(fm)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,XI(i,a.changes);case 9:return e.next=11,DE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=tI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),PI.apply(this,arguments)}function RI(e,t){return DI.apply(this,arguments)}function DI(){return DI=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),e.prev=1,e.next=4,Tx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Yv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Yv(n.ec):e.removedDocuments.size>0&&(Yv(n.ec),n.ec=!1))})),e.next=8,XI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Pm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),DI.apply(this,arguments)}function MI(e,t,n){var r=Xv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Xv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ec(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hI(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function LI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Xv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ym(km.comparator)).insert(o,Vy.newNoDocument(o,vm.min())),s=bb().add(o),c=new xb(vm.min(),new Map,new Zm(fm),u,s),e.next=9,RI(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),YI(i),e.next=16;break;case 14:return e.next=16,Px(i.localStore,n,!1).then((function(){return HI(i,n,r)})).catch(Pm);case 16:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){return VI.apply(this,arguments)}function VI(){return VI=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),i=n.batch.batchId,e.prev=1,e.next=4,_x(r.localStore,n);case 4:return a=e.sent,KI(r,i,null),WI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,XI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Pm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),VI.apply(this,arguments)}function UI(e,t,n){return zI.apply(this,arguments)}function zI(){return zI=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xv(t),e.prev=1,e.next=4,function(e,t){var n=Xv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Yv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,KI(i,n,r),WI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,XI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Pm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zI.apply(this,arguments)}function BI(e,t){return qI.apply(this,arguments)}function qI(){return qI=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return EE((r=Xv(t)).remoteStore)||Kv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Xv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=tI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),qI.apply(this,arguments)}function WI(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function KI(e,t,n){var r=Xv(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function HI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ec(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||GI(e,t)}))}function GI(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(gE(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),YI(e))}function QI(e,t,n){var r,i=Ec(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof bI?(e.cc.addReference(a.key,t),$I(e,a)):a instanceof kI?(Kv("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||GI(e,a.key)):$v()}}catch(o){i.e(o)}finally{i.f()}}function $I(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Kv("SyncEngine","New document in limbo: "+n),e.rc.add(r),YI(e))}function YI(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new km(ym.fromString(t)),r=e.lc.next();e.uc.set(r,new EI(n)),e.oc=e.oc.insert(n,r),yE(e.remoteStore,new zk(mg(lg(n.path)),r,2,Hm.at))}}function XI(e,t,n){return JI.apply(this,arguments)}function JI(){return JI=vo(ho().mark((function e(t,n,r){var i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Xv(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=kx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dm.forEach(n,(function(t){return Dm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Vm(e.t0)){e.next=10;break}throw e.t0;case 10:Kv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ec(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function ZI(e,t){return eC.apply(this,arguments)}function eC(){return eC=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Xv(t)).currentUser.isEqual(n)){e.next=11;break}return Kv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ix(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Zv(Jv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,XI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e,t){var n=Xv(e),r=n.uc.get(t);if(r&&r.ec)return bb().add(r.key);var i=bb(),a=n.ic.get(t);if(!a)return i;var o,u=Ec(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),e.next=3,Dx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&QI(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),e.abrupt("return",Lx(r.localStore,n).then((function(e){return XI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(e,t,n,r){return uC.apply(this,arguments)}function uC(){return uC=vo(ho().mark((function e(t,n,r,i){var a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xv(t),e.next=3,function(e,t){var n=Xv(e),r=Xv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Dm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,DE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(KI(a,n,i||null),WI(a,n),function(e,t){Xv(Xv(e).mutationQueue).An(t)}(a.localStore,n)):$v();case 11:return e.next=13,XI(a,o);case 13:e.next=16;break;case 15:Kv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return cC=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gC(r=Xv(t)),bC(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,lC(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,YE(r.remoteStore,!0);case 9:o=Ec(a);try{for(o.s();!(u=o.n()).done;)s=u.value,yE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return HI(r,t),Px(r.localStore,t,!0)})),gE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,lC(r,c);case 21:return function(e){var t=Xv(e);t.uc.forEach((function(e,n){gE(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Ym(km.comparator)}(r),r.fc=!1,e.next=25,YE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e,t,n){return fC.apply(this,arguments)}function fC(){return fC=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Xv(t),a=[],o=[],u=Ec(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Ox(i.localStore,mg(f[0]));case 11:l=e.sent,d=Ec(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.sc.get(p),e.next=20,nC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Mx(i.localStore,c);case 36:return y=e.sent,e.next=39,Ox(i.localStore,y);case 39:return l=e.sent,e.next=42,SI(i,dC(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),fC.apply(this,arguments)}function dC(e){return cg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hC(e){var t=Xv(e);return Xv(Xv(t.localStore).persistence).vi()}function pC(e,t,n,r){return vC.apply(this,arguments)}function vC(){return vC=vo(ho().mark((function e(t,n,r,i){var a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Xv(t)).fc){e.next=3;break}return e.abrupt("return",void Kv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Lx(a.localStore,xg(o[0]));case 10:return u=e.sent,s=xb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,XI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Px(a.localStore,n,!0);case 17:return HI(a,n,i),e.abrupt("break",20);case 19:$v();case 20:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=gC(t)).fc){e.next=45;break}a=Ec(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return Kv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Mx(i.localStore,u);case 12:return s=e.sent,e.next=15,Ox(i.localStore,s);case 15:return c=e.sent,e.next=18,SI(i,dC(s),c.targetId,!1);case 18:yE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ec(r),e.prev=30,d=ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Px(i.localStore,t,!1).then((function(){gE(i.remoteStore,t),HI(i,t)})).catch(Pm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yC.apply(this,arguments)}function gC(e){var t=Xv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=RI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LI.bind(null,t),t.nc.Wo=fI.bind(null,t.eventManager),t.nc._c=dI.bind(null,t.eventManager),t}function bC(e){var t=Xv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UI.bind(null,t),t}function kC(e,t,n){var r=Xv(e);(function(){var e=vo(ho().mark((function e(t,n,r){var i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Xv(e),r=Fb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(gI(i)),a=new yI(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,XI(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Xv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Gv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var wC=function(){function e(){jn(this,e),this.synchronizeTabs=!1}return Un(e,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=aE(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Ex(this.persistence,new wx,e.initialUser,this.It)}},{key:"gc",value:function(e){return new lx(dx.Bs,this.It)}},{key:"mc",value:function(e){return new Xx}},{key:"terminate",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xC=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Un(n,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t){var r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,bC(this.Ec.syncEngine);case 6:return e.next=8,DE(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return Ex(this.persistence,new wx,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new zw(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Km(t,this.persistence);return new Wm(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?_w.withCacheSize(this.cacheSizeBytes):_w.DEFAULT;return new mx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,rE(),iE(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new Xx}}]),n}(wC),EC=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Un(n,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t){var r,i=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof Yx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:oC.bind(null,r),$r:pC.bind(null,r),Br:mC.bind(null,r),vi:hC.bind(null,r),Or:iC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sC(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=rE();if(!Yx.C(t))throw new Zv(Jv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(xC),IC=function(){function e(){jn(this,e)}return Un(e,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t,n){var r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return MI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),e.next=12,YE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new oI}},{key:"createDatastore",value:function(e){var t,n=aE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new nE(t));return function(e,t,n,r){return new lE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return MI(o.syncEngine,e,0)},a=Zx.C()?new Zx:new Jx,new dE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new II(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xv(t),Kv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,vE(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function CC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return vo(ho().mark((function r(){var i;return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var _C=function(){function e(t){jn(this,e),this.observer=t,this.muted=!1}return Un(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):Hv("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),SC=function(){function e(t,n){var r=this;jn(this,e),this.bc=t,this.It=n,this.metadata=new em,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Un(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new vI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),TC=function(){function e(t){jn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Un(e,[{key:"lookup",value:function(){var e=vo(ho().mark((function e(t){var n,r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Zv(Jv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),i=Wb(r.It)+"/documents",a={documents:n.map((function(e){return Ub(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Qb(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Yv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new rb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=vo(ho().mark((function e(){var t,n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=km.fromPath(t);n.mutations.push(new ib(r,n.precondition(r)))})),e.next=7,function(){var e=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xv(t),i=Wb(r.It)+"/documents",a={writes:n.map((function(e){return $b(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $v();t=vm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zv(Jv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vm.min())?Bg.exists(!1):Bg.updateTime(t):Bg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vm.min()))throw new Zv(Jv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bg.updateTime(t)}return Bg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),NC=function(){function e(t,n,r,i,a){jn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new oE(this.asyncQueue,"transaction_retry")}return Un(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(vo(ho().mark((function t(){var n,r;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new TC(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!hy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ob(t)}return!1}}]),e}(),AC=function(){function e(t,n,r,i){var a=this;jn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zv.UNAUTHENTICATED,this.clientId=lm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Kv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Un(e,[{key:"getConfiguration",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Zv(Jv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new em;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(vo(ho().mark((function n(){var r;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=tI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function OC(e,t){return PC.apply(this,arguments)}function PC(){return PC=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Kv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ix(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function RC(e,t){return DC.apply(this,arguments)}function DC(){return DC=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,MC(t);case 3:return r=e.sent,Kv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return QE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return QE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function MC(e){return LC.apply(this,arguments)}function LC(){return LC=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Kv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,OC(t,new wC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function FC(e){return jC.apply(this,arguments)}function jC(){return jC=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Kv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,RC(t,new IC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function VC(e){return MC(e).then((function(e){return e.persistence}))}function UC(e){return MC(e).then((function(e){return e.localStore}))}function zC(e){return FC(e).then((function(e){return e.remoteStore}))}function BC(e){return FC(e).then((function(e){return e.syncEngine}))}function qC(e){return WC.apply(this,arguments)}function WC(){return WC=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=CI.bind(null,n.syncEngine),r.onUnlisten=NI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function KC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function i(){return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _C({next:function(a){t.enqueueAndForget((function(){return cI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Zv(Jv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Zv(Jv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new pI(lg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return uI(e,o)},i.next=3,qC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function HC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function i(){return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _C({next:function(n){t.enqueueAndForget((function(){return cI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Zv(Jv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new pI(n,a,{includeMetadataChanges:!0,Nu:!0});return uI(e,o)},i.next=3,qC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var GC=new Map;function QC(e,t,n){if(!n)throw new Zv(Jv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $C(e,t,n,r){if(!0===t&&!0===r)throw new Zv(Jv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function YC(e){if(!km.isDocumentKey(e))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function XC(e){if(km.isDocumentKey(e))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function JC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":$v()}function ZC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zv(Jv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=JC(e);throw new Zv(Jv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function e_(e,t){if(t<=0)throw new Zv(Jv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var t_=function(){function e(t){var n;if(jn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Zv(Jv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zv(Jv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$C("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Un(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),n_=function(){function e(t,n,r,i){jn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1}return Un(e,[{key:"app",get:function(){if(!this._app)throw new Zv(Jv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Zv(Jv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nm;switch(e.type){case"gapi":var t=e.client;return new om(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zv(Jv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=GC.get(e);t&&(Kv("ComponentProvider","Removing Datastore"),GC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function r_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ZC(e,n_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Gv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=zv.MOCK_USER;else{o=Pc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Zv(Jv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new zv(s)}e._authCredentials=new rm(new tm(o,u))}}var i_=function(){function e(t,n,r){jn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Un(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new o_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),a_=function(){function e(t,n,r){jn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Un(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),o_=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this,e,r,lg(i)))._path=i,a.type="collection",a}return Un(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new i_(this.firestore,null,new km(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(a_);function u_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zc(e),QC("collection","path",t),e instanceof n_){var a=ym.fromString.apply(ym,[t].concat(r));return XC(a),new o_(e,null,a)}if(!(e instanceof i_||e instanceof o_))throw new Zv(Jv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ym.fromString.apply(ym,[t].concat(r)));return XC(o),new o_(e.firestore,null,o)}function s_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zc(e),1===arguments.length&&(t=lm.R()),QC("doc","path",t),e instanceof n_){var a=ym.fromString.apply(ym,[t].concat(r));return YC(a),new i_(e,null,new km(a))}if(!(e instanceof i_||e instanceof o_))throw new Zv(Jv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ym.fromString.apply(ym,[t].concat(r)));return YC(o),new i_(e.firestore,e instanceof o_?e.converter:null,new km(o))}function c_(e,t){return e=Zc(e),t=Zc(t),(e instanceof i_||e instanceof o_)&&(t instanceof i_||t instanceof o_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function l_(e,t){return e=Zc(e),t=Zc(t),e instanceof a_&&t instanceof a_&&e.firestore===t.firestore&&gg(e._query,t._query)&&e.converter===t.converter}var f_=function(){function e(){var t=this;jn(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new oE(this,"async_queue_retry"),this.jc=function(){var e=iE();e&&Kv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=iE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return Un(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=iE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new em;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=vo(ho().mark((function e(){var t=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Vm(e.t0)){e.next=12;break}throw e.t0;case 12:Kv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Hv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=eI.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&$v()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Ec(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ec(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function d_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ec(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var h_=function(){function e(){jn(this,e),this._progressObserver={},this._taskCompletionResolver=new em,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Un(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),p_=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a){var o;return jn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new f_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Un(n,[{key:"_terminate",value:function(){return this._firestoreClient||m_(this),this._firestoreClient.terminate()}}]),n}(n_);function v_(e){return e._firestoreClient||m_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function m_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new AC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function y_(e,t,n){var r=new em;return e.asyncQueue.enqueue(vo(ho().mark((function i(){var a;return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,OC(e,n);case 3:return i.next=5,RC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Jv.FAILED_PRECONDITION||e.code===Jv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Gv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function g_(e){return function(e){return e.asyncQueue.enqueue(vo(ho().mark((function t(){var n,r;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VC(e);case 2:return n=t.sent,t.next=5,zC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Xv(e);return t._u.delete(0),hE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(v_(e=ZC(e,p_)))}function b_(e){return function(e){return e.asyncQueue.enqueue(vo(ho().mark((function t(){var n,r;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VC(e);case 2:return n=t.sent,t.next=5,zC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Xv(t))._u.add(0),e.next=4,vE(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(v_(e=ZC(e,p_)))}function k_(e,t){var n=v_(e=ZC(e,p_)),r=new h_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new SC(e,t)}(function(e,t){if(e instanceof Uint8Array)return CC(e,t);if(e instanceof ArrayBuffer)return CC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,aE(t));e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kC,t.next=3,BC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function w_(e,t){return function(e,t){return e.asyncQueue.enqueue(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Xv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,UC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(v_(e=ZC(e,p_)),t).then((function(t){return t?new a_(e,null,t.query):null}))}function x_(e){if(e._initialized||e._terminated)throw new Zv(Jv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var E_=function(){function e(){jn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bm(n)}return Un(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var I_=function(){function e(t){jn(this,e),this._byteString=t}return Un(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ry.fromBase64String(t))}catch(t){throw new Zv(Jv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ry.fromUint8Array(t))}}]),e}(),C_=Un((function e(t){jn(this,e),this._methodName=t})),__=function(){function e(t,n){if(jn(this,e),!isFinite(t)||t<-90||t>90)throw new Zv(Jv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Zv(Jv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Un(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return fm(this._lat,e._lat)||fm(this._long,e._long)}}]),e}(),S_=/^__.*__$/,T_=function(){function e(t,n,r){jn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Un(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Xg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yg(e,this.data,t,this.fieldTransforms)}}]),e}(),N_=function(){function e(t,n,r){jn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Un(e,[{key:"toMutation",value:function(e,t){return new Xg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function A_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $v()}}var O_=function(){function e(t,n,r,i,a,o){jn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Un(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return X_(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(A_(this.na)&&S_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),P_=function(){function e(t,n,r){jn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||aE(t)}return Un(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new O_({na:e,methodName:t,la:n,path:bm.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function R_(e){var t=e._freezeSettings(),n=aE(e._databaseId);return new P_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function D_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);G_("Data must be an object, but it was:",o,r);var u,s,c=K_(r,o);if(a.merge)u=new ny(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=Ec(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=Q_(t,h,n);if(!o.contains(p))throw new Zv(Jv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));J_(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new ny(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new T_(new Fy(c),u,s)}var M_=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(C_);function L_(e,t,n){return new O_({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var F_=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"_toFieldTransform",value:function(e){return new Ug(e.path,new Pg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(C_),j_=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e)).da=r,i}return Un(n,[{key:"_toFieldTransform",value:function(e){var t=L_(this,e,!0),n=this.da.map((function(e){return W_(e,t)})),r=new Rg(n);return new Ug(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(C_),V_=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e)).da=r,i}return Un(n,[{key:"_toFieldTransform",value:function(e){var t=L_(this,e,!0),n=this.da.map((function(e){return W_(e,t)})),r=new Mg(n);return new Ug(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(C_),U_=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e))._a=r,i}return Un(n,[{key:"_toFieldTransform",value:function(e){var t=new Fg(e.It,Sg(e.It,this._a));return new Ug(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(C_);function z_(e,t,n,r){var i=e.fa(1,t,n);G_("Data must be an object, but it was:",i,r);var a=[],o=Fy.empty();Qm(r,(function(e,r){var u=Y_(t,e,n);r=Zc(r);var s=i.ua(u);if(r instanceof M_)a.push(u);else{var c=W_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ny(a);return new N_(o,u,i.fieldTransforms)}function B_(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[Q_(t,r,n)],s=[i];if(a.length%2!=0)throw new Zv(Jv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Q_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Fy.empty(),d=u.length-1;d>=0;--d)if(!J_(l,u[d])){var h=u[d],p=s[d];p=Zc(p);var v=o.ua(h);if(p instanceof M_)l.push(h);else{var m=W_(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new ny(l);return new N_(f,y,o.fieldTransforms)}function q_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return W_(n,e.fa(r?4:3,t))}function W_(e,t){if(H_(e=Zc(e)))return G_("Unsupported field value:",t,e),K_(e,t);if(e instanceof C_)return function(e,t){if(!A_(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ec(e);try{for(a.s();!(n=a.n()).done;){var o=W_(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Zc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Sg(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=pm.fromDate(e);return{timestampValue:Db(t.It,n)}}if(e instanceof pm){var r=new pm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Db(t.It,r)}}if(e instanceof __)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof I_)return{bytesValue:Mb(t.It,e._byteString)};if(e instanceof i_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(JC(e)))}(e,t)}function K_(e,t){var n={};return $m(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qm(e,(function(e,r){var i=W_(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function H_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pm||e instanceof __||e instanceof I_||e instanceof i_||e instanceof C_)}function G_(e,t,n){if(!H_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=JC(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function Q_(e,t,n){if((t=Zc(t))instanceof E_)return t._internalPath;if("string"==typeof t)return Y_(e,t);throw X_("Field path arguments must be of type string or ",e,!1,void 0,n)}var $_=new RegExp("[~\\*/\\[\\]]");function Y_(e,t,n){if(t.search($_)>=0)throw X_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ic(E_,At(t.split(".")))._internalPath}catch(r){throw X_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function X_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Zv(Jv.INVALID_ARGUMENT,u+e+s)}function J_(e,t){return e.some((function(e){return e.isEqual(t)}))}var Z_=function(){function e(t,n,r,i,a){jn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Un(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new i_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new eS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),eS=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"data",value:function(){return _f(qn(n.prototype),"data",this).call(this)}}]),n}(Z_);function tS(e,t){return"string"==typeof t?Y_(e,t):t instanceof E_?t._internalPath:t._delegate._internalPath}var nS=function(){function e(t,n){jn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Un(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),rS=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a,o,u){var s;return jn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Un(n,[{key:"exists",value:function(){return _f(qn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new iS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Z_),iS=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _f(qn(n.prototype),"data",this).call(this,e)}}]),n}(rS),aS=function(){function e(t,n,r,i){jn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new nS(i.hasPendingWrites,i.fromCache),this.query=r}return Un(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new iS(n._firestore,n._userDataWriter,r.key,r,new nS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zv(Jv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new iS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new iS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:oS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function oS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $v()}}function uS(e,t){return e instanceof rS&&t instanceof rS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aS&&t instanceof aS&&e._firestore===t._firestore&&l_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function sS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zv(Jv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cS=Un((function e(){jn(this,e)}));function lS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var fS=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return Un(n,[{key:"_apply",value:function(e){var t=R_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){xS(o,a);var s,c=[],l=Ec(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(wS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=wS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||xS(o,a),u=q_(n,"where",o,"in"===a||"not-in"===a);var d=Qy.create(i,a,u);return function(e,t){if(t.dt()){var n=hg(e);if(null!==n&&!n.isEqual(t.field))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=dg(e);null!==r&&ES(e,t.field,r)}var i=function(e,t){var n,r=Ec(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Zv(Jv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zv(Jv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new a_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new sg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(cS);var dS=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return Un(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ig(t,n);return function(e,t){if(null===dg(e)){var n=hg(e);null!==n&&ES(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new a_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(cS);var hS=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return Un(n,[{key:"_apply",value:function(e){return new a_(e.firestore,e.converter,yg(e._query,this.pa,this.Ia))}}]),n}(cS);var pS=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Un(n,[{key:"_apply",value:function(e){var t=kS(e,this.type,this.Ta,this.Ea);return new a_(e.firestore,e.converter,function(e,t){return new sg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(cS);function vS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pS("startAt",t,!0)}function mS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pS("startAfter",t,!1)}var yS=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a;return jn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Un(n,[{key:"_apply",value:function(e){var t=kS(e,this.type,this.Ta,this.Ea);return new a_(e.firestore,e.converter,function(e,t){return new sg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(cS);function gS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("endBefore",t,!1)}function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("endAt",t,!0)}function kS(e,t,n,r){if(n[0]=Zc(n[0]),n[0]instanceof Z_)return function(e,t,n,r,i){if(!r)throw new Zv(Jv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ec(vg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Cy(t,r.key));else{var c=r.data.field(s.field);if(sy(c))throw new Zv(Jv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new rg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=R_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Zv(Jv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!pg(e)&&-1!==c.indexOf("/"))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ym.fromString(c));if(!km.isDocumentKey(l))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new km(l);u.push(Cy(t,f))}else{var d=q_(n,r,c);u.push(d)}}return new rg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function wS(e,t,n){if("string"==typeof(n=Zc(n))){if(""===n)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pg(t)&&-1!==n.indexOf("/"))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ym.fromString(n));if(!km.isDocumentKey(r))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Cy(e,new km(r))}if(n instanceof i_)return Cy(e,n._key);throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(JC(n),"."))}function xS(e,t){if(!Array.isArray(e)||0===e.length)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ES(e,t,n){if(!n.isEqual(t))throw new Zv(Jv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var IS={maxAttempts:5},CS=function(){function e(){jn(this,e)}return Un(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $v()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Qm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new __(oy(e.latitude),oy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=cy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ly(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ay(e);return new pm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ym.fromString(e);Yv(sk(n));var r=new dy(n.get(1),n.get(3)),i=new km(n.popFirst(5));return r.isEqual(t)||Hv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _S(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var SS=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).firestore=e,r}return Un(n,[{key:"convertBytes",value:function(e){return new I_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new i_(this.firestore,null,t)}}]),n}(CS),TS=function(){function e(t,n){jn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=R_(t)}return Un(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=NS(e,this._firestore),i=_S(r.converter,t,n),a=D_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=NS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zc(t))||t instanceof E_?B_(this._dataReader,"WriteBatch.update",i._key,t,n,o):z_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=NS(e,this._firestore);return this._mutations=this._mutations.concat(new rb(t._key,Bg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Zv(Jv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function NS(e,t){if((e=Zc(e)).firestore!==t)throw new Zv(Jv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var AS=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).firestore=e,r}return Un(n,[{key:"convertBytes",value:function(e){return new I_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new i_(this.firestore,null,t)}}]),n}(CS);function OS(e){e=ZC(e,i_);var t=ZC(e.firestore,p_),n=v_(t),r=new AS(t);return function(e,t){var n=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function r(){return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Xv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Zv(Jv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=tI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,UC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new rS(t,r,e._key,n,new nS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function PS(e){e=ZC(e,a_);var t=ZC(e.firestore,p_),n=v_(t),r=new AS(t);return function(e,t){var n=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function r(){return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vo(ho().mark((function e(t,n,r){var i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dx(t,n,!0);case 3:i=e.sent,a=new wI(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=tI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,UC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new aS(t,r,e,n)}))}function RS(e,t,n){e=ZC(e,i_);var r=ZC(e.firestore,p_),i=_S(e.converter,t,n);return FS(r,[D_(R_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bg.none())])}function DS(e,t,n){e=ZC(e,i_);for(var r=ZC(e.firestore,p_),i=R_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return FS(r,[("string"==typeof(t=Zc(t))||t instanceof E_?B_(i,"updateDoc",e._key,t,n,o):z_(i,"updateDoc",e._key,t)).toMutation(e._key,Bg.exists(!0))])}function MS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Zc(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||d_(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(d_(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof i_)l=ZC(e.firestore,p_),f=lg(e._key.path),c={next:function(t){n[s]&&n[s](jS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=ZC(e,a_);l=ZC(p.firestore,p_),f=p._query;var v=new AS(l);c={next:function(e){n[s]&&n[s](new aS(l,v,p,e))},error:n[s+1],complete:n[s+2]},sS(e._query)}return function(e,t,n,r){var i=new _C(r),a=new pI(t,i,n);return e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uI,t.next=3,qC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cI,t.next=3,qC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(v_(l),f,d,c)}function LS(e,t){return function(e,t){var n=new _C(t);return e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Xv(e).Ru.add(t),t.next()},t.next=3,qC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Xv(e).Ru.delete(t)},t.next=3,qC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(v_(e=ZC(e,p_)),d_(t)?t:{next:t})}function FS(e,t){return function(e,t){var n=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function r(){return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=OI,r.next=3,BC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(v_(e),t)}function jS(e,t,n){var r=n.docs.get(t._key),i=new AS(e);return new rS(e,i,t._key,r,new nS(n.hasPendingWrites,n.fromCache),t.converter)}var VS=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Un(n,[{key:"get",value:function(e){var t=this,r=NS(e,this._firestore),i=new AS(this._firestore);return _f(qn(n.prototype),"get",this).call(this,e).then((function(e){return new rS(t._firestore,i,r._key,e._document,new nS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){jn(this,e),this._firestore=t,this._transaction=n,this._dataReader=R_(t)}return Un(e,[{key:"get",value:function(e){var t=this,n=NS(e,this._firestore),r=new SS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $v();var i=e[0];if(i.isFoundDocument())return new Z_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Z_(t._firestore,r,n._key,null,n.converter);throw $v()}))}},{key:"set",value:function(e,t,n){var r=NS(e,this._firestore),i=_S(r.converter,t,n),a=D_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=NS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zc(t))||t instanceof E_?B_(this._dataReader,"Transaction.update",i._key,t,n,o):z_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=NS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function US(e,t,n){e=ZC(e,p_);var r=Object.assign(Object.assign({},IS),n);return function(e){if(e.maxAttempts<1)throw new Zv(Jv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function i(){var a;return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return FC(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new NC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(v_(e),(function(n){return t(new VS(e,n))}),r)}function zS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new j_("arrayUnion",t)}function BS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bv=e}(Gl),Ul(new el("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new p_(new im(e.getProvider("auth-internal")),new sm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zv(Jv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Zl(Uv,"3.4.15",e),Zl(Uv,"3.4.15","esm2017")}();function qS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function WS(){if("undefined"===typeof Uint8Array)throw new Zv("unimplemented","Uint8Arrays are not available in this environment.")}function KS(){if("undefined"==typeof atob)throw new Zv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var HS=function(){function e(t){jn(this,e),this._delegate=t}return Un(e,[{key:"toBase64",value:function(){return KS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return WS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return KS(),new e(I_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return WS(),new e(I_.fromUint8Array(t))}}]),e}();function GS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ec(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QS=function(){function e(){jn(this,e)}return Un(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){x_(e=ZC(e,p_));var n=v_(e),r=e._freezeSettings(),i=new IC;return y_(n,i,new xC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){x_(e=ZC(e,p_));var t=v_(e),n=e._freezeSettings(),r=new IC;return y_(t,r,new EC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Zv(Jv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new em;return e._queue.enqueueAndForgetEvenWhileRestricted(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Lm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(bx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),$S=function(){function e(t,n,r){var i=this;jn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof dy||(this._appCompat=t)}return Un(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return g_(this._delegate)}},{key:"disableNetwork",value:function(){return b_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&$C("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new em;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=BI,n.next=3,BC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(v_(e=ZC(e,p_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return LS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Zv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new cT(this,u_(this._delegate,e))}catch(t){throw tT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new eT(this,s_(this._delegate,e))}catch(t){throw tT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new oT(this,function(e,t){if(e=ZC(e,n_),QC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zv(Jv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new a_(e,null,function(e){return new sg(ym.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return US(this._delegate,(function(n){return e(new XS(t,n))}))}},{key:"batch",value:function(){var e=this;return v_(this._delegate),new JS(new TS(this._delegate,(function(t){return FS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return k_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return w_(this._delegate,e).then((function(e){return e?new oT(t,e):null}))}}]),e}(),YS=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this)).firestore=e,r}return Un(n,[{key:"convertBytes",value:function(e){return new HS(new I_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eT.forKey(t,this.firestore,null)}}]),n}(CS);var XS=function(){function e(t,n){jn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return Un(e,[{key:"get",value:function(e){var t=this,n=lT(e);return this._delegate.get(n).then((function(e){return new iT(t._firestore,new rS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=lT(e);return n?(qS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=lT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lT(e);return this._delegate.delete(t),this}}]),e}(),JS=function(){function e(t){jn(this,e),this._delegate=t}return Un(e,[{key:"set",value:function(e,t,n){var r=lT(e);return n?(qS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=lT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ZS=function(){function e(t,n,r){jn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Un(e,[{key:"fromFirestore",value:function(e,t){var n=new iS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YS(t),n),i.set(n,a)),a}}]),e}();ZS.INSTANCES=new WeakMap;var eT=function(){function e(t,n){jn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return Un(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new cT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new cT(this.firestore,u_(this._delegate,e))}catch(t){throw tT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Zc(e))instanceof i_&&c_(this._delegate,e)}},{key:"set",value:function(e,t){t=qS("DocumentReference.set",t);try{return t?RS(this._delegate,e,t):RS(this._delegate,e)}catch(n){throw tT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?DS(this._delegate,e):DS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw tT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return FS(ZC(e.firestore,p_),[new rb(e._key,Bg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nT(n),a=rT(n,(function(t){return new iT(e.firestore,new rS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return MS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?OS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ZC(e,i_);var t=ZC(e.firestore,p_);return KC(v_(t),e._key,{source:"server"}).then((function(n){return jS(t,e,n)}))}(this._delegate):function(e){e=ZC(e,i_);var t=ZC(e.firestore,p_);return KC(v_(t),e._key).then((function(n){return jS(t,e,n)}))}(this._delegate),t.then((function(e){return new iT(n.firestore,new rS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Zv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new i_(n._delegate,r,new km(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new i_(n._delegate,r,t))}}]),e}();function tT(e,t,n){return e.message=e.message.replace(t,n),e}function nT(e){var t,n=Ec(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!GS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function rT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=GS(e[0])?e[0]:GS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iT=function(){function e(t,n){jn(this,e),this._firestore=t,this._delegate=n}return Un(e,[{key:"ref",get:function(){return new eT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return uS(this._delegate,e._delegate)}}]),e}(),aT=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||$v()}(void 0!==t),t}}]),n}(iT),oT=function(){function e(t,n){jn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return Un(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,lS(this._delegate,function(e,t,n){var r=t,i=tS("where",e);return new fS(i,r,n)}(t,n,r)))}catch(i){throw tT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,lS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=tS("orderBy",e);return new dS(n,t)}(t,n)))}catch(r){throw tT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,lS(this._delegate,function(e){return e_("limit",e),new hS("limit",e,"F")}(t)))}catch(n){throw tT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,lS(this._delegate,function(e){return e_("limitToLast",e),new hS("limitToLast",e,"L")}(t)))}catch(n){throw tT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,lS(this._delegate,vS.apply(void 0,arguments)))}catch(t){throw tT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,lS(this._delegate,mS.apply(void 0,arguments)))}catch(t){throw tT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,lS(this._delegate,gS.apply(void 0,arguments)))}catch(t){throw tT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,lS(this._delegate,bS.apply(void 0,arguments)))}catch(t){throw tT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return l_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?PS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ZC(e,a_);var t=ZC(e.firestore,p_),n=v_(t),r=new AS(t);return HC(n,e._query,{source:"server"}).then((function(n){return new aS(t,r,e,n)}))}(this._delegate):function(e){e=ZC(e,a_);var t=ZC(e.firestore,p_),n=v_(t),r=new AS(t);return sS(e._query),HC(n,e._query).then((function(n){return new aS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new sT(n.firestore,new aS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nT(n),a=rT(n,(function(t){return new sT(e.firestore,new aS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return MS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),uT=function(){function e(t,n){jn(this,e),this._firestore=t,this._delegate=n}return Un(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new aT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sT=function(){function e(t,n){jn(this,e),this._firestore=t,this._delegate=n}return Un(e,[{key:"query",get:function(){return new oT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new aT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new uT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new aT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return uS(this._delegate,e._delegate)}}]),e}(),cT=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Un(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new eT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new eT(this.firestore,void 0===e?s_(this._delegate):s_(this._delegate,e))}catch(t){throw tT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ZC(e.firestore,p_),r=s_(e),i=_S(e.converter,t);return FS(n,[D_(R_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new eT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return c_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ZS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(oT);function lT(e){return ZC(e,i_)}var fT,dT=function(){function e(){jn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ic(E_,n)}return Un(e,[{key:"isEqual",value:function(e){return(e=Zc(e))instanceof E_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(bm.keyField().canonicalString())}}]),e}(),hT=function(){function e(t){jn(this,e),this._delegate=t}return Un(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new F_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new M_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=zS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=BS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new U_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),pT={Firestore:$S,GeoPoint:__,Timestamp:pm,Blob:HS,Transaction:XS,WriteBatch:JS,DocumentReference:eT,DocumentSnapshot:iT,Query:oT,QueryDocumentSnapshot:aT,QuerySnapshot:sT,CollectionReference:cT,FieldPath:dT,FieldValue:hT,setLogLevel:function(e){!function(e){qv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function vT(e){return a(e)||Nt(e)||u(e)||s()}(function(e,t){e.INTERNAL.registerComponent(new el("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},pT)))})(fT=If,(function(e,t){return new $S(e,t,new QS)})),fT.registerVersion("@firebase/firestore-compat","0.1.24");function mT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var yT;Object.create;var gT="facebook.com",bT="github.com",kT="google.com",wT="password",xT="twitter.com",ET="EMAIL_SIGNIN",IT="PASSWORD_RESET",CT="RECOVER_EMAIL",_T="REVERT_SECOND_FACTOR_ADDITION",ST="VERIFY_AND_CHANGE_EMAIL",TT="VERIFY_EMAIL";function NT(){return B({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var AT=function(){var e;return B(e={},"admin-restricted-operation","This operation is restricted to administrators only."),B(e,"argument-error",""),B(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),B(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),B(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),B(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),B(e,"cordova-not-ready","Cordova framework is not ready."),B(e,"cors-unsupported","This browser is not supported."),B(e,"credential-already-in-use","This credential is already associated with a different user account."),B(e,"custom-token-mismatch","The custom token corresponds to a different audience."),B(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),B(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),B(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),B(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),B(e,"email-already-in-use","The email address is already in use by another account."),B(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),B(e,"expired-action-code","The action code has expired."),B(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),B(e,"internal-error","An internal AuthError has occurred."),B(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),B(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),B(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),B(e,"invalid-auth-event","An internal AuthError has occurred."),B(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),B(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),B(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),B(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),B(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),B(e,"invalid-email","The email address is badly formatted."),B(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),B(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),B(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),B(e,"invalid-credential","The supplied auth credential is malformed or has expired."),B(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),B(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),B(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),B(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),B(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),B(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),B(e,"wrong-password","The password is invalid or the user does not have a password."),B(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),B(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),B(e,"invalid-provider-id","The specified provider ID is invalid."),B(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),B(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),B(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),B(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),B(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),B(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),B(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),B(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),B(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),B(e,"missing-continue-uri","A continue URL must be provided in the request."),B(e,"missing-iframe-start","An internal AuthError has occurred."),B(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),B(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),B(e,"missing-multi-factor-info","No second factor identifier is provided."),B(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),B(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),B(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),B(e,"app-deleted","This instance of FirebaseApp has been deleted."),B(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),B(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),B(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),B(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),B(e,"no-auth-event","An internal AuthError has occurred."),B(e,"no-such-provider","User was not linked to an account with the given provider."),B(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),B(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),B(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),B(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),B(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),B(e,"provider-already-linked","User can only be linked to one identity for the given provider."),B(e,"quota-exceeded","The project's quota for this operation has been exceeded."),B(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),B(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),B(e,"rejected-credential","The request contains malformed or mismatching credentials."),B(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),B(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),B(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),B(e,"timeout","The operation has timed out."),B(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),B(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),B(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),B(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),B(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),B(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),B(e,"unverified-email","The operation requires a verified email."),B(e,"user-cancelled","The user did not grant your application the permissions it requested."),B(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),B(e,"user-disabled","The user account has been disabled by an administrator."),B(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),B(e,"user-signed-out",""),B(e,"weak-password","The password must be 6 characters long or more."),B(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),B(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},OT=NT,PT=new zc("auth","Firebase",NT()),RT=new fl("@firebase/auth");function DT(e){if(RT.logLevel<=il.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];RT.error.apply(RT,["Auth (".concat(Gl,"): ").concat(e)].concat(n))}}function MT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw VT.apply(void 0,[e].concat(n))}function LT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return VT.apply(void 0,[e].concat(n))}function FT(e,t,n){var r=Object.assign(Object.assign({},OT()),B({},t,n));return new zc("auth","Firebase",r).create(t,{appName:e.name})}function jT(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&MT(e,"argument-error"),FT(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function VT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=At(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(At(o)))}return PT.create.apply(PT,[e].concat(n))}function UT(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw VT.apply(void 0,[t].concat(r))}}function zT(e){var t="INTERNAL ASSERTION FAILED: "+e;throw DT(t),new Error(t)}function BT(e,t){e||zT(t)}var qT=new Map;function WT(e){BT(e instanceof Function,"Expected a class definition");var t=qT.get(e);return t?(BT(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qT.set(e,t),t)}function KT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function HT(){return"http:"===GT()||"https:"===GT()}function GT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var QT=function(){function e(t,n){jn(this,e),this.shortDelay=t,this.longDelay=n,BT(n>t,"Short delay should be less than long delay!"),this.isMobile=Dc()||Fc()}return Un(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(HT()||Lc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $T(e,t){BT(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var YT=function(){function e(){jn(this,e)}return Un(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void zT("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void zT("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void zT("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),XT=(B(yT={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),B(yT,"MISSING_CUSTOM_TOKEN","internal-error"),B(yT,"INVALID_IDENTIFIER","invalid-email"),B(yT,"MISSING_CONTINUE_URI","internal-error"),B(yT,"INVALID_PASSWORD","wrong-password"),B(yT,"MISSING_PASSWORD","internal-error"),B(yT,"EMAIL_EXISTS","email-already-in-use"),B(yT,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),B(yT,"INVALID_IDP_RESPONSE","invalid-credential"),B(yT,"INVALID_PENDING_TOKEN","invalid-credential"),B(yT,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),B(yT,"MISSING_REQ_TYPE","internal-error"),B(yT,"EMAIL_NOT_FOUND","user-not-found"),B(yT,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),B(yT,"EXPIRED_OOB_CODE","expired-action-code"),B(yT,"INVALID_OOB_CODE","invalid-action-code"),B(yT,"MISSING_OOB_CODE","internal-error"),B(yT,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),B(yT,"INVALID_ID_TOKEN","invalid-user-token"),B(yT,"TOKEN_EXPIRED","user-token-expired"),B(yT,"USER_NOT_FOUND","user-token-expired"),B(yT,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),B(yT,"INVALID_CODE","invalid-verification-code"),B(yT,"INVALID_SESSION_INFO","invalid-verification-id"),B(yT,"INVALID_TEMPORARY_PROOF","invalid-credential"),B(yT,"MISSING_SESSION_INFO","missing-verification-id"),B(yT,"SESSION_EXPIRED","code-expired"),B(yT,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),B(yT,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),B(yT,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),B(yT,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),B(yT,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),B(yT,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),B(yT,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),B(yT,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),B(yT,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),B(yT,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),B(yT,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),yT),JT=new QT(3e4,6e4);function ZT(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function eN(e,t,n,r){return tN.apply(this,arguments)}function tN(){return tN=vo(ho().mark((function e(t,n,r,i){var a,o=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",nN(t,a,vo(ho().mark((function e(){var a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Gc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",YT.fetch()(oN(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e,t,n){return rN.apply(this,arguments)}function rN(){return rN=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,l,f,d,h,p;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},XT),n),e.prev=2,a=new uN(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw sN(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw sN(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw sN(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw sN(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw FT(t,p,h);case 34:MT(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Uc)){e.next=41;break}throw e.t0;case 41:MT(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),rN.apply(this,arguments)}function iN(e,t,n,r){return aN.apply(this,arguments)}function aN(){return aN=vo(ho().mark((function e(t,n,r,i){var a,o,u=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,eN(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&MT(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),aN.apply(this,arguments)}function oN(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$T(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var uN=function(){function e(t){var n=this;jn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(LT(n.auth,"network-request-failed"))}),JT.get())}))}return Un(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function sN(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=LT(e,t,r);return i.customData._tokenResponse=n,i}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e,t){return dN.apply(this,arguments)}function dN(){return dN=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function hN(e,t){return pN.apply(this,arguments)}function pN(){return pN=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function mN(){return mN=vo(ho().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Zc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,UT((a=gN(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:vN(yN(a.auth_time)),issuedAtTime:vN(yN(a.iat)),expirationTime:vN(yN(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),mN.apply(this,arguments)}function yN(e){return 1e3*Number(e)}function gN(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return DT("JWT malformed, contained fewer than 3 sections"),null;try{var o=Nc(i);return o?JSON.parse(o):(DT("Failed to decode base64 JWT payload"),null)}catch(u){return DT("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function bN(e,t){return kN.apply(this,arguments)}function kN(){return kN=vo(ho().mark((function e(t,n){var r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Uc&&wN(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),kN.apply(this,arguments)}function wN(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var xN=function(){function e(t){jn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Un(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),EN=function(){function e(t,n){jn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Un(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=vN(this.lastLoginAt),this.creationTime=vN(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function IN(e){return CN.apply(this,arguments)}function CN(){return CN=vo(ho().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,bN(t,hN(r,{idToken:i}));case 6:UT(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?TN(o.providerUserInfo):[],s=SN(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new EN(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function _N(){return(_N=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zc(t),e.next=3,IN(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SN(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(At(n),At(t))}function TN(e){return e.map((function(e){var t=e.providerId,n=mT(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function NN(e,t){return AN.apply(this,arguments)}function AN(){return AN=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nN(t,{},vo(ho().mark((function e(){var r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=oN(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",YT.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),AN.apply(this,arguments)}var ON=function(){function e(){jn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Un(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){UT(e.idToken,"internal-error"),UT("undefined"!==typeof e.idToken,"internal-error"),UT("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=gN(e);return UT(t,"internal-error"),UT("undefined"!==typeof t.exp,"internal-error"),UT("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=vo(ho().mark((function e(t){var n,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],UT(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NN(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return zT("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(UT("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(UT("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(UT("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function PN(e,t){UT("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var RN=function(){function e(t){jn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=mT(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?At(a.providerData):[],this.metadata=new EN(a.createdAt||void 0,a.lastLoginAt||void 0)}return Un(e,[{key:"getIdToken",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bN(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(UT(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return mN.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return _N.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(UT(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){UT(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=vo(ho().mark((function e(t){var n,r,i=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,IN(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,bN(this,cN(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;UT(b&&E,t,"internal-error");var I=ON.fromJSON(this.name,E);UT("string"===typeof b,t,"internal-error"),PN(f,t.name),PN(d,t.name),UT("boolean"===typeof k,t,"internal-error"),UT("boolean"===typeof w,t,"internal-error"),PN(h,t.name),PN(p,t.name),PN(v,t.name),PN(m,t.name),PN(y,t.name),PN(g,t.name);var C=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(C.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(C._redirectEventId=m),C}},{key:"_fromIdTokenResponse",value:function(){var t=vo(ho().mark((function t(n,r){var i,a,o,u=arguments;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ON).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,IN(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),DN=function(){function e(){jn(this,e),this.type="NONE",this.storage={}}return Un(e,[{key:"_isAvailable",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();DN.type="NONE";var MN=DN;function LN(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var FN=function(){function e(t,n,r){jn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=LN(this.userKey,a.apiKey,o),this.fullPersistenceKey=LN("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Un(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?RN._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=vo(ho().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(WT(MN),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||WT(MN),u=LN(i,n.config.apiKey,n.name),s=null,c=Ec(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=RN._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function jN(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WN(t))return"Blackberry";if(KN(t))return"Webos";if(UN(t))return"Safari";if((t.includes("chrome/")||zN(t))&&!t.includes("edge/"))return"Chrome";if(qN(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function VN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/firefox\//i.test(e)}function UN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/crios\//i.test(e)}function BN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/iemobile/i.test(e)}function qN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/android/i.test(e)}function WN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/blackberry/i.test(e)}function KN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/webos/i.test(e)}function HN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function GN(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return HN(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function QN(){return jc()&&10===document.documentMode}function $N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return HN(e)||qN(e)||KN(e)||WN(e)||/windows phone/i.test(e)||BN(e)}function YN(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jN(Rc());break;case"Worker":t="".concat(jN(Rc()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gl,"/").concat(r)}var XN=function(){function e(t){jn(this,e),this.auth=t,this.queue=[]}return Un(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ec(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Ec(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),JN=function(){function e(t,n,r){jn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eA(this),this.idTokenSubscription=new eA(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Un(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=WT(t)),this._initializationPromise=this.queue(vo(ho().mark((function r(){var i,a;return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,FN.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return UT(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IN(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Zc(t):null)&&UT(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=vo(ho().mark((function e(t){var n,r=this,i=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&UT(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(WT(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new zc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return UT(n=t&&WT(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,FN.create(this,[WT(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=vo(ho().mark((function e(t){var n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return UT(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return UT(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=vo(ho().mark((function e(){var t,n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ZN(e){return Zc(e)}var eA=function(){function e(t){var n=this;jn(this,e),this.auth=t,this.observer=null,this.addObserver=Yc((function(e){return n.observer=e}))}return Un(e,[{key:"next",get:function(){return UT(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function tA(e,t,n){var r=ZN(e);UT(r._canInitEmulator,r,"emulator-config-failed"),UT(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=nA(t),o=function(e){var t=nA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:rA(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:rA(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function nA(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rA(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var iA=function(){function e(t,n){jn(this,e),this.providerId=t,this.signInMethod=n}return Un(e,[{key:"toJSON",value:function(){return zT("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return zT("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return zT("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return zT("not implemented")}}]),e}();function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:resetPassword",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e,t){return sA.apply(this,arguments)}function sA(){return sA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:update",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function fA(e,t){return dA.apply(this,arguments)}function dA(){return dA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithPassword",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function hA(e,t){return pA.apply(this,arguments)}function pA(){return pA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:sendOobCode",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hA(t,n));case 1:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function yA(e,t){return gA.apply(this,arguments)}function gA(){return gA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hA(t,n));case 1:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function bA(e,t){return kA.apply(this,arguments)}function kA(){return kA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hA(t,n));case 1:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function wA(e,t){return xA.apply(this,arguments)}function xA(){return xA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hA(t,n));case 1:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function EA(e,t){return IA.apply(this,arguments)}function IA(){return IA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithEmailLink",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}function CA(e,t){return _A.apply(this,arguments)}function _A(){return _A=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithEmailLink",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),_A.apply(this,arguments)}var SA=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return jn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Un(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fA(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",EA(t,{email:this._email,oobCode:this._password}));case 5:MT(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",uA(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",CA(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:MT(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(iA);function TA(e,t){return NA.apply(this,arguments)}function NA(){return NA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithIdp",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}var AA=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Un(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return TA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,TA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,TA(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):MT("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=mT(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(iA);function OA(e,t){return PA.apply(this,arguments)}function PA(){return PA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:sendVerificationCode",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function RA(){return RA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithPhoneNumber",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function DA(){return DA=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iN(t,"POST","/v1/accounts:signInWithPhoneNumber",ZT(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw sN(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}var MA=B({},"USER_NOT_FOUND","user-not-found");function LA(){return LA=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithPhoneNumber",ZT(t,r),MA));case 2:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}var FA=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Un(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return RA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return DA.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return LA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(iA);var jA=function(){function e(t){var n,r,i,a,o,u;jn(this,e);var s=Qc($c(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);UT(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Un(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qc($c(e)).link,n=t?Qc($c(t)).deep_link_id:null,r=Qc($c(e)).deep_link_id;return(r?Qc($c(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var VA=function(){function e(){jn(this,e),this.providerId=e.PROVIDER_ID}return Un(e,null,[{key:"credential",value:function(e,t){return SA._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=jA.parseLink(t);return UT(n,"argument-error"),SA._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();VA.PROVIDER_ID="password",VA.EMAIL_PASSWORD_SIGN_IN_METHOD="password",VA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var UA=function(){function e(t){jn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Un(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),zA=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Un(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return At(this.scopes)}}]),n}(UA),BA=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return UT(e.idToken||e.accessToken,"argument-error"),AA._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return UT("providerId"in t&&"signInMethod"in t,"argument-error"),AA._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(zA),qA=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.call(this,"facebook.com")}return Un(n,null,[{key:"credential",value:function(e){return AA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(zA);qA.FACEBOOK_SIGN_IN_METHOD="facebook.com",qA.PROVIDER_ID="facebook.com";var WA=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Un(n,null,[{key:"credential",value:function(e,t){return AA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(zA);WA.GOOGLE_SIGN_IN_METHOD="google.com",WA.PROVIDER_ID="google.com";var KA=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.call(this,"github.com")}return Un(n,null,[{key:"credential",value:function(e){return AA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(zA);KA.GITHUB_SIGN_IN_METHOD="github.com",KA.PROVIDER_ID="github.com";var HA=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i;return jn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Un(n,[{key:"_getIdTokenResponse",value:function(e){return TA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,TA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,TA(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(iA),GA=function(e){Bn(n,e);var t=Gn(n);function n(e){return jn(this,n),UT(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Un(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=HA.fromJSON(e);return UT(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return HA._create(r,n)}catch(i){return null}}}]),n}(UA),QA=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.call(this,"twitter.com")}return Un(n,null,[{key:"credential",value:function(e,t){return AA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(zA);function $A(e,t){return YA.apply(this,arguments)}function YA(){return YA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signUp",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}QA.TWITTER_SIGN_IN_METHOD="twitter.com",QA.PROVIDER_ID="twitter.com";var XA=function(){function e(t){jn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Un(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=vo(ho().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,RN._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=JA(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=vo(ho().mark((function t(n,r,i){var a;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=JA(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function JA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ZA(){return ZA=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ZN(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new XA({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$A(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,XA._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}var eO=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a){var o,u;return jn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Kn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Un(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Uc);function tO(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw eO._fromErrorAndOperation(e,n,t,r);throw n}))}function nO(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function rO(e,t){return iO.apply(this,arguments)}function iO(){return iO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zc(t),e.next=3,uO(!0,r,n);case 3:return e.t0=fN,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=nO(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),iO.apply(this,arguments)}function aO(e,t){return oO.apply(this,arguments)}function oO(){return oO=vo(ho().mark((function e(t,n){var r,i,a=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=bN,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",XA._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),oO.apply(this,arguments)}function uO(e,t,n){return sO.apply(this,arguments)}function sO(){return(sO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IN(n);case 2:i=nO(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",UT(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cO(e,t){return lO.apply(this,arguments)}function lO(){return lO=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,bN(t,tO(a,o,n,t),r);case 6:return UT((u=e.sent).idToken,a,"internal-error"),UT(s=gN(u.idToken),a,"internal-error"),c=s.sub,UT(t.uid===c,a,"user-mismatch"),e.abrupt("return",XA._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&MT(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),lO.apply(this,arguments)}function fO(e,t){return dO.apply(this,arguments)}function dO(){return dO=vo(ho().mark((function e(t,n){var r,i,a,o,u=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,tO(t,i,n);case 4:return a=e.sent,e.next=7,XA._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),dO.apply(this,arguments)}function hO(e,t){return pO.apply(this,arguments)}function pO(){return pO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fO(ZN(t),n));case 1:case"end":return e.stop()}}),e)}))),pO.apply(this,arguments)}function vO(e,t){return mO.apply(this,arguments)}function mO(){return(mO=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zc(t),e.next=3,uO(!1,r,n.providerId);case 3:return e.abrupt("return",aO(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yO(e,t){return gO.apply(this,arguments)}function gO(){return(gO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cO(Zc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bO(e,t){return kO.apply(this,arguments)}function kO(){return kO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(t,"POST","/v1/accounts:signInWithCustomToken",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),kO.apply(this,arguments)}function wO(){return wO=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ZN(t),e.next=3,bO(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,XA._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),wO.apply(this,arguments)}var xO=function(){function e(t,n){jn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Un(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?EO._fromServerResponse(e,t):MT(e,"internal-error")}}]),e}(),EO=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Un(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(xO);function IO(e,t,n){var r;UT((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),UT("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(UT(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(UT(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function CO(){return CO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zc(t),a={requestType:"PASSWORD_RESET",email:n},r&&IO(i,a,r),e.next=5,yA(i,a);case 5:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}function _O(){return _O=vo(ho().mark((function e(t,n,r){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aA(Zc(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),_O.apply(this,arguments)}function SO(){return SO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cA(Zc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}function TO(e,t){return NO.apply(this,arguments)}function NO(){return NO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zc(t),e.next=3,aA(r,{oobCode:n});case 3:i=e.sent,UT(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return UT(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:UT(i.mfaInfo,r,"internal-error");case 13:UT(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=xO._fromServerResponse(ZN(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function AO(){return AO=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TO(Zc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function OO(e,t,n){return PO.apply(this,arguments)}function PO(){return PO=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZN(t),e.next=3,$A(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,XA._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function RO(){return RO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zc(t),a={requestType:"EMAIL_SIGNIN",email:n},UT(r.handleCodeInApp,i,"argument-error"),r&&IO(i,a,r),e.next=6,bA(i,a);case 6:case"end":return e.stop()}}),e)}))),RO.apply(this,arguments)}function DO(){return DO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zc(t),UT((a=VA.credentialWithLink(n,r||KT()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hO(i,a));case 4:case"end":return e.stop()}}),e)}))),DO.apply(this,arguments)}function MO(e,t){return LO.apply(this,arguments)}function LO(){return LO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:createAuthUri",ZT(t,n)));case 1:case"end":return e.stop()}}),e)}))),LO.apply(this,arguments)}function FO(){return FO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HT()?KT():"http://localhost",i={identifier:n,continueUri:r},e.next=4,MO(Zc(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function jO(){return(jO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&IO(r.auth,a,n),e.next=8,vA(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VO(){return(VO=vo(ho().mark((function e(t,n,r){var i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zc(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&IO(i.auth,o,r),e.next=8,wA(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UO(e,t){return zO.apply(this,arguments)}function zO(){return zO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),zO.apply(this,arguments)}function BO(){return(BO=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Zc(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,bN(a,UO(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qO(e,t,n){return WO.apply(this,arguments)}function WO(){return WO=vo(ho().mark((function e(t,n,r){var i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,bN(t,uA(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}var KO=Un((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),HO=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a){var o;return jn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Un(n)}(KO),GO=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"facebook.com",r)}return Un(n)}(KO),QO=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Un(n)}(HO),$O=function(e){Bn(n,e);var t=Gn(n);function n(e,r){return jn(this,n),t.call(this,e,"google.com",r)}return Un(n)}(KO),YO=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i){return jn(this,n),t.call(this,e,"twitter.com",r,i)}return Un(n)}(HO);function XO(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=gN(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new KO(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new GO(a,i);case"github.com":return new QO(a,i);case"google.com":return new $O(a,i);case"twitter.com":return new YO(a,i,e.screenName||null);case"custom":case"anonymous":return new KO(a,null);default:return new KO(a,r,i)}}(n)}var JO=function(){function e(t,n){jn(this,e),this.type=t,this.credential=n}return Un(e,[{key:"toJSON",value:function(){return{multiFactorSession:B({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ZO=function(){function e(t,n,r){jn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Un(e,[{key:"resolveSignIn",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ZN(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return xO._fromServerResponse(r,e)}));UT(i.mfaPendingCredential,r,"internal-error");var o=JO._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=vo(ho().mark((function e(t){var a,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,XA._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return UT(n.user,r,"internal-error"),e.abrupt("return",XA._forOperation(n.user,n.operationType,u));case 17:MT(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function eP(e,t){return eN(e,"POST","/v2/accounts/mfaEnrollment:start",ZT(e,t))}function tP(e,t){return eN(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ZT(e,t))}var nP=function(){function e(t){var n=this;jn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return xO._fromServerResponse(t.auth,e)})))}))}return Un(e,[{key:"getSession",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JO,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,bN(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,bN(this.user,tP(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),rP=new WeakMap;var iP="__sak",aP=function(){function e(t,n){jn(this,e),this.storageRetriever=t,this.type=n}return Un(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(iP,"1"),this.storage.removeItem(iP),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var oP=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Rc();return UN(e)||HN(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=$N(),e._shouldAllowMigration=!0,e}return Un(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);QN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=vo(ho().mark((function e(t,r){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vo(ho().mark((function e(t){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(aP);oP.type="LOCAL";var uP=oP,sP=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Un(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(aP);sP.type="SESSION";var cP=sP;function lP(e){return Promise.all(e.map(function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fP=function(){function e(t){jn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Un(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,lP(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function dP(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fP.receivers=[];var hP=function(){function e(t){jn(this,e),this.target=t,this.handlers=new Set}return Un(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=dP("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pP(){return window}function vP(){return"undefined"!==typeof pP().WorkerGlobalScope&&"function"===typeof pP().importScripts}function mP(){return yP.apply(this,arguments)}function yP(){return(yP=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gP(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bP="firebaseLocalStorageDb",kP="firebaseLocalStorage",wP="fbase_key",xP=function(){function e(t){jn(this,e),this.request=t}return Un(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function EP(e,t){return e.transaction([kP],t?"readwrite":"readonly").objectStore(kP)}function IP(){var e=indexedDB.deleteDatabase(bP);return new xP(e).toPromise()}function CP(){var e=indexedDB.open(bP,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(kP,{keyPath:wP})}catch(r){n(r)}})),e.addEventListener("success",vo(ho().mark((function n(){var r;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(kP)){n.next=12;break}return r.close(),n.next=5,IP();case 5:return n.t0=t,n.next=8,CP();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function _P(e,t,n){return SP.apply(this,arguments)}function SP(){return SP=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=EP(t,!0).put((B(i={},wP,n),B(i,"value",r),i)),e.abrupt("return",new xP(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),SP.apply(this,arguments)}function TP(e,t){return NP.apply(this,arguments)}function NP(){return NP=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EP(t,!1).get(n),e.next=3,new xP(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),NP.apply(this,arguments)}function AP(e,t){var n=EP(e,!0).delete(t);return new xP(n).toPromise()}var OP=function(){function e(){jn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Un(e,[{key:"_openDb",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,CP();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vP()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=vo(ho().mark((function e(){var t=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fP._getInstance(vP()?self:null),this.receiver._subscribe("keyChanged",function(){var e=vo(ho().mark((function e(n,r){var i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=vo(ho().mark((function e(){var t,n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mP();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hP(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gP()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,CP();case 5:return t=e.sent,e.next=8,_P(t,iP,"1");case 8:return e.next=10,AP(t,iP);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vo(ho().mark((function e(t,n){var r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return _P(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return TP(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vo(ho().mark((function e(t){var n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return AP(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=EP(e,!1).getAll();return new xP(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ec(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();OP.type="LOCAL";var PP=OP;function RP(e,t){return eN(e,"POST","/v2/accounts/mfaSignIn:start",ZT(e,t))}function DP(e){return MP.apply(this,arguments)}function MP(){return MP=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eN(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),MP.apply(this,arguments)}function LP(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=LT("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function FP(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var jP=1e12,VP=function(){function e(t){jn(this,e),this.auth=t,this.counter=jP,this._widgets=new Map}return Un(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new UP(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||jP;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||jP;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||jP,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),UP=function(){function e(t,n,r){var i=this;jn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;UT(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Un(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zP=FP("rcb"),BP=new QT(3e4,6e4),qP="https://www.google.com/recaptcha/api.js?",WP=function(){function e(){var t;jn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=pP().grecaptcha)||void 0===t?void 0:t.render)}return Un(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return UT(KP(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(pP().grecaptcha):new Promise((function(r,i){var a=pP().setTimeout((function(){i(LT(e,"network-request-failed"))}),BP.get());pP()[zP]=function(){pP().clearTimeout(a),delete pP()[zP];var o=pP().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(LT(e,"internal-error"))},LP("".concat(qP,"?").concat(Gc({onload:zP,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(LT(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=pP().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function KP(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var HP=function(){function e(){jn(this,e)}return Un(e,[{key:"load",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new VP(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),GP="recaptcha",QP={theme:"light",type:"image"},$P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},QP),r=arguments.length>2?arguments[2]:void 0;jn(this,e),this.parameters=n,this.type=GP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ZN(r),this.isInvisible="invisible"===this.parameters.size,UT("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;UT(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HP:new WP,this.validateStartingState()}return Un(e,[{key:"verify",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){UT(!this.parameters.sitekey,this.auth,"argument-error"),UT(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),UT("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=pP()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){UT(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return UT(HT()&&!vP(),this.auth,"internal-error"),e.next=3,YP();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,DP(this.auth);case 8:UT(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return UT(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function YP(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var XP=function(){function e(t,n){jn(this,e),this.verificationId=t,this.onConfirmation=n}return Un(e,[{key:"confirm",value:function(e){var t=FA._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function JP(){return JP=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZN(t),e.next=3,nR(i,n,Zc(r));case 3:return a=e.sent,e.abrupt("return",new XP(a,(function(e){return hO(i,e)})));case 5:case"end":return e.stop()}}),e)}))),JP.apply(this,arguments)}function ZP(e,t,n){return eR.apply(this,arguments)}function eR(){return(eR=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zc(t),e.next=3,uO(!1,i,"phone");case 3:return e.next=5,nR(i.auth,n,Zc(r));case 5:return a=e.sent,e.abrupt("return",new XP(a,(function(e){return vO(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tR(){return(tR=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zc(t),e.next=3,nR(i.auth,n,Zc(r));case 3:return a=e.sent,e.abrupt("return",new XP(a,(function(e){return yO(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nR(e,t,n){return rR.apply(this,arguments)}function rR(){return rR=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,UT("string"===typeof a,t,"argument-error"),UT(r.type===GP,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return UT("enroll"===u.type,t,"internal-error"),e.next=13,eP(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return UT("signin"===u.type,t,"internal-error"),UT(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,RP(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,OA(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),rR.apply(this,arguments)}function iR(){return(iR=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aO(Zc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aR=function(){function e(t){jn(this,e),this.providerId=e.PROVIDER_ID,this.auth=ZN(t)}return Un(e,[{key:"verifyPhoneNumber",value:function(e,t){return nR(this.auth,e,Zc(t))}}],[{key:"credential",value:function(e,t){return FA._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?FA._fromTokenResponse(n,r):null}}]),e}();function oR(e,t){return t?WT(t):(UT(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}aR.PROVIDER_ID="phone",aR.PHONE_SIGN_IN_METHOD="phone";var uR=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Un(n,[{key:"_getIdTokenResponse",value:function(e){return TA(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return TA(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return TA(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(iA);function sR(e){return fO(e.auth,new uR(e),e.bypassAuthState)}function cR(e){var t=e.auth,n=e.user;return UT(n,t,"internal-error"),cO(n,new uR(e),e.bypassAuthState)}function lR(e){return fR.apply(this,arguments)}function fR(){return fR=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,UT(r=t.user,n,"internal-error"),e.abrupt("return",aO(r,new uR(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}var dR=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];jn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Un(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=vo(ho().mark((function t(n,r){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return lR;case"reauthViaPopup":case"reauthViaRedirect":return cR;default:MT(this.auth,"internal-error")}}},{key:"resolve",value:function(e){BT(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){BT(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hR=new QT(2e3,1e4);function pR(e,t,n){return vR.apply(this,arguments)}function vR(){return vR=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZN(t),jT(t,n,UA),a=oR(i,r),o=new bR(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),vR.apply(this,arguments)}function mR(){return(mR=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT((i=Zc(t)).auth,n,UA),a=oR(i.auth,r),o=new bR(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yR(e,t,n){return gR.apply(this,arguments)}function gR(){return(gR=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT((i=Zc(t)).auth,n,UA),a=oR(i.auth,r),o=new bR(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bR=function(e){Bn(n,e);var t=Gn(n);function n(e,r,i,a,o){var u;return jn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Kn(u),u}return Un(n,[{key:"executeNotNull",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return UT(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vo(ho().mark((function e(){var t,n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BT(1===this.filter.length,"Popup operations only handle one event"),t=dP(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(LT(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(LT(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(LT(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hR.get())}()}}]),n}(dR);bR.currentPopupAction=null;var kR=new Map,wR=function(e){Bn(n,e);var t=Gn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return jn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Un(n,[{key:"execute",value:function(){var e=vo(ho().mark((function e(){var t,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=kR.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xR(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,_f(qn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:kR.set(this.auth._key(),t);case 21:return this.bypassAuthState||kR.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=vo(ho().mark((function e(t){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",_f(qn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",_f(qn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(dR);function xR(e,t){return ER.apply(this,arguments)}function ER(){return ER=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=TR(n),i=SR(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ER.apply(this,arguments)}function IR(e,t){return CR.apply(this,arguments)}function CR(){return CR=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(t)._set(TR(n),"true"));case 1:case"end":return e.stop()}}),e)}))),CR.apply(this,arguments)}function _R(e,t){kR.set(e._key(),t)}function SR(e){return WT(e._redirectPersistence)}function TR(e){return LN("pendingRedirect",e.config.apiKey,e.name)}function NR(e,t,n){return function(e,t,n){return AR.apply(this,arguments)}(e,t,n)}function AR(){return AR=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZN(t),jT(t,n,UA),a=oR(i,r),e.next=5,IR(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),AR.apply(this,arguments)}function OR(e,t,n){return function(e,t,n){return PR.apply(this,arguments)}(e,t,n)}function PR(){return(PR=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT((i=Zc(t)).auth,n,UA),a=oR(i.auth,r),e.next=5,IR(a,i.auth);case 5:return e.next=7,VR(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RR(e,t,n){return function(e,t,n){return DR.apply(this,arguments)}(e,t,n)}function DR(){return(DR=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT((i=Zc(t)).auth,n,UA),a=oR(i.auth,r),e.next=5,uO(!1,i,n.providerId);case 5:return e.next=7,IR(a,i.auth);case 7:return e.next=9,VR(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MR(e,t){return LR.apply(this,arguments)}function LR(){return LR=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZN(t)._initializationPromise;case 2:return e.abrupt("return",FR(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),LR.apply(this,arguments)}function FR(e,t){return jR.apply(this,arguments)}function jR(){return jR=vo(ho().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ZN(t),a=oR(i,n),o=new wR(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),jR.apply(this,arguments)}function VR(e){return UR.apply(this,arguments)}function UR(){return(UR=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dP("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zR=function(){function e(t){jn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Un(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qR(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!qR(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(LT(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(BR(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(BR(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function BR(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function qR(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function WR(e){return KR.apply(this,arguments)}function KR(){return KR=vo(ho().mark((function e(t){var n,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",eN(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),KR.apply(this,arguments)}var HR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GR=/^https?/;function QR(){return QR=vo(ho().mark((function e(t){var n,r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WR(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ec(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$R(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:MT(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),QR.apply(this,arguments)}function $R(e){var t=KT(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!GR.test(r))return!1;if(HR.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var YR=new QT(3e4,6e4);function XR(){var e=pP().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=At(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var JR=null;function ZR(e){return JR=JR||function(e){return new Promise((function(t,n){var r,i,a;function o(){XR(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){XR(),n(LT(e,"network-request-failed"))},timeout:YR.get()})}if(null===(i=null===(r=pP().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=pP().gapi)||void 0===a?void 0:a.load)){var u=FP("iframefcb");return pP()[u]=function(){gapi.load?o():n(LT(e,"network-request-failed"))},LP("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw JR=null,e}))}(e),JR}var eD=new QT(5e3,15e3),tD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rD(e){var t=e.config;UT(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$T(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gl},i=nD.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Gc(r).slice(1))}function iD(e){return aD.apply(this,arguments)}function aD(){return aD=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZR(t);case 2:return n=e.sent,UT(r=pP().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:rD(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tD,dontclear:!0},(function(e){return new Promise(function(){var n=vo(ho().mark((function n(r,i){var a,o,u;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){pP().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=LT(t,"network-request-failed"),o=pP().setTimeout((function(){i(a)}),eD.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),aD.apply(this,arguments)}var oD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uD="_blank",sD="http://localhost",cD=function(){function e(t){jn(this,e),this.window=t,this.associatedEvent=null}return Un(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function lD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},oD),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Rc().toLowerCase();n&&(u=zN(l)?uD:n),VN(l)&&(t=t||sD,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(GN(l)&&"_self"!==u)return fD(t||"",u),new cD(null);var d=window.open(t||"",u,f);UT(d,e,"popup-blocked");try{d.focus()}catch(h){}return new cD(d)}function fD(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var dD="__/auth/handler",hD="emulator/auth/handler";function pD(e,t,n,r,i,a){UT(e.config.authDomain,e,"auth-domain-config-required"),UT(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gl,eventId:i};if(t instanceof UA){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],d=l[1];o[f]=d}}if(t instanceof zA){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(dD);return $T(t,hD)}(e),"?").concat(Gc(p).slice(1))}var vD="webStorageSupport",mD=function(){function e(){jn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cP,this._completeRedirectFn=FR,this._overrideRedirectResult=_R}return Un(e,[{key:"_openPopup",value:function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BT(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=pD(t,n,r,KT(),i),e.abrupt("return",lD(t,o,dP()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vo(ho().mark((function e(t,n,r,i){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=pD(t,n,r,KT(),i),pP().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(BT(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iD(t);case 2:return n=e.sent,r=new zR(t),n.register("authEvent",(function(e){return UT(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(vD,{type:vD},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),MT(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return QR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $N()||UN()||HN()}}]),e}(),yD=mD,gD=function(){function e(t){jn(this,e),this.factorId=t}return Un(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return zT("unexpected MultiFactorSessionType")}}}]),e}(),bD=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;return jn(this,n),(r=t.call(this,"phone")).credential=e,r}return Un(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return eN(e,"POST","/v2/accounts/mfaEnrollment:finalize",ZT(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return eN(e,"POST","/v2/accounts/mfaSignIn:finalize",ZT(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(gD),kD=function(){function e(){jn(this,e)}return Un(e,null,[{key:"assertion",value:function(e){return bD._fromCredential(e)}}]),e}();kD.FACTOR_ID="phone";var wD,xD="@firebase/auth",ED="0.20.6",ID=function(){function e(t){jn(this,e),this.auth=t,this.internalListeners=new Map}return Un(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){UT(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function CD(){return window}wD="Browser",Ul(new el("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){UT(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),UT(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:wD,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(wD)},i=new JN(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(WT);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ul(new el("auth-internal",(function(e){return function(e){return new ID(e)}(ZN(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zl(xD,ED,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wD)),Zl(xD,ED,"esm2017");function _D(e,t,n){return SD.apply(this,arguments)}function SD(){return SD=vo(ho().mark((function e(t,n,r){var i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=CD(),o=a.BuildInfo,BT(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,RD(n.sessionId);case 4:return u=e.sent,s={},HN()?s.ibi=o.packageName:qN()?s.apn=o.packageName:MT(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",pD(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),SD.apply(this,arguments)}function TD(){return TD=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=CD(),r=n.BuildInfo,i={},HN()?i.iosBundleId=r.packageName:qN()?i.androidPackageName=r.packageName:MT(t,"operation-not-supported-in-this-environment"),e.next=5,WR(t,i);case 5:case"end":return e.stop()}}),e)}))),TD.apply(this,arguments)}function ND(e){var t=CD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function AD(e,t,n){return OD.apply(this,arguments)}function OD(){return OD=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=CD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(LT(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),qN()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),OD.apply(this,arguments)}function PD(e){var t,n,r,i,a,o,u,s,c,l,f=CD();UT("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),UT("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),UT("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),UT("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),UT("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function RD(e){return DD.apply(this,arguments)}function DD(){return(DD=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=MD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MD(e){if(BT(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var LD=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Un(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),_f(qn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zR);function FD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:BD(),postBody:null,tenantId:e.tenantId,error:LT(e,"no-auth-event")}}function jD(e,t){return qD()._set(WD(e),t)}function VD(e){return UD.apply(this,arguments)}function UD(){return UD=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qD()._get(WD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,qD()._remove(WD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),UD.apply(this,arguments)}function zD(e,t){var n,r,i=function(e){var t=KD(e),n=t.link?decodeURIComponent(t.link):void 0,r=KD(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return KD(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=KD(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?LT(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function BD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function qD(){return WT(uP)}function WD(e){return LN("authEvent",e.config.apiKey,e.name)}function KD(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=vT(e.split("?"));t[0];return Qc(t.slice(1).join("?"))}var HD=function(){function e(){jn(this,e),this._redirectPersistence=cP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=FR,this._overrideRedirectResult=_R}return Un(e,[{key:"_initialize",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new LD(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){MT(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return PD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),kR.clear(),e.next=10,this._originValidation(t);case 10:return o=FD(t,r,i),e.next=13,jD(t,o);case 13:return e.next=15,_D(t,o,n);case 15:return u=e.sent,e.next=18,ND(u);case 18:return s=e.sent,e.abrupt("return",AD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return TD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=CD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,VD(e);case 2:t.onEvent(QD());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=vo(ho().mark((function n(r){var i,a;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,VD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=zD(i,r.url)),t.onEvent(a||QD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");CD().handleOpenURL=function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),GD=HD;function QD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:LT("no-auth-event")}}function $D(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function YD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return!("file:"!==$D()&&"ionic:"!==$D()&&"capacitor:"!==$D()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function XD(){return jc()&&11===(null===document||void 0===document?void 0:document.documentMode)}function JD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/Edge\/\d+/.test(e)}function ZD(){try{var e=self.localStorage,t=dP();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return XD()||JD(e)}()||Vc()}catch(n){return eM()&&Vc()}return!1}function eM(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function tM(){return("http:"===$D()||"https:"===$D()||Lc()||YD())&&!(Fc()||Mc())&&ZD()&&!eM()}function nM(){return YD()&&"undefined"!==typeof document}function rM(){return iM.apply(this,arguments)}function iM(){return(iM=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nM()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aM={LOCAL:"local",NONE:"none",SESSION:"session"},oM=UT,uM="persistence";function sM(e,t){oM(Object.values(aM).includes(t),e,"invalid-persistence-type"),Fc()?oM(t!==aM.SESSION,e,"unsupported-persistence-type"):Mc()?oM(t===aM.NONE,e,"unsupported-persistence-type"):eM()?oM(t===aM.NONE||t===aM.LOCAL&&Vc(),e,"unsupported-persistence-type"):oM(t===aM.NONE||ZD(),e,"unsupported-persistence-type")}function cM(e){return lM.apply(this,arguments)}function lM(){return lM=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fM(),r=LN(uM,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),lM.apply(this,arguments)}function fM(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var dM=UT,hM=function(){function e(){jn(this,e),this.browserResolver=WT(yD),this.cordovaResolver=WT(GD),this.underlyingResolver=null,this._redirectPersistence=cP,this._completeRedirectFn=FR,this._overrideRedirectResult=_R}return Un(e,[{key:"_initialize",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=vo(ho().mark((function e(t,n,r,i){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vo(ho().mark((function e(t,n,r,i){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nM()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return dM(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rM();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pM(e){return e.unwrap()}function vM(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new kM(e,function(e,t){var n,r=Zc(e),i=t;return UT(t.customData.operationType,r,"argument-error"),UT(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ZO._fromError(r,i)}(e,t));else if(i){var a=mM(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function mM(e){var t=(e instanceof Uc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Uc)&&"temporaryProof"in t&&"phoneNumber"in t)return aR.credentialFromResult(e);var n,r=t.providerId;if(!r||r===wT)return null;switch(r){case kT:n=WA;break;case gT:n=qA;break;case bT:n=KA;break;case xT:n=QA;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?HA._create(r,u):AA._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new BA(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Uc?n.credentialFromError(e):n.credentialFromResult(e)}function yM(e,t){return t.catch((function(t){throw t instanceof Uc&&vM(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,mM(t)),additionalUserInfo:XO(e),user:wM.getOrCreate(r)}}))}function gM(e,t){return bM.apply(this,arguments)}function bM(){return bM=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return yM(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),bM.apply(this,arguments)}var kM=function(){function e(t,n){jn(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return Un(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return yM(pM(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wM=function(){function e(t){jn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Zc(e);return rP.has(t)||rP.set(t,nP._fromUser(t)),rP.get(t)}(t)}return Un(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yM(this.auth,vO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gM(this.auth,ZP(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yM(this.auth,yR(this._delegate,t,hM)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cM(ZN(this.auth));case 2:return e.abrupt("return",RR(this._delegate,t,hM));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yM(this.auth,yO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gM(this.auth,function(e,t,n){return tR.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return yM(this.auth,function(e,t,n){return mR.apply(this,arguments)}(this._delegate,e,hM))}},{key:"reauthenticateWithRedirect",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cM(ZN(this.auth));case 2:return e.abrupt("return",OR(this._delegate,t,hM));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return jO.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rO(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return qO(Zc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return qO(Zc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return iR.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return BO.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return VO.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wM.USER_MAP=new WeakMap;var xM=UT,EM=function(){function e(t,n){if(jn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;xM(r,"invalid-api-key",{appName:t.name}),xM(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?hM:void 0;this._delegate=n.initialize({options:{persistence:CM(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(AT),this.linkUnderlyingAuth()}return Un(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wM.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){tA(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return SO.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return TO(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return _O.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yM(this._delegate,OO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return FO.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=jA.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xM(tM(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,MR(this._delegate,hM);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",yM(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ZN(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=IM(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=IM(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return RO.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return CO.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sM(this._delegate,t),e.t0=t,e.next=e.t0===aM.SESSION?4:e.t0===aM.LOCAL?6:e.t0===aM.NONE?11:13;break;case 4:return n=cP,e.abrupt("break",14);case 6:return e.next=8,WT(PP)._isAvailable();case 8:return r=e.sent,n=r?PP:uP,e.abrupt("break",14);case 11:return n=MN,e.abrupt("break",14);case 13:return e.abrupt("return",MT("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return yM(this._delegate,function(e){return ZA.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return yM(this._delegate,hO(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return yM(this._delegate,function(e,t){return wO.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return yM(this._delegate,function(e,t,n){return hO(Zc(e),VA.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return yM(this._delegate,function(e,t,n){return DO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gM(this._delegate,function(e,t,n){return JP.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xM(tM(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",yM(this._delegate,pR(this._delegate,t,hM)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xM(tM(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cM(this._delegate);case 3:return e.abrupt("return",NR(this._delegate,t,hM));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return AO.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function IM(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wM.getOrCreate(e))},error:t,complete:n}}function CM(e,t){var n=function(e,t){var n=fM();if(!n)return[];var r=LN(uM,e,t);switch(n.getItem(r)){case aM.NONE:return[MN];case aM.LOCAL:return[PP,cP];case aM.SESSION:return[cP];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(PP)||n.push(PP),"undefined"!==typeof window)for(var r=0,i=[uP,cP];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(MN)||n.push(MN),n}EM.Persistence=aM;var _M=function(){function e(){jn(this,e),this.providerId="phone",this._delegate=new aR(pM(If.auth()))}return Un(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return aR.credential(e,t)}}]),e}();_M.PHONE_SIGN_IN_METHOD=aR.PHONE_SIGN_IN_METHOD,_M.PROVIDER_ID=aR.PROVIDER_ID;var SM=UT,TM=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:If.app();jn(this,e),SM(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $P(t,n,i.auth()),this.type=this._delegate.type}return Un(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new el("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new EM(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ET,PASSWORD_RESET:IT,RECOVER_EMAIL:CT,REVERT_SECOND_FACTOR_ADDITION:_T,VERIFY_AND_CHANGE_EMAIL:ST,VERIFY_EMAIL:TT}},EmailAuthProvider:VA,FacebookAuthProvider:qA,GithubAuthProvider:KA,GoogleAuthProvider:WA,OAuthProvider:BA,SAMLAuthProvider:GA,PhoneAuthProvider:_M,PhoneMultiFactorGenerator:kD,RecaptchaVerifier:TM,TwitterAuthProvider:QA,Auth:EM,AuthCredential:iA,Error:Uc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.19")}(If);var NM=function(e){var t=e.session,n=e.auth,r=e.width<=414;t.isLoggedIn()&&(window.location.href="/#/home");var i=function(e){var t=new If.auth.GoogleAuthProvider;n.signInWithPopup(t)},a=function(e){var t=new If.auth.FacebookAuthProvider;n.signInWithPopup(t)};return r?(0,gc.jsxs)(us,{title:"Login",className:"p-3 mt-5",children:[(0,gc.jsx)("div",{className:"pt-3",children:(0,gc.jsx)(yc,{onClick:i,children:"Sign in with Google"})}),(0,gc.jsx)("div",{className:"pt-3",children:(0,gc.jsx)(yc,{onClick:a,children:"Sign in with Facebook"})})]}):(0,gc.jsxs)("div",{className:"w-full overflow-auto",children:[(0,gc.jsx)("div",{id:"image",class:"float-left w-1/2",children:(0,gc.jsx)("img",{src:"login_banner.jpg"})}),(0,gc.jsxs)("div",{id:"login-panel",class:"float-right w-1/2  pt-12",children:[(0,gc.jsx)("h4",{children:"Login"}),(0,gc.jsx)("div",{children:(0,gc.jsx)(yc,{type:"primary",size:"large",onClick:i,children:"Sign in with Google"})}),(0,gc.jsx)("div",{children:(0,gc.jsx)(yc,{type:"primary",size:"large",onClick:a,children:"Sign in with Facebook"})})]})]})};function AM(){return(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("div",{children:"Privacy Policy"}),(0,gc.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function OM(){return(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("div",{children:"Terms"}),(0,gc.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function PM(){return(0,gc.jsx)("div",{children:"ResetPassword"})}function RM(){return(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("div",{className:"text-xl pb-0 pt-1",children:"Wombol Alpha 0.2.04 is where you can learn for free."}),(0,gc.jsx)("div",{className:"h-full",children:(0,gc.jsx)("div",{className:"flyingObject"})})]})}var DM="RC_FORM_INTERNAL_HOOKS",MM=function(){Je(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},LM=r.createContext({getFieldValue:MM,getFieldsValue:MM,getFieldError:MM,getFieldWarning:MM,getFieldsError:MM,isFieldsTouched:MM,isFieldTouched:MM,isFieldValidating:MM,isFieldsValidating:MM,resetFields:MM,setFields:MM,setFieldValue:MM,setFieldsValue:MM,validateFields:MM,submit:MM,getInternalHooks:function(){return MM(),{dispatch:MM,initEntityValue:MM,registerField:MM,useSubscribe:MM,setInitialValues:MM,destroyForm:MM,setCallbacks:MM,registerWatch:MM,getFields:MM,setValidateMessages:MM,setPreserve:MM,getInitialValue:MM}}});function FM(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function jM(){return jM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jM.apply(this,arguments)}function VM(e){return VM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VM(e)}function UM(e,t){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UM(e,t)}function zM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function BM(e,t,n){return BM=zM()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&UM(i,n.prototype),i},BM.apply(null,arguments)}function qM(e){var t="function"===typeof Map?new Map:void 0;return qM=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return BM(e,arguments,VM(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),UM(n,e)},qM(e)}var WM=/%[sdj%]/g;function KM(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function HM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(WM,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function GM(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function QM(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var $M=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,UM(t,n),r}(qM(Error));function YM(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);QM(o,n,(function(e){return r(e),e.length?a(new $M(e,KM(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new $M(l,KM(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?QM(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function XM(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function JM(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=jM({},e[n],r):e[n]=r}return e}var ZM,eL=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!GM(t,a||e.type)||r.push(HM(i.messages.required,e.fullField))},tL=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,nL=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,rL={integer:function(e){return rL.number(e)&&parseInt(e,10)===e},float:function(e){return rL.number(e)&&!rL.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!rL.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(tL)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(ZM)return ZM;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),u=new RegExp("^"+i+"$"),s=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};s.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},s.v6=function(e){return e&&e.exact?u:new RegExp(""+t(e)+i+t(e),"g")};var c=s.v4().source,l=s.v6().source;return ZM=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(nL)}},iL={required:eL,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(HM(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)eL(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?rL[a](t)||r.push(HM(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(HM(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(l?c="number":f?c="string":d&&(c="array"),!c)return!1;d&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(HM(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(HM(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(HM(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(HM(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(HM(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(HM(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(HM(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},aL=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t,a)&&!e.required)return n();iL.required(e,t,r,o,i,a),GM(t,a)||iL.type(e,t,r,o,i)}n(o)},oL={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t,"string")&&!e.required)return n();iL.required(e,t,r,a,i,"string"),GM(t,"string")||(iL.type(e,t,r,a,i),iL.range(e,t,r,a,i),iL.pattern(e,t,r,a,i),!0===e.whitespace&&iL.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&iL.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&(iL.type(e,t,r,a,i),iL.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&iL.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),GM(t)||iL.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&(iL.type(e,t,r,a,i),iL.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&(iL.type(e,t,r,a,i),iL.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();iL.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(iL.type(e,t,r,a,i),iL.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&iL.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i),void 0!==t&&iL.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t,"string")&&!e.required)return n();iL.required(e,t,r,a,i),GM(t,"string")||iL.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t,"date")&&!e.required)return n();var o;if(iL.required(e,t,r,a,i),!GM(t,"date"))o=t instanceof Date?t:new Date(t),iL.type(e,o,r,a,i),o&&iL.range(e,o.getTime(),r,a,i)}n(a)},url:aL,hex:aL,email:aL,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;iL.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(GM(t)&&!e.required)return n();iL.required(e,t,r,a,i)}n(a)}};function uL(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var sL=uL(),cL=function(){function e(e){this.rules=null,this._messages=sL,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=JM(uL(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===sL&&(s=uL()),JM(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=jM({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:jM({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return YM(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return jM({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(XM(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(XM(i,a)):o.error&&(f=[o.error(i,HM(o.messages.required,i.field))]),n(f);var d={};i.defaultField&&Object.keys(t.value).map((function(e){d[e]=i.defaultField})),d=jM({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(s.bind(null,e))}));var p=new e(h);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(f){null==console.error||console.error(f),o.suppressValidatorError||setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=KM(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!oL.hasOwnProperty(e.type))throw new Error(HM("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?oL.required:oL[this.getType(e)]||void 0},e}();cL.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");oL[e]=t},cL.warning=function(){},cL.messages=sL,cL.validators=oL;var lL="'${name}' is not a valid ${type}",fL={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:lL,method:lL,array:lL,object:lL,number:lL,date:lL,boolean:lL,integer:lL,float:lL,regexp:lL,email:lL,url:lL,hex:lL},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function dL(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function hL(e,t,n,r){if(!t.length)return n;var i,a=vT(t),o=a[0],u=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?At(e):he({},e):[],r&&void 0===n&&1===u.length?delete i[o][u[0]]:i[o]=hL(i[o],u,n,r),i}function pL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!dL(e,t.slice(0,-1))?e:hL(e,t,n,r)}function vL(e){return Array.isArray(e)?function(e){return e.map((function(e){return vL(e)}))}(e):"object"===q(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=vL(e[n]);return t}return e}(e):e}var mL=vL;function yL(e){return FM(e)}function gL(e,t){return dL(e,t)}function bL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=pL(e,t,n,r);return i}function kL(e,t){var n={};return t.forEach((function(t){var r=gL(e,t);n=bL(n,t,r)})),n}function wL(e,t){return e&&e.some((function(e){return CL(e,t)}))}function xL(e){return"object"===q(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function EL(e,t){var n=Array.isArray(e)?At(e):he({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=xL(r)&&xL(i);n[e]=a?EL(r,i||{}):mL(i)})),n):n}function IL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return EL(e,t)}),e)}function CL(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function _L(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===q(t.target)&&e in t.target?t.target[e]:t}function SL(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(At(e.slice(0,n)),[i],At(e.slice(n,t)),At(e.slice(t+1,r))):a<0?[].concat(At(e.slice(0,t)),At(e.slice(t+1,n+1)),[i],At(e.slice(n+1,r))):e}var TL=cL;function NL(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var AL="CODE_LOGIC_ERROR";function OL(e,t,n,r,i){return PL.apply(this,arguments)}function PL(){return PL=vo(ho().mark((function e(t,n,i,a,o){var u,s,c,l,f,d,h,p,v;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=he({},i)).ruleIndex,u.validator&&(s=u.validator,u.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(AL)}}),c=null,u&&"array"===u.type&&u.defaultField&&(c=u.defaultField,delete u.defaultField),l=new TL(B({},t,[u])),f=IL({},fL,a.validateMessages),l.messages(f),d=[],e.prev=9,e.next=12,Promise.resolve(l.validate(B({},t,n),he({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(d=e.t0.errors.map((function(e,t){var n=e.message,i=n===AL?f.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(d.length||!c){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return OL("".concat(t,".").concat(n),e,c,a,o)})));case 20:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat(At(e),At(t))}),[]));case 22:return p=he(he({},i),{},{name:t,enum:(i.enum||[]).join(", ")},o),v=d.map((function(e){return"string"===typeof e?NL(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),PL.apply(this,arguments)}function RL(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=he(he({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Je(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Je(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=vo(ho().mark((function e(n,i){var o,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,OL(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return OL(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return ML.apply(this,arguments)}(c):function(e){return DL.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function DL(){return(DL=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,At(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ML(){return(ML=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LL=["name"],FL=[];function jL(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var VL=function(e){Bn(n,e);var t=Gn(n);function n(e){var i;(jn(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=FL,i.warnings=FL,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,yL(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(At(void 0===n?[]:n),At(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(he(he({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),d=i.getValue(c),h=t&&wL(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=FL,i.warnings=FL,i.triggerMetaEvent()),n.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=FL,i.warnings=FL,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||FL),"warnings"in p&&(i.warnings=p.warnings||FL),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&jL(a,e,c,f,d,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(yL).some((function(e){return wL(n.relatedFields,e)})))return void i.reRender();break;default:if(h||(!u.length||l.length||a)&&jL(a,e,c,f,d,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,s=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||FM(t).includes(c)})));var f=RL(t,n,l,e,u,s);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FL;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?FL:r;t?a.push.apply(a,At(i)):n.push.apply(n,At(i))})),i.errors=n,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=FL,i.warnings=FL,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(DM).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return he(he({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=hr(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return gL(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),d=c.getInternalHooks,h=c.getFieldsValue,p=d(DM),v=p.dispatch,m=i.getValue(),y=s||function(e){return B({},u,e)},g=e[n],b=he(he({},e),y(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):_L.apply(void 0,[u].concat(n)),o&&(e=o(e,m,h(!0))),v({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var k=FM(l||[]);return k.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(DM).initEntityValue)(Kn(i));return i}return Un(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(DM).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):(Je(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);VL.contextType=LM,VL.defaultProps={trigger:"onChange",valuePropName:"value"};var UL=function(e){var t=e.name,n=Ee(e,LL),i=r.useContext(LM),a=void 0!==t?yL(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),r.createElement(VL,l({key:o,name:a},n,{fieldContext:i}))},zL=r.createContext(null),BL=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=r.useContext(LM),s=r.useRef({keys:[],id:0}).current,c=r.useMemo((function(){var e=yL(u.prefixName)||[];return[].concat(At(e),At(yL(t)))}),[u.prefixName,t]),l=r.useMemo((function(){return he(he({},u),{},{prefixName:c})}),[u,c]),f=r.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return Je(!1,"Form.List only accepts function as children."),null;return r.createElement(zL.Provider,{value:f},r.createElement(LM.Provider,{value:l},r.createElement(UL,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,l=function(){return o(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat(At(s.keys.slice(0,t)),[s.id],At(s.keys.slice(t))),a([].concat(At(n.slice(0,t)),[e],At(n.slice(t))))):(s.keys=[].concat(At(s.keys),[s.id]),a([].concat(At(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=SL(s.keys,e,t),a(SL(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),i(d.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var qL="__@field_split__";function WL(e){return e.map((function(e){return"".concat(q(e),":").concat(e)})).join(qL)}var KL=function(){function e(){jn(this,e),this.kvs=new Map}return Un(e,[{key:"set",value:function(e,t){this.kvs.set(WL(e),t)}},{key:"get",value:function(e){return this.kvs.get(WL(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(WL(e))}},{key:"map",value:function(e){return At(this.kvs.entries()).map((function(t){var n=c(t,2),r=n[0],i=n[1],a=r.split(qL);return e({key:a.map((function(e){var t=c(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),HL=KL,GL=["name","errors"],QL=Un((function e(t){var n=this;jn(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===DM?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Je(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=IL({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=bL(i,n,gL(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new HL;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=gL(n.initialValues,e);return e.length?mL(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new HL;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=yL(e);return t.get(n)||{INVALIDATE_NAME_PATH:yL(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),kL(n.store,i.map(yL))},this.getFieldValue=function(e){n.warningUnhooked();var t=yL(e);return gL(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:yL(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=yL(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=yL(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(yL),u=!1):(i=null,u=a):(i=a.map(yL),u=o);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?s.every(c):s.some(c);var l=new HL;i.forEach((function(e){l.set(e,[])})),s.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(At(t),[e])}))}))}));var f=function(e){return e.some(c)},d=l.map((function(e){return e.value}));return u?d.every(f):d.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(yL);return t.some((function(e){var t=e.getNamePath();return wL(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new HL,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Je(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)Je(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(bL(n.store,i,At(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,At(At(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(IL({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(yL);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(bL(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,Ee(e,GL)),o=yL(i);r.push(o),"value"in a&&n.updateStore(bL(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=he(he({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===gL(n.store,r)&&n.updateStore(bL(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!CL(e.getNamePath(),t)}))){var u=n.store;n.updateStore(bL(u,t,o,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=he(he({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(At(r))}),r},this.updateValue=function(e,t){var r=yL(e),i=n.store;n.updateStore(bL(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(kL(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(At(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=IL(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new HL;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=yL(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new HL;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return wL(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(yL):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var s=o.getNamePath();if(!r||wL(i,s)){var c=o.validateRules(he({validateMessages:he(he({},fL),n.validateMessages)},t));a.push(c.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,At(i)):n.push.apply(n,At(i))})),n.length?Promise.reject({name:s,errors:n,warnings:r}):{name:s,errors:n,warnings:r}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var $L=function(e){var t=r.useRef(),n=c(r.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var i=new QL((function(){n({})}));t.current=i.getForm()}return[t.current]},YL=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),XL=YL,JL=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ZL=function(e,t){var n=e.name,i=e.initialValues,a=e.fields,o=e.form,u=e.preserve,s=e.children,f=e.component,d=void 0===f?"form":f,h=e.validateMessages,p=e.validateTrigger,v=void 0===p?"onChange":p,m=e.onValuesChange,y=e.onFieldsChange,g=e.onFinish,b=e.onFinishFailed,k=Ee(e,JL),w=r.useContext(XL),x=c($L(o),1)[0],E=x.getInternalHooks(DM),I=E.useSubscribe,C=E.setInitialValues,_=E.setCallbacks,S=E.setValidateMessages,T=E.setPreserve,N=E.destroyForm;r.useImperativeHandle(t,(function(){return x})),r.useEffect((function(){return w.registerForm(n,x),function(){w.unregisterForm(n)}}),[w,x,n]),S(he(he({},w.validateMessages),h)),_({onValuesChange:m,onFieldsChange:function(e){if(w.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];y.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:b}),T(u);var A,O=r.useRef(null);C(i,!O.current),O.current||(O.current=!0),r.useEffect((function(){return N}),[]);var P="function"===typeof s;P?A=s(x.getFieldsValue(!0),x):A=s;I(!P);var R=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==q(e)||"object"!==q(t))return!1;var n=Object.keys(e),r=Object.keys(t);return At(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(R.current||[],a||[])||x.setFields(a||[]),R.current=a}),[a,x]);var D=r.useMemo((function(){return he(he({},x),{},{validateTrigger:v})}),[x,v]),M=r.createElement(LM.Provider,{value:D},A);return!1===d?M:r.createElement(d,l({},k,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x.submit()},onReset:function(e){var t;e.preventDefault(),x.resetFields(),null===(t=k.onReset)||void 0===t||t.call(k,e)}}),M)};function eF(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var tF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),i=c(n,2),a=i[0],o=i[1],u=(0,r.useMemo)((function(){return eF(a)}),[a]),s=(0,r.useRef)(u);s.current=u;var l=(0,r.useContext)(LM),f=t||l,d=f&&f._init,h=yL(e),p=(0,r.useRef)(h);return p.current=h,(0,r.useEffect)((function(){if(d){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(DM).registerWatch)((function(e){var t=gL(e,p.current),n=eF(t);s.current!==n&&(s.current=n,o(t))})),n=gL(e(),p.current);return o(n),t}}),[]),a},nF=r.forwardRef(ZL);nF.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,o=r.useContext(YL),u=r.useRef({});return r.createElement(YL.Provider,{value:he(he({},o),{},{validateMessages:he(he({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=he(he({},u.current),{},B({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=he({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},nF.Field=UL,nF.List=BL,nF.useForm=$L,nF.useWatch=tF;var rF=r.createContext({}),iF=function(e){var t=e.children,n=e.status,i=e.override,a=(0,r.useContext)(rF),o=(0,r.useMemo)((function(){var e=l({},a);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,a]);return r.createElement(rF.Provider,{value:o},t)},aF=function(e){var t,n=(0,r.useContext)(H),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,u=e.className,s=void 0===u?"":u,c=i("input-group",o),f=K()(c,(B(t={},"".concat(c,"-lg"),"large"===e.size),B(t,"".concat(c,"-sm"),"small"===e.size),B(t,"".concat(c,"-compact"),e.compact),B(t,"".concat(c,"-rtl"),"rtl"===a),t),s),d=(0,r.useContext)(rF),h=(0,r.useMemo)((function(){return l(l({},d),{isFormItemInput:!1})}),[d]);return r.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(rF.Provider,{value:h},e.children))};function oF(e){return!(!e.addonBefore&&!e.addonAfter)}function uF(e){return!!(e.prefix||e.suffix||e.allowClear)}function sF(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function cF(e){return"undefined"===typeof e||null===e?"":String(e)}var lF=function(e){var t=e.inputElement,n=e.prefixCls,i=e.prefix,a=e.suffix,o=e.addonBefore,u=e.addonAfter,s=e.className,c=e.style,l=e.affixWrapperClassName,f=e.groupClassName,d=e.wrapperClassName,h=e.disabled,p=e.readOnly,v=e.focused,m=e.triggerFocus,y=e.allowClear,g=e.value,b=e.handleReset,k=e.hidden,w=(0,r.useRef)(null),x=(0,r.cloneElement)(t,{value:g,hidden:k});if(uF(e)){var E,I="".concat(n,"-affix-wrapper"),C=K()(I,(B(E={},"".concat(I,"-disabled"),h),B(E,"".concat(I,"-focused"),v),B(E,"".concat(I,"-readonly"),p),B(E,"".concat(I,"-input-with-clear-btn"),a&&y&&g),E),!oF(e)&&s,l),_=(a||y)&&r.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!y)return null;var t=!h&&!p&&g,i="".concat(n,"-clear-icon"),o="object"===q(y)&&(null===y||void 0===y?void 0:y.clearIcon)?y.clearIcon:"\u2716";return r.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:K()(i,(e={},B(e,"".concat(i,"-hidden"),!t),B(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);x=r.createElement("span",{className:C,style:c,hidden:!oF(e)&&k,onMouseDown:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===m||void 0===m||m())},ref:w},i&&r.createElement("span",{className:"".concat(n,"-prefix")},i),(0,r.cloneElement)(t,{style:null,value:g,hidden:null}),_)}if(oF(e)){var S="".concat(n,"-group"),T="".concat(S,"-addon"),N=K()("".concat(n,"-wrapper"),S,d),A=K()("".concat(n,"-group-wrapper"),s,f);return r.createElement("span",{className:A,style:c,hidden:k},r.createElement("span",{className:N},o&&r.createElement("span",{className:T},o),(0,r.cloneElement)(x,{style:null,hidden:null}),u&&r.createElement("span",{className:T},u)))}return x},fF=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],dF=(0,r.forwardRef)((function(e,t){var n=e.autoComplete,i=e.onChange,a=e.onFocus,o=e.onBlur,u=e.onPressEnter,s=e.onKeyDown,l=e.prefixCls,f=void 0===l?"rc-input":l,d=e.disabled,h=e.htmlSize,p=e.className,v=e.maxLength,m=e.suffix,y=e.showCount,g=e.type,b=void 0===g?"text":g,k=e.inputClassName,w=Ee(e,fF),x=c(Jt(e.defaultValue,{value:e.value}),2),E=x[0],I=x[1],C=c((0,r.useState)(!1),2),_=C[0],S=C[1],T=(0,r.useRef)(null),N=function(e){T.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(T.current,e)};(0,r.useImperativeHandle)(t,(function(){return{focus:N,blur:function(){var e;null===(e=T.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=T.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=T.current)||void 0===e||e.select()},input:T.current}})),(0,r.useEffect)((function(){S((function(e){return(!e||!d)&&e}))}),[d]);var A=function(t){void 0===e.value&&I(t.target.value),T.current&&sF(T.current,t,i)},O=function(e){u&&"Enter"===e.key&&u(e),null===s||void 0===s||s(e)},P=function(e){S(!0),null===a||void 0===a||a(e)},R=function(e){S(!1),null===o||void 0===o||o(e)};return r.createElement(lF,he(he({},w),{},{prefixCls:f,className:p,inputElement:function(){var t=pe(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return r.createElement("input",he(he({autoComplete:n},t),{},{onChange:A,onFocus:P,onBlur:R,onKeyDown:O,className:K()(f,B({},"".concat(f,"-disabled"),d),k,!oF(e)&&!uF(e)&&p),ref:T,size:h,type:b}))}(),handleReset:function(e){I(""),N(),T.current&&sF(T.current,e,i)},value:cF(E),focused:_,triggerFocus:N,suffix:function(){var e=Number(v)>0;if(m||y){var t=cF(E),n=At(t).length,i="object"===q(y)?y.formatter({value:t,count:n,maxLength:v}):"".concat(n).concat(e?" / ".concat(v):"");return r.createElement(r.Fragment,null,!!y&&r.createElement("span",{className:K()("".concat(f,"-show-count-suffix"),B({},"".concat(f,"-show-count-has-suffix"),!!m))},i),m)}return null}(),disabled:d}))})),hF=dF;re("warning","error","");function pF(e,t,n){var r;return K()((B(r={},"".concat(e,"-status-success"),"success"===t),B(r,"".concat(e,"-status-warning"),"warning"===t),B(r,"".concat(e,"-status-error"),"error"===t),B(r,"".concat(e,"-status-validating"),"validating"===t),B(r,"".concat(e,"-has-feedback"),n),r))}var vF=function(e,t){return t||e};var mF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function yF(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var gF=(0,r.forwardRef)((function(e,t){var n,i,a,o=e.prefixCls,u=e.bordered,s=void 0===u||u,c=e.status,f=e.size,d=e.disabled,h=e.onBlur,p=e.onFocus,v=e.suffix,m=e.allowClear,y=e.addonAfter,g=e.addonBefore,b=mF(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),k=r.useContext(H),w=k.getPrefixCls,x=k.direction,E=k.input,I=w("input",o),C=(0,r.useRef)(null),_=r.useContext(me),S=f||_,T=r.useContext(Ws),N=d||T,A=(0,r.useContext)(rF),O=A.status,P=A.hasFeedback,R=A.feedbackIcon,D=vF(O,c),M=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!P,L=(0,r.useRef)(M);(0,r.useEffect)((function(){M&&L.current,L.current=M}),[M]);var F=(0,r.useRef)([]),j=function(){F.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=C.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=C.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=C.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=C.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,r.useEffect)((function(){return j(),function(){return F.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var V,U=(P||v)&&r.createElement(r.Fragment,null,v,P&&R);return"object"===q(m)&&(null===m||void 0===m?void 0:m.clearIcon)?V=m:m&&(V={clearIcon:r.createElement(ms,null)}),r.createElement(hF,l({ref:rn(t,C),prefixCls:I,autoComplete:null===E||void 0===E?void 0:E.autoComplete},b,{disabled:N||void 0,onBlur:function(e){j(),null===h||void 0===h||h(e)},onFocus:function(e){j(),null===p||void 0===p||p(e)},suffix:U,allowClear:V,addonAfter:y&&r.createElement(iF,{override:!0,status:!0},y),addonBefore:g&&r.createElement(iF,{override:!0,status:!0},g),inputClassName:K()((n={},B(n,"".concat(I,"-sm"),"small"===S),B(n,"".concat(I,"-lg"),"large"===S),B(n,"".concat(I,"-rtl"),"rtl"===x),B(n,"".concat(I,"-borderless"),!s),n),!M&&pF(I,D)),affixWrapperClassName:K()((i={},B(i,"".concat(I,"-affix-wrapper-sm"),"small"===S),B(i,"".concat(I,"-affix-wrapper-lg"),"large"===S),B(i,"".concat(I,"-affix-wrapper-rtl"),"rtl"===x),B(i,"".concat(I,"-affix-wrapper-borderless"),!s),i),pF("".concat(I,"-affix-wrapper"),D,P)),wrapperClassName:K()(B({},"".concat(I,"-group-rtl"),"rtl"===x)),groupClassName:K()((a={},B(a,"".concat(I,"-group-wrapper-sm"),"small"===S),B(a,"".concat(I,"-group-wrapper-lg"),"large"===S),B(a,"".concat(I,"-group-wrapper-rtl"),"rtl"===x),a),pF("".concat(I,"-group-wrapper"),D,P))}))})),bF=gF,kF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},wF=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:kF}))};wF.displayName="EyeInvisibleOutlined";var xF=r.forwardRef(wF),EF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},IF=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:EF}))};IF.displayName="EyeOutlined";var CF=r.forwardRef(IF),_F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},SF={click:"onClick",hover:"onMouseOver"},TF=r.forwardRef((function(e,t){var n=c((0,r.useState)(!1),2),i=n[0],a=n[1],o=function(){e.disabled||a(!i)},u=function(n){var a=n.getPrefixCls,u=e.className,s=e.prefixCls,c=e.inputPrefixCls,f=e.size,d=e.visibilityToggle,h=_F(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),p=a("input",c),v=a("input-password",s),m=d&&function(t){var n,a=e.action,u=e.iconRender,s=SF[a]||"",c=(void 0===u?function(){return null}:u)(i),l=(B(n={},s,o),B(n,"className","".concat(t,"-icon")),B(n,"key","passwordIcon"),B(n,"onMouseDown",(function(e){e.preventDefault()})),B(n,"onMouseUp",(function(e){e.preventDefault()})),n);return r.cloneElement(r.isValidElement(c)?c:r.createElement("span",null,c),l)}(v),y=K()(v,u,B({},"".concat(v,"-").concat(f),!!f)),g=l(l({},pe(h,["suffix","iconRender"])),{type:i?"text":"password",className:y,prefixCls:p,suffix:m});return f&&(g.size=f),r.createElement(bF,l({ref:t},g))};return r.createElement(G,null,u)}));TF.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?r.createElement(CF,null):r.createElement(xF,null)}};var NF=TF,AF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},OF=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:AF}))};OF.displayName="SearchOutlined";var PF=r.forwardRef(OF),RF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},DF=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=e.inputPrefixCls,u=e.className,s=e.size,c=e.suffix,f=e.enterButton,d=void 0!==f&&f,h=e.addonAfter,p=e.loading,v=e.disabled,m=e.onSearch,y=e.onChange,g=e.onCompositionStart,b=e.onCompositionEnd,k=RF(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),w=r.useContext(H),x=w.getPrefixCls,E=w.direction,I=r.useContext(me),C=r.useRef(!1),_=s||I,S=r.useRef(null),T=function(e){var t;document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input)&&e.preventDefault()},N=function(e){var t,n;m&&m(null===(n=null===(t=S.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},A=x("input-search",a),O=x("input",o),P="boolean"===typeof d?r.createElement(PF,null):null,R="".concat(A,"-button"),D=d||{},M=D.type&&!0===D.type.__ANT_BUTTON;i=M||"button"===D.type?Hs(D,l({onMouseDown:T,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),N(e)},key:"enterButton"},M?{className:R,size:_}:{})):r.createElement(yc,{className:R,type:d?"primary":void 0,size:_,disabled:v,key:"enterButton",onMouseDown:T,onClick:N,loading:p,icon:P},d),h&&(i=[i,Hs(h,{key:"addonAfter"})]);var L=K()(A,(B(n={},"".concat(A,"-rtl"),"rtl"===E),B(n,"".concat(A,"-").concat(_),!!_),B(n,"".concat(A,"-with-button"),!!d),n),u);return r.createElement(bF,l({ref:rn(S,t),onPressEnter:function(e){C.current||N(e)}},k,{size:_,onCompositionStart:function(e){C.current=!0,null===g||void 0===g||g(e)},onCompositionEnd:function(e){C.current=!1,null===b||void 0===b||b(e)},prefixCls:O,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),y&&y(e)},className:L,disabled:v}))}));var MF,LF,FF=DF,jF="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",VF=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],UF={};function zF(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&UF[n])return UF[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u=VF.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),s={sizingStyle:u,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(UF[n]=s),s}!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(LF||(LF={}));var BF=function(e){Bn(n,e);var t=Gn(n);function n(e){var i;return jn(this,n),(i=t.call(this,e)).nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=i.props,r=n.autoSize,a=n.onResize;t===LF.NONE&&("function"===typeof a&&a(e),r&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e=i.props.autoSize;if(e&&i.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;MF||((MF=document.createElement("textarea")).setAttribute("tab-index","-1"),MF.setAttribute("aria-hidden","true"),document.body.appendChild(MF)),e.getAttribute("wrap")?MF.setAttribute("wrap",e.getAttribute("wrap")):MF.removeAttribute("wrap");var i=zF(e,t),a=i.paddingSize,o=i.borderSize,u=i.boxSizing,s=i.sizingStyle;MF.setAttribute("style","".concat(s,";").concat(jF)),MF.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=MF.scrollHeight;if("border-box"===u?d+=o:"content-box"===u&&(d-=a),null!==n||null!==r){MF.value=" ";var h=MF.scrollHeight-a;null!==n&&(l=h*n,"border-box"===u&&(l=l+a+o),d=Math.max(l,d)),null!==r&&(f=h*r,"border-box"===u&&(f=f+a+o),c=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(i.textArea,!1,t,n);i.setState({textareaStyles:r,resizeStatus:LF.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:LF.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:LF.NONE}),i.fixFirefoxAutoScroll()}))}))}))}))}},i.renderTextArea=function(){var e=i.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,a=e.autoSize,o=e.onResize,u=e.className,s=e.disabled,c=i.state,f=c.textareaStyles,d=c.resizeStatus,h=pe(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),p=K()(n,u,B({},"".concat(n,"-disabled"),s));"value"in h&&(h.value=h.value||"");var v=he(he(he({},i.props.style),f),d===LF.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return r.createElement(Br,{onResize:i.handleResize,disabled:!(a||o)},r.createElement("textarea",l({},h,{className:p,style:v,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:LF.NONE},i}return Un(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&Xr()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(r.Component),qF=BF,WF=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;jn(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return Un(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return r.createElement(qF,l({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(r.Component),KF=WF,HF=re("text","input");var GF=function(e){Bn(n,e);var t=Gn(n);function n(){return jn(this,n),t.apply(this,arguments)}return Un(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,i=n.value,a=n.disabled,o=n.readOnly,u=n.handleReset,s=n.suffix,c=!a&&!o&&i,l="".concat(e,"-clear-icon");return r.createElement(ms,{onClick:u,onMouseDown:function(e){return e.preventDefault()},className:K()((t={},B(t,"".concat(l,"-hidden"),!c),B(t,"".concat(l,"-has-suffix"),!!s),t),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var i,a=this.props,o=a.value,u=a.allowClear,s=a.className,c=a.style,l=a.direction,f=a.bordered,d=a.hidden,h=a.status,p=n.status,v=n.hasFeedback;if(!u)return Hs(t,{value:o});var m,y=K()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),pF("".concat(e,"-affix-wrapper"),vF(p,h),v),(B(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===l),B(i,"".concat(e,"-affix-wrapper-borderless"),!f),B(i,"".concat(s),!((m=this.props).addonBefore||m.addonAfter)&&s),i));return r.createElement("span",{className:y,style:c,hidden:d},Hs(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return r.createElement(rF.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,a=n.element;if(i===HF[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),n}(r.Component),QF=GF,$F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function YF(e,t){return At(e||"").slice(0,t).join("")}function XF(e,t,n,r){var i=n;return e?i=YF(n,r):At(t||"").length<n.length&&At(n||"").length>r&&(i=t),i}var JF=r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.bordered,o=void 0===a||a,u=e.showCount,s=void 0!==u&&u,f=e.maxLength,d=e.className,h=e.style,p=e.size,v=e.disabled,m=e.onCompositionStart,y=e.onCompositionEnd,g=e.onChange,b=e.status,k=$F(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),w=r.useContext(H),x=w.getPrefixCls,E=w.direction,I=r.useContext(me),C=r.useContext(Ws),_=v||C,S=r.useContext(rF),T=S.status,N=S.hasFeedback,A=S.isFormItemInput,O=S.feedbackIcon,P=vF(T,b),R=r.useRef(null),D=r.useRef(null),M=c(r.useState(!1),2),L=M[0],F=M[1],j=r.useRef(),V=r.useRef(0),U=c(Jt(k.defaultValue,{value:k.value}),2),z=U[0],W=U[1],G=k.hidden,Q=function(e,t){void 0===k.value&&(W(e),null===t||void 0===t||t())},$=Number(f)>0,Y=x("input",i);r.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=R.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=R.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.blur()}}}));var X=r.createElement(KF,l({},pe(k,["allowClear"]),{disabled:_,className:K()((n={},B(n,"".concat(Y,"-borderless"),!o),B(n,d,d&&!s),B(n,"".concat(Y,"-sm"),"small"===I||"small"===p),B(n,"".concat(Y,"-lg"),"large"===I||"large"===p),n),pF(Y,P)),style:s?void 0:h,prefixCls:Y,onCompositionStart:function(e){F(!0),j.current=z,V.current=e.currentTarget.selectionStart,null===m||void 0===m||m(e)},onChange:function(e){var t=e.target.value;!L&&$&&(t=XF(e.target.selectionStart>=f+1||e.target.selectionStart===t.length||!e.target.selectionStart,z,t,f));Q(t),yF(e.currentTarget,e,g,t)},onCompositionEnd:function(e){var t;F(!1);var n=e.currentTarget.value;$&&(n=XF(V.current>=f+1||V.current===(null===(t=j.current)||void 0===t?void 0:t.length),j.current,n,f));n!==z&&(Q(n),yF(e.currentTarget,e,g,n)),null===y||void 0===y||y(e)},ref:R})),J=function(e){return"undefined"===typeof e||null===e?"":String(e)}(z);L||!$||null!==k.value&&void 0!==k.value||(J=YF(J,f));var Z=r.createElement(QF,l({disabled:_},k,{prefixCls:Y,direction:E,inputType:"text",value:J,element:X,handleReset:function(e){var t,n,r;Q(""),null===(t=R.current)||void 0===t||t.focus(),yF(null===(r=null===(n=R.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,g)},ref:D,bordered:o,status:b,style:s?void 0:h}));if(s||N){var ee,te=At(J).length,ne="";return ne="object"===q(s)?s.formatter({value:J,count:te,maxLength:f}):"".concat(te).concat($?" / ".concat(f):""),r.createElement("div",{hidden:G,className:K()("".concat(Y,"-textarea"),(ee={},B(ee,"".concat(Y,"-textarea-rtl"),"rtl"===E),B(ee,"".concat(Y,"-textarea-show-count"),s),B(ee,"".concat(Y,"-textarea-in-form-item"),A),ee),pF("".concat(Y,"-textarea"),P,N),d),style:h,"data-count":ne},Z,N&&r.createElement("span",{className:"".concat(Y,"-textarea-suffix")},O))}return Z})),ZF=JF,ej=bF;ej.Group=aF,ej.Search=FF,ej.TextArea=ZF,ej.Password=NF;var tj=ej;var nj=r.createContext(null),rj=nj.Provider,ij=nj,aj=r.createContext(null),oj=aj.Provider,uj=function(e){Bn(n,e);var t=Gn(n);function n(e){var r;jn(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:he(he({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return Un(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,a=t.style,o=t.name,u=t.id,s=t.type,c=t.disabled,f=t.readOnly,d=t.tabIndex,h=t.onClick,p=t.onFocus,v=t.onBlur,m=t.onKeyDown,y=t.onKeyPress,g=t.onKeyUp,b=t.autoFocus,k=t.value,w=t.required,x=Ee(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(x).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=x[t]),e}),{}),I=this.state.checked,C=K()(n,i,(B(e={},"".concat(n,"-checked"),I),B(e,"".concat(n,"-disabled"),c),e));return r.createElement("span",{className:C,style:a},r.createElement("input",l({name:o,id:u,type:s,required:w,readOnly:f,disabled:c,tabIndex:d,className:"".concat(n,"-input"),checked:!!I,onClick:h,onFocus:p,onBlur:v,onKeyUp:g,onKeyDown:m,onKeyPress:y,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:k},E)),r.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?he(he({},t),{},{checked:e.checked}):null}}]),n}(r.Component);uj.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var sj=uj,cj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lj=function(e,t){var n,i=r.useContext(ij),a=r.useContext(aj),o=r.useContext(H),u=o.getPrefixCls,s=o.direction,c=rn(t,r.useRef()),f=(0,r.useContext)(rF).isFormItemInput,d=e.prefixCls,h=e.className,p=e.children,v=e.style,m=e.disabled,y=cj(e,["prefixCls","className","children","style","disabled"]),g=u("radio",d),b="button"===((null===i||void 0===i?void 0:i.optionType)||a)?"".concat(g,"-button"):g,k=l({},y),w=r.useContext(Ws);k.disabled=m||w,i&&(k.name=i.name,k.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===i||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,t)},k.checked=e.value===i.value,k.disabled=k.disabled||i.disabled);var x=K()("".concat(b,"-wrapper"),(B(n={},"".concat(b,"-wrapper-checked"),k.checked),B(n,"".concat(b,"-wrapper-disabled"),k.disabled),B(n,"".concat(b,"-wrapper-rtl"),"rtl"===s),B(n,"".concat(b,"-wrapper-in-form-item"),f),n),h);return r.createElement("label",{className:x,style:v,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(sj,l({},k,{type:"radio",prefixCls:b,ref:c})),void 0!==p?r.createElement("span",null,p):null)};var fj=r.forwardRef(lj),dj=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPrefixCls,o=i.direction,u=r.useContext(me),s=c(Jt(e.defaultValue,{value:e.value}),2),f=s[0],d=s[1],h=e.prefixCls,p=e.className,v=void 0===p?"":p,m=e.options,y=e.buttonStyle,g=void 0===y?"outline":y,b=e.disabled,k=e.children,w=e.size,x=e.style,E=e.id,I=e.onMouseEnter,C=e.onMouseLeave,_=e.onFocus,S=e.onBlur,T=a("radio",h),N="".concat(T,"-group"),A=k;m&&m.length>0&&(A=m.map((function(e){return"string"===typeof e||"number"===typeof e?r.createElement(fj,{key:e.toString(),prefixCls:T,disabled:b,value:e,checked:f===e},e):r.createElement(fj,{key:"radio-group-value-options-".concat(e.value),prefixCls:T,disabled:e.disabled||b,value:e.value,checked:f===e.value,style:e.style},e.label)})));var O=w||u,P=K()(N,"".concat(N,"-").concat(g),(B(n={},"".concat(N,"-").concat(O),O),B(n,"".concat(N,"-rtl"),"rtl"===o),n),v);return r.createElement("div",l({},function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(e),{className:P,style:x,onMouseEnter:I,onMouseLeave:C,onFocus:_,onBlur:S,id:E,ref:t}),r.createElement(rj,{value:{onChange:function(t){var n=f,r=t.target.value;"value"in e||d(r);var i=e.onChange;i&&r!==n&&i(t)},value:f,disabled:e.disabled,name:e.name,optionType:e.optionType}},A))})),hj=r.memo(dj),pj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},vj=function(e,t){var n=r.useContext(H).getPrefixCls,i=e.prefixCls,a=pj(e,["prefixCls"]),o=n("radio",i);return r.createElement(oj,{value:"button"},r.createElement(fj,l({prefixCls:o},a,{type:"radio",ref:t})))},mj=r.forwardRef(vj),yj=fj;yj.Button=mj,yj.Group=hj,yj.__ANT_RADIO=!0;var gj=yj,bj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},kj=function(e,t){return r.createElement(xt,he(he({},e),{},{ref:t,icon:bj}))};kj.displayName="RightOutlined";var wj=r.forwardRef(kj),xj={adjustX:1,adjustY:1},Ej=[0,0],Ij={left:{points:["cr","cl"],overflow:xj,offset:[-4,0],targetOffset:Ej},right:{points:["cl","cr"],overflow:xj,offset:[4,0],targetOffset:Ej},top:{points:["bc","tc"],overflow:xj,offset:[0,-4],targetOffset:Ej},bottom:{points:["tc","bc"],overflow:xj,offset:[0,4],targetOffset:Ej},topLeft:{points:["bl","tl"],overflow:xj,offset:[0,-4],targetOffset:Ej},leftTop:{points:["tr","tl"],overflow:xj,offset:[-4,0],targetOffset:Ej},topRight:{points:["br","tr"],overflow:xj,offset:[0,-4],targetOffset:Ej},rightTop:{points:["tl","tr"],overflow:xj,offset:[4,0],targetOffset:Ej},bottomRight:{points:["tr","br"],overflow:xj,offset:[0,4],targetOffset:Ej},rightBottom:{points:["bl","br"],overflow:xj,offset:[4,0],targetOffset:Ej},bottomLeft:{points:["tl","bl"],overflow:xj,offset:[0,4],targetOffset:Ej},leftBottom:{points:["br","bl"],overflow:xj,offset:[-4,0],targetOffset:Ej}};function Cj(e){var t=e.showArrow,n=e.arrowContent,i=e.children,a=e.prefixCls,o=e.id,u=e.overlayInnerStyle,s=e.className,c=e.style;return r.createElement("div",{className:K()("".concat(a,"-content"),s),style:c},!1!==t&&r.createElement("div",{className:"".concat(a,"-arrow"),key:"arrow"},n),r.createElement("div",{className:"".concat(a,"-inner"),id:o,role:"tooltip",style:u},"function"===typeof i?i():i))}var _j=function(e,t){var n=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,u=void 0===o?0:o,s=e.mouseLeaveDelay,c=void 0===s?.1:s,f=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,p=e.children,v=e.onVisibleChange,m=e.afterVisibleChange,y=e.transitionName,g=e.animation,b=e.motion,k=e.placement,w=void 0===k?"right":k,x=e.align,E=void 0===x?{}:x,I=e.destroyTooltipOnHide,C=void 0!==I&&I,_=e.defaultVisible,S=e.getTooltipContainer,T=e.overlayInnerStyle,N=e.arrowContent,A=e.overlay,O=e.id,P=e.showArrow,R=Ee(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),D=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return D.current}));var M=he({},R);"visible"in e&&(M.popupVisible=e.visible);var L=!1,F=!1;if("boolean"===typeof C)L=C;else if(C&&"object"===q(C)){var j=C.keepParent;L=!0===j,F=!1===j}return r.createElement(No,l({popupClassName:n,prefixCls:h,popup:function(){return r.createElement(Cj,{showArrow:P,arrowContent:N,key:"content",prefixCls:h,id:O,overlayInnerStyle:T},A)},action:a,builtinPlacements:Ij,popupPlacement:w,ref:D,popupAlign:E,getPopupContainer:S,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:y,popupAnimation:g,popupMotion:b,defaultPopupVisible:_,destroyPopupOnHide:L,autoDestroy:F,mouseLeaveDelay:c,popupStyle:f,mouseEnterDelay:u},M),p)},Sj=(0,r.forwardRef)(_j),Tj=(re("success","processing","error","default","warning"),re("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),Nj={adjustX:1,adjustY:1},Aj={adjustX:0,adjustY:0},Oj=[0,0];function Pj(e){return"boolean"===typeof e?e?Nj:Aj:l(l({},Aj),e)}var Rj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Dj=new RegExp("^(".concat(Tj.join("|"),")(-inverse)?$"));function Mj(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=l({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,u=l(l({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Hs(e,{style:l(l({},o),{pointerEvents:"none"}),className:null});return r.createElement("span",{style:u,className:K()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var Lj=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPopupContainer,o=i.getPrefixCls,u=i.direction;var s=c(Jt(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),f=s[0],d=s[1],h=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},p=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,u=e.autoAdjustOverflow,s=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=s?l(l({},c[e]),{overflow:Pj(u),targetOffset:Oj}):l(l({},Ij[e]),{overflow:Pj(u)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},v=e.getPopupContainer,m=Rj(e,["getPopupContainer"]),y=e.prefixCls,g=e.openClassName,b=e.getTooltipContainer,k=e.overlayClassName,w=e.color,x=e.overlayInnerStyle,E=e.children,I=o("tooltip",y),C=o(),_=f;"open"in e||"visible"in e||!h()||(_=!1);var S,T=Mj(Ks(E)&&!function(e){return e&&e.type===r.Fragment}(E)?E:r.createElement("span",null,E),I),N=T.props,A=K()(N.className,B({},g||"".concat(I,"-open"),!0)),O=K()(k,(B(n={},"".concat(I,"-rtl"),"rtl"===u),B(n,"".concat(I,"-").concat(w),w&&Dj.test(w)),n)),P=x;return w&&!Dj.test(w)&&(P=l(l({},x),{background:w}),S={"--antd-arrow-background-color":w}),r.createElement(Sj,l({},m,{prefixCls:I,overlayClassName:O,getTooltipContainer:v||b||a,ref:t,builtinPlacements:p(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:_,onVisibleChange:function(t){var n,r;d(!h()&&t),h()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=p(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:P,arrowContent:r.createElement("span",{className:"".concat(I,"-arrow-content"),style:S}),motion:{motionName:Hu(C,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),_?Hs(T,{className:A}):T)}));Lj.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Fj=Lj,jj=function(e){return e?"function"===typeof e?e():e:null},Vj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Uj=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,a=e.content,o=e._overlay,u=Vj(e,["prefixCls","title","content","_overlay"]),s=r.useContext(H).getPrefixCls,c=s("popover",n),f=s();return r.createElement(Fj,l({},u,{prefixCls:c,ref:t,overlay:o||function(e){if(i||a)return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(e,"-title")},jj(i)),r.createElement("div",{className:"".concat(e,"-inner-content")},jj(a)))}(c),transitionName:Hu(f,"zoom-big",u.transitionName)}))}));Uj.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var zj=Uj;function Bj(e){var t=e.isMobile,n=e.percentCompleted;return(0,gc.jsxs)(ue,{className:"flex flex-wrap pt-5",children:[(0,gc.jsx)(fe,{span:6}),(0,gc.jsxs)(fe,{span:t?24:12,className:"h-[75px] min-w-[75px] pl-0 ml-0",children:["Progress",(0,gc.jsxs)(ue,{className:"bg-sky pt-5 h-[15px]",children:[(0,gc.jsx)(fe,{span:2,className:"bg-white h-[15px]"}),(0,gc.jsx)(zj,{content:"0% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>0?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"10% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>10?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"20% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>20?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"30% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>30?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"40% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>40?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"50% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>50?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"60% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>60?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"70% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>70?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"80% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>80?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(zj,{content:"90% Completed",children:(0,gc.jsx)(fe,{span:2,className:"border",style:{backgroundColor:n>90?"#1B8EF2":"#FFF"}})}),(0,gc.jsx)(fe,{span:2,className:"bg-white"})]})]}),(0,gc.jsx)(fe,{span:6})]})}function qj(e){try{for(var t=window.location.toString().split("?")[1].split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]===e)return r[1]}}catch(i){if("category"===e)return"test-category";if("topic"===e)return"test-topic"}}function Wj(e){var t=e.width,n=e.session,i=t<=414,a=c((0,r.useState)({qid:"",rivet:!1}),2),o=a[0],u=a[1],s=c((0,r.useState)(""),2),l=s[0],f=s[1];(0,r.useEffect)((function(){return o.rivet&&o.hasOwnProperty("question")||fetch("https://wombollearning.pythonanywhere.com/question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:qj("category"),topic:qj("topic")})}).then((function(e){return e.json()})).then((function(e){u({qid:e.data.qid,question:e.data.question,category:e.data.category,topic:e.data.topic,rivet:!0})})).catch((function(e){console.log(e)})),function(){u({qid:"",question:"",category:"",topic:"",rivet:!0})}}),[n.uid]);var d=""===o.question||""===l;return(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsxs)(ue,{className:"flex flex-wrap pt-5",children:[(0,gc.jsx)(fe,{span:6}),(0,gc.jsx)(fe,{span:i?24:12,className:i?"max-w-[444px] min-w-[320px]":"w-full",children:(0,gc.jsx)(us,{className:"absolute pt-1 h-[75px] w-full",style:{backgroundColor:"#1B8EF2"},children:(0,gc.jsx)(us,{className:"absolute bg-white pt-2 h-[150px] w-full",hoverable:!0,children:(0,gc.jsxs)("h1",{className:"text-left",children:[o.category," ",(0,gc.jsx)(wj,{style:{fontSize:"10px",paddingTop:"0px"}})," ",o.topic]})})})}),(0,gc.jsx)(fe,{span:6})]}),(0,gc.jsx)(Bj,{isMobile:i,percentCompleted:10}),(0,gc.jsxs)(ue,{className:"pt-10",children:[(0,gc.jsx)(fe,{span:6}),(0,gc.jsx)(fe,{span:i?24:12,className:"max-w-[444px] min-w-[320px]",children:(0,gc.jsx)(us,{className:"absolute pt-1 pl-1 h-[444px] w-full",style:{backgroundColor:"#1B8EF2"},children:(0,gc.jsxs)(us,{className:"absolute bg-white pt-2 pl-2 h-[444px] w-full",hoverable:!0,children:[(0,gc.jsx)("h1",{className:"text-center pt-5 text-2xl",children:o.question}),o.isMultipleChoice?(0,gc.jsx)("div",{className:"pt-14",children:(0,gc.jsx)(gj.Group,{onChange:function(){},defaultValue:"a",id:"answer",children:!!o.answers>0&&o.answers.map((function(e){return(0,gc.jsx)(gj.Button,{value:e,children:e})}))})}):(0,gc.jsx)("div",{className:"pt-5",children:(0,gc.jsx)(tj,{className:"!w-1/2",id:"answer",onChange:function(e){f(document.getElementById(e.target.getAttribute("id")).value)}})}),(0,gc.jsx)(yc,{disabled:d,className:"mt-3",onClick:function(){return function(e,t,n,r,i){var a=e;"Mathematics"===t&&(a=parseInt(e,10).toFixed(1).toString()),console.log("Answer chosen: ".concat(a)),console.log("PAYLOAD: ".concat(JSON.stringify({uid:n.uid,qid:r.qid,answer:a}))),fetch("https://wombollearning.pythonanywhere.com/answer-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid,qid:r.qid,answer:a})}).then((function(e){return e.json()})).then((function(e){i("Result: ".concat(JSON.stringify(e)))})).catch((function(e){console.log("Error: ".concat(e))}))}(l,qj("category"),n,o,console.log)},children:"Answer"})]})})}),(0,gc.jsx)(fe,{span:6})]})]})}var Kj=r.createContext({});!function(){var e=0}();var Hj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gj=function(e){var t=e.prefixCls,n=e.className,i=e.dashed,a=Hj(e,["prefixCls","className","dashed"]),o=(0,r.useContext(H).getPrefixCls)("menu",t),u=K()(B({},"".concat(o,"-item-divider-dashed"),!!i),n);return r.createElement(pu,l({className:u},a))},Qj=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),$j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yj=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,i,a=t.siderCollapsed,o=e.context,u=o.prefixCls,s=o.firstLevel,c=o.inlineCollapsed,f=o.direction,d=o.disableMenuItemTitleTooltip,h=e.props,p=h.className,v=h.children,m=e.props,y=m.title,g=m.icon,b=m.danger,k=$j(m,["title","icon","danger"]),w=y;"undefined"===typeof y?w=s?v:"":!1===y&&(w="");var x={title:w};a||c||(x.title=null,x.open=!1);var E=hr(v).length,I=r.createElement(Ui,l({},k,{className:K()((n={},B(n,"".concat(u,"-item-danger"),b),B(n,"".concat(u,"-item-only-child"),1===(g?E+1:E)),n),p),title:"string"===typeof y?y:void 0}),Hs(g,{className:K()(Ks(g)?null===(i=g.props)||void 0===i?void 0:i.className:"","".concat(u,"-item-icon"))}),e.renderItemChildren(c));return d||(I=r.createElement(Fj,l({},x,{placement:"rtl"===f?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),I)),I},e}return Un(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,i=t.firstLevel,a=this.props,o=a.icon,u=a.children,s=r.createElement("span",{className:"".concat(n,"-title-content")},u);return(!o||Ks(u)&&"span"===u.type)&&u&&e&&i&&"string"===typeof u?r.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},u.charAt(0)):s}},{key:"render",value:function(){return r.createElement(Kj.Consumer,null,this.renderItem)}}]),n}(r.Component);Yj.contextType=Qj;var Xj=function(e){var t,n,i=e.popupClassName,a=e.icon,o=e.title,u=e.theme,s=r.useContext(Qj),c=s.prefixCls,f=s.inlineCollapsed,d=s.antdMenuTheme,h=vu();if(a){var p=Ks(o)&&"span"===o.type;n=r.createElement(r.Fragment,null,Hs(a,{className:K()(Ks(a)?null===(t=a.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),p?o:r.createElement("span",{className:"".concat(c,"-title-content")},o))}else n=f&&!h.length&&o&&"string"===typeof o?r.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(c,"-title-content")},o);var v=r.useMemo((function(){return l(l({},s),{firstLevel:!1})}),[s]);return r.createElement(Qj.Provider,{value:v},r.createElement(Uo,l({},pe(e,["icon"]),{title:n,popupClassName:K()(c,"".concat(c,"-").concat(u||d),i)})))},Jj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Zj(e){return(e||[]).map((function(e,t){if(e&&"object"===q(e)){var n=e,i=n.label,a=n.children,o=n.key,u=n.type,s=Jj(n,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===u?"group"===u?r.createElement(hu,l({key:c},s,{title:i}),Zj(a)):r.createElement(Xj,l({key:c},s,{title:i}),Zj(a)):"divider"===u?r.createElement(Gj,l({key:c},s)):r.createElement(Yj,l({key:c},s),i)}return null})).filter((function(e){return e}))}function eV(e){return r.useMemo((function(){return e?Zj(e):e}),[e])}var tV=r.createContext(null),nV=tV,rV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},iV=(0,r.forwardRef)((function(e,t){var n,i=r.useContext(nV)||{},a=r.useContext(H),o=a.getPrefixCls,u=a.getPopupContainer,s=a.direction,c=o(),f=e.prefixCls,d=e.className,h=e.theme,p=void 0===h?"light":h,v=e.expandIcon,m=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,g=e.siderCollapsed,b=e.items,k=e.children,w=e.mode,x=e.selectable,E=e.onClick,I=pe(rV(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),["collapsedWidth"]),C=eV(b)||k;null===(n=i.validator)||void 0===n||n.call(i,{mode:w});var _,S=Ht((function(){var e;null===E||void 0===E||E.apply(void 0,arguments),null===(e=null===i||void 0===i?void 0:i.onClick)||void 0===e||e.call(i)})),T=i.mode||w,N=null!==x&&void 0!==x?x:i.selectable,A=r.useMemo((function(){return void 0!==g?g:y}),[y,g]),O={horizontal:{motionName:"".concat(c,"-slide-up")},inline:Gu,other:{motionName:"".concat(c,"-zoom-big")}},P=o("menu",f||i.prefixCls),R=K()("".concat(P,"-").concat(p),d);_="function"===typeof v?v:Hs(v||i.expandIcon,{className:"".concat(P,"-submenu-expand-icon")});var D=r.useMemo((function(){return{prefixCls:P,inlineCollapsed:A||!1,antdMenuTheme:p,direction:s,firstLevel:!0,disableMenuItemTitleTooltip:m}}),[P,A,p,s,m]);return r.createElement(nV.Provider,{value:null},r.createElement(Qj.Provider,{value:D},r.createElement(yu,l({getPopupContainer:u,overflowedIndicator:r.createElement(zt,null),overflowedIndicatorPopupClassName:"".concat(P,"-").concat(p),mode:T,selectable:N,onClick:S},I,{inlineCollapsed:A,className:R,prefixCls:P,direction:s,defaultMotions:O,expandIcon:_,ref:t}),C)))})),aV=function(e){Bn(n,e);var t=Gn(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).focus=function(t){var n;null===(n=e.menu)||void 0===n||n.focus(t)},e}return Un(n,[{key:"render",value:function(){var e=this;return r.createElement(Kj.Consumer,null,(function(t){return r.createElement(iV,l({ref:function(t){e.menu=t}},e.props,t))}))}}]),n}(r.Component);aV.Divider=Gj,aV.Item=Yj,aV.SubMenu=Xj,aV.ItemGroup=hu;var oV=aV,uV=[{label:"Mathematics",key:"/category?c=Mathematics"},{label:"Statistics",key:"/category?c=Statistics"},{label:"Marketing",key:"/category?c=Marketing"}],sV=function(e){var t=e.key;return window.location.href="/#"+t},cV=function(){var e="";return uV.forEach((function(t){-1!==window.location.pathname.indexOf(t.label)&&(e=t.label)})),e},lV=Navigator=function(){return(0,gc.jsx)(oV,{mode:"horizontal",align:"center",items:uV,onClick:sV,selectedKeys:[cV]})},fV=[{label:"Home",key:"home"},{label:"Login",key:"login"}],dV=[{label:"Home",key:"home"},{label:"Logout",key:"logout"}],hV=Navigator=function(e){var t=e.session,n=e.auth;return(0,gc.jsx)(oV,{mode:"horizontal",items:t.isLoggedIn()?dV:fV,onClick:function(e){var t=e.key;"logout"===t?(n.signOut(),window.location.href="/"):window.location.href="/#/"+t},selectedKeys:[window.location.pathname.replace("/","").toLowerCase()]})},pV=n(6666),vV=n.n(pV),mV=function(){function e(t){if(jn(this,e),t)this.session=t;else{var n=localStorage.getItem("session-token");if(n)this.session={uid:n};else{var r="unauth-"+vV()();localStorage.setItem("session-token",r),this.session={uid:r}}}}return Un(e,[{key:"isLoggedIn",value:function(){var e,t;return!!this.session&&!(null!==(e=this.session)&&void 0!==e&&null!==(t=e.uid)&&void 0!==t&&t.startsWith("unauth"))}}]),e}();function yV(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function gV(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var bV=function(){return bV=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bV.apply(this,arguments)},kV=function(e){return{loading:void 0===e||null===e,value:e}},wV=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return bV(bV({},e),{error:t.error,loading:!1,value:void 0});case"reset":return kV(t.defaultValue);case"value":return bV(bV({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),kV(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},xV=function(e,t){var n=wV((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return Zc(e).onAuthStateChanged(t,n,r)}(e,(function(e){return yV(void 0,void 0,void 0,(function(){var n;return gV(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)};If.initializeApp({apiKey:"AIzaSyDLZtN_iioKBgGTrjzIF8DWp-zNksYS7TQ",authDomain:"wombol-df415.firebaseapp.com",projectId:"wombol-df415",storageBucket:"wombol-df415.appspot.com",messagingSenderId:"211219277241",appId:"1:211219277241:web:946571b670da366d87c268",measurementId:"G-MLWY4LNEZ0"});var EV=If.auth();function IV(){var e=window;return{innerWidth:e.innerWidth,innerHeight:e.innerHeight}}var CV=function(){var e=c(xV(EV),1)[0],t=new mV(e),n=c((0,r.useState)(IV()),2),i=n[0],a=n[1],o=c((0,r.useState)("Home"),2),u=o[0],s=o[1];return(0,r.useEffect)((function(){function e(){a(IV())}function t(){s(window.location.hash.replace("#/category?c=",""))}return window.addEventListener("resize",e),window.addEventListener("hashchange",t),function(){window.removeEventListener("resize",e),window.removeEventListener("hashchange",t)}}),[]),(0,gc.jsxs)("div",{className:"App",children:[(0,gc.jsx)("div",{className:"text-4xl italic font-bold",children:(0,gc.jsx)("a",{href:"/",children:"Wombol"})}),(0,gc.jsx)(hV,{session:t,auth:EV}),(0,gc.jsx)(lV,{}),(0,gc.jsx)(z,{basename:"",children:(0,gc.jsxs)(V,{children:[(0,gc.jsx)(F,{path:"/",element:(0,gc.jsx)(RM,{})}),(0,gc.jsx)(F,{path:"/login",element:(0,gc.jsx)(NM,{session:t,auth:EV,width:i.innerWidth})}),(0,gc.jsx)(F,{path:"/resetPassword",element:(0,gc.jsx)(PM,{})}),(0,gc.jsx)(F,{path:"/confirmAccount",element:(0,gc.jsx)(wc,{})}),(0,gc.jsx)(F,{path:"/home",element:(0,gc.jsx)(xc,{session:t})}),(0,gc.jsx)(F,{path:"/category",element:(0,gc.jsx)(kc,{category:u,session:t})}),(0,gc.jsx)(F,{path:"/question",element:(0,gc.jsx)(Wj,{width:i.innerWidth,session:t})}),(0,gc.jsx)(F,{path:"/privacy",element:(0,gc.jsx)(AM,{})}),(0,gc.jsx)(F,{path:"/terms",element:(0,gc.jsx)(OM,{})})]})})]})},_V=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,gc.jsx)(r.StrictMode,{children:(0,gc.jsx)(CV,{})})),_V()}()}();
//# sourceMappingURL=main.4325f767.js.map