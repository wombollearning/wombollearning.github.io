/*! For license information please see main.876803cf.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),b=s(t),k=g?h:u(e),w=b?h:u(t),x=(k=k==f?d:k)==d,E=(w=w==f?d:w)==d,I=k==w;if(I&&c(e)){if(!c(t))return!1;g=!0,x=!1}if(I&&!x)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,k,n,v,m,y);if(!(1&n)){var _=x&&p.call(e,"__wrapped__"),S=E&&p.call(t,"__wrapped__");if(_||S){var T=_?e.value():e,C=S?t.value():t;return y||(y=new r),m(T,C,n,v,y)}}return!!I&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[h=c[f]],g=t[h];if(a)var b=s?a(g,y,h,t,e,u):a(y,g,h,e,t,u);if(!(void 0===b?y===g||o(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(u),k=s;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=h||u&&k(new u)!=d)&&(k=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return h;case b:return d}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Ie=null;function _e(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ie)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ve=!1,je=null,Ue={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,It,_t,St=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Ot.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return In}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Rn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Ir={};function _r(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Ii(e){return{current:e}}function _i(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Si(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){_i(Ni),_i(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ci),Si(Ci,e)):_i(Ni),Si(Ni,n)}var Vi=null,ji=!1,Ui=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Ki=0,Wi=null,Hi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;_i(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Pi(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Si(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==ko;return ko=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:$o,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:$o,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=_o(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Oi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=_o(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Oi(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,Is=Math.ceil,_s=k.ReactCurrentDispatcher,Ss=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ps=0,Ds=Ii(0),Rs=0,Ms=null,Ls=0,Fs=0,Vs=0,js=null,Us=null,Bs=0,zs=1/0,qs=null,Ks=!1,Ws=null,Hs=null,Gs=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,ji&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),_s.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,ji&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ps=Ds.current,_i(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),_i(Ni),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Os=Ps=t,Rs=0,Ms=null,Vs=Fs=Ls=0,Us=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Ss.current=null,null===n||null===n.return){Rs=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,_s.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Rs}function yc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!Ye();)bc(As)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,Ss.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Rs=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt(Ys),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Xe()-Bs?hc(e,0):Vs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case _:return(e=Oc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,_=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?E():(I=!1,_=null)}}else I=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function D(e){_=e,I||(I=!0,E())}function R(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d1d4a2c2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return jc},SDK_VERSION:function(){return Hl},_DEFAULT_ENTRY_NAME:function(){return Dl},_addComponent:function(){return Fl},_addOrOverwriteComponent:function(){return Vl},_apps:function(){return Ml},_clearComponents:function(){return zl},_components:function(){return Ll},_getProvider:function(){return Ul},_registerComponent:function(){return jl},_removeServiceInstance:function(){return Bl},deleteApp:function(){return $l},getApp:function(){return Ql},getApps:function(){return Yl},initializeApp:function(){return Gl},onLog:function(){return Zl},registerVersion:function(){return Jl},setLogLevel:function(){return ef}});var t,r=n(2791),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=b(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=p-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(d,u),r.addEventListener("hashchange",(function(){g(a()[1])!==g(k)&&u()}));var s=t.Pop,c=a(),p=c[0],k=c[1],w=m(),x=m();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:g(e))}function I(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:y()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function S(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();p=t[0],k=t[1],w.call({action:s,location:k})}function C(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var N={get action(){return s},get location(){return k},createHref:E,push:function e(n,a){var o=t.Push,u=I(n,a);if(S(o,u,(function(){e(n,a)}))){var s=_(u,p+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function e(n,r){var a=t.Replace,o=I(n,r);if(S(a,o,(function(){e(n,r)}))){var u=_(o,p),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(h,v),function(){t(),x.length||r.removeEventListener(h,v)}}};return N}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var w=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=N(i[o],r);return a}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||E(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&E(!1),_(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,T=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function N(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:D(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function R(){return null!=(0,r.useContext)(w)}function M(){return R()||E(!1),(0,r.useContext)(w).location}function L(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function F(e){E(!1)}function V(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;R()&&E(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=b(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,x=void 0===g?"":g,I=v.hash,_=void 0===I?"":I,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=O(y,d);return null==e?null:{pathname:e,search:x,hash:_,state:T,key:N}}),[d,y,x,_,T,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:A,navigationType:c}}))}function j(e){var t=e.children,n=e.location;return function(e,t){R()||E(!1);var n,i=(0,r.useContext)(x).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,M());if(t){var c,l="string"===typeof t?b(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||E(!1),n=l}else n=s;var f=n.pathname||"/",h=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return L(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,e.pathnameBase])})})),i)}(U(t),n)}function U(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==F&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=U(e.props.children)),t.push(n)}else t.push.apply(t,U(e.props.children))})),t}function B(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,u=c((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],l=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(V,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}var K=n(1694),W=n.n(K),H=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),G=H.Consumer;function Q(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Y,$=function(){if(!Q()||!window.document.documentElement)return!1;if(void 0!==Y)return Y;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Y=1===e.scrollHeight,document.body.removeChild(e),Y},X=["xxl","xl","lg","md","sm","xs"],J={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Z=new Map,ee=-1,te={},ne={matchHandlers:{},dispatch:function(e){return te=e,Z.forEach((function(e){return e(te)})),Z.size>=1},subscribe:function(e){return Z.size||this.register(),ee+=1,Z.set(ee,e),e(te),ee},unsubscribe:function(e){Z.delete(e),Z.size||this.unregister()},unregister:function(){var e=this;Object.keys(J).forEach((function(t){var n=J[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Z.clear()},register:function(){var e=this;Object.keys(J).forEach((function(t){var n=J[t],r=function(n){var r=n.matches;e.dispatch(l(l({},te),z({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},ie=(0,r.createContext)({}),ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oe=(re("top","middle","bottom","stretch"),re("start","end","center","space-around","space-between","space-evenly"),r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.justify,o=e.align,u=e.className,s=e.style,f=e.children,h=e.gutter,d=void 0===h?0:h,p=e.wrap,v=ae(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=r.useContext(H),y=m.getPrefixCls,g=m.direction,b=c(r.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),k=b[0],w=b[1],x=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return r.useEffect((function(){n($())}),[]),t}(),E=r.useRef(d);r.useEffect((function(){var e=ne.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===q(t)||Array.isArray(t)&&("object"===q(t[0])||"object"===q(t[1])))&&w(e)}));return function(){return ne.unsubscribe(e)}}),[]);var I=y("row",i),_=function(){var e=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((function(t,n){if("object"===q(t))for(var r=0;r<X.length;r++){var i=X[r];if(k[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),S=W()(I,(z(n={},"".concat(I,"-no-wrap"),!1===p),z(n,"".concat(I,"-").concat(a),a),z(n,"".concat(I,"-").concat(o),o),z(n,"".concat(I,"-rtl"),"rtl"===g),n),u),T={},C=null!=_[0]&&_[0]>0?_[0]/-2:void 0,N=null!=_[1]&&_[1]>0?_[1]/-2:void 0;if(C&&(T.marginLeft=C,T.marginRight=C),x){var A=c(_,2);T.rowGap=A[1]}else N&&(T.marginTop=N,T.marginBottom=N);var O=c(_,2),P=O[0],D=O[1],R=r.useMemo((function(){return{gutter:[P,D],wrap:p,supportFlexGap:x}}),[P,D,p,x]);return r.createElement(ie.Provider,{value:R},r.createElement("div",l({},v,{className:S,style:l(l({},T),s),ref:t}),f))})));var ue=oe,se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var ce=["xs","sm","md","lg","xl","xxl"],le=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPrefixCls,o=i.direction,u=r.useContext(ie),s=u.gutter,c=u.wrap,f=u.supportFlexGap,h=e.prefixCls,d=e.span,p=e.order,v=e.offset,m=e.push,y=e.pull,g=e.className,b=e.children,k=e.flex,w=e.style,x=se(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=a("col",h),I={};ce.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===q(i)&&(r=i||{}),delete x[t],I=l(l({},I),(z(n={},"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),z(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),z(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),z(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),z(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),z(n,"".concat(E,"-rtl"),"rtl"===o),n))}));var _=W()(E,(z(n={},"".concat(E,"-").concat(d),void 0!==d),z(n,"".concat(E,"-order-").concat(p),p),z(n,"".concat(E,"-offset-").concat(v),v),z(n,"".concat(E,"-push-").concat(m),m),z(n,"".concat(E,"-pull-").concat(y),y),n),g,I),S={};if(s&&s[0]>0){var T=s[0]/2;S.paddingLeft=T,S.paddingRight=T}if(s&&s[1]>0&&!f){var C=s[1]/2;S.paddingTop=C,S.paddingBottom=C}return k&&(S.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(k),!1!==c||S.minWidth||(S.minWidth=0)),r.createElement("div",l({},x,{style:l(l({},S),w),className:_,ref:t}),b)}));var fe=le;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){var n=de({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var ve=r.createContext(void 0),me=ve,ye=function(e){var t,n,i=e.prefixCls,a=e.className,o=e.style,u=e.size,s=e.shape,c=W()((z(t={},"".concat(i,"-lg"),"large"===u),z(t,"".concat(i,"-sm"),"small"===u),t)),f=W()((z(n={},"".concat(i,"-circle"),"circle"===s),z(n,"".concat(i,"-square"),"square"===s),z(n,"".concat(i,"-round"),"round"===s),n)),h="number"===typeof u?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return r.createElement("span",{className:W()(i,c,f,a),style:l(l({},h),o)})},ge=function(e){var t=e.prefixCls,n=e.className,i=e.active,a=(0,r.useContext(H).getPrefixCls)("skeleton",t),o=pe(e,["prefixCls","className"]),u=W()(a,"".concat(a,"-element"),z({},"".concat(a,"-active"),i),n);return r.createElement("div",{className:u},r.createElement(ye,l({prefixCls:"".concat(a,"-avatar")},o)))};ge.defaultProps={size:"default",shape:"circle"};var be=ge,ke=function(e){var t,n=e.prefixCls,i=e.className,a=e.active,o=e.block,u=void 0!==o&&o,s=(0,r.useContext(H).getPrefixCls)("skeleton",n),c=pe(e,["prefixCls"]),f=W()(s,"".concat(s,"-element"),(z(t={},"".concat(s,"-active"),a),z(t,"".concat(s,"-block"),u),t),i);return r.createElement("div",{className:f},r.createElement(ye,l({prefixCls:"".concat(s,"-button")},c)))};ke.defaultProps={size:"default"};var we=ke,xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};function Ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ie=(0,r.createContext)({});function _e(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Se(e){return e<=1?"".concat(100*Number(e),"%"):e}function Te(e){return 1===e.length?"0"+e:String(e)}function Ce(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ne(e){return Ae(e)/255}function Ae(e){return parseInt(e,16)}var Oe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Pe(e){var t,n,r,i={r:0,g:0,b:0},a=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Oe[e])e=Oe[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Le.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Le.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Le.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Le.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Le.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Le.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Le.hex8.exec(e))return{r:Ae(n[1]),g:Ae(n[2]),b:Ae(n[3]),a:Ne(n[4]),format:t?"name":"hex8"};if(n=Le.hex6.exec(e))return{r:Ae(n[1]),g:Ae(n[2]),b:Ae(n[3]),format:t?"name":"hex"};if(n=Le.hex4.exec(e))return{r:Ae(n[1]+n[1]),g:Ae(n[2]+n[2]),b:Ae(n[3]+n[3]),a:Ne(n[4]+n[4]),format:t?"name":"hex8"};if(n=Le.hex3.exec(e))return{r:Ae(n[1]+n[1]),g:Ae(n[2]+n[2]),b:Ae(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Fe(e.r)&&Fe(e.g)&&Fe(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*_e(t,255),g:255*_e(n,255),b:255*_e(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):Fe(e.h)&&Fe(e.s)&&Fe(e.v)?(o=Se(e.s),u=Se(e.v),i=function(e,t,n){e=6*_e(e,360),t=_e(t,100),n=_e(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):Fe(e.h)&&Fe(e.s)&&Fe(e.l)&&(o=Se(e.s),s=Se(e.l),i=function(e,t,n){var r,i,a;if(e=_e(e,360),t=_e(t,100),n=_e(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=Ce(u,o,e+1/3),i=Ce(u,o,e),a=Ce(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(a),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var De="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Re="[\\s|\\(]+(".concat(De,")[,|\\s]+(").concat(De,")[,|\\s]+(").concat(De,")\\s*\\)?"),Me="[\\s|\\(]+(".concat(De,")[,|\\s]+(").concat(De,")[,|\\s]+(").concat(De,")[,|\\s]+(").concat(De,")\\s*\\)?"),Le={CSS_UNIT:new RegExp(De),rgb:new RegExp("rgb"+Re),rgba:new RegExp("rgba"+Me),hsl:new RegExp("hsl"+Re),hsla:new RegExp("hsla"+Me),hsv:new RegExp("hsv"+Re),hsva:new RegExp("hsva"+Me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Fe(e){return Boolean(Le.CSS_UNIT.exec(String(e)))}var Ve=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function je(e){var t=function(e,t,n){e=_e(e,255),t=_e(t,255),n=_e(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Ue(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[Te(Math.round(e).toString(16)),Te(Math.round(t).toString(16)),Te(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function Be(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function ze(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function qe(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Ke(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function We(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Pe(e),i=5;i>0;i-=1){var a=je(r),o=Ue(Pe({h:ze(a,i,!0),s:qe(a,i,!0),v:Ke(a,i,!0)}));n.push(o)}n.push(Ue(r));for(var u=1;u<=4;u+=1){var s=je(r),c=Ue(Pe({h:ze(s,u),s:qe(s,u),v:Ke(s,u)}));n.push(c)}return"dark"===t.theme?Ve.map((function(e){var r=e.index,i=e.opacity;return Ue(Be(Pe(t.backgroundColor||"#141414"),Pe(n[r]),100*i))})):n}var He={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ge={},Qe={};Object.keys(He).forEach((function(e){Ge[e]=We(He[e]),Ge[e].primary=Ge[e][5],Qe[e]=We(He[e],{theme:"dark",backgroundColor:"#141414"}),Qe[e].primary=Qe[e][5]}));Ge.red,Ge.volcano,Ge.gold,Ge.orange,Ge.yellow,Ge.lime,Ge.green,Ge.cyan,Ge.blue,Ge.geekblue,Ge.purple,Ge.magenta,Ge.grey;var Ye={};function $e(e,t){0}function Xe(e,t,n){t||Ye[n]||(e(!1,n),Ye[n]=!0)}var Je=function(e,t){Xe($e,e,t)},Ze="data-rc-order",et="rc-util-key",tt=new Map;function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):et}function rt(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function it(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function at(e){return Array.from((tt.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Q())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(Ze,it(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var a=rt(t),o=a.firstChild;if(r){if("queue"===r){var u=at(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(Ze))}));if(u.length)return a.insertBefore(i,u[u.length-1].nextSibling),i}a.insertBefore(i,o)}else a.appendChild(i);return i}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt(t);return at(n).find((function(n){return n.getAttribute(nt(t))===e}))}function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rt(n);if(!tt.has(r)){var i=ot("",n),a=i.parentNode;tt.set(r,a),a.removeChild(i)}var o=ut(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=ot(e,n);return l.setAttribute(nt(n),t),l}function ct(e){return"object"===q(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===q(e.icon)||"function"===typeof e.icon)}function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ft(e,t,n){return n?r.createElement(e.tag,de(de({key:t},lt(e.attrs)),n),(e.children||[]).map((function(n,r){return ft(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,de({key:t},lt(e.attrs)),(e.children||[]).map((function(n,r){return ft(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function ht(e){return We(e)[0]}function dt(e){return e?Array.isArray(e)?e:[e]:[]}var pt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",vt=["icon","className","onClick","style","primaryColor","secondaryColor"],mt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var yt=function(e){var t,n,i=e.icon,a=e.className,o=e.onClick,u=e.style,s=e.primaryColor,c=e.secondaryColor,l=Ee(e,vt),f=mt;if(s&&(f={primaryColor:s,secondaryColor:c||ht(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=(0,r.useContext)(Ie).csp;(0,r.useEffect)((function(){st(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=ct(i),n="icon should be icon definiton, but got ".concat(i),Je(t,"[@ant-design/icons] ".concat(n)),!ct(i))return null;var h=i;return h&&"function"===typeof h.icon&&(h=de(de({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),ft(h.icon,"svg-".concat(h.name),de({className:a,onClick:o,style:u,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};yt.displayName="IconReact",yt.getTwoToneColors=function(){return de({},mt)},yt.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;mt.primaryColor=t,mt.secondaryColor=n||ht(t),mt.calculated=!!n};var gt=yt;function bt(e){var t=c(dt(e),2),n=t[0],r=t[1];return gt.setTwoToneColors({primaryColor:n,secondaryColor:r})}var kt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];bt("#1890ff");var wt=r.forwardRef((function(e,t){var n,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,l=e.onClick,f=e.twoToneColor,h=Ee(e,kt),d=r.useContext(Ie).prefixCls,p=void 0===d?"anticon":d,v=W()(p,(z(n={},"".concat(p,"-").concat(a.name),!!a.name),z(n,"".concat(p,"-spin"),!!o||"loading"===a.name),n),i),m=s;void 0===m&&l&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=c(dt(f),2),b=g[0],k=g[1];return r.createElement("span",de(de({role:"img","aria-label":a.name},h),{},{ref:t,tabIndex:m,onClick:l,className:v}),r.createElement(gt,{icon:a,primaryColor:b,secondaryColor:k,style:y}))}));wt.displayName="AntdIcon",wt.getTwoToneColor=function(){var e=gt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},wt.setTwoToneColor=bt;var xt=wt,Et=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:xe}))};Et.displayName="DotChartOutlined";var It=r.forwardRef(Et),_t=function(e){var t,n=e.prefixCls,i=e.className,a=e.style,o=e.active,u=(0,r.useContext(H).getPrefixCls)("skeleton",n),s=W()(u,"".concat(u,"-element"),z({},"".concat(u,"-active"),o),i),c=null!==(t=e.children)&&void 0!==t?t:r.createElement(It,null);return r.createElement("div",{className:s},r.createElement("div",{className:W()("".concat(u,"-image"),i),style:a},c))},St=function(e){var t=e.prefixCls,n=e.className,i=e.style,a=e.active,o=(0,r.useContext(H).getPrefixCls)("skeleton",t),u=W()(o,"".concat(o,"-element"),z({},"".concat(o,"-active"),a),n);return r.createElement("div",{className:u},r.createElement("div",{className:W()("".concat(o,"-image"),n),style:i},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(o,"-image-svg")},r.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(o,"-image-path")}))))},Tt=function(e){var t,n=e.prefixCls,i=e.className,a=e.active,o=e.block,u=(0,r.useContext(H).getPrefixCls)("skeleton",n),s=pe(e,["prefixCls"]),c=W()(u,"".concat(u,"-element"),(z(t={},"".concat(u,"-active"),a),z(t,"".concat(u,"-block"),o),t),i);return r.createElement("div",{className:c},r.createElement(ye,l({prefixCls:"".concat(u,"-input")},s)))};Tt.defaultProps={size:"default"};var Ct=Tt;function Nt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function At(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Nt(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ot=function(e){var t=function(t){var n=e.width,r=e.rows,i=void 0===r?2:r;return Array.isArray(n)?n[t]:i-1===t?n:void 0},n=e.prefixCls,i=e.className,a=e.style,o=e.rows,u=At(Array(o)).map((function(e,n){return r.createElement("li",{key:n,style:{width:t(n)}})}));return r.createElement("ul",{className:W()(n,i),style:a},u)},Pt=function(e){var t=e.prefixCls,n=e.className,i=e.width,a=e.style;return r.createElement("h3",{className:W()(t,n),style:l({width:i},a)})};function Dt(e){return e&&"object"===q(e)?e:{}}var Rt=function(e){var t=e.prefixCls,n=e.loading,i=e.className,a=e.style,o=e.children,u=e.avatar,s=e.title,c=e.paragraph,f=e.active,h=e.round,d=r.useContext(H),p=d.getPrefixCls,v=d.direction,m=p("skeleton",t);if(n||!("loading"in e)){var y,g,b,k=!!u,w=!!s,x=!!c;if(k){var E=l(l({prefixCls:"".concat(m,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(w,x)),Dt(u));g=r.createElement("div",{className:"".concat(m,"-header")},r.createElement(ye,l({},E)))}if(w||x){var I,_;if(w){var S=l(l({prefixCls:"".concat(m,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(k,x)),Dt(s));I=r.createElement(Pt,l({},S))}if(x){var T=l(l({prefixCls:"".concat(m,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(k,w)),Dt(c));_=r.createElement(Ot,l({},T))}b=r.createElement("div",{className:"".concat(m,"-content")},I,_)}var C=W()(m,(z(y={},"".concat(m,"-with-avatar"),k),z(y,"".concat(m,"-active"),f),z(y,"".concat(m,"-rtl"),"rtl"===v),z(y,"".concat(m,"-round"),h),y),i);return r.createElement("div",{className:C,style:a},g,b)}return"undefined"!==typeof o?o:null};Rt.defaultProps={avatar:!1,title:!0,paragraph:!0},Rt.Button=we,Rt.Avatar=be,Rt.Input=Ct,Rt.Image=St,Rt.Node=_t;var Mt=Rt,Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Ft=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:Lt}))};Ft.displayName="CloseOutlined";var Vt=r.forwardRef(Ft),jt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Ut=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:jt}))};Ut.displayName="EllipsisOutlined";var Bt=r.forwardRef(Ut),zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},qt=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:zt}))};qt.displayName="PlusOutlined";var Kt=r.forwardRef(qt),Wt=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function Ht(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Gt,Qt=Q()?r.useLayoutEffect:r.useEffect,Yt=Qt;function $t(e){var t=r.useRef(!1),n=c(r.useState(e),2),i=n[0],a=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||a(e)}]}function Xt(e){return void 0!==e}function Jt(e,t){var n=t||{},i=n.defaultValue,a=n.value,o=n.onChange,u=n.postState,s=c($t((function(){var t,n=void 0;return Xt(a)?(n=a,t=Gt.PROP):Xt(i)?(n="function"===typeof i?i():i,t=Gt.PROP):(n="function"===typeof e?e():e,t=Gt.INNER),[n,t,n]})),2),l=s[0],f=s[1],h=Xt(a)?a:l[0],d=u?u(h):h;!function(e,t){var n=r.useRef(!0);Qt((function(){if(!n.current)return e()}),t),Qt((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){f((function(e){var t=c(e,1)[0];return[a,Gt.PROP,t]}))}),[a]);var p=r.useRef(),v=Ht((function(e,t){f((function(t){var n=c(t,3),r=n[0],i=n[1],a=n[2],o="function"===typeof e?e(r):e;if(o===r)return t;var u=i===Gt.INNER&&p.current!==a?a:r;return[o,Gt.INNER,u]}),t)})),m=Ht(o);return Yt((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===Gt.INNER&&(m(t,r),p.current=r)}),[l]),[d,v]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(Gt||(Gt={}));var Zt=n(4164);function en(e){return e instanceof HTMLElement?e:Zt.findDOMNode(e)}var tn=n(3873);function nn(e,t){"function"===typeof e?e(t):"object"===q(e)&&e&&"current"in e&&(e.current=t)}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){nn(t,e)}))}}function an(e){var t,n,r=(0,tn.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function on(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var un=function(e,t){var n={animationend:on("Animation","AnimationEnd"),transitionend:on("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Q(),"undefined"!==typeof window?window:{}),sn={};if(Q()){var cn=document.createElement("div");sn=cn.style}var ln={};function fn(e){if(ln[e])return ln[e];var t=un[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in sn)return ln[e]=t[a],ln[e]}return""}var hn=fn("animationend"),dn=fn("transitionend"),pn=!(!hn||!dn),vn=hn||"animationend",mn=dn||"transitionend";function yn(e,t){return e?"object"===q(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var gn="none",bn="appear",kn="enter",wn="leave",xn="none",En="prepare",In="start",_n="active",Sn="end",Tn=function(e){return+setTimeout(e,16)},Cn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Tn=function(e){return window.requestAnimationFrame(e)},Cn=function(e){return window.cancelAnimationFrame(e)});var Nn=0,An=new Map;function On(e){An.delete(e)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Nn+=1;function r(t){if(0===t)On(n),e();else{var i=Tn((function(){r(t-1)}));An.set(n,i)}}return r(t),n}Pn.cancel=function(e){var t=An.get(e);return On(t),Cn(t)};var Dn=Q()?r.useLayoutEffect:r.useEffect,Rn=[En,In,_n,Sn];function Mn(e){return e===_n||e===Sn}var Ln=function(e,t){var n=c($t(xn),2),i=n[0],a=n[1],o=function(){var e=r.useRef(null);function t(){Pn.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Pn((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),u=c(o,2),s=u[0],l=u[1];return Dn((function(){if(i!==xn&&i!==Sn){var e=Rn.indexOf(i),n=Rn[e+1],r=t(i);false===r?a(n,!0):s((function(e){function t(){e.isCanceled()||a(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),r.useEffect((function(){return function(){l()}}),[]),[function(){a(En,!0)},i]};function Fn(e,t,n,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,l=i.motionLeave,f=void 0===l||l,h=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,b=i.onLeaveStart,k=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,E=i.onAppearEnd,I=i.onEnterEnd,_=i.onLeaveEnd,S=i.onVisibleChanged,T=c($t(),2),C=T[0],N=T[1],A=c($t(gn),2),O=A[0],P=A[1],D=c($t(null),2),R=D[0],M=D[1],L=(0,r.useRef)(!1),F=(0,r.useRef)(null);function V(){return n()}var j=(0,r.useRef)(!1);function U(e){var t=V();if(!e||e.deadline||e.target===t){var n,r=j.current;O===bn&&r?n=null===E||void 0===E?void 0:E(t,e):O===kn&&r?n=null===I||void 0===I?void 0:I(t,e):O===wn&&r&&(n=null===_||void 0===_?void 0:_(t,e)),O!==gn&&r&&!1!==n&&(P(gn,!0),M(null,!0))}}var B=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(mn,i),e.removeEventListener(vn,i))}return r.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(mn,i),e.addEventListener(vn,i),t.current=e)},a]}(U),q=c(B,1)[0],K=r.useMemo((function(){var e,t,n;switch(O){case bn:return z(e={},En,p),z(e,In,y),z(e,_n,k),e;case kn:return z(t={},En,v),z(t,In,g),z(t,_n,w),t;case wn:return z(n={},En,m),z(n,In,b),z(n,_n,x),n;default:return{}}}),[O]),W=c(Ln(O,(function(e){if(e===En){var t=K.prepare;return!!t&&t(V())}var n;G in K&&M((null===(n=K[G])||void 0===n?void 0:n.call(K,V(),null))||null);return G===_n&&(q(V()),h>0&&(clearTimeout(F.current),F.current=setTimeout((function(){U({deadline:!0})}),h))),true})),2),H=W[0],G=W[1],Q=Mn(G);j.current=Q,Dn((function(){N(t);var n,r=L.current;(L.current=!0,e)&&(!r&&t&&s&&(n=bn),r&&t&&o&&(n=kn),(r&&!t&&f||!r&&d&&!t&&f)&&(n=wn),n&&(P(n),H()))}),[t]),(0,r.useEffect)((function(){(O===bn&&!s||O===kn&&!o||O===wn&&!f)&&P(gn)}),[s,o,f]),(0,r.useEffect)((function(){return function(){L.current=!1,clearTimeout(F.current)}}),[]);var Y=r.useRef(!1);(0,r.useEffect)((function(){C&&(Y.current=!0),void 0!==C&&O===gn&&((Y.current||C)&&(null===S||void 0===S||S(C)),Y.current=!0)}),[C,O]);var $=R;return K.prepare&&G===In&&($=de({transition:"none"},$)),[O,G,$,null!==C&&void 0!==C?C:t]}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bn(e,t){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bn(e,t)}function zn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bn(e,t)}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}function Kn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){if(t&&("object"===q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wn(e)}function Gn(e){var t=Kn();return function(){var n,r=qn(e);if(t){var i=qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hn(this,n)}}var Qn=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),Yn=Qn;var $n=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===q(e)&&(t=e.transitionSupport);var i=r.forwardRef((function(e,t){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,s=e.forceRender,l=e.children,f=e.motionName,h=e.leavedClassName,d=e.eventProps,p=n(e),v=(0,r.useRef)(),m=(0,r.useRef)();var y=c(Fn(p,a,(function(){try{return v.current instanceof HTMLElement?v.current:en(m.current)}catch(e){return null}}),e),4),g=y[0],b=y[1],k=y[2],w=y[3],x=r.useRef(w);w&&(x.current=!0);var E,I=r.useCallback((function(e){v.current=e,nn(t,e)}),[t]),_=de(de({},d),{},{visible:a});if(l)if(g!==gn&&n(e)){var S,T;b===En?T="prepare":Mn(b)?T="active":b===In&&(T="start"),E=l(de(de({},_),{},{className:W()(yn(f,g),(S={},z(S,yn(f,"".concat(g,"-").concat(T)),T),z(S,f,"string"===typeof f),S)),style:k}),I)}else E=w?l(de({},_),I):!u&&x.current?l(de(de({},_),{},{className:h}),I):s?l(de(de({},_),{},{style:{display:"none"}}),I):null;else E=null;r.isValidElement(E)&&an(E)&&(E.ref||(E=r.cloneElement(E,{ref:I})));return r.createElement(Yn,{ref:m},E)}));return i.displayName="CSSMotion",i}(pn),Xn="add",Jn="keep",Zn="remove",er="removed";function tr(e){var t;return de(de({},t=e&&"object"===q(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(tr)}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=nr(e),o=nr(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return de(de({},e),{},{status:Xn})}))),r=a),n.push(de(de({},u),{},{status:Jn})),r+=1,t=!0;break}}t||n.push(de(de({},e),{},{status:Zn}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return de(de({},e),{},{status:Xn})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Zn}))).forEach((function(t){t.key===e&&(t.status=Jn)}))})),n}var ir=["component","children","onVisibleChanged","onAllRemoved"],ar=["status"],or=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n,n=function(e){zn(i,e);var n=Gn(i);function i(){var e;Vn(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:de(de({},e),{},{status:er})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==er})).length},e}return Un(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=Ee(i,ir),f=a||r.Fragment,h={};return or.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,r.createElement(f,c,n.map((function(n){var i=n.status,a=Ee(n,ar),c=i===Xn||i===Jn;return r.createElement(t,l({},h,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=nr(n);return{keyEntities:rr(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==er||e.status!==Zn}))}}}]),i}(r.Component);n.defaultProps={component:"div"}}(pn);var ur=$n,sr=(0,r.createContext)(null),cr=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,a=e.style,o=e.id,u=e.active,s=e.tabKey,c=e.children;return r.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!u,style:a,className:W()(n,u&&"".concat(n,"-active"),i),ref:t},c)}));var lr=cr,fr=["key","forceRender","style","className"];function hr(e){var t=e.id,n=e.activeKey,i=e.animated,a=e.tabPosition,o=e.destroyInactiveTabPane,u=r.useContext(sr),s=u.prefixCls,c=u.tabs,f=i.tabPane,h="".concat(s,"-tabpane");return r.createElement("div",{className:W()("".concat(s,"-content-holder"))},r.createElement("div",{className:W()("".concat(s,"-content"),"".concat(s,"-content-").concat(a),z({},"".concat(s,"-content-animated"),f))},c.map((function(e){var a=e.key,u=e.forceRender,s=e.style,c=e.className,d=Ee(e,fr),p=a===n;return r.createElement(ur,l({key:a,visible:p,forceRender:u,removeOnLeave:!!o,leavedClassName:"".concat(h,"-hidden")},i.tabPaneMotion),(function(e,n){var i=e.style,o=e.className;return r.createElement(lr,l({},d,{prefixCls:h,id:t,tabKey:a,animated:f,active:p,style:de(de({},s),i),className:W()(c,o),ref:n}))}))}))))}function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(dr(e)):(0,tn.isFragment)(e)&&e.props?n=n.concat(dr(e.props.children,t)):n.push(e))})),n}var pr=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),vr="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,mr="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),yr="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(mr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var gr=["top","right","bottom","left","width","height","size","weight"],br="undefined"!==typeof MutationObserver,kr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function o(){yr(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){vr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),br?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){vr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;gr.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),wr=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},xr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||mr},Er=Nr(0,0,0,0);function Ir(e){return parseFloat(e)||0}function _r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ir(e["border-"+n+"-width"])}),0)}function Sr(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Er;var r=xr(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Ir(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=Ir(r.width),s=Ir(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=_r(r,"left","right")+a),Math.round(s+o)!==n&&(s-=_r(r,"top","bottom")+o)),!function(e){return e===xr(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return Nr(i.left,i.top,u,s)}var Tr="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof xr(e).SVGGraphicsElement}:function(e){return e instanceof xr(e).SVGElement&&"function"===typeof e.getBBox};function Cr(e){return vr?Tr(e)?function(e){var t=e.getBBox();return Nr(0,0,t.width,t.height)}(e):Sr(e):Er}function Nr(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Ar=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Nr(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Cr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Or=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return wr(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);wr(this,{target:e,contentRect:n})},Pr=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new pr,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof xr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ar(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof xr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Or(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Dr="undefined"!==typeof WeakMap?new WeakMap:new pr,Rr=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=kr.getInstance(),r=new Pr(t,n,this);Dr.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Rr.prototype[e]=function(){var t;return(t=Dr.get(this))[e].apply(t,arguments)}}));var Mr="undefined"!==typeof mr.ResizeObserver?mr.ResizeObserver:Rr,Lr=new Map;var Fr=new Mr((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Lr.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Vr=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),jr=r.createContext(null);function Ur(e){var t=e.children,n=e.disabled,i=r.useRef(null),a=r.useRef(null),o=r.useContext(jr),u="function"===typeof t,s=u?t(i):t,c=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!u&&r.isValidElement(s)&&an(s),f=l?s.ref:null,h=r.useMemo((function(){return rn(f,i)}),[f,i]),d=r.useRef(e);d.current=e;var p=r.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(u);if(c.current.width!==f||c.current.height!==h||c.current.offsetWidth!==s||c.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:s,offsetHeight:l};c.current=p;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,y=de(de({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return r.useEffect((function(){var e,t,r=en(i.current)||en(a.current);return r&&!n&&(e=r,t=p,Lr.has(e)||(Lr.set(e,new Set),Fr.observe(e)),Lr.get(e).add(t)),function(){return function(e,t){Lr.has(e)&&(Lr.get(e).delete(t),Lr.get(e).size||(Fr.unobserve(e),Lr.delete(e)))}(r,p)}}),[i.current,n]),r.createElement(Vr,{ref:a},l?r.cloneElement(s,{ref:h}):s)}function Br(e){var t=e.children;return("function"===typeof t?[t]:dr(t)).map((function(t,n){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(Ur,l({},e,{key:i}),t)}))}Br.Collection=function(e){var t=e.children,n=e.onBatchResize,i=r.useRef(0),a=r.useRef([]),o=r.useContext(jr),u=r.useCallback((function(e,t,r){i.current+=1;var u=i.current;a.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){u===i.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,r)}),[n,o]);return r.createElement(jr.Provider,{value:u},t)};var zr=Br;function qr(e){var t=(0,r.useRef)(),n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return n.current=!1,function(){n.current=!0,Pn.cancel(t.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(Pn.cancel(t.current),t.current=Pn((function(){e.apply(void 0,i)})))}}var Kr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Kr.F1&&t<=Kr.F12)return!1;switch(t){case Kr.ALT:case Kr.CAPS_LOCK:case Kr.CONTEXT_MENU:case Kr.CTRL:case Kr.DOWN:case Kr.END:case Kr.ESC:case Kr.HOME:case Kr.INSERT:case Kr.LEFT:case Kr.MAC_FF_META:case Kr.META:case Kr.NUMLOCK:case Kr.NUM_CENTER:case Kr.PAGE_DOWN:case Kr.PAGE_UP:case Kr.PAUSE:case Kr.PRINT_SCREEN:case Kr.RIGHT:case Kr.SHIFT:case Kr.UP:case Kr.WIN_KEY:case Kr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Kr.ZERO&&e<=Kr.NINE)return!0;if(e>=Kr.NUM_ZERO&&e<=Kr.NUM_MULTIPLY)return!0;if(e>=Kr.A&&e<=Kr.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Kr.SPACE:case Kr.QUESTION_MARK:case Kr.NUM_PLUS:case Kr.NUM_MINUS:case Kr.NUM_PERIOD:case Kr.NUM_DIVISION:case Kr.SEMICOLON:case Kr.DASH:case Kr.EQUALS:case Kr.COMMA:case Kr.PERIOD:case Kr.SLASH:case Kr.APOSTROPHE:case Kr.SINGLE_QUOTE:case Kr.OPEN_SQUARE_BRACKET:case Kr.BACKSLASH:case Kr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Wr=Kr;function Hr(e,t){var n,i=e.prefixCls,a=e.id,o=e.active,u=e.tab,s=u.key,c=u.label,l=u.disabled,f=u.closeIcon,h=e.closable,d=e.renderWrapper,p=e.removeAriaLabel,v=e.editable,m=e.onClick,y=e.onRemove,g=e.onFocus,b=e.style,k="".concat(i,"-tab");r.useEffect((function(){return y}),[]);var w=v&&!1!==h&&!l;function x(e){l||m(e)}var E=r.createElement("div",{key:s,ref:t,className:W()(k,(n={},z(n,"".concat(k,"-with-remove"),w),z(n,"".concat(k,"-active"),o),z(n,"".concat(k,"-disabled"),l),n)),style:b,onClick:x},r.createElement("div",{role:"tab","aria-selected":o,id:a&&"".concat(a,"-tab-").concat(s),className:"".concat(k,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(e){e.stopPropagation(),x(e)},onKeyDown:function(e){[Wr.SPACE,Wr.ENTER].includes(e.which)&&(e.preventDefault(),x(e))},onFocus:g},c),w&&r.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(k,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:s,event:t})}},f||v.removeIcon||"\xd7"));return d?d(E):E}var Gr=r.forwardRef(Hr),Qr={width:0,height:0,left:0,top:0};var Yr={width:0,height:0,left:0,top:0,right:0};var $r=n(9613),Xr=n.n($r),Jr=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Zr=void 0;function ei(e,t){var n=e.prefixCls,i=e.invalidate,a=e.item,o=e.renderItem,u=e.responsive,s=e.responsiveDisabled,c=e.registerSize,f=e.itemKey,h=e.className,d=e.style,p=e.children,v=e.display,m=e.order,y=e.component,g=void 0===y?"div":y,b=Ee(e,Jr),k=u&&!v;function w(e){c(f,e)}r.useEffect((function(){return function(){w(null)}}),[]);var x,E=o&&a!==Zr?o(a):p;i||(x={opacity:k?0:1,height:k?0:Zr,overflowY:k?"hidden":Zr,order:u?m:Zr,pointerEvents:k?"none":Zr,position:k?"absolute":Zr});var I={};k&&(I["aria-hidden"]=!0);var _=r.createElement(g,l({className:W()(!i&&n,h),style:de(de({},x),d)},I,b,{ref:t}),E);return u&&(_=r.createElement(zr,{onResize:function(e){w(e.offsetWidth)},disabled:s},_)),_}var ti=r.forwardRef(ei);ti.displayName="Item";var ni=ti;var ri=["component"],ii=["className"],ai=["className"],oi=function(e,t){var n=r.useContext(li);if(!n){var i=e.component,a=void 0===i?"div":i,o=Ee(e,ri);return r.createElement(a,l({},o,{ref:t}))}var u=n.className,s=Ee(n,ii),c=e.className,f=Ee(e,ai);return r.createElement(li.Provider,{value:null},r.createElement(ni,l({ref:t,className:W()(u,c)},s,f)))},ui=r.forwardRef(oi);ui.displayName="RawItem";var si=ui,ci=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],li=r.createContext(null),fi="responsive",hi="invalidate";function di(e){return"+ ".concat(e.length," ...")}function pi(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,a=e.data,o=void 0===a?[]:a,u=e.renderItem,s=e.renderRawItem,f=e.itemKey,h=e.itemWidth,d=void 0===h?10:h,p=e.ssr,v=e.style,m=e.className,y=e.maxCount,g=e.renderRest,b=e.renderRawRest,k=e.suffix,w=e.component,x=void 0===w?"div":w,E=e.itemComponent,I=e.onVisibleChange,_=Ee(e,ci),S=function(){var e=c($t({}),2)[1],t=(0,r.useRef)([]),n=0,i=0;return function(r){var a=n;return n+=1,t.current.length<a+1&&(t.current[a]=r),[t.current[a],function(n){t.current[a]="function"===typeof n?n(t.current[a]):n,Pn.cancel(i),i=Pn((function(){e({},!0)}))}]}}(),T="full"===p,C=c(S(null),2),N=C[0],A=C[1],O=N||0,P=c(S(new Map),2),D=P[0],R=P[1],M=c(S(0),2),L=M[0],F=M[1],V=c(S(0),2),j=V[0],U=V[1],B=c(S(0),2),z=B[0],q=B[1],K=c((0,r.useState)(null),2),H=K[0],G=K[1],Q=c((0,r.useState)(null),2),Y=Q[0],$=Q[1],X=r.useMemo((function(){return null===Y&&T?Number.MAX_SAFE_INTEGER:Y||0}),[Y,N]),J=c((0,r.useState)(!1),2),Z=J[0],ee=J[1],te="".concat(i,"-item"),ne=Math.max(L,j),re=y===fi,ie=o.length&&re,ae=y===hi,oe=ie||"number"===typeof y&&o.length>y,ue=(0,r.useMemo)((function(){var e=o;return ie?e=null===N&&T?o:o.slice(0,Math.min(o.length,O/d)):"number"===typeof y&&(e=o.slice(0,y)),e}),[o,d,N,y,ie]),se=(0,r.useMemo)((function(){return ie?o.slice(X+1):o.slice(ue.length)}),[o,ue,ie,X]),ce=(0,r.useCallback)((function(e,t){var n;return"function"===typeof f?f(e):null!==(n=f&&(null===e||void 0===e?void 0:e[f]))&&void 0!==n?n:t}),[f]),le=(0,r.useCallback)(u||function(e){return e},[u]);function fe(e,t,n){(Y!==e||void 0!==t&&t!==H)&&($(e),n||(ee(e<o.length-1),null===I||void 0===I||I(e)),void 0!==t&&G(t))}function he(e,t){R((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function pe(e){return D.get(ce(ue[e],e))}Yt((function(){if(O&&ne&&ue){var e=z,t=ue.length,n=t-1;if(!t)return void fe(0,null);for(var r=0;r<t;r+=1){var i=pe(r);if(T&&(i=i||0),void 0===i){fe(r-1,void 0,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+pe(n)<=O){fe(n,null);break}if(e+ne>O){fe(r-1,e-i-z+j);break}}k&&pe(0)+z>O&&G(null)}}),[O,D,j,z,ce,ue]);var ve=Z&&!!se.length,me={};null!==H&&ie&&(me={position:"absolute",left:H,top:0});var ye,ge={prefixCls:te,responsive:ie,component:E,invalidate:ae},be=s?function(e,t){var n=ce(e,t);return r.createElement(li.Provider,{key:n,value:de(de({},ge),{},{order:t,item:e,itemKey:n,registerSize:he,display:t<=X})},s(e,t))}:function(e,t){var n=ce(e,t);return r.createElement(ni,l({},ge,{order:t,key:n,item:e,renderItem:le,itemKey:n,registerSize:he,display:t<=X}))},ke={order:ve?X:Number.MAX_SAFE_INTEGER,className:"".concat(te,"-rest"),registerSize:function(e,t){U(t),F(j)},display:ve};if(b)b&&(ye=r.createElement(li.Provider,{value:de(de({},ge),ke)},b(se)));else{var we=g||di;ye=r.createElement(ni,l({},ge,ke),"function"===typeof we?we(se):we)}var xe=r.createElement(x,l({className:W()(!ae&&i,m),style:v,ref:t},_),ue.map(be),oe?ye:null,k&&r.createElement(ni,l({},ge,{responsive:re,responsiveDisabled:!ie,order:X,className:"".concat(te,"-suffix"),registerSize:function(e,t){q(t)},display:!0,style:me}),k));return re&&(xe=r.createElement(zr,{onResize:function(e,t){A(t.clientWidth)},disabled:!ie},xe)),xe}var vi=r.forwardRef(pi);vi.displayName="Overflow",vi.Item=si,vi.RESPONSIVE=fi,vi.INVALIDATE=hi;var mi=vi,yi=["children","locked"],gi=r.createContext(null);function bi(e){var t=e.children,n=e.locked,i=Ee(e,yi),a=r.useContext(gi),o=function(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}((function(){return function(e,t){var n=de({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,i)}),[a,i],(function(e,t){return!n&&(e[0]!==t[0]||!Xr()(e[1],t[1]))}));return r.createElement(gi.Provider,{value:o},t)}function ki(e,t,n,i){var a=r.useContext(gi),o=a.activeKey,u=a.onActive,s=a.onInactive,c={active:o===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),u(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),s(e)}),c}var wi=["item"];function xi(e){var t=e.item,n=Ee(e,wi);return Object.defineProperty(n,"item",{get:function(){return Je(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Ei(e){var t=e.icon,n=e.props,i=e.children;return("function"===typeof t?r.createElement(t,de({},n)):t)||i||null}function Ii(e){var t=r.useContext(gi),n=t.mode,i=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return i?{paddingRight:e*a}:{paddingLeft:e*a}}var _i=[],Si=r.createContext(null);function Ti(){return r.useContext(Si)}var Ci=r.createContext(_i);function Ni(e){var t=r.useContext(Ci);return r.useMemo((function(){return void 0!==e?[].concat(At(t),[e]):t}),[t,e])}var Ai=r.createContext(null),Oi=r.createContext(null);function Pi(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Di(e){return Pi(r.useContext(Oi),e)}var Ri=r.createContext({}),Mi=["title","attribute","elementRef"],Li=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Fi=["active"],Vi=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=pe(Ee(e,Mi),["eventKey"]);return Je(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(mi.Item,l({},n,{title:"string"===typeof t?t:void 0},a,{ref:i}))}}]),n}(r.Component),ji=function(e){var t,n=e.style,i=e.className,a=e.eventKey,o=(e.warnKey,e.disabled),u=e.itemIcon,s=e.children,c=e.role,f=e.onMouseEnter,h=e.onMouseLeave,d=e.onClick,p=e.onKeyDown,v=e.onFocus,m=Ee(e,Li),y=Di(a),g=r.useContext(gi),b=g.prefixCls,k=g.onItemClick,w=g.disabled,x=g.overflowDisabled,E=g.itemIcon,I=g.selectedKeys,_=g.onActive,S=r.useContext(Ri)._internalRenderMenuItem,T="".concat(b,"-item"),C=r.useRef(),N=r.useRef(),A=w||o,O=Ni(a);var P=function(e){return{key:a,keyPath:At(O).reverse(),item:C.current,domEvent:e}},D=u||E,R=ki(a,A,f,h),M=R.active,L=Ee(R,Fi),F=I.includes(a),V=Ii(O.length),j={};"option"===e.role&&(j["aria-selected"]=F);var U=r.createElement(Vi,l({ref:C,elementRef:N,role:null===c?"none":c||"menuitem",tabIndex:o?null:-1,"data-menu-id":x&&y?null:y},m,L,j,{component:"li","aria-disabled":o,style:de(de({},V),n),className:W()(T,(t={},z(t,"".concat(T,"-active"),M),z(t,"".concat(T,"-selected"),F),z(t,"".concat(T,"-disabled"),A),t),i),onClick:function(e){if(!A){var t=P(e);null===d||void 0===d||d(xi(t)),k(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===Wr.ENTER){var t=P(e);null===d||void 0===d||d(xi(t)),k(t)}},onFocus:function(e){_(a),null===v||void 0===v||v(e)}}),s,r.createElement(Ei,{props:de(de({},e),{},{isSelected:F}),icon:D}));return S&&(U=S(U,e,{selected:F})),U};var Ui=function(e){var t=e.eventKey,n=Ti(),i=Ni(t);return r.useEffect((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r.createElement(ji,e)},Bi=["label","children","key","type"];function zi(e,t){return dr(e).map((function(e,n){if(r.isValidElement(e)){var i,a,o=e.key,u=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o;(null===u||void 0===u)&&(u="tmp_key-".concat([].concat(At(t),[n]).join("-")));var s={key:u,eventKey:u};return r.cloneElement(e,s)}return e}))}function qi(e){return(e||[]).map((function(e,t){if(e&&"object"===q(e)){var n=e.label,i=e.children,a=e.key,o=e.type,u=Ee(e,Bi),s=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?r.createElement(du,l({key:s},u,{title:n}),qi(i)):r.createElement(Uo,l({key:s},u,{title:n}),qi(i)):"divider"===o?r.createElement(pu,l({key:s},u)):r.createElement(Ui,l({key:s},u),n)}return null})).filter((function(e){return e}))}function Ki(e,t,n){var r=e;return t&&(r=qi(t)),zi(r,n)}function Wi(e){var t=r.useRef(e);t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var Hi=["className","children"],Gi=function(e,t){var n=e.className,i=e.children,a=Ee(e,Hi),o=r.useContext(gi),u=o.prefixCls,s=o.mode,c=o.rtl;return r.createElement("ul",l({className:W()(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===s?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},Qi=r.forwardRef(Gi);Qi.displayName="SubMenuList";var Yi=Qi;function $i(e,t){return!!e&&e.contains(t)}function Xi(e,t,n,r){var i=Zt.unstable_batchedUpdates?function(e){Zt.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var Ji=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,a=e.children,o=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var s=(0,r.useRef)(!1);return!s.current&&Q()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?Zt.createPortal(a,u.current):null})),Zi=Ji;function ea(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function ta(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function na(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,u=e.maskAnimation,s=e.maskTransitionName;if(!a)return null;var c={};return(o||s||u)&&(c=de({motionAppear:!0},ta({motion:o,prefixCls:t,transitionName:s,animation:u}))),r.createElement(ur,l({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:i},className:W()("".concat(t,"-mask"),n)})}))}var ra,ia=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}return!1};function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e){return ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ca={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function la(){if(void 0!==ra)return ra;ra="";var e=document.createElement("p").style;for(var t in ca)t+"Transform"in e&&(ra=t);return ra}function fa(){return la()?"".concat(la(),"TransitionProperty"):"transitionProperty"}function ha(){return la()?"".concat(la(),"Transform"):"transform"}function da(e,t){var n=fa();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function pa(e,t){var n=ha();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var va,ma=/matrix\((.*)\)/,ya=/matrix3d\((.*)\)/;function ga(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ba(e,t,n){var r=n;if("object"!==ua(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):va(e,t);for(var i in t)t.hasOwnProperty(i)&&ba(e,i,t[i])}function ka(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function wa(e){return ka(e)}function xa(e){return ka(e,!0)}function Ea(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=wa(r),t.top+=xa(r),t}function Ia(e){return null!==e&&void 0!==e&&e==e.window}function _a(e){return Ia(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Sa=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Ta=/^(top|right|bottom|left)$/;function Ca(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Na(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Aa(e,t,n){"static"===ba(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=Ca("left",n),o=Ca("top",n),u=Na(a),s=Na(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=Ea(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[fa()]||"",da(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),ga(e);var h=Ea(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var v=Ca(p,n),m="left"===p?r:i,y=f[p]-h[p];d[v]=v===p?m+y:m-y}ba(e,d),ga(e),("left"in t||"top"in t)&&da(e,l);var g={};for(var b in t)if(t.hasOwnProperty(b)){var k=Ca(b,n),w=t[b]-f[b];g[k]=b===k?d[k]+w:d[k]-w}ba(e,g)}function Oa(e,t){var n=Ea(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(ha());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(ha());if(r&&"none"!==r){var i,a=r.match(ma);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,pa(e,"matrix(".concat(i.join(","),")"))):((i=r.match(ya)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,pa(e,"matrix3d(".concat(i.join(","),")")))}else pa(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function Pa(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Da(e){return"border-box"===va(e,"boxSizing")}"undefined"!==typeof window&&(va=window.getComputedStyle?function(e,t,n){var r=n,i="",a=_a(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(Sa.test(n)&&!Ta.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var Ra=["margin","border","padding"];function Ma(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function La(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(va(e,u))||0}return o}var Fa={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Va(e,t,n){var r=n;if(Ia(e))return"width"===t?Fa.viewportWidth(e):Fa.viewportHeight(e);if(9===e.nodeType)return"width"===t?Fa.docWidth(e):Fa.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=Da(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=va(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-La(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-La(e,["border"],i):La(e,["margin"],i)):u+La(e,Ra.slice(r),i)}Pa(["Width","Height"],(function(e){Fa["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Fa["viewport".concat(e)](n))},Fa["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var ja={position:"absolute",visibility:"hidden",display:"block"};function Ua(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Va.apply(void 0,t):Ma(i,ja,(function(){r=Va.apply(void 0,t)})),r}function Ba(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Pa(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Fa["outer".concat(t)]=function(t,n){return t&&Ua(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Fa[e]=function(t,r){var i=r;return void 0!==i?t?(Da(t)&&(i+=La(t,["padding","border"],n)),ba(t,e,i)):void 0:t&&Ua(t,e,-1)}}));var za={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:_a,offset:function(e,t,n){if("undefined"===typeof t)return Ea(e);!function(e,t,n){if(n.ignoreShake){var r=Ea(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?Aa(e,t,n):n.useCssTransform&&ha()in document.body.style?Oa(e,t):Aa(e,t,n)}(e,t,n||{})},isWindow:Ia,each:Pa,css:ba,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Ba,getWindowScrollLeft:function(e){return wa(e)},getWindowScrollTop:function(e){return xa(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)za.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Ba(za,Fa);var qa=za.getParent;function Ka(e){if(za.isWindow(e)||9===e.nodeType)return null;var t,n=za.getDocument(e).body,r=za.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:qa(e);for(t=qa(e);t&&t!==n&&9!==t.nodeType;t=qa(t))if("static"!==(r=za.css(t,"position")))return t;return null}var Wa=za.getParent;function Ha(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Ka(e),i=za.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===za.css(r,"overflow")){if(r===o||r===u)break}else{var s=za.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=Ka(r)}var c=null;za.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===za.css(e,"position")&&(e.style.position="fixed"));var l=za.getWindowScrollLeft(a),f=za.getWindowScrollTop(a),h=za.viewportWidth(a),d=za.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(za.isWindow(e)||9===e.nodeType)return!1;var t=za.getDocument(e),n=t.body,r=null;for(r=Wa(e);r&&r!==n&&r!==t;r=Wa(r))if("fixed"===za.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+h),n.bottom=Math.min(n.bottom,f+d);else{var y=Math.max(p,l+h);n.right=Math.min(n.right,y);var g=Math.max(v,f+d);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ga(e){var t,n,r;if(za.isWindow(e)||9===e.nodeType){var i=za.getWindow(e);t={left:za.getWindowScrollLeft(i),top:za.getWindowScrollTop(i)},n=za.viewportWidth(i),r=za.viewportHeight(i)}else t=za.offset(e),n=za.outerWidth(e),r=za.outerHeight(e);return t.width=n,t.height=r,t}function Qa(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function Ya(e,t,n,r,i){var a=Qa(t,n[1]),o=Qa(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function $a(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Xa(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Ja(e,t,n){var r=[];return za.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Za(e,t){return e[t]=-e[t],e}function eo(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function to(e,t){e[0]=eo(e[0],t.width),e[1]=eo(e[1],t.height)}function no(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=Ha(s,!(!(u=u||{})||!u.alwaysByViewport)),h=Ga(s);to(a,h),to(o,t);var d=Ya(h,t,i,a,o),p=za.merge(h,d);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&$a(d,h,f)){var v=Ja(i,/[lr]/gi,{l:"r",r:"l"}),m=Za(a,0),y=Za(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Ya(h,t,v,m,y),h,f)||(l=1,i=v,a=m,o=y)}if(u.adjustY&&Xa(d,h,f)){var g=Ja(i,/[tb]/gi,{t:"b",b:"t"}),b=Za(a,1),k=Za(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Ya(h,t,g,b,k),h,f)||(l=1,i=g,a=b,o=k)}l&&(d=Ya(h,t,i,a,o),za.mix(p,d));var w=$a(d,h,f),x=Xa(d,h,f);if(w||x){var E=i;w&&(E=Ja(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=Ja(i,/[tb]/gi,{t:"b",b:"t"})),i=E,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&w,c.adjustY=u.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=za.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),za.mix(i,a)}(d,h,f,c))}return p.width!==h.width&&za.css(s,"width",za.width(s)+p.width-h.width),p.height!==h.height&&za.css(s,"height",za.height(s)+p.height-h.height),za.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function ro(e,t,n){var r=n.target||t,i=Ga(r),a=!function(e,t){var n=Ha(e,t),r=Ga(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return no(e,i,n,a)}ro.__getOffsetParent=Ka,ro.__getVisibleRectForElement=Ha;var io=n(8111),ao=n.n(io);function oo(e,t){var n=null,r=null;var i=new Mr((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,s=Math.floor(o),l=Math.floor(u);n===s&&r===l||Promise.resolve().then((function(){t({width:s,height:l})})),n=s,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function uo(e){return"function"!==typeof e?null:e()}function so(e){return"object"===q(e)&&e?e:null}var co=function(e,t){var n=e.children,i=e.disabled,a=e.target,o=e.align,u=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,h=r.useRef({}),d=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=i,v.current.target=a,v.current.align=o,v.current.onAlign=u;var m=function(e,t){var n=r.useRef(!1),i=r.useRef(null);function a(){window.clearTimeout(i.current)}return[function r(o){if(a(),n.current&&!0!==o)i.current=window.setTimeout((function(){n.current=!1,r()}),t);else{if(!1===e())return;n.current=!0,i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,a()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=d.current,u=uo(n),s=so(n);h.current.element=u,h.current.point=s,h.current.align=r;var c=document.activeElement;return u&&ia(u)?a=ro(o,u,r):s&&(a=function(e,t,n){var r,i,a=za.getDocument(e),o=a.defaultView||a.parentWindow,u=za.getWindowScrollLeft(o),s=za.getWindowScrollTop(o),c=za.viewportWidth(o),l=za.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},h=r>=0&&r<=u+c&&i>=0&&i<=s+l,d=[n.points[0],"cc"];return no(e,f,oa(oa({},n),{},{points:d}),h)}(o,s,r)),function(e,t){e!==document.activeElement&&$i(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),f),y=c(m,2),g=y[0],b=y[1],k=r.useRef({cancel:function(){}}),w=r.useRef({cancel:function(){}});r.useEffect((function(){var e,t,n=uo(a),r=so(a);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=oo(d.current,g)),h.current.element===n&&((e=h.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&ao()(h.current.align,o)||(g(),k.current.element!==n&&(k.current.cancel(),k.current.element=n,k.current.cancel=oo(n,g)))})),r.useEffect((function(){i?b():g()}),[i]);var x=r.useRef(null);return r.useEffect((function(){s?x.current||(x.current=Xi(window,"resize",g)):x.current&&(x.current.remove(),x.current=null)}),[s]),r.useEffect((function(){return function(){k.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),b()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:rn(p.ref,d)})),p},lo=r.forwardRef(co);lo.displayName="Align";var fo=lo;function ho(){ho=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==q(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function po(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){po(a,r,i,o,u,"next",e)}function u(e){po(a,r,i,o,u,"throw",e)}o(void 0)}))}}var mo=["measure","alignPre","align",null,"motion"],yo=r.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,a=e.className,o=e.style,u=e.children,s=e.zIndex,f=e.stretch,h=e.destroyPopupOnHide,d=e.forceRender,p=e.align,v=e.point,m=e.getRootDomNode,y=e.getClassNameFromAlign,g=e.onAlign,b=e.onMouseEnter,k=e.onMouseLeave,w=e.onMouseDown,x=e.onTouchStart,E=e.onClick,I=(0,r.useRef)(),_=(0,r.useRef)(),S=c((0,r.useState)(),2),T=S[0],C=S[1],N=function(e){var t=c(r.useState({width:0,height:0}),2),n=t[0],i=t[1];return[r.useMemo((function(){var t={};if(e){var r=n.width,i=n.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(f),A=c(N,2),O=A[0],P=A[1];var D=function(e,t){var n=c($t(null),2),i=n[0],a=n[1],o=(0,r.useRef)();function u(e){a(e,!0)}function s(){Pn.cancel(o.current)}return(0,r.useEffect)((function(){u("measure")}),[e]),(0,r.useEffect)((function(){"measure"===i&&t(),i&&(o.current=Pn(vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=mo.indexOf(i),(n=mo[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,r.useEffect)((function(){return function(){s()}}),[]),[i,function(e){s(),o.current=Pn((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){f&&P(m())})),R=c(D,2),M=R[0],L=R[1],F=c((0,r.useState)(0),2),V=F[0],j=F[1],U=(0,r.useRef)();function B(){var e;null===(e=I.current)||void 0===e||e.forceAlign()}function z(e,t){var n=y(t);T!==n&&C(n),j((function(e){return e+1})),"align"===M&&(null===g||void 0===g||g(e,t))}Yt((function(){"alignPre"===M&&j(0)}),[M]),Yt((function(){"align"===M&&(V<2?B():L((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})))}),[V]);var q=de({},ta(e));function K(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return L(),null===t||void 0===t?void 0:t(e,n)}})),r.useEffect((function(){q.motionName||"motion"!==M||L()}),[q.motionName,M]),r.useImperativeHandle(t,(function(){return{forceAlign:B,getElement:function(){return _.current}}}));var H=de(de({},O),{},{zIndex:s,opacity:"motion"!==M&&"stable"!==M&&n?0:void 0,pointerEvents:n||"stable"===M?void 0:"none"},o),G=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==M&&"stable"!==M||(G=!1);var Q=u;return r.Children.count(u)>1&&(Q=r.createElement("div",{className:"".concat(i,"-content")},u)),r.createElement(ur,l({visible:n,ref:_,leavedClassName:"".concat(i,"-hidden")},q,{onAppearPrepare:K,onEnterPrepare:K,removeOnLeave:h,forceRender:d}),(function(e,t){var n=e.className,o=e.style,u=W()(i,a,T,n);return r.createElement(fo,{target:v||m,key:"popup",ref:I,monitorWindowResize:!0,disabled:G,align:p,onAlign:z},r.createElement("div",{ref:t,className:u,onMouseEnter:b,onMouseLeave:k,onMouseDownCapture:w,onTouchStartCapture:x,onClick:E,style:de(de({},o),H)},Q))}))}));yo.displayName="PopupInner";var go=yo,bo=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,u=e.mobile,s=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,f=u.popupMotion,h=void 0===f?{}:f,d=u.popupRender,p=e.onClick,v=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var m=de({zIndex:a},c),y=o;return r.Children.count(o)>1&&(y=r.createElement("div",{className:"".concat(n,"-content")},o)),d&&(y=d(y)),r.createElement(ur,l({visible:i,ref:v,removeOnLeave:!0},h),(function(e,t){var i=e.className,a=e.style,o=W()(n,s,i);return r.createElement("div",{ref:t,className:o,onClick:p,style:de(de({},a),m)},y)}))}));bo.displayName="MobilePopupInner";var ko=bo,wo=["visible","mobile"],xo=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,a=Ee(e,wo),o=c((0,r.useState)(n),2),u=o[0],s=o[1],f=c((0,r.useState)(!1),2),h=f[0],d=f[1],p=de(de({},a),{},{visible:u});(0,r.useEffect)((function(){s(n),n&&i&&d(Wt())}),[n,i]);var v=h?r.createElement(ko,l({},p,{mobile:i,ref:t})):r.createElement(go,l({},p,{ref:t}));return r.createElement("div",null,r.createElement(na,p),v)}));xo.displayName="Popup";var Eo=xo,Io=r.createContext(null);function _o(){}function So(){return""}function To(e){return e?e.ownerDocument:window.document}var Co=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var No=function(e){var t=function(t){zn(i,t);var n=Gn(i);function i(e){var t,a;return Vn(this,i),(t=n.call(this,e)).popupRef=r.createRef(),t.triggerRef=r.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&$i(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();$i(r,n)&&!t.isContextMenuOnly()||$i(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=en(t.triggerRef.current);if(n)return n}catch(r){}return Zt.findDOMNode(Wn(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(ea(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&n.push(s(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,f=e.popupStyle,h=e.mask,d=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,k=e.mobile,w=e.forceRender,x=e.onPopupClick,E=t.state,I=E.popupVisible,_=E.point,S=t.getPopupAlign(),T={};return t.isMouseEnterToShow()&&(T.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(T.onMouseLeave=t.onPopupMouseLeave),T.onMouseDown=t.onPopupMouseDown,T.onTouchStart=t.onPopupMouseDown,r.createElement(Eo,l({prefixCls:n,destroyPopupOnHide:i,visible:I,point:b&&_,className:a,align:S,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},T,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:h,zIndex:m,transitionName:c,maskAnimation:d,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:u,mobile:k,forceRender:w,onClick:x}),"function"===typeof y?y():y)},t.attachParent=function(e){Pn.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Pn((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},Co.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return Un(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Xi(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Xi(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Xi(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Xi(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Pn.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return de(de({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,u=n.className,s=n.autoDestroy,c=r.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=W()(c&&c.props&&c.props.className,u);f&&(l.className=f);var h=de({},l);an(c)&&(h.ref=rn(this.triggerRef,c.ref));var d,p=r.cloneElement(c,h);return(t||this.popupRef.current||a)&&(d=r.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(d=null),r.createElement(Io.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r.Component);return t.contextType=Io,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:So,getDocument:To,onPopupVisibleChange:_o,afterPopupVisibleChange:_o,onPopupAlign:_o,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(Zi),Ao={adjustX:1,adjustY:1},Oo={topLeft:{points:["bl","tl"],overflow:Ao,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ao,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Ao,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Ao,offset:[4,0]}},Po={topLeft:{points:["bl","tl"],overflow:Ao,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ao,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Ao,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Ao,offset:[4,0]}};function Do(e,t,n){return t||(n?n[e]||n.other:void 0)}var Ro={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Mo(e){var t=e.prefixCls,n=e.visible,i=e.children,a=e.popup,o=e.popupClassName,u=e.popupOffset,s=e.disabled,l=e.mode,f=e.onVisibleChange,h=r.useContext(gi),d=h.getPopupContainer,p=h.rtl,v=h.subMenuOpenDelay,m=h.subMenuCloseDelay,y=h.builtinPlacements,g=h.triggerSubMenuAction,b=h.forceSubMenuRender,k=h.rootClassName,w=h.motion,x=h.defaultMotions,E=c(r.useState(!1),2),I=E[0],_=E[1],S=de(de({},p?Po:Oo),y),T=Ro[l],C=de(de({},Do(l,w,x)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=r.useRef();return r.useEffect((function(){return N.current=Pn((function(){_(n)})),function(){Pn.cancel(N.current)}}),[n]),r.createElement(No,{prefixCls:t,popupClassName:W()("".concat(t,"-popup"),z({},"".concat(t,"-rtl"),p),o,k),stretch:"horizontal"===l?"minWidth":null,getPopupContainer:d,builtinPlacements:S,popupPlacement:T,popupVisible:I,popup:a,popupAlign:u&&{offset:u},action:s?[]:[g],mouseEnterDelay:v,mouseLeaveDelay:m,onPopupVisibleChange:f,forceRender:b,popupMotion:C},i)}function Lo(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,o="inline",u=r.useContext(gi),s=u.prefixCls,f=u.forceSubMenuRender,h=u.motion,d=u.defaultMotions,p=u.mode,v=r.useRef(!1);v.current=p===o;var m=c(r.useState(!v.current),2),y=m[0],g=m[1],b=!!v.current&&n;r.useEffect((function(){v.current&&g(!1)}),[p]);var k=de({},Do(o,h,d));i.length>1&&(k.motionAppear=!1);var w=k.onVisibleChanged;return k.onVisibleChanged=function(e){return v.current||e||g(!0),null===w||void 0===w?void 0:w(e)},y?null:r.createElement(bi,{mode:o,locked:!v.current},r.createElement(ur,l({visible:b},k,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,i=e.style;return r.createElement(Yi,{id:t,className:n,style:i},a)})))}var Fo=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Vo=["active"],jo=function(e){var t,n=e.style,i=e.className,a=e.title,o=e.eventKey,u=(e.warnKey,e.disabled),s=e.internalPopupClose,f=e.children,h=e.itemIcon,d=e.expandIcon,p=e.popupClassName,v=e.popupOffset,m=e.onClick,y=e.onMouseEnter,g=e.onMouseLeave,b=e.onTitleClick,k=e.onTitleMouseEnter,w=e.onTitleMouseLeave,x=Ee(e,Fo),E=Di(o),I=r.useContext(gi),_=I.prefixCls,S=I.mode,T=I.openKeys,C=I.disabled,N=I.overflowDisabled,A=I.activeKey,O=I.selectedKeys,P=I.itemIcon,D=I.expandIcon,R=I.onItemClick,M=I.onOpenChange,L=I.onActive,F=r.useContext(Ri)._internalRenderSubMenuItem,V=r.useContext(Ai).isSubPathKey,j=Ni(),U="".concat(_,"-submenu"),B=C||u,q=r.useRef(),K=r.useRef();var H=h||P,G=d||D,Q=T.includes(o),Y=!N&&Q,$=V(O,o),X=ki(o,B,k,w),J=X.active,Z=Ee(X,Vo),ee=c(r.useState(!1),2),te=ee[0],ne=ee[1],re=function(e){B||ne(e)},ie=r.useMemo((function(){return J||"inline"!==S&&(te||V([A],o))}),[S,J,A,te,o,V]),ae=Ii(j.length),oe=Wi((function(e){null===m||void 0===m||m(xi(e)),R(e)})),ue=E&&"".concat(E,"-popup"),se=r.createElement("div",l({role:"menuitem",style:ae,className:"".concat(U,"-title"),tabIndex:B?null:-1,ref:q,title:"string"===typeof a?a:null,"data-menu-id":N&&E?null:E,"aria-expanded":Y,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":B,onClick:function(e){B||(null===b||void 0===b||b({key:o,domEvent:e}),"inline"===S&&M(o,!Q))},onFocus:function(){L(o)}},Z),a,r.createElement(Ei,{icon:"horizontal"!==S?G:null,props:de(de({},e),{},{isOpen:Y,isSubMenu:!0})},r.createElement("i",{className:"".concat(U,"-arrow")}))),ce=r.useRef(S);if("inline"!==S&&(ce.current=j.length>1?"vertical":S),!N){var le=ce.current;se=r.createElement(Mo,{mode:le,prefixCls:U,visible:!s&&Y&&"inline"!==S,popupClassName:p,popupOffset:v,popup:r.createElement(bi,{mode:"horizontal"===le?"vertical":le},r.createElement(Yi,{id:ue,ref:K},f)),disabled:B,onVisibleChange:function(e){"inline"!==S&&M(o,e)}},se)}var fe=r.createElement(mi.Item,l({role:"none"},x,{component:"li",style:n,className:W()(U,"".concat(U,"-").concat(S),i,(t={},z(t,"".concat(U,"-open"),Y),z(t,"".concat(U,"-active"),ie),z(t,"".concat(U,"-selected"),$),z(t,"".concat(U,"-disabled"),B),t)),onMouseEnter:function(e){re(!0),null===y||void 0===y||y({key:o,domEvent:e})},onMouseLeave:function(e){re(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),se,!N&&r.createElement(Lo,{id:ue,open:Y,keyPath:j},f));return F&&(fe=F(fe,e,{selected:$,active:ie,open:Y,disabled:B})),r.createElement(bi,{onItemClick:oe,mode:"horizontal"===S?"vertical":S,itemIcon:H,expandIcon:G},fe)};function Uo(e){var t,n=e.eventKey,i=e.children,a=Ni(n),o=zi(i,a),u=Ti();return r.useEffect((function(){if(u)return u.registerPath(n,a),function(){u.unregisterPath(n,a)}}),[a]),t=u?o:r.createElement(jo,e,o),r.createElement(Ci.Provider,{value:a},t)}function Bo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ia(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function zo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=At(e.querySelectorAll("*")).filter((function(e){return Bo(e,t)}));return Bo(e,t)&&n.unshift(e),n}var qo=Wr.LEFT,Ko=Wr.RIGHT,Wo=Wr.UP,Ho=Wr.DOWN,Go=Wr.ENTER,Qo=Wr.ESC,Yo=Wr.HOME,$o=Wr.END,Xo=[Wo,Ho,qo,Ko];function Jo(e,t){return zo(e,!0).filter((function(e){return t.has(e)}))}function Zo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Jo(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function eu(e,t,n,i,a,o,u,s,c,l){var f=r.useRef(),h=r.useRef();h.current=t;var d=function(){Pn.cancel(f.current)};return r.useEffect((function(){return function(){d()}}),[]),function(r){var p=r.which;if([].concat(Xo,[Go,Qo,Yo,$o]).includes(p)){var v,m,y,g=function(){return v=new Set,m=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(Pi(i,e),"']"));t&&(v.add(t),y.set(t,e),m.set(e,t))})),v};g();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),v),k=y.get(b),w=function(e,t,n,r){var i,a,o,u,s="prev",c="next",l="children",f="parent";if("inline"===e&&r===Go)return{inlineTrigger:!0};var h=(z(i={},Wo,s),z(i,Ho,c),i),d=(z(a={},qo,n?c:s),z(a,Ko,n?s:c),z(a,Ho,l),z(a,Go,l),a),p=(z(o={},Wo,s),z(o,Ho,c),z(o,Go,l),z(o,Qo,f),z(o,qo,n?l:f),z(o,Ko,n?f:l),o);switch(null===(u={inline:h,horizontal:d,vertical:p,inlineSub:h,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===u(k,!0).length,n,p);if(!w&&p!==Yo&&p!==$o)return;(Xo.includes(p)||[Yo,$o].includes(p))&&r.preventDefault();var x=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);s(r),d(),f.current=Pn((function(){h.current===r&&t.focus()}))}};if([Yo,$o].includes(p)||w.sibling||!b){var E,I,_=Jo(E=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):a.current,v);I=p===Yo?_[0]:p===$o?_[_.length-1]:Zo(E,v,b,w.offset),x(I)}else if(w.inlineTrigger)c(k);else if(w.offset>0)c(k,!0),d(),f.current=Pn((function(){g();var e=b.getAttribute("aria-controls"),t=Zo(document.getElementById(e),v);x(t)}),5);else if(w.offset<0){var S=u(k,!0),T=S[S.length-2],C=m.get(T);c(T,!1),x(C)}}null===l||void 0===l||l(r)}}var tu=Math.random().toFixed(5).toString().slice(2),nu=0;var ru="__RC_UTIL_PATH_SPLIT__",iu=function(e){return e.join(ru)},au="rc-menu-more";function ou(){var e=c(r.useState({}),2)[1],t=(0,r.useRef)(new Map),n=(0,r.useRef)(new Map),i=c(r.useState([]),2),a=i[0],o=i[1],u=(0,r.useRef)(0),s=(0,r.useRef)(!1),l=(0,r.useCallback)((function(r,i){var a=iu(i);n.current.set(a,r),t.current.set(r,a),u.current+=1;var o,c=u.current;o=function(){c===u.current&&(s.current||e({}))},Promise.resolve().then(o)}),[]),f=(0,r.useCallback)((function(e,r){var i=iu(r);n.current.delete(i),t.current.delete(e)}),[]),h=(0,r.useCallback)((function(e){o(e)}),[]),d=(0,r.useCallback)((function(e,n){var r=t.current.get(e)||"",i=r.split(ru);return n&&a.includes(i[0])&&i.unshift(au),i}),[a]),p=(0,r.useCallback)((function(e,t){return e.some((function(e){return d(e,!0).includes(t)}))}),[d]),v=(0,r.useCallback)((function(e){var r="".concat(t.current.get(e)).concat(ru),i=new Set;return At(n.current.keys()).forEach((function(e){e.startsWith(r)&&i.add(n.current.get(e))})),i}),[]);return r.useEffect((function(){return function(){s.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:h,isSubPathKey:p,getKeyPath:d,getKeys:function(){var e=At(t.current.keys());return a.length&&e.push(au),e},getSubPathKeys:v}}var uu=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],su=[],cu=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=void 0===a?"rc-menu":a,u=e.rootClassName,s=e.style,f=e.className,h=e.tabIndex,d=void 0===h?0:h,p=e.items,v=e.children,m=e.direction,y=e.id,g=e.mode,b=void 0===g?"vertical":g,k=e.inlineCollapsed,w=e.disabled,x=e.disabledOverflow,E=e.subMenuOpenDelay,I=void 0===E?.1:E,_=e.subMenuCloseDelay,S=void 0===_?.1:_,T=e.forceSubMenuRender,C=e.defaultOpenKeys,N=e.openKeys,A=e.activeKey,O=e.defaultActiveFirst,P=e.selectable,D=void 0===P||P,R=e.multiple,M=void 0!==R&&R,L=e.defaultSelectedKeys,F=e.selectedKeys,V=e.onSelect,j=e.onDeselect,U=e.inlineIndent,B=void 0===U?24:U,q=e.motion,K=e.defaultMotions,H=e.triggerSubMenuAction,G=void 0===H?"hover":H,Q=e.builtinPlacements,Y=e.itemIcon,$=e.expandIcon,X=e.overflowedIndicator,J=void 0===X?"...":X,Z=e.overflowedIndicatorPopupClassName,ee=e.getPopupContainer,te=e.onClick,ne=e.onOpenChange,re=e.onKeyDown,ie=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ae=e._internalRenderSubMenuItem,oe=Ee(e,uu),ue=r.useMemo((function(){return Ki(v,p,su)}),[v,p]),se=c(r.useState(!1),2),ce=se[0],le=se[1],fe=r.useRef(),he=function(e){var t=c(Jt(e,{value:e}),2),n=t[0],i=t[1];return r.useEffect((function(){nu+=1;var e="".concat(tu,"-").concat(nu);i("rc-menu-uuid-".concat(e))}),[]),n}(y),pe="rtl"===m;var ve=c(r.useMemo((function(){return"inline"!==b&&"vertical"!==b||!k?[b,!1]:["vertical",k]}),[b,k]),2),me=ve[0],ye=ve[1],ge=c(r.useState(0),2),be=ge[0],ke=ge[1],we=be>=ue.length-1||"horizontal"!==me||x,xe=c(Jt(C,{value:N,postState:function(e){return e||su}}),2),Ie=xe[0],_e=xe[1],Se=function(e){_e(e),null===ne||void 0===ne||ne(e)},Te=c(r.useState(Ie),2),Ce=Te[0],Ne=Te[1],Ae="inline"===me,Oe=r.useRef(!1);r.useEffect((function(){Ae&&Ne(Ie)}),[Ie]),r.useEffect((function(){Oe.current&&(Ae?_e(Ce):Se(su))}),[Ae]),r.useEffect((function(){return Oe.current=!0,function(){Oe.current=!1}}),[]);var Pe=ou(),De=Pe.registerPath,Re=Pe.unregisterPath,Me=Pe.refreshOverflowKeys,Le=Pe.isSubPathKey,Fe=Pe.getKeyPath,Ve=Pe.getKeys,je=Pe.getSubPathKeys,Ue=r.useMemo((function(){return{registerPath:De,unregisterPath:Re}}),[De,Re]),Be=r.useMemo((function(){return{isSubPathKey:Le}}),[Le]);r.useEffect((function(){Me(we?su:ue.slice(be+1).map((function(e){return e.key})))}),[be,we]);var ze=c(Jt(A||O&&(null===(n=ue[0])||void 0===n?void 0:n.key),{value:A}),2),qe=ze[0],Ke=ze[1],We=Wi((function(e){Ke(e)})),He=Wi((function(){Ke(void 0)}));(0,r.useImperativeHandle)(t,(function(){return{list:fe.current,focus:function(e){var t,n,r,i,a=null!==qe&&void 0!==qe?qe:null===(t=ue.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=fe.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(Pi(he,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Ge=c(Jt(L||[],{value:F,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?su:[e]}}),2),Qe=Ge[0],Ye=Ge[1],$e=Wi((function(e){null===te||void 0===te||te(xi(e)),function(e){if(D){var t,n=e.key,r=Qe.includes(n);t=M?r?Qe.filter((function(e){return e!==n})):[].concat(At(Qe),[n]):[n],Ye(t);var i=de(de({},e),{},{selectedKeys:t});r?null===j||void 0===j||j(i):null===V||void 0===V||V(i)}!M&&Ie.length&&"inline"!==me&&Se(su)}(e)})),Xe=Wi((function(e,t){var n=Ie.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==me){var r=je(e);n=n.filter((function(e){return!r.has(e)}))}Xr()(Ie,n)||Se(n)})),Je=Wi(ee),Ze=eu(me,qe,pe,he,fe,Ve,Fe,Ke,(function(e,t){var n=null!==t&&void 0!==t?t:!Ie.includes(e);Xe(e,n)}),re);r.useEffect((function(){le(!0)}),[]);var et=r.useMemo((function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:ae}}),[ie,ae]),tt="horizontal"!==me||x?ue:ue.map((function(e,t){return r.createElement(bi,{key:e.key,overflowDisabled:t>be},e)})),nt=r.createElement(mi,l({id:y,ref:fe,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:Ui,className:W()(o,"".concat(o,"-root"),"".concat(o,"-").concat(me),f,(i={},z(i,"".concat(o,"-inline-collapsed"),ye),z(i,"".concat(o,"-rtl"),pe),i),u),dir:m,style:s,role:"menu",tabIndex:d,data:tt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ue.slice(-t):null;return r.createElement(Uo,{eventKey:au,title:J,disabled:we,internalPopupClose:0===t,popupClassName:Z},n)},maxCount:"horizontal"!==me||x?mi.INVALIDATE:mi.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ke(e)},onKeyDown:Ze},oe));return r.createElement(Ri.Provider,{value:et},r.createElement(Oi.Provider,{value:he},r.createElement(bi,{prefixCls:o,rootClassName:u,mode:me,openKeys:Ie,rtl:pe,disabled:w,motion:ce?q:null,defaultMotions:ce?K:null,activeKey:qe,onActive:We,onInactive:He,selectedKeys:Qe,inlineIndent:B,subMenuOpenDelay:I,subMenuCloseDelay:S,forceSubMenuRender:T,builtinPlacements:Q,triggerSubMenuAction:G,getPopupContainer:Je,itemIcon:Y,expandIcon:$,onItemClick:$e,onOpenChange:Xe},r.createElement(Ai.Provider,{value:Be},nt),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(Si.Provider,{value:Ue},ue)))))})),lu=["className","title","eventKey","children"],fu=["children"],hu=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=Ee(e,lu),o=r.useContext(gi).prefixCls,u="".concat(o,"-item-group");return r.createElement("li",l({},a,{onClick:function(e){return e.stopPropagation()},className:W()(u,t)}),r.createElement("div",{className:"".concat(u,"-title"),title:"string"===typeof n?n:void 0},n),r.createElement("ul",{className:"".concat(u,"-list")},i))};function du(e){var t=e.children,n=Ee(e,fu),i=zi(t,Ni(n.eventKey));return Ti()?i:r.createElement(hu,pe(n,["warnKey"]),i)}function pu(e){var t=e.className,n=e.style,i=r.useContext(gi).prefixCls;return Ti()?null:r.createElement("li",{className:W()("".concat(i,"-item-divider"),t),style:n})}var vu=Ni,mu=cu;mu.Item=Ui,mu.SubMenu=Uo,mu.ItemGroup=du,mu.Divider=pu;var yu=mu,gu={adjustX:1,adjustY:1},bu=[0,0],ku={topLeft:{points:["bl","tl"],overflow:gu,offset:[0,-4],targetOffset:bu},topCenter:{points:["bc","tc"],overflow:gu,offset:[0,-4],targetOffset:bu},topRight:{points:["br","tr"],overflow:gu,offset:[0,-4],targetOffset:bu},bottomLeft:{points:["tl","bl"],overflow:gu,offset:[0,4],targetOffset:bu},bottomCenter:{points:["tc","bc"],overflow:gu,offset:[0,4],targetOffset:bu},bottomRight:{points:["tr","br"],overflow:gu,offset:[0,4],targetOffset:bu}},wu=Wr.ESC,xu=Wr.TAB;var Eu=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Iu(e,t){var n=e.arrow,i=void 0!==n&&n,a=e.prefixCls,o=void 0===a?"rc-dropdown":a,u=e.transitionName,s=e.animation,l=e.align,f=e.placement,h=void 0===f?"bottomLeft":f,d=e.placements,p=void 0===d?ku:d,v=e.getPopupContainer,m=e.showAction,y=e.hideAction,g=e.overlayClassName,b=e.overlayStyle,k=e.visible,w=e.trigger,x=void 0===w?["hover"]:w,E=e.autoFocus,I=Ee(e,Eu),_=c(r.useState(),2),S=_[0],T=_[1],C="visible"in e?k:S,N=r.useRef(null);r.useImperativeHandle(t,(function(){return N.current})),function(e){var t=e.visible,n=e.setTriggerVisible,i=e.triggerRef,a=e.onVisibleChange,o=e.autoFocus,u=r.useRef(!1),s=function(){var e,r,o,u;t&&i.current&&(null===(e=i.current)||void 0===e||null===(r=e.triggerRef)||void 0===r||null===(o=r.current)||void 0===o||null===(u=o.focus)||void 0===u||u.call(o),n(!1),"function"===typeof a&&a(!1))},c=function(){var e,t,n,r,a=zo(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),u.current=!0,!0)},l=function(e){switch(e.keyCode){case wu:s();break;case xu:var t=!1;u.current||(t=c()),t?e.preventDefault():s()}};r.useEffect((function(){return t?(window.addEventListener("keydown",l),o&&Pn(c,3),function(){window.removeEventListener("keydown",l),u.current=!1}):function(){u.current=!1}}),[t])}({visible:C,setTriggerVisible:T,triggerRef:N,onVisibleChange:e.onVisibleChange,autoFocus:E});var A=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(o,"-arrow")}),t)},O=y;return O||-1===x.indexOf("contextMenu")||(O=["click"]),r.createElement(No,de(de({builtinPlacements:p},I),{},{prefixCls:o,ref:N,popupClassName:W()(g,z({},"".concat(o,"-show-arrow"),i)),popupStyle:b,action:x,showAction:m,hideAction:O||[],popupPlacement:h,popupAlign:l,popupTransitionName:u,popupAnimation:s,popupVisible:C,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?A:A(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;T(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;T(!1),n&&n(t)},getPopupContainer:v}),function(){var t=e.children,n=t.props?t.props:{},i=W()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return C&&t?r.cloneElement(t,{className:i}):t}())}var _u=r.forwardRef(Iu);function Su(e,t){var n=e.prefixCls,i=e.editable,a=e.locale,o=e.style;return i&&!1!==i.showAdd?r.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var Tu=r.forwardRef(Su);function Cu(e,t){var n=e.prefixCls,i=e.id,a=e.tabs,o=e.locale,u=e.mobile,s=e.moreIcon,l=void 0===s?"More":s,f=e.moreTransitionName,h=e.style,d=e.className,p=e.editable,v=e.tabBarGutter,m=e.rtl,y=e.removeAriaLabel,g=e.onTabClick,b=e.getPopupContainer,k=e.popupClassName,w=c((0,r.useState)(!1),2),x=w[0],E=w[1],I=c((0,r.useState)(null),2),_=I[0],S=I[1],T="".concat(i,"-more-popup"),C="".concat(n,"-dropdown"),N=null!==_?"".concat(T,"-").concat(_):null,A=null===o||void 0===o?void 0:o.dropdownAriaLabel;var O=r.createElement(yu,{onClick:function(e){var t=e.key,n=e.domEvent;g(t,n),E(!1)},prefixCls:"".concat(C,"-menu"),id:T,tabIndex:-1,role:"listbox","aria-activedescendant":N,selectedKeys:[_],"aria-label":void 0!==A?A:"expanded dropdown"},a.map((function(e){var t=p&&!1!==e.closable&&!e.disabled;return r.createElement(Ui,{key:e.key,id:"".concat(T,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},r.createElement("span",null,e.label),t&&r.createElement("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(C,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),p.onEdit("remove",{key:r,event:n})}},e.closeIcon||p.removeIcon||"\xd7"))})));function P(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===_}))||0,r=t.length,i=0;i<r;i+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void S(o.key)}}(0,r.useEffect)((function(){var e=document.getElementById(N);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[_]),(0,r.useEffect)((function(){x||S(null)}),[x]);var D=z({},m?"marginRight":"marginLeft",v);a.length||(D.visibility="hidden",D.order=1);var R=W()(z({},"".concat(C,"-rtl"),m)),M=u?null:r.createElement(_u,{prefixCls:C,overlay:O,trigger:["hover"],visible:!!a.length&&x,transitionName:f,onVisibleChange:E,overlayClassName:W()(R,k),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:b},r.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:D,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(i,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case Wr.UP:P(-1),e.preventDefault();break;case Wr.DOWN:P(1),e.preventDefault();break;case Wr.ESC:E(!1);break;case Wr.SPACE:case Wr.ENTER:null!==_&&g(_,e)}else[Wr.DOWN,Wr.SPACE,Wr.ENTER].includes(t)&&(E(!0),e.preventDefault())}},l));return r.createElement("div",{className:W()("".concat(n,"-nav-operations"),d),style:h,ref:t},M,r.createElement(Tu,{prefixCls:n,locale:o,editable:p}))}var Nu=r.memo(r.forwardRef(Cu),(function(e,t){return t.tabMoving})),Au=Math.pow(.995,20);function Ou(e,t){var n=r.useRef(e),i=c(r.useState({}),2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var Pu=function(e){var t,n=e.position,i=e.prefixCls,a=e.extra;if(!a)return null;var o={};return a&&"object"===q(a)&&!r.isValidElement(a)?o=a:o.right=a,"right"===n&&(t=o.right),"left"===n&&(t=o.left),t?r.createElement("div",{className:"".concat(i,"-extra-content")},t):null};function Du(e,t){var n,i=r.useContext(sr),a=i.prefixCls,o=i.tabs,u=e.className,s=e.style,f=e.id,h=e.animated,d=e.activeKey,p=e.rtl,v=e.extra,m=e.editable,y=e.locale,g=e.tabPosition,b=e.tabBarGutter,k=e.children,w=e.onTabClick,x=e.onTabScroll,E=(0,r.useRef)(),I=(0,r.useRef)(),_=(0,r.useRef)(),S=(0,r.useRef)(),T=c(function(){var e=(0,r.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,r.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),2),C=T[0],N=T[1],A="top"===g||"bottom"===g,O=c(Ou(0,(function(e,t){A&&x&&x({direction:e>t?"left":"right"})})),2),P=O[0],D=O[1],R=c(Ou(0,(function(e,t){!A&&x&&x({direction:e>t?"top":"bottom"})})),2),M=R[0],L=R[1],F=c((0,r.useState)(0),2),V=F[0],j=F[1],U=c((0,r.useState)(0),2),B=U[0],q=U[1],K=c((0,r.useState)(null),2),H=K[0],G=K[1],Q=c((0,r.useState)(null),2),Y=Q[0],$=Q[1],X=c((0,r.useState)(0),2),J=X[0],Z=X[1],ee=c((0,r.useState)(0),2),te=ee[0],ne=ee[1],re=function(e){var t=(0,r.useRef)([]),n=c((0,r.useState)({}),2)[1],i=(0,r.useRef)("function"===typeof e?e():e),a=qr((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,n({})}));return[i.current,function(e){t.current.push(e),a()}]}(new Map),ie=c(re,2),ae=ie[0],oe=ie[1],ue=function(e,t,n){return(0,r.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||Qr,a=i.left+i.width,o=0;o<e.length;o+=1){var u,s=e[o].key,c=t.get(s);c||(c=t.get(null===(u=e[o-1])||void 0===u?void 0:u.key)||Qr);var l=r.get(s)||de({},c);l.right=a-l.left-l.width,r.set(s,l)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(o,ae,V),se="".concat(a,"-nav-operations-hidden"),ce=0,le=0;function fe(e){return e<ce?ce:e>le?le:e}A?p?(ce=0,le=Math.max(0,V-H)):(ce=Math.min(0,H-V),le=0):(ce=Math.min(0,Y-B),le=0);var he=(0,r.useRef)(),pe=c((0,r.useState)(),2),ve=pe[0],me=pe[1];function ye(){me(Date.now())}function ge(){window.clearTimeout(he.current)}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=ue.get(e)||{width:0,height:0,left:0,right:0,top:0};if(A){var n=P;p?t.right<P?n=t.right:t.right+t.width>P+H&&(n=t.right+t.width-H):t.left<-P?n=-t.left:t.left+t.width>-P+H&&(n=-(t.left+t.width-H)),L(0),D(fe(n))}else{var r=M;t.top<-M?r=-t.top:t.top+t.height>-M+Y&&(r=-(t.top+t.height-Y)),D(0),L(fe(r))}}!function(e,t){var n=c((0,r.useState)(),2),i=n[0],a=n[1],o=c((0,r.useState)(0),2),u=o[0],s=o[1],l=c((0,r.useState)(0),2),f=l[0],h=l[1],d=c((0,r.useState)(),2),p=d[0],v=d[1],m=(0,r.useRef)(),y=(0,r.useRef)(),g=(0,r.useRef)(null);g.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(m.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,o=n.screenY;a({x:r,y:o});var c=r-i.x,l=o-i.y;t(c,l);var f=Date.now();s(f),h(f-u),v({x:c,y:l})}},onTouchEnd:function(){if(i&&(a(null),v(null),p)){var e=p.x/f,n=p.y/f,r=Math.abs(e),o=Math.abs(n);if(Math.max(r,o)<.1)return;var u=e,s=n;m.current=window.setInterval((function(){Math.abs(u)<.01&&Math.abs(s)<.01?window.clearInterval(m.current):t(20*(u*=Au),20*(s*=Au))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===y.current?n:r:a>o?(i=n,y.current="x"):(i=r,y.current="y"),t(-i,-i)&&e.preventDefault()}},r.useEffect((function(){function t(e){g.current.onTouchMove(e)}function n(e){g.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){g.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){g.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(E,(function(e,t){function n(e,t){e((function(e){return fe(e+t)}))}if(A){if(H>=V)return!1;n(D,e)}else{if(Y>=B)return!1;n(L,t)}return ge(),ye(),!0})),(0,r.useEffect)((function(){return ge(),ve&&(he.current=window.setTimeout((function(){me(0)}),100)),ge}),[ve]);var ke=function(e,t,n,i,a){var o,u,s,c=a.tabs,l=a.tabPosition,f=a.rtl;["top","bottom"].includes(l)?(o="width",u=f?"right":"left",s=Math.abs(t.left)):(o="height",u="top",s=-t.top);var h=t[o],d=n[o],p=i[o],v=h;return d+p>h&&d<h&&(v=h-p),(0,r.useMemo)((function(){if(!c.length)return[0,0];for(var t=c.length,n=t,r=0;r<t;r+=1){var i=e.get(c[r].key)||Yr;if(i[u]+i[o]>s+v){n=r-1;break}}for(var a=0,l=t-1;l>=0;l-=1)if((e.get(c[l].key)||Yr)[u]<s){a=l+1;break}return[a,n]}),[e,s,v,l,c.map((function(e){return e.key})).join("_"),f])}(ue,{width:H,height:Y,left:P,top:M},{width:V,height:B},{width:J,height:te},de(de({},e),{},{tabs:o})),we=c(ke,2),xe=we[0],Ee=we[1],Ie={};"top"===g||"bottom"===g?Ie[p?"marginRight":"marginLeft"]=b:Ie.marginTop=b;var _e=o.map((function(e,t){var n=e.key;return r.createElement(Gr,{id:f,prefixCls:a,key:n,tab:e,style:0===t?void 0:Ie,closable:e.closable,editable:m,active:n===d,renderWrapper:k,removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:C(n),onClick:function(e){w(n,e)},onRemove:function(){N(n)},onFocus:function(){be(n),ye(),E.current&&(p||(E.current.scrollLeft=0),E.current.scrollTop=0)}})})),Se=qr((function(){var e,t,n,r,i,a,u=(null===(e=E.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=E.current)||void 0===t?void 0:t.offsetHeight)||0,c=(null===(n=S.current)||void 0===n?void 0:n.offsetWidth)||0,l=(null===(r=S.current)||void 0===r?void 0:r.offsetHeight)||0;G(u),$(s),Z(c),ne(l);var f=((null===(i=I.current)||void 0===i?void 0:i.offsetWidth)||0)-c,h=((null===(a=I.current)||void 0===a?void 0:a.offsetHeight)||0)-l;j(f),q(h),oe((function(){var e=new Map;return o.forEach((function(t){var n=t.key,r=C(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Te=o.slice(0,xe),Ce=o.slice(Ee+1),Ne=[].concat(At(Te),At(Ce)),Ae=c((0,r.useState)(),2),Oe=Ae[0],Pe=Ae[1],De=ue.get(d),Re=(0,r.useRef)();function Me(){Pn.cancel(Re.current)}(0,r.useEffect)((function(){var e={};return De&&(A?(p?e.right=De.right:e.left=De.left,e.width=De.width):(e.top=De.top,e.height=De.height)),Me(),Re.current=Pn((function(){Pe(e)})),Me}),[De,A,p]),(0,r.useEffect)((function(){be()}),[d,De,ue,A]),(0,r.useEffect)((function(){Se()}),[p,b,d,o.map((function(e){return e.key})).join("_")]);var Le,Fe,Ve,je,Ue=!!Ne.length,Be="".concat(a,"-nav-wrap");return A?p?(Fe=P>0,Le=P+H<V):(Le=P<0,Fe=-P+H<V):(Ve=M<0,je=-M+Y<B),r.createElement("div",{ref:t,role:"tablist",className:W()("".concat(a,"-nav"),u),style:s,onKeyDown:function(){ye()}},r.createElement(Pu,{position:"left",extra:v,prefixCls:a}),r.createElement(zr,{onResize:Se},r.createElement("div",{className:W()(Be,(n={},z(n,"".concat(Be,"-ping-left"),Le),z(n,"".concat(Be,"-ping-right"),Fe),z(n,"".concat(Be,"-ping-top"),Ve),z(n,"".concat(Be,"-ping-bottom"),je),n)),ref:E},r.createElement(zr,{onResize:Se},r.createElement("div",{ref:I,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(P,"px, ").concat(M,"px)"),transition:ve?"none":void 0}},_e,r.createElement(Tu,{ref:S,prefixCls:a,locale:y,editable:m,style:de(de({},0===_e.length?void 0:Ie),{},{visibility:Ue?"hidden":null})}),r.createElement("div",{className:W()("".concat(a,"-ink-bar"),z({},"".concat(a,"-ink-bar-animated"),h.inkBar)),style:Oe}))))),r.createElement(Nu,l({},e,{removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:_,prefixCls:a,tabs:Ne,className:!Ue&&se,tabMoving:!!ve})),r.createElement(Pu,{position:"right",extra:v,prefixCls:a}))}var Ru=r.forwardRef(Du),Mu=["renderTabBar"],Lu=["label","key"];function Fu(e){var t=e.renderTabBar,n=Ee(e,Mu),i=(0,r.useContext)(sr).tabs;return t?t(de(de({},n),{},{panes:i.map((function(e){var t=e.label,n=e.key,i=Ee(e,Lu);return r.createElement(lr,l({tab:t,key:n,tabKey:n},i))}))}),Ru):r.createElement(Ru,n)}var Vu=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],ju=0;function Uu(e,t){var n,i=e.id,a=e.prefixCls,o=void 0===a?"rc-tabs":a,u=e.className,s=e.items,f=e.direction,h=e.activeKey,d=e.defaultActiveKey,p=e.editable,v=e.animated,m=e.tabPosition,y=void 0===m?"top":m,g=e.tabBarGutter,b=e.tabBarStyle,k=e.tabBarExtraContent,w=e.locale,x=e.moreIcon,E=e.moreTransitionName,I=e.destroyInactiveTabPane,_=e.renderTabBar,S=e.onChange,T=e.onTabClick,C=e.onTabScroll,N=e.getPopupContainer,A=e.popupClassName,O=Ee(e,Vu),P=r.useMemo((function(){return(s||[]).filter((function(e){return e&&"object"===q(e)&&"key"in e}))}),[s]),D="rtl"===f,R=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:de({inkBar:!0},"object"===q(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(v),M=c((0,r.useState)(!1),2),L=M[0],F=M[1];(0,r.useEffect)((function(){F(Wt())}),[]);var V=c(Jt((function(){var e;return null===(e=P[0])||void 0===e?void 0:e.key}),{value:h,defaultValue:d}),2),j=V[0],U=V[1],B=c((0,r.useState)((function(){return P.findIndex((function(e){return e.key===j}))})),2),K=B[0],H=B[1];(0,r.useEffect)((function(){var e,t=P.findIndex((function(e){return e.key===j}));-1===t&&(t=Math.max(0,Math.min(K,P.length-1)),U(null===(e=P[t])||void 0===e?void 0:e.key));H(t)}),[P.map((function(e){return e.key})).join("_"),j,K]);var G=c(Jt(null,{value:i}),2),Q=G[0],Y=G[1];(0,r.useEffect)((function(){i||(Y("rc-tabs-".concat(ju)),ju+=1)}),[]);var $={id:Q,activeKey:j,animated:R,tabPosition:y,rtl:D,mobile:L},X=de(de({},$),{},{editable:p,locale:w,moreIcon:x,moreTransitionName:E,tabBarGutter:g,onTabClick:function(e,t){null===T||void 0===T||T(e,t);var n=e!==j;U(e),n&&(null===S||void 0===S||S(e))},onTabScroll:C,extra:k,style:b,panes:null,getPopupContainer:N,popupClassName:A});return r.createElement(sr.Provider,{value:{tabs:P,prefixCls:o}},r.createElement("div",l({ref:t,id:i,className:W()(o,"".concat(o,"-").concat(y),(n={},z(n,"".concat(o,"-mobile"),L),z(n,"".concat(o,"-editable"),p),z(n,"".concat(o,"-rtl"),D),n),u)},O),undefined,r.createElement(Fu,l({},X,{renderTabBar:_})),r.createElement(hr,l({destroyInactiveTabPane:I},$,{animated:R}))))}var Bu=r.forwardRef(Uu),zu=function(){return{height:0,opacity:0}},qu=function(e){return{height:e.scrollHeight,opacity:1}},Ku=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Wu={motionName:"ant-motion-collapse",onAppearStart:zu,onEnterStart:zu,onAppearActive:qu,onEnterActive:qu,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:zu,onAppearEnd:Ku,onEnterEnd:Ku,onLeaveEnd:Ku,motionDeadline:500},Hu=(re("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),Gu=Wu,Qu={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Yu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var $u=function(){return null},Xu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ju(e){var t,n=e.type,i=e.className,a=e.size,o=e.onEdit,u=e.hideAdd,s=e.centered,c=e.addIcon,f=e.children,h=e.items,d=e.animated,p=Xu(e,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),v=p.prefixCls,m=p.moreIcon,y=void 0===m?r.createElement(Bt,null):m,g=r.useContext(H),b=g.getPrefixCls,k=g.direction,w=b("tabs",v);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===o||void 0===o||o("add"===e?r:n,e)},removeIcon:r.createElement(Vt,null),addIcon:c||r.createElement(Kt,null),showAdd:!0!==u});var x=b(),E=function(e,t){if(e)return e;var n=dr(t).map((function(e){if(r.isValidElement(e)){var t=e.key,n=e.props||{},i=n.tab,a=Yu(n,["tab"]);return l(l({key:String(t)},a),{label:i})}return null}));return function(e){return e.filter((function(e){return e}))}(n)}(h,f),I=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!1}:l({inkBar:!0},"object"===q(n)?n:{})).tabPane&&(t.tabPaneMotion=l(l({},Qu),{motionName:Hu(e,"switch")})),t}(w,d);return r.createElement(me.Consumer,null,(function(e){var o,u=void 0!==a?a:e;return r.createElement(Bu,l({direction:k,moreTransitionName:"".concat(x,"-slide-up")},p,{items:E,className:W()((o={},z(o,"".concat(w,"-").concat(u),u),z(o,"".concat(w,"-card"),["card","editable-card"].includes(n)),z(o,"".concat(w,"-editable-card"),"editable-card"===n),z(o,"".concat(w,"-centered"),s),o),i),editable:t,moreIcon:y,prefixCls:w,animated:I}))}))}Ju.TabPane=$u;var Zu=Ju,es=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ts=function(e){var t=e.prefixCls,n=e.className,i=e.hoverable,a=void 0===i||i,o=es(e,["prefixCls","className","hoverable"]);return r.createElement(G,null,(function(e){var i=(0,e.getPrefixCls)("card",t),u=W()("".concat(i,"-grid"),n,z({},"".concat(i,"-grid-hoverable"),a));return r.createElement("div",l({},o,{className:u}))}))},ns=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var rs=r.forwardRef((function(e,t){var n,i,a,o=r.useContext(H),u=o.getPrefixCls,s=o.direction,c=r.useContext(me),f=e.prefixCls,h=e.className,d=e.extra,p=e.headStyle,v=void 0===p?{}:p,m=e.bodyStyle,y=void 0===m?{}:m,g=e.title,b=e.loading,k=e.bordered,w=void 0===k||k,x=e.size,E=e.type,I=e.cover,_=e.actions,S=e.tabList,T=e.children,C=e.activeTabKey,N=e.defaultActiveTabKey,A=e.tabBarExtraContent,O=e.hoverable,P=e.tabProps,D=void 0===P?{}:P,R=ns(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),M=u("card",f),L=r.createElement(Mt,{loading:!0,active:!0,paragraph:{rows:4},title:!1},T),F=void 0!==C,V=l(l({},D),(z(n={},F?"activeKey":"defaultActiveKey",F?C:N),z(n,"tabBarExtraContent",A),n)),j=S&&S.length?r.createElement(Zu,l({size:"large"},V,{className:"".concat(M,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),S.map((function(e){return r.createElement(Zu.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(g||d||j)&&(a=r.createElement("div",{className:"".concat(M,"-head"),style:v},r.createElement("div",{className:"".concat(M,"-head-wrapper")},g&&r.createElement("div",{className:"".concat(M,"-head-title")},g),d&&r.createElement("div",{className:"".concat(M,"-extra")},d)),j));var U=I?r.createElement("div",{className:"".concat(M,"-cover")},I):null,B=r.createElement("div",{className:"".concat(M,"-body"),style:y},b?L:T),q=_&&_.length?r.createElement("ul",{className:"".concat(M,"-actions")},function(e){var t=e.map((function(t,n){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},r.createElement("span",null,t))}));return t}(_)):null,K=pe(R,["onTabChange"]),G=x||c,Q=W()(M,(z(i={},"".concat(M,"-loading"),b),z(i,"".concat(M,"-bordered"),w),z(i,"".concat(M,"-hoverable"),O),z(i,"".concat(M,"-contain-grid"),function(){var t;return r.Children.forEach(e.children,(function(e){e&&e.type&&e.type===ts&&(t=!0)})),t}()),z(i,"".concat(M,"-contain-tabs"),S&&S.length),z(i,"".concat(M,"-").concat(G),G),z(i,"".concat(M,"-type-").concat(E),!!E),z(i,"".concat(M,"-rtl"),"rtl"===s),i),h);return r.createElement("div",l({ref:t},K,{className:Q}),a,U,B,q)})),is=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},as=function(e){return r.createElement(G,null,(function(t){var n=t.getPrefixCls,i=e.prefixCls,a=e.className,o=e.avatar,u=e.title,s=e.description,c=is(e,["prefixCls","className","avatar","title","description"]),f=n("card",i),h=W()("".concat(f,"-meta"),a),d=o?r.createElement("div",{className:"".concat(f,"-meta-avatar")},o):null,p=u?r.createElement("div",{className:"".concat(f,"-meta-title")},u):null,v=s?r.createElement("div",{className:"".concat(f,"-meta-description")},s):null,m=p||v?r.createElement("div",{className:"".concat(f,"-meta-detail")},p,v):null;return r.createElement("div",l({},c,{className:h}),d,m)}))},os=rs;os.Grid=ts,os.Meta=as;var us=os,ss={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},cs=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:ss}))};cs.displayName="CheckCircleFilled";var ls=r.forwardRef(cs),fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},hs=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:fs}))};hs.displayName="CheckOutlined";var ds=r.forwardRef(hs),ps={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},vs=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:ps}))};vs.displayName="CloseCircleFilled";var ms=r.forwardRef(vs),ys={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},gs=function(){var e=(0,r.useRef)([]),t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current},bs=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],ks=function(e){var t=e.className,n=e.percent,i=e.prefixCls,a=e.strokeColor,o=e.strokeLinecap,u=e.strokeWidth,s=e.style,c=e.trailColor,f=e.trailWidth,h=e.transition,d=Ee(e,bs);delete d.gapPosition;var p=Array.isArray(n)?n:[n],v=Array.isArray(a)?a:[a],m=gs(),y=u/2,g=100-u/2,b="M ".concat("round"===o?y:0,",").concat(y,"\n         L ").concat("round"===o?g:100,",").concat(y),k="0 0 100 ".concat(u),w=0;return r.createElement("svg",l({className:W()("".concat(i,"-line"),t),viewBox:k,preserveAspectRatio:"none",style:s},d),r.createElement("path",{className:"".concat(i,"-line-trail"),d:b,strokeLinecap:o,stroke:c,strokeWidth:f||u,fillOpacity:"0"}),p.map((function(e,t){var n=1;switch(o){case"round":n=1-u/100;break;case"square":n=1-u/2/100;break;default:n=1}var a={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(w,"px"),transition:h||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},s=v[t]||v[v.length-1];return w+=e,r.createElement("path",{key:t,className:"".concat(i,"-line-path"),d:b,strokeLinecap:o,stroke:s,strokeWidth:u,fillOpacity:"0",ref:function(e){m[t]=e},style:a})})))};ks.defaultProps=ys,ks.displayName="Line";var ws=0,xs=Q();var Es=function(e){var t=c(r.useState(),2),n=t[0],i=t[1];return r.useEffect((function(){i("rc_progress_".concat(function(){var e;return xs?(e=ws,ws+=1):e="TEST_OR_SSR",e}()))}),[]),e||n},Is=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function _s(e){return+e.replace("%","")}function Ss(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var Ts=100,Cs=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,s=i>0?90+i/2:-90,c=2*Math.PI*e,l=c*((360-i)/360),f=t/100*360*((360-i)/360),h=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],d=(100-n)/100*l;return"round"===o&&100!==n&&(d+=u/2)>=l&&(d=l-.01),{stroke:"string"===typeof r?r:void 0,strokeDasharray:"".concat(l,"px ").concat(c),strokeDashoffset:d,transform:"rotate(".concat(s+f+h,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Ns=function(e){var t=e.id,n=e.prefixCls,i=e.strokeWidth,a=e.trailWidth,o=e.gapDegree,u=e.gapPosition,s=e.trailColor,c=e.strokeLinecap,f=e.style,h=e.className,d=e.strokeColor,p=e.percent,v=Ee(e,Is),m=Es(t),y="".concat(m,"-gradient"),g=50-i/2,b=Cs(g,0,100,s,o,u,c,i),k=Ss(p),w=Ss(d),x=w.find((function(e){return e&&"object"===q(e)})),E=gs();return r.createElement("svg",l({className:W()("".concat(n,"-circle"),h),viewBox:"0 0 ".concat(Ts," ").concat(Ts),style:f,id:t},v),x&&r.createElement("defs",null,r.createElement("linearGradient",{id:y,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(x).sort((function(e,t){return _s(e)-_s(t)})).map((function(e,t){return r.createElement("stop",{key:t,offset:e,stopColor:x[e]})})))),r.createElement("circle",{className:"".concat(n,"-circle-trail"),r:g,cx:50,cy:50,stroke:s,strokeLinecap:c,strokeWidth:a||i,style:b}),function(){var e=0;return k.map((function(t,a){var s=w[a]||w[w.length-1],l=s&&"object"===q(s)?"url(#".concat(y,")"):void 0,f=Cs(g,e,t,s,o,u,c,i);return e+=t,r.createElement("circle",{key:a,className:"".concat(n,"-circle-path"),r:g,cx:50,cy:50,stroke:l,strokeLinecap:c,strokeWidth:i,opacity:0===t?0:1,style:f,ref:function(e){E[a]=e}})})).reverse()}())};Ns.defaultProps=ys,Ns.displayName="Circle";var As=Ns;function Os(e){return!e||e<0?0:e>100?100:e}function Ps(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}function Ds(e){var t=e.percent,n=Os(Ps({success:e.success,successPercent:e.successPercent}));return[n,Os(Os(t)-n)]}var Rs=function(e){var t=e.prefixCls,n=e.width,i=e.strokeWidth,a=e.trailColor,o=void 0===a?null:a,u=e.strokeLinecap,s=void 0===u?"round":u,c=e.gapPosition,l=e.gapDegree,f=e.type,h=e.children,d=e.success,p=n||120,v={width:p,height:p,fontSize:.15*p+6},m=i||6,y=c||"dashboard"===f&&"bottom"||void 0,g="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||He.green,r||null]}({success:d,strokeColor:e.strokeColor}),k=W()("".concat(t,"-inner"),z({},"".concat(t,"-circle-gradient"),g));return r.createElement("div",{className:k,style:v},r.createElement(As,{percent:Ds(e),strokeWidth:m,trailWidth:m,strokeColor:b,strokeLinecap:s,trailColor:o,prefixCls:t,gapDegree:l||0===l?l:"dashboard"===f?75:void 0,gapPosition:y}),h)},Ms=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ls=function(e,t){var n=e.from,r=void 0===n?He.blue:n,i=e.to,a=void 0===i?He.blue:i,o=e.direction,u=void 0===o?"rtl"===t?"to left":"to right":o,s=Ms(e,["from","to","direction"]);if(0!==Object.keys(s).length){var c=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(s);return{backgroundImage:"linear-gradient(".concat(u,", ").concat(c,")")}}return{backgroundImage:"linear-gradient(".concat(u,", ").concat(r,", ").concat(a,")")}},Fs=function(e){var t=e.prefixCls,n=e.direction,i=e.percent,a=e.strokeWidth,o=e.size,u=e.strokeColor,s=e.strokeLinecap,c=void 0===s?"round":s,f=e.children,h=e.trailColor,d=void 0===h?null:h,p=e.success,v=u&&"string"!==typeof u?Ls(u,n):{background:u},m="square"===c||"butt"===c?0:void 0,y={backgroundColor:d||void 0,borderRadius:m},g=l({width:"".concat(Os(i),"%"),height:a||("small"===o?6:8),borderRadius:m},v),b=Ps(e),k={width:"".concat(Os(b),"%"),height:a||("small"===o?6:8),borderRadius:m,backgroundColor:null===p||void 0===p?void 0:p.strokeColor},w=void 0!==b?r.createElement("div",{className:"".concat(t,"-success-bg"),style:k}):null;return r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(t,"-outer")},r.createElement("div",{className:"".concat(t,"-inner"),style:y},r.createElement("div",{className:"".concat(t,"-bg"),style:g}),w)),f)},Vs=function(e){for(var t=e.size,n=e.steps,i=e.percent,a=void 0===i?0:i,o=e.strokeWidth,u=void 0===o?8:o,s=e.strokeColor,c=e.trailColor,l=void 0===c?null:c,f=e.prefixCls,h=e.children,d=Math.round(n*(a/100)),p="small"===t?2:14,v=new Array(n),m=0;m<n;m++){var y=Array.isArray(s)?s[m]:s;v[m]=r.createElement("div",{key:m,className:W()("".concat(f,"-steps-item"),z({},"".concat(f,"-steps-item-active"),m<=d-1)),style:{backgroundColor:m<=d-1?y:l,width:p,height:u}})}return r.createElement("div",{className:"".concat(f,"-steps-outer")},v,h)},js=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Us=(re("line","circle","dashboard"),re("normal","exception","active","success")),Bs=function(e){var t,n=e.prefixCls,i=e.className,a=e.steps,o=e.strokeColor,u=e.percent,s=void 0===u?0:u,c=e.size,f=void 0===c?"default":c,h=e.showInfo,d=void 0===h||h,p=e.type,v=void 0===p?"line":p,m=js(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);var y,g=r.useContext(H),b=g.getPrefixCls,k=g.direction,w=b("progress",n),x=function(){var t=e.status;return Us.indexOf(t)<0&&function(){var t=Ps(e);return parseInt(void 0!==t?t.toString():s.toString(),10)}()>=100?"success":t||"normal"}(),E=function(t,n){var i,a=e.format,o=Ps(e);if(!d)return null;var u="line"===v;return a||"exception"!==n&&"success"!==n?i=(a||function(e){return"".concat(e,"%")})(Os(s),Os(o)):"exception"===n?i=u?r.createElement(ms,null):r.createElement(Vt,null):"success"===n&&(i=u?r.createElement(ls,null):r.createElement(ds,null)),r.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof i?i:void 0},i)}(w,x),I=Array.isArray(o)?o[0]:o,_="string"===typeof o||Array.isArray(o)?o:void 0;"line"===v?y=a?r.createElement(Vs,l({},e,{strokeColor:_,prefixCls:w,steps:a}),E):r.createElement(Fs,l({},e,{strokeColor:I,prefixCls:w,direction:k}),E):"circle"!==v&&"dashboard"!==v||(y=r.createElement(Rs,l({},e,{strokeColor:I,prefixCls:w,progressStatus:x}),E));var S=W()(w,(z(t={},"".concat(w,"-").concat(("dashboard"===v?"circle":a&&"steps")||v),!0),z(t,"".concat(w,"-status-").concat(x),!0),z(t,"".concat(w,"-show-info"),d),z(t,"".concat(w,"-").concat(f),f),z(t,"".concat(w,"-rtl"),"rtl"===k),t),i);return r.createElement("div",l({},pe(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:S}),y)},zs=r.createContext(!1),qs=zs,Ks=r.isValidElement;function Ws(e,t){return function(e,t,n){return Ks(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Hs,Gs=0,Qs={};function Ys(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Gs++,r=t;function i(){(r-=1)<=0?(e(),delete Qs[n]):Qs[n]=Pn(i)}return Qs[n]=Pn(i),n}function $s(e){return!e||null===e.offsetParent||e.hidden}function Xs(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Ys.cancel=function(e){void 0!==e&&(Pn.cancel(Qs[e]),delete Qs[e])},Ys.ids=Qs;var Js=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).containerRef=r.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||$s(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=Wn(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Xs(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;Hs=st("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!$s(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),Ys.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Ys((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,i=e.props.children;if(e.csp=n,!r.isValidElement(i))return i;var a=e.containerRef;return an(i)&&(a=rn(i.ref,e.containerRef)),Ws(i,{ref:a})},e}return Un(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Hs&&(Hs.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return r.createElement(G,null,this.renderWave)}}]),n}(r.Component);Js.contextType=H;var Zs=(0,r.forwardRef)((function(e,t){return r.createElement(Js,l({ref:t},e))})),ec=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tc=r.createContext(void 0),nc=function(e){var t,n=r.useContext(H),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,u=e.size,s=e.className,c=ec(e,["prefixCls","size","className"]),f=i("btn-group",o),h="";switch(u){case"large":h="lg";break;case"small":h="sm"}var d=W()(f,(z(t={},"".concat(f,"-").concat(h),h),z(t,"".concat(f,"-rtl"),"rtl"===a),t),s);return r.createElement(tc.Provider,{value:u},r.createElement("div",l({},c,{className:d})))},rc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ic=function(e,t){return r.createElement(xt,de(de({},e),{},{ref:t,icon:rc}))};ic.displayName="LoadingOutlined";var ac=r.forwardRef(ic),oc=function(){return{width:0,opacity:0,transform:"scale(0)"}},uc=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},sc=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(ac,null)):r.createElement(ur,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:oc,onAppearActive:uc,onEnterStart:oc,onEnterActive:uc,onLeaveStart:uc,onLeaveActive:oc},(function(e,n){var i=e.className,a=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:a,ref:n},r.createElement(ac,{className:i}))}))},cc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lc=/^[\u4e00-\u9fa5]{2}$/,fc=lc.test.bind(lc);function hc(e){return"text"===e||"link"===e}function dc(e,t){if(null!==e&&void 0!==e){var n,i=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&fc(e.props.children)?Ws(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?fc(e)?r.createElement("span",null,e.split("").join(i)):r.createElement("span",null,e):(n=e,r.isValidElement(n)&&n.type===r.Fragment?r.createElement("span",null,e):e)}}re("default","primary","ghost","dashed","link","text"),re("default","circle","round"),re("submit","button","reset");var pc=function(e,t){var n,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,s=void 0===u?"default":u,f=e.danger,h=e.shape,d=void 0===h?"default":h,p=e.size,v=e.disabled,m=e.className,y=e.children,g=e.icon,b=e.ghost,k=void 0!==b&&b,w=e.block,x=void 0!==w&&w,E=e.htmlType,I=void 0===E?"button":E,_=cc(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),S=r.useContext(me),T=r.useContext(qs),C=v||T,N=r.useContext(tc),A=c(r.useState(!!a),2),O=A[0],P=A[1],D=c(r.useState(!1),2),R=D[0],M=D[1],L=r.useContext(H),F=L.getPrefixCls,V=L.autoInsertSpaceInButton,j=L.direction,U=t||r.createRef(),B=function(){return 1===r.Children.count(y)&&!g&&!hc(s)},K="boolean"===typeof a?a:(null===a||void 0===a?void 0:a.delay)||!0;r.useEffect((function(){var e=null;return"number"===typeof K?e=window.setTimeout((function(){e=null,P(K)}),K):P(K),function(){e&&(window.clearTimeout(e),e=null)}}),[K]),r.useEffect((function(){if(U&&U.current&&!1!==V){var e=U.current.textContent;B()&&fc(e)?R||M(!0):R&&M(!1)}}),[U]);var G=function(t){var n=e.onClick;O||C?t.preventDefault():null===n||void 0===n||n(t)},Q=F("btn",o),Y=!1!==V,$=N||p||S,X=$&&{large:"lg",small:"sm",middle:void 0}[$]||"",J=O?"loading":g,Z=pe(_,["navigate"]),ee=W()(Q,(z(n={},"".concat(Q,"-").concat(d),"default"!==d&&d),z(n,"".concat(Q,"-").concat(s),s),z(n,"".concat(Q,"-").concat(X),X),z(n,"".concat(Q,"-icon-only"),!y&&0!==y&&!!J),z(n,"".concat(Q,"-background-ghost"),k&&!hc(s)),z(n,"".concat(Q,"-loading"),O),z(n,"".concat(Q,"-two-chinese-chars"),R&&Y&&!O),z(n,"".concat(Q,"-block"),x),z(n,"".concat(Q,"-dangerous"),!!f),z(n,"".concat(Q,"-rtl"),"rtl"===j),z(n,"".concat(Q,"-disabled"),void 0!==Z.href&&C),n),m),te=g&&!O?g:r.createElement(sc,{existIcon:!!g,prefixCls:Q,loading:!!O}),ne=y||0===y?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t=q(e),r="string"===t||"number"===t;if(n&&r){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);n=r})),r.Children.map(i,(function(e){return dc(e,t)}))}(y,B()&&Y):null;if(void 0!==Z.href)return r.createElement("a",l({},Z,{className:ee,onClick:G,ref:U}),te,ne);var re=r.createElement("button",l({},_,{type:I,className:ee,onClick:G,disabled:C,ref:U}),te,ne);return hc(s)?re:r.createElement(Zs,{disabled:!!O},re)},vc=r.forwardRef(pc);vc.Group=nc,vc.__ANT_BUTTON=!0;var mc=vc,yc=n(184);function gc(e){var t=e.title,n=e.topics,r=e.home,i=e.disabled;return(0,yc.jsxs)("div",{className:"flex flex-wrap",children:[(0,yc.jsx)("h1",{className:"m-auto",children:t}),n.map((function(e){return(0,yc.jsx)(ue,{gutter:24,children:e.map((function(e){return(0,yc.jsx)(fe,{span:24,className:"!w-1/2 !px-0 !mt-2 !mx-auto !min-w-[320px] !max-w-[550px]",children:(0,yc.jsx)(us,{title:e.name.substring(0,1).toUpperCase()+e.name.substring(1),children:(0,yc.jsxs)("div",{className:"!p-0 !m-0 w-[120px] !m-auto",children:[(0,yc.jsxs)("div",{className:"pb-1",children:[(0,yc.jsx)(Bs,{type:"circle",percent:e.percentCompleted}),e.percentCompleted," % Completed"]}),(0,yc.jsx)(mc,{disabled:i,type:"primary",onClick:function(){return window.location.href=r?"/#/category?c=".concat(e.name):"/#/question=?topic=".concat(e.name)},children:"Start Learning!"})]})})})}))})}))]})}function bc(e){var t=e.category,n=e.user,r=[];return"Mathematics"===t?r=[[{percentCompleted:0,name:"Counting"},{percentCompleted:0,name:"Addition"},{percentCompleted:0,name:"Subtraction"},{percentCompleted:0,name:"Multiplication"},{percentCompleted:0,name:"Division"},{percentCompleted:0,name:"Fractions"},{percentCompleted:0,name:"Measurement"},{percentCompleted:0,name:"Characteristics of Numbers"},{percentCompleted:0,name:"2D Shapes"},{percentCompleted:0,name:"Perimeter"},{percentCompleted:0,name:"Area"},{percentCompleted:0,name:"Decimal Numbers"},{percentCompleted:0,name:"Distance Calculations"},{percentCompleted:0,name:"Lines"},{percentCompleted:0,name:"Coordinate Plane"},{percentCompleted:0,name:"Linear Functions"}]]:"Statistics"===t?r=[[{percentCompleted:0,name:"Average"}]]:"Economics"===t?r=[[{percentCompleted:0,name:"Supply & Demand"}]]:"Finance"===t?r=[[{percentCompleted:0,name:"Value of an asset"}]]:"Accounting"===t&&(r=[[{percentCompleted:0,name:"Revenue"}]]),(0,yc.jsx)(gc,{title:t,topics:r,home:!1,disabled:!n})}function kc(){return(0,yc.jsx)("div",{children:"ConfirmAccount"})}function wc(e){e.user||(window.location.href="/");return(0,yc.jsx)(gc,{title:"Home",topics:[[{percentCompleted:0,name:"Mathematics"},{percentCompleted:0,name:"Statistics"},{percentCompleted:0,name:"Economics"},{percentCompleted:0,name:"Finance"},{percentCompleted:0,name:"Accounting"},{percentCompleted:0,name:"Software Development"},{percentCompleted:0,name:"Marketing"}]],home:!0})}function xc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ec(e,t,n){return Ec=Kn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Bn(i,n.prototype),i},Ec.apply(null,arguments)}function Ic(e){var t="function"===typeof Map?new Map:void 0;return Ic=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ec(e,arguments,qn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bn(n,e)},Ic(e)}var _c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tc=function(e){return function(e){var t=_c(e);return Sc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Cc=function(e){try{return Sc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Nc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Nc(e[n],t[n]));return e}var Ac=function(){function e(){var t=this;Vn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Un(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Oc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tc(JSON.stringify({alg:"none",type:"JWT"})),Tc(JSON.stringify(a)),""].join(".")}function Pc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dc(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pc())}function Rc(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Mc(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Lc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fc(){var e=Pc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vc(){return"object"===typeof indexedDB}var jc=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Wn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Wn(a),Uc.prototype.create),a}return Un(n)}(Ic(Error)),Uc=function(){function e(t,n,r){Vn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Un(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Bc(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new jc(n,a,t);return o}}]),e}();function Bc(e,t){return e.replace(zc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var zc=/\{\$([^}]+)}/g;function qc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Wc(u)&&Wc(s)){if(!Kc(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Wc(e){return null!==e&&"object"===typeof e}function Hc(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Gc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Qc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yc(e,t){var n=new $c(e,t);return n.subscribe.bind(n)}var $c=function(){function e(t,n){var r=this;Vn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Un(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=xc(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Xc),void 0===r.error&&(r.error=Xc),void 0===r.complete&&(r.complete=Xc);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Xc(){}function Jc(e){return e&&e._delegate?e._delegate:e}var Zc=function(){function e(t,n,r){Vn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Un(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),el="[DEFAULT]",tl=function(){function e(t,n){Vn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Un(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ac;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch(s){}var t,n=xc(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(At(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),At(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=xc(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=xc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===el?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el;return this.component?this.component.multipleInstances?e:el:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var nl,rl,il=function(){function e(t){Vn(this,e),this.name=t,this.providers=new Map}return Un(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new tl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),al=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rl||(rl={}));var ol={debug:rl.DEBUG,verbose:rl.VERBOSE,info:rl.INFO,warn:rl.WARN,error:rl.ERROR,silent:rl.SILENT},ul=rl.INFO,sl=(z(nl={},rl.DEBUG,"log"),z(nl,rl.VERBOSE,"log"),z(nl,rl.INFO,"info"),z(nl,rl.WARN,"warn"),z(nl,rl.ERROR,"error"),nl),cl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=sl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ll=function(){function e(t){Vn(this,e),this.name=t,this._logLevel=ul,this._logHandler=cl,this._userLogHandler=null,al.push(this)}return Un(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in rl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ol[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rl.DEBUG].concat(t)),this._logHandler.apply(this,[this,rl.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rl.VERBOSE].concat(t)),this._logHandler.apply(this,[this,rl.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rl.INFO].concat(t)),this._logHandler.apply(this,[this,rl.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rl.WARN].concat(t)),this._logHandler.apply(this,[this,rl.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rl.ERROR].concat(t)),this._logHandler.apply(this,[this,rl.ERROR].concat(t))}}]),e}();var fl,hl;var dl=new WeakMap,pl=new WeakMap,vl=new WeakMap,ml=new WeakMap,yl=new WeakMap;var gl={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wl(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function bl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hl||(hl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xl(this),n),wl(dl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wl(e.apply(xl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[xl(this),t].concat(r));return vl.set(a,t.sort?t.sort():[t]),wl(a)}}function kl(e){return"function"===typeof e?bl(e):(e instanceof IDBTransaction&&function(e){if(!pl.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));pl.set(e,t)}}(e),t=e,(fl||(fl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,gl):e);var t}function wl(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(wl(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&dl.set(t,e)})).catch((function(){})),yl.set(t,e),t}(e);if(ml.has(e))return ml.get(e);var t=kl(e);return t!==e&&(ml.set(e,t),yl.set(t,e)),t}var xl=function(e){return yl.get(e)};var El,Il,_l=["get","getKey","getAll","getAllKeys","count"],Sl=["put","add","delete","clear"],Tl=new Map;function Cl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Tl.get(t))return Tl.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Sl.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||_l.includes(n))){var a=function(){var e=vo(ho().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Tl.set(t,a),a}}}gl=function(e){return de(de({},e),{},{get:function(t,n,r){return Cl(t,n)||e.get(t,n,r)},has:function(t,n){return!!Cl(t,n)||e.has(t,n)}})}(gl);var Nl=function(){function e(t){Vn(this,e),this.container=t}return Un(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Al="@firebase/app",Ol="0.7.32",Pl=new ll("@firebase/app"),Dl="[DEFAULT]",Rl=(z(El={},Al,"fire-core"),z(El,"@firebase/app-compat","fire-core-compat"),z(El,"@firebase/analytics","fire-analytics"),z(El,"@firebase/analytics-compat","fire-analytics-compat"),z(El,"@firebase/app-check","fire-app-check"),z(El,"@firebase/app-check-compat","fire-app-check-compat"),z(El,"@firebase/auth","fire-auth"),z(El,"@firebase/auth-compat","fire-auth-compat"),z(El,"@firebase/database","fire-rtdb"),z(El,"@firebase/database-compat","fire-rtdb-compat"),z(El,"@firebase/functions","fire-fn"),z(El,"@firebase/functions-compat","fire-fn-compat"),z(El,"@firebase/installations","fire-iid"),z(El,"@firebase/installations-compat","fire-iid-compat"),z(El,"@firebase/messaging","fire-fcm"),z(El,"@firebase/messaging-compat","fire-fcm-compat"),z(El,"@firebase/performance","fire-perf"),z(El,"@firebase/performance-compat","fire-perf-compat"),z(El,"@firebase/remote-config","fire-rc"),z(El,"@firebase/remote-config-compat","fire-rc-compat"),z(El,"@firebase/storage","fire-gcs"),z(El,"@firebase/storage-compat","fire-gcs-compat"),z(El,"@firebase/firestore","fire-fst"),z(El,"@firebase/firestore-compat","fire-fst-compat"),z(El,"fire-js","fire-js"),z(El,"firebase","fire-js-all"),El),Ml=new Map,Ll=new Map;function Fl(e,t){try{e.container.addComponent(t)}catch(n){Pl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vl(e,t){e.container.addOrOverwriteComponent(t)}function jl(e){var t=e.name;if(Ll.has(t))return Pl.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ll.set(t,e);var n,r=xc(Ml.values());try{for(r.s();!(n=r.n()).done;){Fl(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ul(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dl;Ul(e,t).clearInstance(n)}function zl(){Ll.clear()}var ql=(z(Il={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),z(Il,"bad-app-name","Illegal App name: '{$appName}"),z(Il,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),z(Il,"app-deleted","Firebase App named '{$appName}' already deleted"),z(Il,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),z(Il,"invalid-log-argument","First argument to `onLog` must be null or a function."),z(Il,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),z(Il,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),z(Il,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),z(Il,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Il),Kl=new Uc("app","Firebase",ql),Wl=function(){function e(t,n,r){var i=this;Vn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zc("app",(function(){return i}),"PUBLIC"))}return Un(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kl.create("app-deleted",{appName:this._name})}}]),e}(),Hl="9.9.4";function Gl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Dl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kl.create("bad-app-name",{appName:String(i)});var a=Ml.get(i);if(a){if(Kc(e,a.options)&&Kc(r,a.config))return a;throw Kl.create("duplicate-app",{appName:i})}var o,u=new il(i),s=xc(Ll.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Wl(e,r,u);return Ml.set(i,l),l}function Ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,t=Ml.get(e);if(!t)throw Kl.create("no-app",{appName:e});return t}function Yl(){return Array.from(Ml.values())}function $l(e){return Xl.apply(this,arguments)}function Xl(){return(Xl=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ml.has(n)){e.next=6;break}return Ml.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t,n){var r,i=null!==(r=Rl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pl.warn(u.join(" "))}jl(new Zc("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zl(e,t){if(null!==e&&"function"!==typeof e)throw Kl.create("invalid-log-argument");!function(e,t){var n,r=xc(al);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ol[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:rl[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ef(e){var t;t=e,al.forEach((function(e){e.setLogLevel(t)}))}var tf="firebase-heartbeat-store",nf=null;function rf(){return nf||(nf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=wl(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(wl(u.result),e.oldVersion,e.newVersion,wl(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(tf)}}).catch((function(e){throw Kl.create("idb-open",{originalErrorMessage:e.message})}))),nf}function af(e){return of.apply(this,arguments)}function of(){return of=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rf();case 3:return r=e.sent,e.abrupt("return",r.transaction(tf).objectStore(tf).get(cf(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof jc?Pl.warn(e.t0.message):(i=Kl.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Pl.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),of.apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=vo(ho().mark((function e(t,n){var r,i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rf();case 3:return i=e.sent,a=i.transaction(tf,"readwrite"),o=a.objectStore(tf),e.next=8,o.put(n,cf(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof jc?Pl.warn(e.t0.message):(u=Kl.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Pl.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),sf.apply(this,arguments)}function cf(e){return"".concat(e.name,"!").concat(e.options.appId)}var lf=function(){function e(t){var n=this;Vn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vf(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Un(e,[{key:"triggerHeartbeat",value:function(){var e=vo(ho().mark((function e(){var t,n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ff(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ff(),n=hf(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Tc(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ff(){return(new Date).toISOString().substring(0,10)}function hf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=xc(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mf(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mf(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var df,pf,vf=function(){function e(t){Vn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Un(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vc()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,af(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",uf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",uf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(At(r.heartbeats),At(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mf(e){return Tc(JSON.stringify({version:2,heartbeats:e})).length}df="",jl(new Zc("platform-logger",(function(e){return new Nl(e)}),"PRIVATE")),jl(new Zc("heartbeat",(function(e){return new lf(e)}),"PRIVATE")),Jl(Al,Ol,df),Jl(Al,Ol,"esm2017"),Jl("fire-js","");var yf=function(){function e(t,n){var r=this;Vn(this,e),this._delegate=t,this.firebase=n,Fl(t,new Zc("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Un(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),$l(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fl(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Vl(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gf=(z(pf={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),z(pf,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pf),bf=new Uc("app-compat","Firebase",gf);var kf=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Gl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(qc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Jl,setLogLevel:ef,onLog:Zl,apps:null,SDK_VERSION:Hl,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(jl(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw bf.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Nc(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!qc(n,e=e||Dl))throw bf.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yf);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Nc(n,e)},createSubscribe:Yc,ErrorFactory:Uc,deepExtend:Nc}),n}(),wf=new ll("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xf=self.firebase.SDK_VERSION;xf&&xf.indexOf("LITE")>=0&&wf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ef=kf;!function(e){Jl("@firebase/app-compat","0.1.33",e)}();function If(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qn(e)););return e}function _f(){return _f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=If(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_f.apply(this,arguments)}Ef.registerVersion("firebase","9.9.4","app-compat");var Sf,Tf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Cf={},Nf=Nf||{},Af=Tf||self;function Of(){}function Pf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Df(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rf="closure_uid_"+(1e9*Math.random()>>>0),Mf=0;function Lf(e,t,n){return e.call.apply(e.bind,arguments)}function Ff(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vf(e,t,n){return(Vf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lf:Ff).apply(null,arguments)}function jf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Uf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bf(){this.s=this.s,this.o=this.o}var zf={};Bf.prototype.s=!1,Bf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Rf)&&e[Rf]||(e[Rf]=++Mf)}(this);delete zf[e]}},Bf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Wf(e){return Array.prototype.concat.apply([],arguments)}function Hf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gf(e){return/^[\s\xa0]*$/.test(e)}var Qf,Yf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $f(e,t){return-1!=e.indexOf(t)}function Xf(e,t){return e<t?-1:e>t?1:0}e:{var Jf=Af.navigator;if(Jf){var Zf=Jf.userAgent;if(Zf){Qf=Zf;break e}}Qf=""}function eh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function th(e){var t={};for(var n in e)t[n]=e[n];return t}var nh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<nh.length;a++)n=nh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ih(e){return ih[" "](e),e}ih[" "]=Of;var ah,oh=$f(Qf,"Opera"),uh=$f(Qf,"Trident")||$f(Qf,"MSIE"),sh=$f(Qf,"Edge"),ch=sh||uh,lh=$f(Qf,"Gecko")&&!($f(Qf.toLowerCase(),"webkit")&&!$f(Qf,"Edge"))&&!($f(Qf,"Trident")||$f(Qf,"MSIE"))&&!$f(Qf,"Edge"),fh=$f(Qf.toLowerCase(),"webkit")&&!$f(Qf,"Edge");function hh(){var e=Af.document;return e?e.documentMode:void 0}e:{var dh="",ph=function(){var e=Qf;return lh?/rv:([^\);]+)(\)|;)/.exec(e):sh?/Edge\/([\d\.]+)/.exec(e):uh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fh?/WebKit\/(\S+)/.exec(e):oh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ph&&(dh=ph?ph[1]:""),uh){var vh=hh();if(null!=vh&&vh>parseFloat(dh)){ah=String(vh);break e}}ah=dh}var mh,yh={};function gh(){return function(e){var t=yh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Yf(String(ah)).split("."),n=Yf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Xf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Xf(0==a[2].length,0==o[2].length)||Xf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Af.document&&uh){var bh=hh();mh=bh||(parseInt(ah,10)||void 0)}else mh=void 0;var kh=mh,wh=function(){if(!Af.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Af.addEventListener("test",Of,t),Af.removeEventListener("test",Of,t)}catch(n){}return e}();function xh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Eh(e,t){if(xh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lh){e:{try{ih(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ih[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Eh.Z.h.call(this)}}xh.prototype.h=function(){this.defaultPrevented=!0},Uf(Eh,xh);var Ih={2:"touch",3:"pen",4:"mouse"};Eh.prototype.h=function(){Eh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _h="closure_listenable_"+(1e6*Math.random()|0),Sh=0;function Th(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Sh,this.ca=this.fa=!1}function Ch(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Nh(e){this.src=e,this.g={},this.h=0}function Ah(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=qf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ch(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Nh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Oh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Th(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ph="closure_lm_"+(1e6*Math.random()|0),Dh={};function Rh(e,t,n,r,i){if(r&&r.once)return Lh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rh(e,t[a],n,r,i);return null}return n=qh(n),e&&e[_h]?e.N(t,n,Df(r)?!!r.capture:!!r,i):Mh(e,t,n,!1,r,i)}function Mh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Df(i)?!!i.capture:!!i,u=Bh(e);if(u||(e[Ph]=u=new Nh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Uh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Lh(e,t[a],n,r,i);return null}return n=qh(n),e&&e[_h]?e.O(t,n,Df(r)?!!r.capture:!!r,i):Mh(e,t,n,!0,r,i)}function Fh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Fh(e,t[a],n,r,i);else r=Df(r)?!!r.capture:!!r,n=qh(n),e&&e[_h]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Oh(a=e.g[t],n,r,i))&&(Ch(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Bh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oh(t,n,r,i)),(n=-1<e?t[e]:null)&&Vh(n))}function Vh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[_h])Ah(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bh(t))?(Ah(n,e),0==n.h&&(n.src=null,t[Ph]=null)):Ch(e)}}}function jh(e){return e in Dh?Dh[e]:Dh[e]="on"+e}function Uh(e,t){if(e.ca)e=!0;else{t=new Eh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Vh(e),e=n.call(r,t)}return e}function Bh(e){return(e=e[Ph])instanceof Nh?e:null}var zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function qh(e){return"function"===typeof e?e:(e[zh]||(e[zh]=function(t){return e.handleEvent(t)}),e[zh])}function Kh(){Bf.call(this),this.i=new Nh(this),this.P=this,this.I=null}function Wh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new xh(t,e);else if(t instanceof xh)t.target=t.target||e;else{var i=t;rh(t=new xh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Hh(o,r,!0,t)&&i}if(i=Hh(o=t.g=e,r,!0,t)&&i,i=Hh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Hh(o=t.g=n[a],r,!1,t)&&i}function Hh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ah(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Uf(Kh,Bf),Kh.prototype[_h]=!0,Kh.prototype.removeEventListener=function(e,t,n,r){Fh(this,e,t,n,r)},Kh.prototype.M=function(){if(Kh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ch(n[r]);delete t.g[e],t.h--}}this.I=null},Kh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gh=Af.JSON.stringify;function Qh(){var e=nd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yh,$h=function(){function e(){Vn(this,e),this.h=this.g=null}return Un(e,[{key:"add",value:function(e,t){var n=Xh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xh=new(function(){function e(t,n){Vn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Un(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Jh}),(function(e){return e.reset()})),Jh=function(){function e(){Vn(this,e),this.next=this.g=this.h=null}return Un(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Zh(e){Af.setTimeout((function(){throw e}),0)}function ed(e,t){Yh||function(){var e=Af.Promise.resolve(void 0);Yh=function(){e.then(rd)}}(),td||(Yh(),td=!0),nd.add(e,t)}var td=!1,nd=new $h;function rd(){for(var e;e=Qh();){try{e.h.call(e.g)}catch(n){Zh(n)}var t=Xh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}td=!1}function id(e,t){Kh.call(this),this.h=e||1,this.g=t||Af,this.j=Vf(this.kb,this),this.l=Date.now()}function ad(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function od(e,t,n){if("function"===typeof e)n&&(e=Vf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Af.setTimeout(e,t||0)}function ud(e){e.g=od((function(){e.g=null,e.i&&(e.i=!1,ud(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Uf(id,Kh),(Sf=id.prototype).da=!1,Sf.S=null,Sf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wh(this,"tick"),this.da&&(ad(this),this.start()))}},Sf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sf.M=function(){id.Z.M.call(this),ad(this),delete this.g};var sd=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Un(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ud(this)}},{key:"M",value:function(){_f(qn(n.prototype),"M",this).call(this),this.g&&(Af.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bf);function cd(e){Bf.call(this),this.h=e,this.g={}}Uf(cd,Bf);var ld=[];function fd(e,t,n,r){Array.isArray(n)||(n&&(ld[0]=n.toString()),n=ld);for(var i=0;i<n.length;i++){var a=Rh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function hd(e){eh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vh(e)}),e),e.g={}}function dd(){this.g=!0}function pd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Gh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}cd.prototype.M=function(){cd.Z.M.call(this),hd(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dd.prototype.Aa=function(){this.g=!1},dd.prototype.info=function(){};var vd={},md=null;function yd(){return md=md||new Kh}function gd(e){xh.call(this,vd.Ma,e)}function bd(e){var t=yd();Wh(t,new gd(t,e))}function kd(e,t){xh.call(this,vd.STAT_EVENT,e),this.stat=t}function wd(e){var t=yd();Wh(t,new kd(t,e))}function xd(e,t){xh.call(this,vd.Na,e),this.size=t}function Ed(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Af.setTimeout((function(){e()}),t)}vd.Ma="serverreachability",Uf(gd,xh),vd.STAT_EVENT="statevent",Uf(kd,xh),vd.Na="timingevent",Uf(xd,xh);var Id={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_d={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sd(){}function Td(e){return e.h||(e.h=e.i())}function Cd(){}Sd.prototype.h=null;var Nd,Ad={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Od(){xh.call(this,"d")}function Pd(){xh.call(this,"c")}function Dd(){}function Rd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new cd(this),this.P=Ld,e=ch?125:void 0,this.W=new id(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Md}function Md(){this.i=null,this.g="",this.h=!1}Uf(Od,xh),Uf(Pd,xh),Uf(Dd,Sd),Dd.prototype.g=function(){return new XMLHttpRequest},Dd.prototype.i=function(){return{}},Nd=new Dd;var Ld=45e3,Fd={},Vd={};function jd(e,t,n){e.K=1,e.v=sp(np(t)),e.s=n,e.U=!0,Ud(e,null)}function Ud(e,t){e.F=Date.now(),Kd(e),e.A=np(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Md,e.g=Ev(e.l,n?t:null,!e.s),0<e.O&&(e.L=new sd(Vf(e.Ia,e,e.g),e.O)),fd(e.V,e.g,"readystatechange",e.gb),t=e.H?th(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),bd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Bd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function zd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=qd(e,n))==Vd){4==t&&(e.o=4,wd(14),i=!1),pd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Fd){e.o=4,wd(15),pd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}pd(e.j,e.m,r,null),Yd(e,r)}Bd(e)&&r!=Vd&&r!=Fd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),vv(t),t.L=!0,wd(11))):(pd(e.j,e.m,n,"[Invalid Chunked Response]"),Qd(e),Gd(e))}function qd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vd:(n=Number(t.substring(n,r)),isNaN(n)?Fd:(r+=1)+n>t.length?Vd:(t=t.substr(r,n),e.C=r+n,t))}function Kd(e){e.Y=Date.now()+e.P,Wd(e,e.P)}function Wd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ed(Vf(e.eb,e),t)}function Hd(e){e.B&&(Af.clearTimeout(e.B),e.B=null)}function Gd(e){0==e.l.G||e.I||gv(e.l,e)}function Qd(e){Hd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ad(e.W),hd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Np(n.i,e)))if(n.I=e.N,!e.J&&Np(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yv(n),ov(n)}pv(n),wd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ed(Vf(n.ab,n),6e3));if(1>=Cp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else kv(n,11)}else if((e.J||n.g==e)&&yv(n),!Gf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&($f(l,"spdy")||$f(l,"quic")||$f(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ap(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,up(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=xv(r,r.H?r.la:null,r.W),d.J){Op(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Hd(p),Kd(p)),r.g=d}else dv(r);0<n.l.length&&cv(n)}else"stop"!=a[0]&&"close"!=a[0]||kv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?kv(n,7):av(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}bd(4)}catch(a){}}function $d(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pf(e)||"string"===typeof e)Kf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Pf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Pf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Xd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Jd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Zd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Zd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Zd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Sf=Rd.prototype).setTimeout=function(e){this.P=e},Sf.gb=function(e){e=e.target;var t=this.L;t&&3==ev(e)?t.l():this.Ia(e)},Sf.Ia=function(e){try{if(e==this.g)e:{var t=ev(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ch||this.g&&(this.h.h||this.g.ga()||tv(this.g)))){this.I||4!=t||7==n||bd(8==n||0>=r?3:2),Hd(this);var i=this.g.ba();this.N=i;t:if(Bd(this)){var a=tv(this.g);e="";var o=a.length,u=4==ev(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qd(this),Gd(this);var s="";break t}this.h.i=new Af.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,wd(12),Qd(this),Gd(this);break e}pd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yd(this,i)}this.U?(zd(this,t,s),ch&&this.i&&3==t&&(fd(this.V,this.W,"tick",this.fb),this.W.start())):(pd(this.j,this.m,s,null),Yd(this,s)),4==t&&Qd(this),this.i&&!this.I&&(4==t?gv(this.l,this):(this.i=!1,Kd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,wd(12)):(this.o=0,wd(13)),Qd(this),Gd(this)}}}catch(t){}},Sf.fb=function(){if(this.g){var e=ev(this.g),t=this.g.ga();this.C<t.length&&(Hd(this),zd(this,e,t),this.i&&4!=e&&Kd(this))}},Sf.cancel=function(){this.I=!0,Qd(this)},Sf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(bd(3),wd(17)),Qd(this),this.o=2,Gd(this)):Wd(this,this.Y-e)},(Sf=Xd.prototype).R=function(){Jd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Sf.T=function(){return Jd(this),this.g.concat()},Sf.get=function(e,t){return Zd(this.h,e)?this.h[e]:t},Sf.set=function(e,t){Zd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Sf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ep=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof tp){this.g=void 0!==t?t:e.g,rp(this,e.j),this.s=e.s,ip(this,e.i),ap(this,e.m),this.l=e.l,t=e.h;var n=new yp;n.i=t.i,t.g&&(n.g=new Xd(t.g),n.h=t.h),op(this,n),this.o=e.o}else e&&(n=String(e).match(ep))?(this.g=!!t,rp(this,n[1]||"",!0),this.s=cp(n[2]||""),ip(this,n[3]||"",!0),ap(this,n[4]),this.l=cp(n[5]||"",!0),op(this,n[6]||"",!0),this.o=cp(n[7]||"")):(this.g=!!t,this.h=new yp(null,this.g))}function np(e){return new tp(e)}function rp(e,t,n){e.j=n?cp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ip(e,t,n){e.i=n?cp(t,!0):t}function ap(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function op(e,t,n){t instanceof yp?(e.h=t,function(e,t){t&&!e.j&&(gp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bp(this,t),wp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=lp(t,vp)),e.h=new yp(t,e.g))}function up(e,t,n){e.h.set(t,n)}function sp(e){return up(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lp(t,hp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(lp(t,hp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(lp(n,"/"==n.charAt(0)?pp:dp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lp(n,mp)),e.join("")};var hp=/[#\/\?@]/g,dp=/[#\?:]/g,pp=/[#\?]/g,vp=/[#\?@]/g,mp=/#/g;function yp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gp(e){e.g||(e.g=new Xd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bp(e,t){gp(e),t=xp(e,t),Zd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Zd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Jd(e)))}function kp(e,t){return gp(e),t=xp(e,t),Zd(e.g.h,t)}function wp(e,t,n){bp(e,t),0<n.length&&(e.i=null,e.g.set(xp(e,t),Hf(n)),e.h+=n.length)}function xp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Sf=yp.prototype).add=function(e,t){gp(this),this.i=null,e=xp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sf.forEach=function(e,t){gp(this),this.g.forEach((function(n,r){Kf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Sf.T=function(){gp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Sf.R=function(e){gp(this);var t=[];if("string"===typeof e)kp(this,e)&&(t=Wf(t,this.g.get(xp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Wf(t,e[n])}return t},Sf.set=function(e,t){return gp(this),this.i=null,kp(this,e=xp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Sf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ep=Un((function e(t,n){Vn(this,e),this.h=t,this.g=n}));function Ip(e){this.l=e||Sp,Af.PerformanceNavigationTiming?e=0<(e=Af.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Af.g&&Af.g.Ea&&Af.g.Ea()&&Af.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _p,Sp=10;function Tp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cp(e){return e.h?1:e.g?e.g.size:0}function Np(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ap(e,t){e.g?e.g.add(t):e.h=t}function Op(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=xc(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Hf(e.i)}function Dp(){}function Rp(){this.g=new Dp}function Mp(e,t,n){var r=n||"";try{$d(e,(function(e,n){var i=e;Df(e)&&(i=Gh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Fp(e){this.l=e.$b||null,this.j=e.ib||!1}function Vp(e,t){Kh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=jp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ip.prototype.cancel=function(){if(this.i=Pp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=xc(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Dp.prototype.stringify=function(e){return Af.JSON.stringify(e,void 0)},Dp.prototype.parse=function(e){return Af.JSON.parse(e,void 0)},Uf(Fp,Sd),Fp.prototype.g=function(){return new Vp(this.l,this.j)},Fp.prototype.i=(_p={},function(){return _p}),Uf(Vp,Kh);var jp=0;function Up(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Bp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zp(e)}function zp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Sf=Vp.prototype).open=function(e,t){if(this.readyState!=jp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zp(this)},Sf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Af).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Sf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bp(this)),this.readyState=jp},Sf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zp(this)),this.g&&(this.readyState=3,zp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Af.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Up(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Sf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bp(this):zp(this),3==this.readyState&&Up(this)}},Sf.Ua=function(e){this.g&&(this.response=this.responseText=e,Bp(this))},Sf.Ta=function(e){this.g&&(this.response=e,Bp(this))},Sf.ha=function(){this.g&&Bp(this)},Sf.setRequestHeader=function(e,t){this.v.append(e,t)},Sf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qp=Af.JSON.parse;function Kp(e){Kh.call(this),this.headers=new Xd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wp,this.K=this.L=!1}Uf(Kp,Kh);var Wp="",Hp=/^https?$/i,Gp=["POST","PUT"];function Qp(e){return"content-type"==e.toLowerCase()}function Yp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$p(e),Jp(e)}function $p(e){e.D||(e.D=!0,Wh(e,"complete"),Wh(e,"error"))}function Xp(e){if(e.h&&"undefined"!=typeof Nf&&(!e.C[1]||4!=ev(e)||2!=e.ba()))if(e.v&&4==ev(e))od(e.Fa,0,e);else if(Wh(e,"readystatechange"),4==ev(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ep)[1]||null;if(!a&&Af.self&&Af.self.location){var o=Af.self.location.protocol;a=o.substr(0,o.length-1)}i=!Hp.test(a?a.toLowerCase():"")}t=i}if(t)Wh(e,"complete"),Wh(e,"success");else{e.m=6;try{var u=2<ev(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",$p(e)}}finally{Jp(e)}}}function Jp(e,t){if(e.g){Zp(e);var n=e.g,r=e.C[0]?Of:null;e.g=null,e.C=null,t||Wh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Zp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Af.clearTimeout(e.A),e.A=null)}function ev(e){return e.g?e.g.readyState:0}function tv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Wp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return eh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):up(e,t,n))}function rv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function iv(e){this.za=0,this.l=[],this.h=new dd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rv("baseRetryDelayMs",5e3,e),this.$a=rv("retryDelaySeedMs",1e4,e),this.Ya=rv("forwardChannelMaxRetries",2,e),this.ra=rv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ip(e&&e.concurrentRequestLimit),this.Ca=new Rp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function av(e){if(uv(e),3==e.G){var t=e.V++,n=np(e.F);up(n,"SID",e.J),up(n,"RID",t),up(n,"TYPE","terminate"),fv(e,n),(t=new Rd(e,e.h,t,void 0)).K=2,t.v=sp(np(n)),n=!1,Af.navigator&&Af.navigator.sendBeacon&&(n=Af.navigator.sendBeacon(t.v.toString(),"")),!n&&Af.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ev(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Kd(t)}wv(e)}function ov(e){e.g&&(vv(e),e.g.cancel(),e.g=null)}function uv(e){ov(e),e.u&&(Af.clearTimeout(e.u),e.u=null),yv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Af.clearTimeout(e.m),e.m=null)}function sv(e,t){e.l.push(new Ep(e.Za++,t)),3==e.G&&cv(e)}function cv(e){Tp(e.i)||e.m||(e.m=!0,ed(e.Ha,e),e.C=0)}function lv(e,t){var n;n=t?t.m:e.V++;var r=np(e.F);up(r,"SID",e.J),up(r,"RID",n),up(r,"AID",e.U),fv(e,r),e.o&&e.s&&nv(r,e.o,e.s),n=new Rd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=hv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ap(e.i,n),jd(n,r,t)}function fv(e,t){e.j&&$d({},(function(e,n){up(t,n,e)}))}function hv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Mp(l,o,"req"+c+"_")}catch(Xv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function dv(e){e.g||e.u||(e.Y=1,ed(e.Ga,e),e.A=0)}function pv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ed(Vf(e.Ga,e),bv(e,e.A)),e.A++,!0)}function vv(e){null!=e.B&&(Af.clearTimeout(e.B),e.B=null)}function mv(e){e.g=new Rd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=np(e.oa);up(t,"RID","rpc"),up(t,"SID",e.J),up(t,"CI",e.N?"0":"1"),up(t,"AID",e.U),fv(e,t),up(t,"TYPE","xmlhttp"),e.o&&e.s&&nv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=sp(np(t)),n.s=null,n.U=!0,Ud(n,e)}function yv(e){null!=e.v&&(Af.clearTimeout(e.v),e.v=null)}function gv(e,t){var n=null;if(e.g==t){yv(e),vv(e),e.g=null;var r=2}else{if(!Np(e.i,t))return;n=t.D,Op(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Wh(r=yd(),new xd(r,n,t,i)),cv(e)}else dv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Cp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ed(Vf(e.Ha,e,t),bv(e,e.C)),e.C++,!0))}(e,t)||2==r&&pv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:kv(e,5);break;case 4:kv(e,10);break;case 3:kv(e,6);break;default:kv(e,2)}}function bv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function kv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vf(e.jb,e);n||(n=new tp("//www.google.com/images/cleardot.gif"),Af.location&&"http"==Af.location.protocol||rp(n,"https"),sp(n)),function(e,t){var n=new dd;if(Af.Image){var r=new Image;r.onload=jf(Lp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=jf(Lp,n,r,"TestLoadImage: error",!1,t),r.onabort=jf(Lp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=jf(Lp,n,r,"TestLoadImage: timeout",!1,t),Af.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else wd(2);e.G=0,e.j&&e.j.va(t),wv(e),uv(e)}function wv(e){e.G=0,e.I=-1,e.j&&(0==Pp(e.i).length&&0==e.l.length||(e.i.i.length=0,Hf(e.l),e.l.length=0),e.j.ua())}function xv(e,t,n){var r=function(e){return e instanceof tp?np(e):new tp(e,void 0)}(n);if(""!=r.i)t&&ip(r,t+"."+r.i),ap(r,r.m);else{var i=Af.location;r=function(e,t,n,r){var i=new tp(null,void 0);return e&&rp(i,e),t&&ip(i,t),n&&ap(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&eh(e.aa,(function(e,t){up(r,t,e)})),t=e.D,n=e.sa,t&&n&&up(r,t,n),up(r,"VER",e.ma),fv(e,r),r}function Ev(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Kp(new Fp({ib:!0})):new Kp(e.qa)).L=e.H,t}function Iv(){}function _v(){if(uh&&!(10<=Number(kh)))throw Error("Environmental error: no available transport.")}function Sv(e,t){Kh.call(this),this.g=new iv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Gf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nv(this)}function Tv(e){Od.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cv(){Pd.call(this),this.status=1}function Nv(e){this.g=e}(Sf=Kp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nd.g(),this.C=this.u?Td(this.u):Td(Nd),this.g.onreadystatechange=Vf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Yp(this,a)}e=n||"";var i=new Xd(this.headers);r&&$d(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Qp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Af.FormData&&e instanceof Af.FormData,!(0<=qf(Gp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zp(this),0<this.B&&((this.K=function(e){return uh&&gh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vf(this.pa,this)):this.A=od(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Yp(this,a)}},Sf.pa=function(){"undefined"!=typeof Nf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wh(this,"timeout"),this.abort(8))},Sf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wh(this,"complete"),Wh(this,"abort"),Jp(this))},Sf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jp(this,!0)),Kp.Z.M.call(this)},Sf.Fa=function(){this.s||(this.F||this.v||this.l?Xp(this):this.cb())},Sf.cb=function(){Xp(this)},Sf.ba=function(){try{return 2<ev(this)?this.g.status:-1}catch(_p){return-1}},Sf.ga=function(){try{return this.g?this.g.responseText:""}catch(_p){return""}},Sf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qp(t)}},Sf.Da=function(){return this.m},Sf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Sf=iv.prototype).ma=8,Sf.G=1,Sf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Sf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Rd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?rh(n=th(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hv(this,t,r),up(i=np(this.F),"RID",e),up(i,"CVER",22),this.D&&up(i,"X-HTTP-Session-Id",this.D),fv(this,i),this.o&&n&&nv(i,this.o,n),Ap(this.i,t),this.Ra&&up(i,"TYPE","init"),this.ja?(up(i,"$req",r),up(i,"SID","null"),t.$=!0,jd(t,i,null)):jd(t,i,r),this.G=2}}else 3==this.G&&(e?lv(this,e):0==this.l.length||Tp(this.i)||lv(this))},Sf.Ga=function(){if(this.u=null,mv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ed(Vf(this.bb,this),e)}},Sf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wd(10),ov(this),mv(this))},Sf.ab=function(){null!=this.v&&(this.v=null,ov(this),pv(this),wd(19))},Sf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),wd(2)):(this.h.info("Failed to ping google.com"),wd(1))},(Sf=Iv.prototype).xa=function(){},Sf.wa=function(){},Sf.va=function(){},Sf.ua=function(){},Sf.Oa=function(){},_v.prototype.g=function(e,t){return new Sv(e,t)},Uf(Sv,Kh),Sv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ed(Vf(e.hb,e,t))),wd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=xv(e,null,e.W),cv(e)},Sv.prototype.close=function(){av(this.g)},Sv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,sv(this.g,t)}else this.v?((t={}).__data__=Gh(e),sv(this.g,t)):sv(this.g,e)},Sv.prototype.M=function(){this.g.j=null,delete this.j,av(this.g),delete this.g,Sv.Z.M.call(this)},Uf(Tv,Od),Uf(Cv,Pd),Uf(Nv,Iv),Nv.prototype.xa=function(){Wh(this.g,"a")},Nv.prototype.wa=function(e){Wh(this.g,new Tv(e))},Nv.prototype.va=function(e){Wh(this.g,new Cv(e))},Nv.prototype.ua=function(){Wh(this.g,"b")},_v.prototype.createWebChannel=_v.prototype.g,Sv.prototype.send=Sv.prototype.u,Sv.prototype.open=Sv.prototype.m,Sv.prototype.close=Sv.prototype.close,Id.NO_ERROR=0,Id.TIMEOUT=8,Id.HTTP_ERROR=6,_d.COMPLETE="complete",Cd.EventType=Ad,Ad.OPEN="a",Ad.CLOSE="b",Ad.ERROR="c",Ad.MESSAGE="d",Kh.prototype.listen=Kh.prototype.N,Kp.prototype.listenOnce=Kp.prototype.O,Kp.prototype.getLastError=Kp.prototype.La,Kp.prototype.getLastErrorCode=Kp.prototype.Da,Kp.prototype.getStatus=Kp.prototype.ba,Kp.prototype.getResponseJson=Kp.prototype.Qa,Kp.prototype.getResponseText=Kp.prototype.ga,Kp.prototype.send=Kp.prototype.ea;var Av=Cf.createWebChannelTransport=function(){return new _v},Ov=Cf.getStatEventTarget=function(){return yd()},Pv=Cf.ErrorCode=Id,Dv=Cf.EventType=_d,Rv=Cf.Event=vd,Mv=Cf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Lv=Cf.FetchXmlHttpFactory=Fp,Fv=Cf.WebChannel=Cd,Vv=Cf.XhrIo=Kp,jv="@firebase/firestore",Uv=function(){function e(t){Vn(this,e),this.uid=t}return Un(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Uv.UNAUTHENTICATED=new Uv(null),Uv.GOOGLE_CREDENTIALS=new Uv("google-credentials-uid"),Uv.FIRST_PARTY=new Uv("first-party-uid"),Uv.MOCK_USER=new Uv("mock-user");var Bv="9.9.4",zv=new ll("@firebase/firestore");function qv(){return zv.logLevel}function Kv(e){if(zv.logLevel<=rl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gv);zv.debug.apply(zv,["Firestore (".concat(Bv,"): ").concat(e)].concat(At(i)))}}function Wv(e){if(zv.logLevel<=rl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gv);zv.error.apply(zv,["Firestore (".concat(Bv,"): ").concat(e)].concat(At(i)))}}function Hv(e){if(zv.logLevel<=rl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gv);zv.warn.apply(zv,["Firestore (".concat(Bv,"): ").concat(e)].concat(At(i)))}}function Gv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Qv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Bv,") INTERNAL ASSERTION FAILED: ")+e;throw Wv(t),new Error(t)}function Yv(e,t){e||Qv()}function $v(e,t){return e}var Xv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jv=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Un(n)}(jc),Zv=Un((function e(){var t=this;Vn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),em=Un((function e(t,n){Vn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),tm=function(){function e(){Vn(this,e)}return Un(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Uv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),nm=function(){function e(t){Vn(this,e),this.token=t,this.changeListener=null}return Un(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),rm=function(){function e(t){Vn(this,e),this.t=t,this.currentUser=Uv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Un(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Zv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Zv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Kv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Kv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Kv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yv("string"==typeof n.accessToken),new em(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yv(null===e||"string"==typeof e),new Uv(e)}}]),e}(),im=function(){function e(t,n,r,i){Vn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Uv.FIRST_PARTY,this.p=new Map}return Un(e,[{key:"I",value:function(){return this.g?this.g():(Yv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),am=function(){function e(t,n,r,i){Vn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Un(e,[{key:"getToken",value:function(){return Promise.resolve(new im(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Uv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),om=Un((function e(t){Vn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),um=function(){function e(t){Vn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Un(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Kv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Kv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Kv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Kv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Yv("string"==typeof t.token),e.A=t.token,new om(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function sm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var cm=function(){function e(){Vn(this,e)}return Un(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=sm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function lm(e,t){return e<t?-1:e>t?1:0}function fm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hm(e){return e+"\0"}var dm=function(){function e(t,n){if(Vn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Jv(Xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jv(Xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Jv(Xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jv(Xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Un(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?lm(this.nanoseconds,e.nanoseconds):lm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),pm=function(){function e(t){Vn(this,e),this.timestamp=t}return Un(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dm(0,0))}},{key:"max",value:function(){return new e(new dm(253402300799,999999999))}}]),e}(),vm=function(){function e(t,n,r){Vn(this,e),void 0===n?n=0:n>t.length&&Qv(),void 0===r?r=t.length-n:r>t.length-n&&Qv(),this.segments=t,this.offset=n,this.len=r}return Un(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),mm=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,At(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vm),ym=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gm=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ym.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Jv(Xv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Jv(Xv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Jv(Xv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vm),bm=function(){function e(t){Vn(this,e),this.path=t}return Un(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===mm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(mm.fromString(t))}},{key:"fromName",value:function(t){return new e(mm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(mm.emptyPath())}},{key:"comparator",value:function(e,t){return mm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new mm(t.slice()))}}]),e}(),km=Un((function e(t,n,r,i){Vn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function wm(e){return e.fields.find((function(e){return 2===e.kind}))}function xm(e){return e.fields.filter((function(e){return 2!==e.kind}))}km.UNKNOWN_ID=-1;var Em=Un((function e(t,n){Vn(this,e),this.fieldPath=t,this.kind=n}));var Im=function(){function e(t,n){Vn(this,e),this.sequenceNumber=t,this.offset=n}return Un(e,null,[{key:"empty",value:function(){return new e(0,Tm.min())}}]),e}();function _m(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pm.fromTimestamp(1e9===r?new dm(n+1,0):new dm(n,r));return new Tm(i,bm.empty(),t)}function Sm(e){return new Tm(e.readTime,e.key,-1)}var Tm=function(){function e(t,n,r){Vn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Un(e,null,[{key:"min",value:function(){return new e(pm.min(),bm.empty(),-1)}},{key:"max",value:function(){return new e(pm.max(),bm.empty(),-1)}}]),e}();function Cm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=bm.comparator(e.documentKey,t.documentKey))?n:lm(e.largestBatchId,t.largestBatchId)}var Nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Am=function(){function e(){Vn(this,e),this.onCommittedListeners=[]}return Un(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Om(e){return Pm.apply(this,arguments)}function Pm(){return Pm=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Xv.FAILED_PRECONDITION&&t.message===Nm){e.next=2;break}throw t;case 2:Kv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}var Dm=function(){function e(t){var n=this;Vn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Un(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Qv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=xc(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Rm=function(){function e(t,n){var r=this;Vn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Zv,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Fm(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=zm(e.target.error);r.P.reject(new Fm(t,n))}}return Un(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Kv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fm(n,t)}}}]),e}(),Mm=function(){function e(t,n,r){Vn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Pc())&&Wv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Un(e,[{key:"F",value:function(){var e=vo(ho().mark((function e(t){var n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Kv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Jv(Xv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Jv(Xv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fm(t,n))},i.onupgradeneeded=function(e){Kv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Kv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ho().mark((function e(){var n,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Rm.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Dm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Kv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Kv("SimpleDb","Removing database:",e),Um(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Vc())return!1;if(e.N())return!0;var t=Pc(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Lm=function(){function e(t){Vn(this,e),this.U=t,this.q=!1,this.K=null}return Un(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Um(this.U.delete())}}]),e}(),Fm=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,Xv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Un(n)}(Jv);function Vm(e){return"IndexedDbTransactionError"===e.name}var jm=function(){function e(t){Vn(this,e),this.store=t}return Un(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Kv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Kv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Um(n)}},{key:"add",value:function(e){return Kv("SimpleDb","ADD",this.store.name,e,e),Um(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Um(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Kv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Kv("SimpleDb","DELETE",this.store.name,e),Um(this.store.delete(e))}},{key:"count",value:function(){return Kv("SimpleDb","COUNT",this.store.name),Um(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Dm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Dm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Kv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Dm((function(n,r){t.onerror=function(e){var t=zm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Dm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Lm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dm){var u=o.catch((function(e){return a.done(),Dm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Dm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Um(e){return new Dm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=zm(e.target.error);n(t)}}))}var Bm=!1;function zm(e){var t=Mm.D(Pc());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Jv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Bm||(Bm=!0,setTimeout((function(){throw r}),0)),r}}return e}var qm=function(){function e(t,n){Vn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Un(e,[{key:"start",value:function(){this.nt(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Kv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Kv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Vm(e.t4)){e.next=17;break}Kv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Om(e.t4);case 19:return e.next=21,t.nt(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Km=function(){function e(t,n){Vn(this,e),this.localStore=t,this.persistence=n}return Un(e,[{key:"st",value:function(){var e=vo(ho().mark((function e(){var t,n=this,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Dm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Kv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Kv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Sm(t);Cm(r,n)>0&&(n=r)})),new Tm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Wm=function(){function e(t,n){var r=this;Vn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Un(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Hm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Wm.at=-1;var Ym=function(){function e(t,n){Vn(this,e),this.comparator=t,this.root=n||Xm.EMPTY}return Un(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $m(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $m(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $m(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $m(this.root,e,this.comparator,!0)}}]),e}(),$m=function(){function e(t,n,r,i){Vn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Un(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xm=function(){function e(t,n,r,i,a){Vn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Un(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Qv();if(this.right.isRed())throw Qv();var e=this.left.check();if(e!==this.right.check())throw Qv();return e+(this.isRed()?0:1)}}]),e}();Xm.EMPTY=null,Xm.RED=!0,Xm.BLACK=!1,Xm.EMPTY=new(function(){function e(){Vn(this,e),this.size=0}return Un(e,[{key:"key",get:function(){throw Qv()}},{key:"value",get:function(){throw Qv()}},{key:"color",get:function(){throw Qv()}},{key:"left",get:function(){throw Qv()}},{key:"right",get:function(){throw Qv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Jm=function(){function e(t){Vn(this,e),this.comparator=t,this.data=new Ym(this.comparator)}return Un(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Zm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Zm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Zm=function(){function e(t){Vn(this,e),this.iter=t}return Un(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ey(e){return e.hasNext()?e.getNext():void 0}var ty=function(){function e(t){Vn(this,e),this.fields=t,t.sort(gm.comparator)}return Un(e,[{key:"unionWith",value:function(t){var n,r=new Jm(gm.comparator),i=xc(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=xc(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=xc(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var ny=function(e){function t(e){Vn(this,t),this.binaryString=e}return Un(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return lm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ny.EMPTY_BYTE_STRING=new ny("");var ry=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iy(e){if(Yv(!!e),"string"==typeof e){var t=0,n=ry.exec(e);if(Yv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ay(e.seconds),nanos:ay(e.nanos)}}function ay(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oy(e){return"string"==typeof e?ny.fromBase64String(e):ny.fromUint8Array(e)}function uy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sy(e){var t=e.mapValue.fields.__previous_value__;return uy(t)?sy(t):t}function cy(e){var t=iy(e.mapValue.fields.__local_write_time__.timestampValue);return new dm(t.seconds,t.nanos)}var ly=Un((function e(t,n,r,i,a,o,u,s){Vn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),fy=function(){function e(t,n){Vn(this,e),this.projectId=t,this.database=n||"(default)"}return Un(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function hy(e){return null==e}function dy(e){return 0===e&&1/e==-1/0}function py(e){return"number"==typeof e&&Number.isInteger(e)&&!dy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var vy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},my={nullValue:"NULL_VALUE"};function yy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uy(e)?4:Oy(e)?9007199254740991:10:Qv()}function gy(e,t){if(e===t)return!0;var n=yy(e);if(n!==yy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cy(e).isEqual(cy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=iy(e.timestampValue),r=iy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return oy(e.bytesValue).isEqual(oy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ay(e.geoPointValue.latitude)===ay(t.geoPointValue.latitude)&&ay(e.geoPointValue.longitude)===ay(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ay(e.integerValue)===ay(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ay(e.doubleValue),r=ay(t.doubleValue);return n===r?dy(n)===dy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fm(e.arrayValue.values||[],t.arrayValue.values||[],gy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hm(n)!==Hm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gy(n[i],r[i])))return!1;return!0}(e,t);default:return Qv()}}function by(e,t){return void 0!==(e.values||[]).find((function(e){return gy(e,t)}))}function ky(e,t){if(e===t)return 0;var n=yy(e),r=yy(t);if(n!==r)return lm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ay(e.integerValue||e.doubleValue),r=ay(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wy(e.timestampValue,t.timestampValue);case 4:return wy(cy(e),cy(t));case 5:return lm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=oy(e),r=oy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=lm(n[i],r[i]);if(0!==a)return a}return lm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=lm(ay(e.latitude),ay(t.latitude));return 0!==n?n:lm(ay(e.longitude),ay(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ky(n[i],r[i]);if(a)return a}return lm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===vy.mapValue&&t===vy.mapValue)return 0;if(e===vy.mapValue)return 1;if(t===vy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=lm(r[o],a[o]);if(0!==u)return u;var s=ky(n[r[o]],i[a[o]]);if(0!==s)return s}return lm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Qv()}}function wy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return lm(e,t);var n=iy(e),r=iy(t),i=lm(n.seconds,r.seconds);return 0!==i?i:lm(n.nanos,r.nanos)}function xy(e){return Ey(e)}function Ey(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=iy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?oy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=xc(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ey(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=xc(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ey(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Qv();var t,n}function Iy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function _y(e){return!!e&&"integerValue"in e}function Sy(e){return!!e&&"arrayValue"in e}function Ty(e){return!!e&&"nullValue"in e}function Cy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ny(e){return!!e&&"mapValue"in e}function Ay(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ay(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ay(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Oy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Py(e){return"nullValue"in e?my:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Iy(fy.empty(),bm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Qv()}function Dy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Iy(fy.empty(),bm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?vy:Qv()}function Ry(e,t){var n=ky(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function My(e,t){var n=ky(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ly=function(){function e(t){Vn(this,e),this.value=t}return Un(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ny(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ay(t)}},{key:"setAll",value:function(e){var t=this,n=gm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ay(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return gy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ny(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Gm(t,(function(t,n){return e[t]=n}));var r,i=xc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ay(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fy(e){var t=[];return Gm(e.fields,(function(e,n){var r=new gm([e]);if(Ny(n)){var i=Fy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=xc(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ty(t)}var Vy=function(){function e(t,n,r,i,a,o){Vn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Un(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ly.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ly.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=pm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,pm.min(),pm.min(),Ly.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,pm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,pm.min(),Ly.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,pm.min(),Ly.empty(),2)}}]),e}(),jy=Un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Vn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Uy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jy(e,t,n,r,i,a,o)}function By(e){var t=$v(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+xy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return xy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return xy(e)})).join(",")),t.ht=n}return t.ht}function zy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ig(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!gy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!og(e.startAt,t.startAt)&&og(e.endAt,t.endAt)}function qy(e){return bm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ky(e,t){return e.filters.filter((function(e){return e instanceof Gy&&e.field.isEqual(t)}))}function Wy(e,t,n){var r,i=my,a=!0,o=xc(Ky(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=my,c=!0;switch(u.op){case"<":case"<=":s=Py(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=my}Ry({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ry({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Hy(e,t,n){var r,i=vy,a=!0,o=xc(Ky(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=vy,c=!0;switch(u.op){case">=":case">":s=Dy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=vy}My({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];My({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Gy=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ky(t,this.value)):null!==t&&yy(this.value)===yy(t)&&this.ft(ky(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qv()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Qy(e,t,r):"array-contains"===t?new Jy(e,r):"in"===t?new Zy(e,r):"not-in"===t?new eg(e,r):"array-contains-any"===t?new tg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Yy(e,n):new $y(e,n)}}]),n}(function(){return Un((function e(){Vn(this,e)}))}()),Qy=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,e,r,i)).key=bm.fromName(i.referenceValue),a}return Un(n,[{key:"matches",value:function(e){var t=bm.comparator(e.key,this.key);return this.ft(t)}}]),n}(Gy),Yy=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,"in",r)).keys=Xy("in",r),i}return Un(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Gy),$y=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,"not-in",r)).keys=Xy("not-in",r),i}return Un(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Gy);function Xy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bm.fromName(e.referenceValue)}))}var Jy=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"array-contains",r)}return Un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Sy(t)&&by(t.arrayValue,this.value)}}]),n}(Gy),Zy=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"in",r)}return Un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&by(this.value.arrayValue,t)}}]),n}(Gy),eg=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"not-in",r)}return Un(n,[{key:"matches",value:function(e){if(by(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!by(this.value.arrayValue,t)}}]),n}(Gy),tg=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"array-contains-any",r)}return Un(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return by(t.value.arrayValue,e)}))}}]),n}(Gy),ng=Un((function e(t,n){Vn(this,e),this.position=t,this.inclusive=n})),rg=Un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Vn(this,e),this.field=t,this.dir=n}));function ig(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ag(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bm.comparator(bm.fromName(o.referenceValue),n.key):ky(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function og(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gy(e.position[n],t.position[n]))return!1;return!0}var ug=Un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Vn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function sg(e,t,n,r,i,a,o,u){return new ug(e,t,n,r,i,a,o,u)}function cg(e){return new ug(e)}function lg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hg(e){var t,n=xc(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function dg(e){return null!==e.collectionGroup}function pg(e){var t=$v(e);if(null===t._t){t._t=[];var n=hg(t),r=fg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new rg(n)),t._t.push(new rg(gm.keyField(),"asc"));else{var i,a=!1,o=xc(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new rg(gm.keyField(),s))}}}return t._t}function vg(e){var t=$v(e);if(!t.wt)if("F"===t.limitType)t.wt=Uy(t.path,t.collectionGroup,pg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=xc(pg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ng(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ng(t.startAt.position,t.startAt.inclusive):null;t.wt=Uy(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function mg(e,t,n){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yg(e,t){return zy(vg(e),vg(t))&&e.limitType===t.limitType}function gg(e){return"".concat(By(vg(e)),"|lt:").concat(e.limitType)}function bg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xy(t.value));var t})).join(", "),"]")),hy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return xy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return xy(e)})).join(",")),"Target(".concat(t,")")}(vg(e)),"; limitType=").concat(e.limitType,")")}function kg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=xc(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=xc(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ag(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pg(e),t))&&!(e.endAt&&!function(e,t,n){var r=ag(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pg(e),t))}(e,t)}function wg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xg(e){return function(t,n){var r,i=!1,a=xc(pg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Eg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Eg(e,t,n){var r=e.field.isKeyField()?bm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ky(r,i):Qv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qv()}}function Ig(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dy(t)?"-0":t}}function _g(e){return{integerValue:""+e}}function Sg(e,t){return py(t)?_g(t):Ig(e,t)}var Tg=Un((function e(){Vn(this,e),this._=void 0}));function Cg(e,t,n){return e instanceof Og?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Pg?Dg(e,t):e instanceof Rg?Mg(e,t):function(e,t){var n=Ag(e,t),r=Fg(n)+Fg(e.yt);return _y(n)&&_y(e.yt)?_g(r):Ig(e.It,r)}(e,t)}function Ng(e,t,n){return e instanceof Pg?Dg(e,t):e instanceof Rg?Mg(e,t):n}function Ag(e,t){return e instanceof Lg?_y(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Og=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n)}(Tg),Pg=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).elements=e,r}return Un(n)}(Tg);function Dg(e,t){var n,r=Vg(t),i=xc(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return gy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Rg=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).elements=e,r}return Un(n)}(Tg);function Mg(e,t){var n,r=Vg(t),i=xc(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!gy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lg=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Un(n)}(Tg);function Fg(e){return ay(e.integerValue||e.doubleValue)}function Vg(e){return Sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jg=Un((function e(t,n){Vn(this,e),this.field=t,this.transform=n}));var Ug=Un((function e(t,n){Vn(this,e),this.version=t,this.transformResults=n})),Bg=function(){function e(t,n){Vn(this,e),this.updateTime=t,this.exists=n}return Un(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qg=Un((function e(){Vn(this,e)}));function Kg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nb(e.key,Bg.none()):new Yg(e.key,e.data,Bg.none());var n,r=e.data,i=Ly.empty(),a=new Jm(gm.comparator),o=xc(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new $g(e.key,i,new ty(a.toArray()),Bg.none())}function Wg(e,t,n){e instanceof Yg?function(e,t,n){var r=e.value.clone(),i=Jg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $g?function(e,t,n){if(zg(e.precondition,t)){var r=Jg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hg(e,t,n,r){return e instanceof Yg?function(e,t,n,r){if(!zg(e.precondition,t))return n;var i=e.value.clone(),a=Zg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $g?function(e,t,n,r){if(!zg(e.precondition,t))return n;var i=Zg(e.fieldTransforms,r,t),a=t.data;return a.setAll(Xg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return zg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gg(e,t){var n,r=null,i=xc(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ag(a.transform,o||null);null!=u&&(null===r&&(r=Ly.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Qg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Pg&&t instanceof Pg||e instanceof Rg&&t instanceof Rg?fm(e.elements,t.elements,gy):e instanceof Lg&&t instanceof Lg?gy(e.yt,t.yt):e instanceof Og&&t instanceof Og}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Yg=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Vn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Un(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qg),$g=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Vn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Un(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(qg);function Xg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Jg(e,t,n){var r=new Map;Yv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ng(o,u,n[i]))}return r}function Zg(e,t,n){var r,i=new Map,a=xc(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Cg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var eb,tb,nb=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Un(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qg),rb=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Un(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qg),ib=Un((function e(t){Vn(this,e),this.count=t}));function ab(e){switch(e){default:return Qv();case Xv.CANCELLED:case Xv.UNKNOWN:case Xv.DEADLINE_EXCEEDED:case Xv.RESOURCE_EXHAUSTED:case Xv.INTERNAL:case Xv.UNAVAILABLE:case Xv.UNAUTHENTICATED:return!1;case Xv.INVALID_ARGUMENT:case Xv.NOT_FOUND:case Xv.ALREADY_EXISTS:case Xv.PERMISSION_DENIED:case Xv.FAILED_PRECONDITION:case Xv.ABORTED:case Xv.OUT_OF_RANGE:case Xv.UNIMPLEMENTED:case Xv.DATA_LOSS:return!0}}function ob(e){if(void 0===e)return Wv("GRPC error has no .code"),Xv.UNKNOWN;switch(e){case eb.OK:return Xv.OK;case eb.CANCELLED:return Xv.CANCELLED;case eb.UNKNOWN:return Xv.UNKNOWN;case eb.DEADLINE_EXCEEDED:return Xv.DEADLINE_EXCEEDED;case eb.RESOURCE_EXHAUSTED:return Xv.RESOURCE_EXHAUSTED;case eb.INTERNAL:return Xv.INTERNAL;case eb.UNAVAILABLE:return Xv.UNAVAILABLE;case eb.UNAUTHENTICATED:return Xv.UNAUTHENTICATED;case eb.INVALID_ARGUMENT:return Xv.INVALID_ARGUMENT;case eb.NOT_FOUND:return Xv.NOT_FOUND;case eb.ALREADY_EXISTS:return Xv.ALREADY_EXISTS;case eb.PERMISSION_DENIED:return Xv.PERMISSION_DENIED;case eb.FAILED_PRECONDITION:return Xv.FAILED_PRECONDITION;case eb.ABORTED:return Xv.ABORTED;case eb.OUT_OF_RANGE:return Xv.OUT_OF_RANGE;case eb.UNIMPLEMENTED:return Xv.UNIMPLEMENTED;case eb.DATA_LOSS:return Xv.DATA_LOSS;default:return Qv()}}(tb=eb||(eb={}))[tb.OK=0]="OK",tb[tb.CANCELLED=1]="CANCELLED",tb[tb.UNKNOWN=2]="UNKNOWN",tb[tb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tb[tb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tb[tb.NOT_FOUND=5]="NOT_FOUND",tb[tb.ALREADY_EXISTS=6]="ALREADY_EXISTS",tb[tb.PERMISSION_DENIED=7]="PERMISSION_DENIED",tb[tb.UNAUTHENTICATED=16]="UNAUTHENTICATED",tb[tb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tb[tb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tb[tb.ABORTED=10]="ABORTED",tb[tb.OUT_OF_RANGE=11]="OUT_OF_RANGE",tb[tb.UNIMPLEMENTED=12]="UNIMPLEMENTED",tb[tb.INTERNAL=13]="INTERNAL",tb[tb.UNAVAILABLE=14]="UNAVAILABLE",tb[tb.DATA_LOSS=15]="DATA_LOSS";var ub=function(){function e(t,n){Vn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Un(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=xc(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Gm(this.inner,(function(t,n){var r,i=xc(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Qm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sb=new Ym(bm.comparator);function cb(){return sb}var lb=new Ym(bm.comparator);function fb(){for(var e=lb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function hb(e){var t=lb;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function db(){return vb()}function pb(){return vb()}function vb(){return new ub((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var mb=new Ym(bm.comparator),yb=new Jm(bm.comparator);function gb(){for(var e=yb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bb=new Jm(lm);function kb(){return bb}var wb=function(){function e(t,n,r,i,a){Vn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Un(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,xb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(pm.min(),r,kb(),cb(),gb())}}]),e}(),xb=function(){function e(t,n,r,i,a){Vn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Un(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ny.EMPTY_BYTE_STRING,n,gb(),gb(),gb())}}]),e}(),Eb=Un((function e(t,n,r,i){Vn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Ib=Un((function e(t,n){Vn(this,e),this.targetId=t,this.At=n})),_b=Un((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ny.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sb=function(){function e(){Vn(this,e),this.Rt=0,this.bt=Nb(),this.Pt=ny.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Un(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=gb(),t=gb(),n=gb();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qv()}})),new xb(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Nb()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Tb=function(){function e(t){Vn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=cb(),this.qt=Cb(),this.Kt=new Jm(lm)}return Un(e,[{key:"Gt",value:function(e){var t,n=xc(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=xc(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Qv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(qy(i))if(0===n){var a=new bm(i.path);this.jt(t,a,Vy.newNoDocument(a,pm.min()))}else Yv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&qy(a.target)){var o=new bm(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Vy.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=gb();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new wb(e,n,this.Kt,this.Ut,r);return this.Ut=cb(),this.qt=Cb(),this.Kt=new Jm(lm),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Sb,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Jm(lm),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Kv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Sb),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Cb(){return new Ym(bm.comparator)}function Nb(){return new Ym(bm.comparator)}var Ab={asc:"ASCENDING",desc:"DESCENDING"},Ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pb=Un((function e(t,n){Vn(this,e),this.databaseId=t,this.gt=n}));function Db(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rb(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Mb(e,t){return Db(e,t.toTimestamp())}function Lb(e){return Yv(!!e),pm.fromTimestamp(function(e){var t=iy(e);return new dm(t.seconds,t.nanos)}(e))}function Fb(e,t){return function(e){return new mm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vb(e){var t=mm.fromString(e);return Yv(uk(t)),t}function jb(e,t){return Fb(e.databaseId,t.path)}function Ub(e,t){var n=Vb(t);if(n.get(1)!==e.databaseId.projectId)throw new Jv(Xv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jv(Xv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bm(Kb(n))}function Bb(e,t){return Fb(e.databaseId,t)}function zb(e){var t=Vb(e);return 4===t.length?mm.emptyPath():Kb(t)}function qb(e){return new mm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kb(e){return Yv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Wb(e,t,n){return{name:jb(e,t),fields:n.value.mapValue.fields}}function Hb(e,t,n){var r=Ub(e,t.name),i=Lb(t.updateTime),a=new Ly({mapValue:{fields:t.fields}}),o=Vy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Gb(e,t){return"found"in t?function(e,t){Yv(!!t.found),t.found.name,t.found.updateTime;var n=Ub(e,t.found.name),r=Lb(t.found.updateTime),i=new Ly({mapValue:{fields:t.found.fields}});return Vy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yv(!!t.missing),Yv(!!t.readTime);var n=Ub(e,t.missing),r=Lb(t.readTime);return Vy.newNoDocument(n,r)}(e,t):Qv()}function Qb(e,t){var n;if(t instanceof Yg)n={update:Wb(e,t.key,t.value)};else if(t instanceof nb)n={delete:jb(e,t.key)};else if(t instanceof $g)n={update:Wb(e,t.key,t.data),updateMask:ok(t.fieldMask)};else{if(!(t instanceof rb))return Qv();n={verify:jb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Og)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lg)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Qv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qv()}(e,t.precondition)),n}function Yb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bg.updateTime(Lb(e.updateTime)):void 0!==e.exists?Bg.exists(e.exists):Bg.none()}(t.currentDocument):Bg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yv("REQUEST_TIME"===t.setToServerValue),n=new Og;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Pg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Rg(i)}else"increment"in t?n=new Lg(e,t.increment):Qv();var a=gm.fromServerFormat(t.fieldPath);return new jg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ub(e,t.update.name),a=new Ly({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ty(t.map((function(e){return gm.fromServerFormat(e)})))}(t.updateMask);return new $g(i,a,o,n,r)}return new Yg(i,a,n,r)}if(t.delete){var u=Ub(e,t.delete);return new nb(u,n)}if(t.verify){var s=Ub(e,t.verify);return new rb(s,n)}return Qv()}function $b(e,t){return{documents:[Bb(e,t.path)]}}function Xb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Cy(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NAN"}};if(Ty(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cy(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NOT_NAN"}};if(Ty(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nk(e.field),op:tk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nk(e.field),direction:ek(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||hy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jb(e){var t=zb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Zb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new rg(rk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return hy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ng(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ng(n,t)}(n.endAt)),sg(t,i,u,o,s,"F",c,l)}function Zb(e){return e?void 0!==e.unaryFilter?[ak(e)]:void 0!==e.fieldFilter?[ik(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Zb(e)})).reduce((function(e,t){return e.concat(t)})):Qv():[]}function ek(e){return Ab[e]}function tk(e){return Ob[e]}function nk(e){return{fieldPath:e.canonicalString()}}function rk(e){return gm.fromServerFormat(e.fieldPath)}function ik(e){return Gy.create(rk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qv()}}(e.fieldFilter.op),e.fieldFilter.value)}function ak(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rk(e.unaryFilter.field);return Gy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rk(e.unaryFilter.field);return Gy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rk(e.unaryFilter.field);return Gy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rk(e.unaryFilter.field);return Gy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qv()}}function ok(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function uk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function sk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lk(t)),t=ck(e.get(n),t);return lk(t)}function ck(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lk(e){return e+"\x01\x01"}function fk(e){var t=e.length;if(Yv(t>=2),2===t)return Yv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),mm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Qv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Qv()}a=o+2}return new mm(r)}var hk=["userId","batchId"];function dk(e,t){return[e,sk(t)]}function pk(e,t,n){return[e,sk(t),n]}var vk={},mk=["prefixPath","collectionGroup","readTime","documentId"],yk=["prefixPath","collectionGroup","documentId"],gk=["collectionGroup","readTime","prefixPath","documentId"],bk=["canonicalId","targetId"],kk=["targetId","path"],wk=["path","targetId"],xk=["collectionId","parent"],Ek=["indexId","uid"],Ik=["uid","sequenceNumber"],_k=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sk=["indexId","uid","orderedDocumentKey"],Tk=["userId","collectionPath","documentId"],Ck=["userId","collectionPath","largestBatchId"],Nk=["userId","collectionGroup","largestBatchId"],Ak=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ok=[].concat(At(Ak),["documentOverlays"]),Pk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dk=Pk,Rk=[].concat(Dk,["indexConfiguration","indexState","indexEntries"]),Mk=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Un(n)}(Am);function Lk(e,t){var n=$v(e);return Mm.O(n.ie,t)}var Fk=function(){function e(t,n,r,i){Vn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Un(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=xc(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Hg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=xc(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Hg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=pb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Kg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(pm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fm(this.mutations,e.mutations,(function(e,t){return Qg(e,t)}))&&fm(this.baseMutations,e.baseMutations,(function(e,t){return Qg(e,t)}))}}]),e}(),Vk=function(){function e(t,n,r,i){Vn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Un(e,null,[{key:"from",value:function(t,n,r){Yv(t.mutations.length===r.length);for(var i=mb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),jk=function(){function e(t,n){Vn(this,e),this.largestBatchId=t,this.mutation=n}return Un(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Uk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ny.EMPTY_BYTE_STRING;Vn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Un(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Bk=Un((function e(t){Vn(this,e),this.re=t}));function zk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Db(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kk(t.version)};else{if(!t.isUnknownDocument())return Qv();r.unknownDocument={path:n.path.toArray(),version:Kk(t.version)}}return r}function qk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Kk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Wk(e){var t=new dm(e.seconds,e.nanoseconds);return pm.fromTimestamp(t)}function Hk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yb(e.re,t)})),u=dm.fromMillis(t.localWriteTimeMs);return new Fk(t.batchId,u,n,o)}function Gk(e){var t,n,r=Wk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Wk(e.lastLimboFreeSnapshotVersion):pm.min();return void 0!==e.query.documents?(Yv(1===(n=e.query).documents.length),t=vg(cg(zb(n.documents[0])))):t=function(e){return vg(Jb(e))}(e.query),new Uk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ny.fromBase64String(e.resumeToken))}function Qk(e,t){var n,r=Kk(t.snapshotVersion),i=Kk(t.lastLimboFreeSnapshotVersion);n=qy(t.target)?$b(e.re,t.target):Xb(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:By(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Yk(e){var t=Jb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mg(t,t.limit,"L"):t}function $k(e,t){return new jk(t.largestBatchId,Yb(e.re,t.overlayMutation))}function Xk(e,t){var n=t.path.lastSegment();return[e,sk(t.path.popLast()),n]}function Jk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Kk(r.readTime),documentKey:sk(r.documentKey.path),largestBatchId:r.largestBatchId}}var Zk=function(){function e(){Vn(this,e)}return Un(e,[{key:"getBundleMetadata",value:function(e,t){return ew(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Wk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ew(e).put({bundleId:(n=t).id,createTime:Kk(Lb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return tw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Yk(t.bundledQuery),readTime:Wk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return tw(e).put(function(e){return{name:e.name,readTime:Kk(Lb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ew(e){return Lk(e,"bundles")}function tw(e){return Lk(e,"namedQueries")}var nw=function(){function e(t,n){Vn(this,e),this.It=t,this.userId=n}return Un(e,[{key:"getOverlay",value:function(e,t){var n=this;return rw(e).get(Xk(this.userId,t)).next((function(e){return e?$k(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=db();return Dm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new jk(t,a);i.push(r.ue(e,o))})),Dm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(sk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rw(e).Y("collectionPathOverlayIndex",i))})),Dm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=db(),a=sk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=xc(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$k(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=db(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=$k(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return rw(e).put(function(e,t,n){var r=c(Xk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Qb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function rw(e){return Lk(e,"documentOverlays")}var iw=function(){function e(){Vn(this,e)}return Un(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ay(e.integerValue));else if("doubleValue"in e){var n=ay(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),dy(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(oy(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Oy(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Qv()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=xc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),bm.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function aw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ow(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=aw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}iw.Te=new iw;var uw=function(){function e(){Vn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Un(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=xc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=xc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=ow(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=ow(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),sw=function(){function e(t){Vn(this,e),this.Be=t}return Un(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),cw=function(){function e(t){Vn(this,e),this.Be=t}return Un(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),lw=function(){function e(){Vn(this,e),this.Be=new uw,this.Le=new sw(this.Be),this.Ue=new cw(this.Be)}return Un(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),fw=function(){function e(t,n,r,i){Vn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Un(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=dw(e.arrayValue,t.arrayValue))?n:0!==(n=dw(e.directionalValue,t.directionalValue))?n:bm.comparator(e.documentKey,t.documentKey)}function dw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var pw=function(){function e(t){Vn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=xc(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Un(e,[{key:"We",value:function(e){var t=wm(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=xm(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=xc(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),vw=function(){function e(){Vn(this,e),this.Ye=new mw}return Un(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Dm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Dm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Dm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Dm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Dm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Dm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Dm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Dm.resolve(Tm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Dm.resolve(Tm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Dm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Dm.resolve()}}]),e}(),mw=function(){function e(){Vn(this,e),this.index={}}return Un(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jm(mm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Jm(mm.comparator)).toArray()}}]),e}(),yw=new Uint8Array(0),gw=function(){function e(t,n){Vn(this,e),this.user=t,this.databaseId=n,this.Xe=new mw,this.Ze=new ub((function(e){return By(e)}),(function(e,t){return zy(e,t)})),this.uid=t.uid||""}return Un(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:sk(i)};return bw(e).put(a)}return Dm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hm(t),""],!1,!0);return bw(e).W(r).next((function(e){var r,i=xc(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ww(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=xw(e);return a.next((function(e){o.put(Jk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ww(e),r=xw(e),i=kw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=kw(e),i=!0,a=new Map;return Dm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=gb(),o=[];return Dm.forEach(a,(function(i,a){var u;Kv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(By(t)));var s=function(e,t){var n=wm(t);if(void 0===n)return null;var r,i=xc(Ky(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=xc(xm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=xc(Ky(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=xc(xm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Wy(e,o.fieldPath,e.startAt):Hy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ng(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=xc(xm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Hy(e,o.fieldPath,e.endAt):Wy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ng(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Dm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=bm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Dm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):yw,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,At(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new fw(e,bm.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new fw(e,bm.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new pw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=xc(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Dm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Jm(gm.comparator),r=!1,i=xc(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=xc(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new lw,i=xc(xm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);iw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new lw;return iw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new lw;return iw.Te.ce(Iy(this.databaseId,t),n.qe(function(e){var t=xm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new lw);var i,a=0,o=xc(xm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=xc(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Sy(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);iw.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=At(e),a=[],o=xc(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=xc(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new lw;f.seed(l.$e()),iw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Gy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ww(e),i=xw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Dm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Im(t.sequenceNumber,new Tm(Wk(t.readTime),new bm(fk(t.documentKey)),t.largestBatchId)):Im.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Em(gm.fromServerFormat(n),r)}));return new km(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:lm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ww(e),a=xw(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Dm.forEach(t,(function(t){return a.put(Jk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Dm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Dm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Dm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Dm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return kw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return kw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=kw(e),i=new Jm(hw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new fw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Jm(hw),r=this.an(t,e);if(null==r)return n;var i=wm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Sy(a)){var o,u=xc(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new fw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new fw(t.indexId,e.key,yw,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Kv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ey(a),s=ey(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ey(o)):l?(i(u),u=ey(a)):(u=ey(a),s=ey(o))}}(r,i,hw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Dm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return xw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hw(e,t)})).filter((function(e,t,n){return!t||0!==hw(e,n[t-1])}));var r=[];r.push(e);var i,a=xc(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hw(o,e),s=hw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,yw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,yw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ew)}},{key:"getMinOffset",value:function(e,t){var n=this;return Dm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Qv()}))})).next(Ew)}}]),e}();function bw(e){return Lk(e,"collectionParents")}function kw(e){return Lk(e,"indexEntries")}function ww(e){return Lk(e,"indexConfiguration")}function xw(e){return Lk(e,"indexState")}function Ew(e){Yv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Cm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tm(t.readTime,t.documentKey,n)}var Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_w=function(){function e(t,n,r){Vn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Un(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Sw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Yv(1===u)})));var c,l=[],f=xc(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=pk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Dm.waitFor(a).next((function(){return l}))}function Tw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Qv();t=e.noDocument}return JSON.stringify(t).length}_w.DEFAULT_COLLECTION_PERCENTILE=10,_w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_w.DEFAULT=new _w(41943040,_w.DEFAULT_COLLECTION_PERCENTILE,_w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_w.DISABLED=new _w(-1,0,0);var Cw=function(){function e(t,n,r,i){Vn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Un(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Aw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ow(e),o=Aw(e);return o.add({}).next((function(u){Yv("number"==typeof u);var s,c=new Fk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Qb(e.re,t)})),i=n.mutations.map((function(t){return Qb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Jm((function(e,t){return lm(e.canonicalString(),t.canonicalString())})),d=xc(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=pk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,vk))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Dm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Aw(e).get(t).next((function(e){return e?(Yv(e.userId===n.userId),Hk(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Dm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Aw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Yv(t.batchId>=r),a=Hk(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Aw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Aw(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Hk(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=dk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ow(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=fk(l);if(s===n.userId&&t.path.isEqual(h))return Aw(e).get(f).next((function(e){if(!e)throw Qv();Yv(e.userId===n.userId),a.push(Hk(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Jm(lm),i=[];return t.forEach((function(t){var a=dk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ow(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=fk(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Dm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=dk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Jm(lm);return Ow(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=fk(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Aw(e).get(t).next((function(e){if(null===e)throw Qv();Yv(e.userId===n.userId),r.push(Hk(n.It,e))})))})),Dm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Sw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Dm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ow(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fk(e[1]);i.push(a)}else r.done()})).next((function(){Yv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Nw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Pw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Yv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Nw(e,t,n){var r=dk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ow(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Aw(e){return Lk(e,"mutations")}function Ow(e){return Lk(e,"documentMutations")}function Pw(e){return Lk(e,"mutationQueues")}var Dw=function(){function e(t){Vn(this,e),this.bn=t}return Un(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Rw=function(){function e(t,n){Vn(this,e),this.referenceDelegate=t,this.It=n}return Un(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Dw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return pm.fromTimestamp(new dm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Mw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Yv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Mw(e).Z((function(o,u){var s=Gk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Dm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Mw(e).Z((function(e,n){var r=Gk(n);t(r)}))}},{key:"Vn",value:function(e){return Lw(e).get("targetGlobalKey").next((function(e){return Yv(null!==e),e}))}},{key:"Sn",value:function(e,t){return Lw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Mw(e).put(Qk(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=By(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Mw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Gk(n);zy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Fw(e);return t.forEach((function(t){var o=sk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Dm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Fw(e);return Dm.forEach(t,(function(t){var a=sk(t.path);return Dm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Fw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fw(e),i=gb();return r.Z({range:n,X:!0},(function(e,t,n){var r=fk(e[1]),a=new bm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=sk(t.path),r=IDBKeyRange.bound([n],[hm(n)],!1,!0),i=0;return Fw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Mw(e).get(t).next((function(e){return e?Gk(e):null}))}}]),e}();function Mw(e){return Lk(e,"targets")}function Lw(e){return Lk(e,"targetGlobal")}function Fw(e){return Lk(e,"targetDocuments")}function Vw(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=lm(r,o);return 0===s?lm(i,u):s}var jw=function(){function e(t){Vn(this,e),this.xn=t,this.buffer=new Jm(Vw),this.Nn=0}return Un(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Vw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Uw=function(){function e(t,n,r){Vn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Un(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;Kv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Vm(e.t0)){e.next=12;break}Kv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Om(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Bw=function(){function e(t,n){Vn(this,e),this.$n=t,this.params=n}return Un(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dm.resolve(Wm.at);var r=new jw(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Kv("LruGarbageCollector","Garbage collection skipped; disabled"),Dm.resolve(Iw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Kv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Iw):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Kv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),qv()<=rl.DEBUG&&Kv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Dm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),zw=function(){function e(t,n){Vn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Bw(e,t)}(this,n)}return Un(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return qw(e,n)}},{key:"removeReference",value:function(e,t,n){return qw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return qw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Pw(e).tt((function(r){return Nw(e,r,t).next((function(e){return e&&(n=!0),Dm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,pm.min()),Fw(e).delete([0,sk(o.path)])}))}));i.push(s)}})).next((function(){return Dm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return qw(e,t)}},{key:"Kn",value:function(e,t){var n,r=Fw(e),i=Wm.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Wm.at&&t(new bm(fk(n)),i),i=s,n=u):i=Wm.at})).next((function(){i!==Wm.at&&t(new bm(fk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function qw(e,t){return Fw(e).put(function(e,t){return{targetId:0,path:sk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Kw=function(){function e(){Vn(this,e),this.changes=new ub((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Un(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ww=function(){function e(t){Vn(this,e),this.It=t}return Un(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Yw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Yw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vy.newInvalidDocument(t);return Yw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($w(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Vy.newInvalidDocument(t)};return Yw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($w(t))},(function(e,i){r={document:n.jn(t,i),size:Tw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=cb();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=cb(),i=new Ym(bm.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Tw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Dm.resolve();var r=new Jm(Jw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound($w(r.first()),$w(r.last())),a=r.getIterator(),o=a.getNext();return Yw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=bm.fromSegments([].concat(At(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Jw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j($w(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),qk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=cb(),i=xc(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(bm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=cb(),o=Xw(t,n),u=Xw(t,Tm.max());return Yw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(bm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Gw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Qw(e).get("remoteDocumentGlobalKey").next((function(e){return Yv(!!e),e}))}},{key:"Qn",value:function(e,t){return Qw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Hb(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=bm.fromSegments(t.noDocument.path),i=Wk(t.noDocument.readTime);n=Vy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qv();var a=bm.fromSegments(t.unknownDocument.path),o=Wk(t.unknownDocument.version);n=Vy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dm(e[0],e[1]);return pm.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(pm.min()))return n}return Vy.newInvalidDocument(e)}}]),e}();function Hw(e){return new Ww(e)}var Gw=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new ub((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Un(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Jm((function(e,t){return lm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=zk(t.Yn.It,o);i=i.add(a.path.popLast());var c=Tw(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=zk(t.Yn.It,o.convertToNoDocument(pm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Dm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Kw);function Qw(e){return Lk(e,"remoteDocumentGlobal")}function Yw(e){return Lk(e,"remoteDocumentsV14")}function $w(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Xw(e,t){var n=t.documentKey.path.toArray();return[e,qk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Jw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=lm(n[a],r[a]))return i;return(i=lm(n.length,r.length))||((i=lm(n[n.length-2],r[r.length-2]))||lm(n[n.length-1],r[r.length-1]))}var Zw=Un((function e(t,n){Vn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ex=function(){function e(t,n,r,i){Vn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Un(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Hg(r.mutation,e,ty.empty(),dm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,gb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gb(),i=db();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=fb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=db();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,gb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=cb(),a=vb(),o=vb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof $g)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Hg(o.mutation,t,o.mutation.getFieldMask(),dm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Zw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=vb(),i=new Ym((function(e,t){return e-t})),a=gb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=xc(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ty.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||gb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=pb();c.forEach((function(e){if(!a.has(e)){var n=Kg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Dm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return bm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Dm.resolve(db()),u=-1,s=a;return o.next((function(t){return Dm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Dm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,gb())})).next((function(e){return{batchId:u,changes:hb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new bm(t)).next((function(e){var t=fb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=fb();return this.indexManager.getCollectionParents(e,i).next((function(o){return Dm.forEach(o,(function(o){var u=function(e,t){return new ug(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Vy.newInvalidDocument(n)))}));var n=fb();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Hg(a.mutation,i,ty.empty(),dm.now()),kg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Dm.resolve(Vy.newInvalidDocument(t))}}]),e}(),tx=function(){function e(t){Vn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Un(e,[{key:"getBundleMetadata",value:function(e,t){return Dm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Lb(n.createTime)}),Dm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Yk(e.bundledQuery),readTime:Lb(e.readTime)}}(t)),Dm.resolve()}}]),e}(),nx=function(){function e(){Vn(this,e),this.overlays=new Ym(bm.comparator),this.es=new Map}return Un(e,[{key:"getOverlay",value:function(e,t){return Dm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=db();return Dm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Dm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Dm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=db(),i=t.length+1,a=new bm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Dm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ym((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=db(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=db(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Dm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new jk(t,n));var a=this.es.get(t);void 0===a&&(a=gb(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),rx=function(){function e(){Vn(this,e),this.ns=new Jm(ix.ss),this.rs=new Jm(ix.os)}return Un(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ix(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ix(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new bm(new mm([])),r=new ix(n,e),i=new ix(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new bm(new mm([])),n=new ix(t,e),r=new ix(t,e+1),i=gb();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ix(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ix=function(){function e(t,n){Vn(this,e),this.key=t,this._s=n}return Un(e,null,[{key:"ss",value:function(e,t){return bm.comparator(e.key,t.key)||lm(e._s,t._s)}},{key:"os",value:function(e,t){return lm(e._s,t._s)||bm.comparator(e.key,t.key)}}]),e}(),ax=function(){function e(t,n){Vn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Jm(ix.ss)}return Un(e,[{key:"checkEmpty",value:function(e){return Dm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Fk(i,t,n,r);this.mutationQueue.push(a);var o,u=xc(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new ix(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Dm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Dm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Dm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ix(t,0),i=new ix(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Dm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Jm(lm);return t.forEach((function(e){var t=new ix(e,0),i=new ix(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Dm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bm.isDocumentKey(i)||(i=i.child(""));var a=new ix(new bm(i),0),o=new Jm(lm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Dm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Dm.forEach(t.mutations,(function(i){var a=new ix(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ix(t,0),r=this.gs.firstAfterOrEqual(n);return Dm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Dm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ox=function(){function e(t){Vn(this,e),this.Es=t,this.docs=new Ym(bm.comparator),this.size=0}return Un(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dm.resolve(n?n.document.mutableCopy():Vy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=cb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vy.newInvalidDocument(e))})),Dm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=cb(),i=new bm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Cm(Sm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Dm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Qv()}},{key:"As",value:function(e,t){return Dm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ux(this)}},{key:"getSize",value:function(e){return Dm.resolve(this.size)}}]),e}(),ux=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).Yn=e,r}return Un(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Dm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Kw),sx=function(){function e(t){Vn(this,e),this.persistence=t,this.Rs=new ub((function(e){return By(e)}),zy),this.lastRemoteSnapshotVersion=pm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rx,this.targetCount=0,this.vs=Dw.Pn()}return Un(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Dm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Dm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Dm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Dw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Dm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Dm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Dm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Dm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Dm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Dm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Dm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Dm.resolve(n)}},{key:"containsKey",value:function(e,t){return Dm.resolve(this.Ps.containsKey(t))}}]),e}(),cx=function(){function e(t,n){var r=this;Vn(this,e),this.Vs={},this.overlays={},this.Ss=new Wm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new sx(this),this.indexManager=new vw,this.remoteDocumentCache=new ox((function(e){return r.referenceDelegate.xs(e)})),this.It=new Bk(n),this.Ns=new tx(this.It)}return Un(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ax(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Kv("MemoryPersistence","Starting transaction:",e);var i=new lx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Dm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),lx=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Un(n)}(Am),fx=function(){function e(t){Vn(this,e),this.persistence=t,this.Fs=new rx,this.$s=null}return Un(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Qv()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Dm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Dm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Dm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dm.forEach(this.Ls,(function(r){var i=bm.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,pm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Dm.or([function(){return Dm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),hx=function(){function e(t){Vn(this,e),this.It=t}return Un(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Rm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hk,{unique:!0}),e.createObjectStore("documentMutations")}(e),dx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Dm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),dx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Dm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Tk});t.createIndex("collectionPathOverlayIndex",Ck,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Nk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:mk});t.createIndex("documentKeyIndex",yk),t.createIndex("collectionGroupIndex",gk)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ek}).createIndex("sequenceNumberIndex",Ik,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:_k}).createIndex("documentKeyIndex",Sk,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Tw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Dm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Dm.forEach(r,(function(r){Yv(r.userId===n.userId);var i=Hk(t.It,r);return Sw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new mm(n),o=function(e){return[0,sk(e)]}(a);r.push(t.get(o).next((function(n){return n?Dm.resolve():function(n){return t.put({targetId:0,path:sk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Dm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:xk});var n=t.store("collectionParents"),r=new mw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sk(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new mm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],fk(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Gk(r),a=Qk(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new bm(mm.fromString(i.document.name).popFirst(5)):i.noDocument?bm.fromSegments(i.noDocument.path):i.unknownDocument?bm.fromSegments(i.unknownDocument.path):Qv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Dm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Hw(this.It),a=new cx(fx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:gb();Hk(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Dm.forEach(r,(function(e,r){var o=new Uv(r),u=nw.oe(n.It,o),s=a.getIndexManager(o),c=Cw.oe(o,n.It,s,a.referenceDelegate);return new ex(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Mk(t,Wm.at),e).next()}))}))}}]),e}();function dx(e){e.createObjectStore("targetDocuments",{keyPath:kk}).createIndex("documentTargetsIndex",wk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bk,{unique:!0}),e.createObjectStore("targetGlobal")}var px="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Vn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Jv(Xv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zw(this,i),this.ii=n+"main",this.It=new Bk(s),this.ri=new Mm(this.ii,this.Xs,new hx(this.It)),this.Cs=new Rw(this.referenceDelegate,this.It),this.remoteDocumentCache=Hw(this.It),this.Ns=new Zk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Wv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Un(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Jv(Xv.FAILED_PRECONDITION,px);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Wm(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=vo(ho().mark((function n(r){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=vo(ho().mark((function t(n){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return yx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Vm(t))return Kv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Kv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return mx(e).get("owner").next((function(e){return Dm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return yx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Lk(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=xc(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Dm.resolve(!0):mx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Jv(Xv.FAILED_PRECONDITION,px);return!1}}return!(!t.networkEnabled||!t.inForeground)||yx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Kv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=vo(ho().mark((function e(){var t=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Mk(e,Wm.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return yx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Cw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new gw(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Kv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Rk:14===i?Dk:13===i?Pk:12===i?Ok:11===i?Ak:void Qv();return this.ri.runTransaction(e,o,u,(function(i){return a=new Mk(i,r.Ss?r.Ss.next():Wm.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Wv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Jv(Xv.FAILED_PRECONDITION,Nm);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return mx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Jv(Xv.FAILED_PRECONDITION,px)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=mx(e);return n.get("owner").next((function(e){return t.mi(e)?(Kv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Dm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Wv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Rc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Kv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Wv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Uf){Wv("Failed to set zombie client id.",Uf)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Uf){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Mm.C()}}]),e}();function mx(e){return Lk(e,"owner")}function yx(e){return Lk(e,"clientMetadata")}function gx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bx=function(){function e(t,n,r,i){Vn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Un(e,null,[{key:"Ci",value:function(t,n){var r,i=gb(),a=gb(),o=xc(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),kx=function(){function e(){Vn(this,e),this.xi=!1}return Un(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(lg(t))return Dm.resolve(null);var r=vg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=mg(t,null,"F"),r=vg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=gb.apply(void 0,At(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,mg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return lg(t)||r.isEqual(pm.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(qv()<=rl.DEBUG&&Kv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bg(t)),i.Bi(e,o,t,_m(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Jm(xg(e));return t.forEach((function(t,r){kg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return qv()<=rl.DEBUG&&Kv("QueryEngine","Using full collection scan to execute query:",bg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Tm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wx=function(){function e(t,n,r,i){Vn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Ym(lm),this.qi=new ub((function(e){return By(e)}),zy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Un(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ex(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function xx(e,t,n,r){return new wx(e,t,n,r)}function Ex(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=gb(),s=xc(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=xc(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=xc(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=xc(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function _x(e,t){var n=$v(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=gb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Sx(e){var t=$v(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Tx(e,t){var n=$v(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ny.EMPTY_BYTE_STRING,pm.min()).withLastLimboFreeSnapshotVersion(pm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=cb(),s=gb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(pm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Dm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Cx(e,t,n){var r=gb(),i=gb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=cb();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(pm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Kv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Nx(e,t){var n=$v(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ax(e,t){var n=$v(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Dm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Uk(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Ox(e,t,n){return Px.apply(this,arguments)}function Px(){return Px=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$v(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Vm(e.t1)){e.next=12;break}throw e.t1;case 12:Kv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Px.apply(this,arguments)}function Dx(e,t,n){var r=$v(e),i=pm.min(),a=gb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=$v(e),i=r.qi.get(n);return void 0!==i?Dm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,vg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:pm.min(),n?a:gb())})).next((function(e){return Lx(r,wg(t),e),{documents:e,Hi:a}}))}))}function Rx(e,t){var n=$v(e),r=$v(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Mx(e,t){var n=$v(e),r=n.Ki.get(t)||pm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,_m(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Lx(n,t,e),e}))}function Lx(e,t,n){var r=pm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Fx(e,t,n,r){return Vx.apply(this,arguments)}function Vx(){return Vx=vo(ho().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=$v(t),o=gb(),u=cb(),s=xc(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Ax(a,function(e){return vg(cg(mm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Cx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function jx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=vo(ho().mark((function e(t,n){var r,i,a,o=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:gb(),e.next=3,Ax(t,vg(Yk(n.bundledQuery)));case 3:return i=e.sent,a=$v(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Lb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(ny.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Bx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function zx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function qx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kx=function(){function e(t,n,r,i){Vn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Un(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Jv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Wv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Wx=function(){function e(t,n,r){Vn(this,e),this.targetId=t,this.state=n,this.error=r}return Un(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Jv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Wv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Hx=function(){function e(t,n){Vn(this,e),this.clientId=t,this.activeTargetIds=n}return Un(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=kb(),o=0;i&&o<r.activeTargetIds.length;++o)i=py(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Wv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Gx=function(){function e(t,n){Vn(this,e),this.clientId=t,this.onlineState=n}return Un(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Wv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Qx=function(){function e(){Vn(this,e),this.activeTargetIds=kb()}return Un(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Yx=function(){function e(t,n,r,i,a){Vn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ym(lm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Bx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Qx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Un(e,[{key:"start",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=xc(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Bx(this.persistenceKey,i)))&&(o=Hx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=xc(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(qx(this.persistenceKey,e));if(n){var r=Wx.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(qx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Kv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Kv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Kv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Kv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Wv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(vo(ho().mark((function e(){var r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Wm.at;if(null!=e)try{var n=JSON.parse(e);Yv("number"==typeof n),t=n}catch(e){Wv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Wm.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Kx(this.currentUser,e,t,n),i=zx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=zx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=qx(this.persistenceKey,e),i=new Wx(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Hx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kx.Zi(new Uv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Wx.Zi(r,t)}},{key:"yr",value:function(e){return Gx.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Kv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=kb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),$x=function(){function e(){Vn(this,e),this.Lr=new Qx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Un(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Qx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Xx=function(){function e(){Vn(this,e)}return Un(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Jx=function(){function e(){var t=this;Vn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Un(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Kv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=xc(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Kv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=xc(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eE=function(){function e(t){Vn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Un(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),tE=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Un(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Vv;o.listenOnce(Dv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Pv.NO_ERROR:var t=o.getResponseJson();Kv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Pv.TIMEOUT:Kv("Connection",'RPC "'+e+'" timed out'),a(new Jv(Xv.DEADLINE_EXCEEDED,"Request time out"));break;case Pv.HTTP_ERROR:var n=o.getStatus();if(Kv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xv).indexOf(t)>=0?t:Xv.UNKNOWN}(r.status);a(new Jv(u,r.message))}else a(new Jv(Xv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Jv(Xv.UNAVAILABLE,"Connection failed."));break;default:Qv()}}finally{Kv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Av(),a=Ov(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Lv({})),this.ho(o.initMessageHeaders,t,n),Dc()||Lc()||Pc().indexOf("Electron/")>=0||Fc()||Pc().indexOf("MSAppHost/")>=0||Mc()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Kv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new eE({Hr:function(e){l?Kv("Connection","Not sending because WebChannel is closed:",e):(c||(Kv("Connection","Opening WebChannel transport."),s.open(),c=!0),Kv("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Fv.EventType.OPEN,(function(){l||Kv("Connection","WebChannel transport opened.")})),h(s,Fv.EventType.CLOSE,(function(){l||(l=!0,Kv("Connection","WebChannel transport closed"),f.io())})),h(s,Fv.EventType.ERROR,(function(e){l||(l=!0,Hv("Connection","WebChannel transport errored:",e),f.io(new Jv(Xv.UNAVAILABLE,"The operation could not be completed")))})),h(s,Fv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Kv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=eb[e];if(void 0!==t)return ob(t)}(a),u=i.message;void 0===o&&(o=Xv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Jv(o,u)),s.close()}else Kv("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Rv.STAT_EVENT,(function(e){e.stat===Mv.PROXY?Kv("Connection","Detected buffering proxy"):e.stat===Mv.NOPROXY&&Kv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Vn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Un(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Kv("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Kv("RestConnection","Received: ",e),e}),(function(t){throw Hv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Zx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function nE(){return"undefined"!=typeof window?window:null}function rE(){return"undefined"!=typeof document?document:null}function iE(e){return new Pb(e,!0)}var aE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Vn(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Un(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Kv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),oE=function(){function e(t,n,r,i,a,o,u,s){Vn(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new aE(t,n)}return Un(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Xv.RESOURCE_EXHAUSTED?(Wv(n.toString()),Wv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Xv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Jv(Xv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Kv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Kv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),uE=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Un(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Yv(void 0===t||"string"==typeof t),ny.fromBase64String(t||"")):(Yv(void 0===t||t instanceof Uint8Array),ny.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Xv.UNKNOWN:ob(e.code);return new Jv(t,e.message||"")}(o);n=new _b(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ub(e,s.document.name),l=Lb(s.document.updateTime),f=new Ly({mapValue:{fields:s.document.fields}}),h=Vy.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Eb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Ub(e,v.document),y=v.readTime?Lb(v.readTime):pm.min(),g=Vy.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Eb([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Ub(e,k.document),x=k.removedTargetIds||[];n=new Eb([],x,w,null)}else{if(!("filter"in t))return Qv();t.filter;var E=t.filter;E.targetId;var I=E.count||0,_=new ib(I),S=E.targetId;n=new Ib(S,_)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return pm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?pm.min():t.readTime?Lb(t.readTime):pm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=qb(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=qy(r)?{documents:$b(e,r)}:{query:Xb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Rb(e,t.resumeToken):t.snapshotVersion.compareTo(pm.min())>0&&(n.readTime=Db(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=qb(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(oE),sE=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Un(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,_f(qn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Yv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Yv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Lb(e.updateTime):Lb(t);return n.isEqual(pm.min())&&(n=Lb(t)),new Ug(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Lb(e.commitTime);return this.listener.Zo(n,t)}return Yv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=qb(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qb(t.It,e)}))};this.Bo(n)}}]),n}(oE),cE=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return Un(n,[{key:"su",value:function(){if(this.nu)throw new Jv(Xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Jv(Xv.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Jv(Xv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Un((function e(){Vn(this,e)}))}()),lE=function(){function e(t,n){Vn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Un(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Wv(t),this.ou=!1):Kv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),fE=Un((function e(t,n,r,i,a){var o=this;Vn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xE(o),!e.t0){e.next=5;break}return Kv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$v(t))._u.add(4),e.next=4,pE(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,hE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new lE(r,i)}));function hE(e){return dE.apply(this,arguments)}function dE(){return dE=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xE(t)){e.next=18;break}n=xc(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),dE.apply(this,arguments)}function pE(e){return vE.apply(this,arguments)}function vE(){return vE=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xc(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),vE.apply(this,arguments)}function mE(e,t){var n=$v(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),wE(n)?kE(n):XE(n).ko()&&gE(n,t))}function yE(e,t){var n=$v(e),r=XE(n);n.du.delete(t),r.ko()&&bE(n,t),0===n.du.size&&(r.ko()?r.Fo():xE(n)&&n.gu.set("Unknown"))}function gE(e,t){e.yu.Ot(t.targetId),XE(e).zo(t)}function bE(e,t){e.yu.Ot(t),XE(e).Ho(t)}function kE(e){e.yu=new Tb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),XE(e).start(),e.gu.uu()}function wE(e){return xE(e)&&!XE(e).No()&&e.du.size>0}function xE(e){return 0===$v(e)._u.size}function EE(e){e.yu=void 0}function IE(e){return _E.apply(this,arguments)}function _E(){return _E=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){gE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function SE(e,t){return TE.apply(this,arguments)}function TE(){return TE=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:EE(t),wE(t)?(t.gu.hu(n),kE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e,t,n){return NE.apply(this,arguments)}function NE(){return NE=vo(ho().mark((function e(t,n,r){var i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof _b&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=xc(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Kv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,AE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Eb?t.yu.Gt(n):n instanceof Ib?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(pm.min())){e.next=29;break}return e.prev=14,e.next=17,Sx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ny.EMPTY_BYTE_STRING,n.snapshotVersion)),bE(e,t);var r=new Uk(n.target,t,1,n.sequenceNumber);gE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Kv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,AE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),NE.apply(this,arguments)}function AE(e,t,n){return OE.apply(this,arguments)}function OE(){return OE=vo(ho().mark((function e(t,n,r){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,pE(t);case 5:t.gu.set("Offline"),r||(r=function(){return Sx(t.localStore)}),t.asyncQueue.enqueueRetryable(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,hE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(e,t){return t().catch((function(n){return AE(e,n,t)}))}function DE(e){return RE.apply(this,arguments)}function RE(){return RE=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$v(t),r=JE(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ME(n)){e.next=19;break}return e.prev=3,e.next=6,Nx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,LE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,AE(n,e.t0);case 17:e.next=2;break;case 19:FE(n)&&VE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),RE.apply(this,arguments)}function ME(e){return xE(e)&&e.fu.length<10}function LE(e,t){e.fu.push(t);var n=JE(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function FE(e){return xE(e)&&!JE(e).No()&&e.fu.length>0}function VE(e){JE(e).start()}function jE(e){return UE.apply(this,arguments)}function UE(){return UE=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:JE(t).eu();case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function BE(e){return zE.apply(this,arguments)}function zE(){return zE=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=JE(t),r=xc(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e,t,n){return KE.apply(this,arguments)}function KE(){return KE=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Vk.from(i,n,r),e.next=3,PE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,DE(t);case 5:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function WE(e,t){return HE.apply(this,arguments)}function HE(){return HE=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&JE(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ab(i=n.code)||i===Xv.ABORTED){e.next=7;break}return r=t.fu.shift(),JE(t).Oo(),e.next=5,PE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,DE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:FE(t)&&VE(t);case 5:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function GE(e,t){return QE.apply(this,arguments)}function QE(){return QE=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=$v(t)).asyncQueue.verifyOperationInProgress(),Kv("RemoteStore","RemoteStore received new credentials"),i=xE(r),r._u.add(3),e.next=6,pE(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,hE(r);case 12:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e,t){return $E.apply(this,arguments)}function $E(){return $E=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$v(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,hE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,pE(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function XE(e){return e.pu||(e.pu=function(e,t,n){var r=$v(e);return r.su(),new uE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:IE.bind(null,e),Zr:SE.bind(null,e),Wo:CE.bind(null,e)}),e.wu.push(function(){var t=vo(ho().mark((function t(n){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),wE(e)?kE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:EE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function JE(e){return e.Iu||(e.Iu=function(e,t,n){var r=$v(e);return r.su(),new sE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:jE.bind(null,e),Zr:WE.bind(null,e),tu:BE.bind(null,e),Zo:qE.bind(null,e)}),e.wu.push(function(){var t=vo(ho().mark((function t(n){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,DE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Kv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var ZE=function(){function e(t,n,r,i,a){Vn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Un(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jv(Xv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function eI(e,t){if(Wv("AsyncQueue","".concat(t,": ").concat(e)),Vm(e))return new Jv(Xv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var tI=function(){function e(t){Vn(this,e),this.comparator=t?function(e,n){return t(e,n)||bm.comparator(e.key,n.key)}:function(e,t){return bm.comparator(e.key,t.key)},this.keyedMap=fb(),this.sortedSet=new Ym(this.comparator)}return Un(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),nI=function(){function e(){Vn(this,e),this.Tu=new Ym(bm.comparator)}return Un(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Qv():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),rI=function(){function e(t,n,r,i,a,o,u,s){Vn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Un(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,tI.emptySet(n),a,r,i,!0,!1)}}]),e}(),iI=Un((function e(){Vn(this,e),this.Au=void 0,this.listeners=[]})),aI=Un((function e(){Vn(this,e),this.queries=new ub((function(e){return gg(e)}),yg),this.onlineState="Unknown",this.Ru=new Set}));function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=vo(ho().mark((function e(t,n){var r,i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$v(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new iI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=eI(e.t0,"Initialization of query '".concat(bg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&hI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),uI.apply(this,arguments)}function sI(e,t){return cI.apply(this,arguments)}function cI(){return cI=vo(ho().mark((function e(t,n){var r,i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$v(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t){var n,r=$v(e),i=!1,a=xc(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=xc(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&hI(r)}function fI(e,t,n){var r=$v(e),i=r.queries.get(t);if(i){var a,o=xc(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function hI(e){e.Ru.forEach((function(e){e.next()}))}var dI=function(){function e(t,n,r){Vn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Un(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=xc(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new rI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=rI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),pI=function(){function e(t,n){Vn(this,e),this.payload=t,this.byteLength=n}return Un(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),vI=function(){function e(t){Vn(this,e),this.It=t}return Un(e,[{key:"Ji",value:function(e){return Ub(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Hb(this.It,e.document,!1):Vy.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Lb(e)}}]),e}(),mI=function(){function e(t,n,r){Vn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yI(t)}return Un(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=mm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new vI(this.It),i=xc(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=xc(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||gb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fx(this.localStore,new vI(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=xc(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,jx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function yI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var gI=Un((function e(t){Vn(this,e),this.key=t})),bI=Un((function e(t){Vn(this,e),this.key=t})),kI=function(){function e(t,n){Vn(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=gb(),this.mutatedKeys=gb(),this.Ku=xg(t),this.Gu=new tI(this.Ku)}return Un(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new nI,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qv()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new rI(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new nI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=gb(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new bI(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new gI(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=gb();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return rI.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),wI=Un((function e(t,n,r){Vn(this,e),this.query=t,this.targetId=n,this.view=r})),xI=Un((function e(t){Vn(this,e),this.key=t,this.ec=!1})),EI=function(){function e(t,n,r,i,a,o){Vn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new ub((function(e){return gg(e)}),yg),this.ic=new Map,this.rc=new Set,this.oc=new Ym(bm.comparator),this.uc=new Map,this.cc=new rx,this.ac={},this.hc=new Map,this.lc=Dw.vn(),this.onlineState="Unknown",this.fc=void 0}return Un(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function II(e,t){return _I.apply(this,arguments)}function _I(){return _I=vo(ho().mark((function e(t,n){var r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y_(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Ax(r.localStore,vg(n));case 8:return u=e.sent,r.isPrimaryClient&&mE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,SI(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function SI(e,t,n,r){return TI.apply(this,arguments)}function TI(){return TI=vo(ho().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Dx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(GI(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Dx(t.localStore,n,!0);case 3:return a=e.sent,o=new kI(n,a.Hi),u=o.ju(a.documents),s=xb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),GI(t,r,c.Yu),l=new wI(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function CI(e,t){return NI.apply(this,arguments)}function NI(){return NI=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$v(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!yg(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ox(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),yE(r.remoteStore,i.targetId),WI(r,i.targetId)})).catch(Om);case 9:e.next=14;break;case 11:return WI(r,i.targetId),e.next=14,Ox(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function AI(e,t,n){return OI.apply(this,arguments)}function OI(){return OI=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=$v(e),a=dm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=cb(),s=gb();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=xc(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Gg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new $g(c.key,l,Fy(l.value.mapValue),Bg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:hb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Ym(lm)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,$I(i,a.changes);case 9:return e.next=11,DE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=eI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),OI.apply(this,arguments)}function PI(e,t){return DI.apply(this,arguments)}function DI(){return DI=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),e.prev=1,e.next=4,Tx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Yv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Yv(n.ec):e.removedDocuments.size>0&&(Yv(n.ec),n.ec=!1))})),e.next=8,$I(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Om(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),DI.apply(this,arguments)}function RI(e,t,n){var r=$v(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=$v(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=xc(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hI(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function MI(e,t,n){return LI.apply(this,arguments)}function LI(){return LI=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=$v(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ym(bm.comparator)).insert(o,Vy.newNoDocument(o,pm.min())),s=gb().add(o),c=new wb(pm.min(),new Map,new Jm(lm),u,s),e.next=9,PI(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),YI(i),e.next=16;break;case 14:return e.next=16,Ox(i.localStore,n,!1).then((function(){return WI(i,n,r)})).catch(Om);case 16:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function FI(e,t){return VI.apply(this,arguments)}function VI(){return VI=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),i=n.batch.batchId,e.prev=1,e.next=4,_x(r.localStore,n);case 4:return a=e.sent,KI(r,i,null),qI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,$I(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Om(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),VI.apply(this,arguments)}function jI(e,t,n){return UI.apply(this,arguments)}function UI(){return UI=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$v(t),e.prev=1,e.next=4,function(e,t){var n=$v(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Yv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,KI(i,n,r),qI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,$I(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Om(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),UI.apply(this,arguments)}function BI(e,t){return zI.apply(this,arguments)}function zI(){return zI=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xE((r=$v(t)).remoteStore)||Kv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=$v(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=eI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),zI.apply(this,arguments)}function qI(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function KI(e,t,n){var r=$v(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function WI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=xc(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||HI(e,t)}))}function HI(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(yE(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),YI(e))}function GI(e,t,n){var r,i=xc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof gI?(e.cc.addReference(a.key,t),QI(e,a)):a instanceof bI?(Kv("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||HI(e,a.key)):Qv()}}catch(o){i.e(o)}finally{i.f()}}function QI(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Kv("SyncEngine","New document in limbo: "+n),e.rc.add(r),YI(e))}function YI(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new bm(mm.fromString(t)),r=e.lc.next();e.uc.set(r,new xI(n)),e.oc=e.oc.insert(n,r),mE(e.remoteStore,new Uk(vg(cg(n.path)),r,2,Wm.at))}}function $I(e,t,n){return XI.apply(this,arguments)}function XI(){return XI=vo(ho().mark((function e(t,n,r){var i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$v(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=bx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dm.forEach(n,(function(t){return Dm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Vm(e.t0)){e.next=10;break}throw e.t0;case 10:Kv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=xc(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=$v(t)).currentUser.isEqual(n)){e.next=11;break}return Kv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ex(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Jv(Xv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,$I(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function e_(e,t){var n=$v(e),r=n.uc.get(t);if(r&&r.ec)return gb().add(r.key);var i=gb(),a=n.ic.get(t);if(!a)return i;var o,u=xc(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),e.next=3,Dx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&GI(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),e.abrupt("return",Mx(r.localStore,n).then((function(e){return $I(r,e)})));case 2:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t,n,r){return o_.apply(this,arguments)}function o_(){return o_=vo(ho().mark((function e(t,n,r,i){var a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$v(t),e.next=3,function(e,t){var n=$v(e),r=$v(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Dm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,DE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(KI(a,n,i||null),qI(a,n),function(e,t){$v($v(e).mutationQueue).An(t)}(a.localStore,n)):Qv();case 11:return e.next=13,$I(a,o);case 13:e.next=16;break;case 15:Kv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y_(r=$v(t)),g_(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,c_(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,YE(r.remoteStore,!0);case 9:o=xc(a);try{for(o.s();!(u=o.n()).done;)s=u.value,mE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return WI(r,t),Ox(r.localStore,t,!0)})),yE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,c_(r,c);case 21:return function(e){var t=$v(e);t.uc.forEach((function(e,n){yE(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Ym(bm.comparator)}(r),r.fc=!1,e.next=25,YE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t,n){return l_.apply(this,arguments)}function l_(){return l_=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$v(t),a=[],o=[],u=xc(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Ax(i.localStore,vg(f[0]));case 11:l=e.sent,h=xc(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,t_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Rx(i.localStore,c);case 36:return y=e.sent,e.next=39,Ax(i.localStore,y);case 39:return l=e.sent,e.next=42,SI(i,f_(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),l_.apply(this,arguments)}function f_(e){return sg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function h_(e){var t=$v(e);return $v($v(t.localStore).persistence).vi()}function d_(e,t,n,r){return p_.apply(this,arguments)}function p_(){return p_=vo(ho().mark((function e(t,n,r,i){var a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=$v(t)).fc){e.next=3;break}return e.abrupt("return",void Kv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Mx(a.localStore,wg(o[0]));case 10:return u=e.sent,s=wb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,$I(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ox(a.localStore,n,!0);case 17:return WI(a,n,i),e.abrupt("break",20);case 19:Qv();case 20:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t,n){return m_.apply(this,arguments)}function m_(){return m_=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=y_(t)).fc){e.next=45;break}a=xc(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return Kv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Rx(i.localStore,u);case 12:return s=e.sent,e.next=15,Ax(i.localStore,s);case 15:return c=e.sent,e.next=18,SI(i,f_(s),c.targetId,!1);case 18:mE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=xc(r),e.prev=30,h=ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Ox(i.localStore,t,!1).then((function(){yE(i.remoteStore,t),WI(i,t)})).catch(Om);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),m_.apply(this,arguments)}function y_(e){var t=$v(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=e_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MI.bind(null,t),t.nc.Wo=lI.bind(null,t.eventManager),t.nc._c=fI.bind(null,t.eventManager),t}function g_(e){var t=$v(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jI.bind(null,t),t}function b_(e,t,n){var r=$v(e);(function(){var e=vo(ho().mark((function e(t,n,r){var i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=$v(e),r=Lb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(yI(i)),a=new mI(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,$I(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=$v(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Hv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var k_=function(){function e(){Vn(this,e),this.synchronizeTabs=!1}return Un(e,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=iE(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return xx(this.persistence,new kx,e.initialUser,this.It)}},{key:"gc",value:function(e){return new cx(fx.Bs,this.It)}},{key:"mc",value:function(e){return new $x}},{key:"terminate",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),w_=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Un(n,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t){var r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,g_(this.Ec.syncEngine);case 6:return e.next=8,DE(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return xx(this.persistence,new kx,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Uw(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Km(t,this.persistence);return new qm(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=gx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?_w.withCacheSize(this.cacheSizeBytes):_w.DEFAULT;return new vx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,nE(),rE(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new $x}}]),n}(k_),x_=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Un(n,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t){var r,i=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof Yx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:a_.bind(null,r),$r:d_.bind(null,r),Br:v_.bind(null,r),vi:h_.bind(null,r),Or:r_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u_(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=nE();if(!Yx.C(t))throw new Jv(Xv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(w_),E_=function(){function e(){Vn(this,e)}return Un(e,[{key:"initialize",value:function(){var e=vo(ho().mark((function e(t,n){var r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return RI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=JI.bind(null,this.syncEngine),e.next=12,YE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new aI}},{key:"createDatastore",value:function(e){var t,n=iE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new tE(t));return function(e,t,n,r){return new cE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return RI(o.syncEngine,e,0)},a=Jx.C()?new Jx:new Xx,new fE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new EI(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$v(t),Kv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,pE(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function I_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return vo(ho().mark((function r(){var i;return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var __=function(){function e(t){Vn(this,e),this.observer=t,this.muted=!1}return Un(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):Wv("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),S_=function(){function e(t,n){var r=this;Vn(this,e),this.bc=t,this.It=n,this.metadata=new Zv,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Un(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new pI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),T_=function(){function e(t){Vn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Un(e,[{key:"lookup",value:function(){var e=vo(ho().mark((function e(t){var n,r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Jv(Xv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),i=qb(r.It)+"/documents",a={documents:n.map((function(e){return jb(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Gb(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Yv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=vo(ho().mark((function e(){var t,n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bm.fromPath(t);n.mutations.push(new rb(r,n.precondition(r)))})),e.next=7,function(){var e=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$v(t),i=qb(r.It)+"/documents",a={writes:n.map((function(e){return Qb(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qv();t=pm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Jv(Xv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pm.min())?Bg.exists(!1):Bg.updateTime(t):Bg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pm.min()))throw new Jv(Xv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bg.updateTime(t)}return Bg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),C_=function(){function e(t,n,r,i,a){Vn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new aE(this.asyncQueue,"transaction_retry")}return Un(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(vo(ho().mark((function t(){var n,r;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new T_(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!hy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ab(t)}return!1}}]),e}(),N_=function(){function e(t,n,r,i){var a=this;Vn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Uv.UNAUTHENTICATED,this.clientId=cm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Kv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Un(e,[{key:"getConfiguration",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Jv(Xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(vo(ho().mark((function n(){var r;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=eI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function A_(e,t){return O_.apply(this,arguments)}function O_(){return O_=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Kv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ex(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function P_(e,t){return D_.apply(this,arguments)}function D_(){return D_=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,R_(t);case 3:return r=e.sent,Kv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return GE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return GE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function R_(e){return M_.apply(this,arguments)}function M_(){return M_=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Kv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,A_(t,new k_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function L_(e){return F_.apply(this,arguments)}function F_(){return F_=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Kv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,P_(t,new E_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function V_(e){return R_(e).then((function(e){return e.persistence}))}function j_(e){return R_(e).then((function(e){return e.localStore}))}function U_(e){return L_(e).then((function(e){return e.remoteStore}))}function B_(e){return L_(e).then((function(e){return e.syncEngine}))}function z_(e){return q_.apply(this,arguments)}function q_(){return q_=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=II.bind(null,n.syncEngine),r.onUnlisten=CI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function K_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function i(){return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new __({next:function(a){t.enqueueAndForget((function(){return sI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Jv(Xv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Jv(Xv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new dI(cg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return oI(e,o)},i.next=3,z_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function W_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function i(){return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new __({next:function(n){t.enqueueAndForget((function(){return sI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Jv(Xv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new dI(n,a,{includeMetadataChanges:!0,Nu:!0});return oI(e,o)},i.next=3,z_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var H_=new Map;function G_(e,t,n){if(!n)throw new Jv(Xv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Q_(e,t,n,r){if(!0===t&&!0===r)throw new Jv(Xv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Y_(e){if(!bm.isDocumentKey(e))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $_(e){if(bm.isDocumentKey(e))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function X_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Qv()}function J_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jv(Xv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=X_(e);throw new Jv(Xv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Z_(e,t){if(t<=0)throw new Jv(Xv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var eS=function(){function e(t){var n;if(Vn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Jv(Xv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jv(Xv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Q_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Un(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),tS=function(){function e(t,n,r,i){Vn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eS({}),this._settingsFrozen=!1}return Un(e,[{key:"app",get:function(){if(!this._app)throw new Jv(Xv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Jv(Xv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tm;switch(e.type){case"gapi":var t=e.client;return new am(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jv(Xv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=H_.get(e);t&&(Kv("ComponentProvider","Removing Datastore"),H_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function nS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=J_(e,tS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Hv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Uv.MOCK_USER;else{o=Oc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Jv(Xv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Uv(s)}e._authCredentials=new nm(new em(o,u))}}var rS=function(){function e(t,n,r){Vn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Un(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new aS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),iS=function(){function e(t,n,r){Vn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Un(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),aS=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,e,r,cg(i)))._path=i,a.type="collection",a}return Un(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rS(this.firestore,null,new bm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(iS);function oS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jc(e),G_("collection","path",t),e instanceof tS){var a=mm.fromString.apply(mm,[t].concat(r));return $_(a),new aS(e,null,a)}if(!(e instanceof rS||e instanceof aS))throw new Jv(Xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(mm.fromString.apply(mm,[t].concat(r)));return $_(o),new aS(e.firestore,null,o)}function uS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jc(e),1===arguments.length&&(t=cm.R()),G_("doc","path",t),e instanceof tS){var a=mm.fromString.apply(mm,[t].concat(r));return Y_(a),new rS(e,null,new bm(a))}if(!(e instanceof rS||e instanceof aS))throw new Jv(Xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(mm.fromString.apply(mm,[t].concat(r)));return Y_(o),new rS(e.firestore,e instanceof aS?e.converter:null,new bm(o))}function sS(e,t){return e=Jc(e),t=Jc(t),(e instanceof rS||e instanceof aS)&&(t instanceof rS||t instanceof aS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cS(e,t){return e=Jc(e),t=Jc(t),e instanceof iS&&t instanceof iS&&e.firestore===t.firestore&&yg(e._query,t._query)&&e.converter===t.converter}var lS=function(){function e(){var t=this;Vn(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new aE(this,"async_queue_retry"),this.jc=function(){var e=rE();e&&Kv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=rE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return Un(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=rE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Zv;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=vo(ho().mark((function e(){var t=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Vm(e.t0)){e.next=12;break}throw e.t0;case 12:Kv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=ZE.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Qv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=xc(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=xc(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function fS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=xc(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var hS=function(){function e(){Vn(this,e),this._progressObserver={},this._taskCompletionResolver=new Zv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Un(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),dS=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new lS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Un(n,[{key:"_terminate",value:function(){return this._firestoreClient||vS(this),this._firestoreClient.terminate()}}]),n}(tS);function pS(e){return e._firestoreClient||vS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ly(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new N_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function mS(e,t,n){var r=new Zv;return e.asyncQueue.enqueue(vo(ho().mark((function i(){var a;return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,A_(e,n);case 3:return i.next=5,P_(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Xv.FAILED_PRECONDITION||e.code===Xv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Hv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function yS(e){return function(e){return e.asyncQueue.enqueue(vo(ho().mark((function t(){var n,r;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V_(e);case 2:return n=t.sent,t.next=5,U_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=$v(e);return t._u.delete(0),hE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(pS(e=J_(e,dS)))}function gS(e){return function(e){return e.asyncQueue.enqueue(vo(ho().mark((function t(){var n,r;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V_(e);case 2:return n=t.sent,t.next=5,U_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$v(t))._u.add(0),e.next=4,pE(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(pS(e=J_(e,dS)))}function bS(e,t){var n=pS(e=J_(e,dS)),r=new hS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new S_(e,t)}(function(e,t){if(e instanceof Uint8Array)return I_(e,t);if(e instanceof ArrayBuffer)return I_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,iE(t));e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=b_,t.next=3,B_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function kS(e,t){return function(e,t){return e.asyncQueue.enqueue(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=$v(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,j_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(pS(e=J_(e,dS)),t).then((function(t){return t?new iS(e,null,t.query):null}))}function wS(e){if(e._initialized||e._terminated)throw new Jv(Xv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xS=function(){function e(){Vn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gm(n)}return Un(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ES=function(){function e(t){Vn(this,e),this._byteString=t}return Un(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ny.fromBase64String(t))}catch(t){throw new Jv(Xv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ny.fromUint8Array(t))}}]),e}(),IS=Un((function e(t){Vn(this,e),this._methodName=t})),_S=function(){function e(t,n){if(Vn(this,e),!isFinite(t)||t<-90||t>90)throw new Jv(Xv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jv(Xv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Un(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return lm(this._lat,e._lat)||lm(this._long,e._long)}}]),e}(),SS=/^__.*__$/,TS=function(){function e(t,n,r){Vn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Un(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $g(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yg(e,this.data,t,this.fieldTransforms)}}]),e}(),CS=function(){function e(t,n,r){Vn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Un(e,[{key:"toMutation",value:function(e,t){return new $g(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function NS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qv()}}var AS=function(){function e(t,n,r,i,a,o){Vn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Un(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return $S(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(NS(this.na)&&SS.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),OS=function(){function e(t,n,r){Vn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||iE(t)}return Un(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new AS({na:e,methodName:t,la:n,path:gm.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function PS(e){var t=e._freezeSettings(),n=iE(e._databaseId);return new OS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);HS("Data must be an object, but it was:",o,r);var u,s,c=KS(r,o);if(a.merge)u=new ty(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=xc(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=GS(t,d,n);if(!o.contains(p))throw new Jv(Xv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));XS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ty(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new TS(new Ly(c),u,s)}var RS=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(IS);function MS(e,t,n){return new AS({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var LS=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"_toFieldTransform",value:function(e){return new jg(e.path,new Og)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(IS),FS=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e)).da=r,i}return Un(n,[{key:"_toFieldTransform",value:function(e){var t=MS(this,e,!0),n=this.da.map((function(e){return qS(e,t)})),r=new Pg(n);return new jg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IS),VS=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e)).da=r,i}return Un(n,[{key:"_toFieldTransform",value:function(e){var t=MS(this,e,!0),n=this.da.map((function(e){return qS(e,t)})),r=new Rg(n);return new jg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IS),jS=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e))._a=r,i}return Un(n,[{key:"_toFieldTransform",value:function(e){var t=new Lg(e.It,Sg(e.It,this._a));return new jg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IS);function US(e,t,n,r){var i=e.fa(1,t,n);HS("Data must be an object, but it was:",i,r);var a=[],o=Ly.empty();Gm(r,(function(e,r){var u=YS(t,e,n);r=Jc(r);var s=i.ua(u);if(r instanceof RS)a.push(u);else{var c=qS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ty(a);return new CS(o,u,i.fieldTransforms)}function BS(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[GS(t,r,n)],s=[i];if(a.length%2!=0)throw new Jv(Xv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(GS(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ly.empty(),h=u.length-1;h>=0;--h)if(!XS(l,u[h])){var d=u[h],p=s[h];p=Jc(p);var v=o.ua(d);if(p instanceof RS)l.push(d);else{var m=qS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ty(l);return new CS(f,y,o.fieldTransforms)}function zS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qS(n,e.fa(r?4:3,t))}function qS(e,t){if(WS(e=Jc(e)))return HS("Unsupported field value:",t,e),KS(e,t);if(e instanceof IS)return function(e,t){if(!NS(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=xc(e);try{for(a.s();!(n=a.n()).done;){var o=qS(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Jc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Sg(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dm.fromDate(e);return{timestampValue:Db(t.It,n)}}if(e instanceof dm){var r=new dm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Db(t.It,r)}}if(e instanceof _S)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ES)return{bytesValue:Rb(t.It,e._byteString)};if(e instanceof rS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(X_(e)))}(e,t)}function KS(e,t){var n={};return Qm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gm(e,(function(e,r){var i=qS(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function WS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dm||e instanceof _S||e instanceof ES||e instanceof rS||e instanceof IS)}function HS(e,t,n){if(!WS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=X_(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function GS(e,t,n){if((t=Jc(t))instanceof xS)return t._internalPath;if("string"==typeof t)return YS(e,t);throw $S("Field path arguments must be of type string or ",e,!1,void 0,n)}var QS=new RegExp("[~\\*/\\[\\]]");function YS(e,t,n){if(t.search(QS)>=0)throw $S("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ec(xS,At(t.split(".")))._internalPath}catch(r){throw $S("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $S(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Jv(Xv.INVALID_ARGUMENT,u+e+s)}function XS(e,t){return e.some((function(e){return e.isEqual(t)}))}var JS=function(){function e(t,n,r,i,a){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Un(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ZS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(eT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ZS=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"data",value:function(){return _f(qn(n.prototype),"data",this).call(this)}}]),n}(JS);function eT(e,t){return"string"==typeof t?YS(e,t):t instanceof xS?t._internalPath:t._delegate._internalPath}var tT=function(){function e(t,n){Vn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Un(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),nT=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Un(n,[{key:"exists",value:function(){return _f(qn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new rT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(eT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(JS),rT=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _f(qn(n.prototype),"data",this).call(this,e)}}]),n}(nT),iT=function(){function e(t,n,r,i){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new tT(i.hasPendingWrites,i.fromCache),this.query=r}return Un(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new rT(n._firestore,n._userDataWriter,r.key,r,new tT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Jv(Xv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new rT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new rT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:aT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function aT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qv()}}function oT(e,t){return e instanceof nT&&t instanceof nT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof iT&&t instanceof iT&&e._firestore===t._firestore&&cS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jv(Xv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sT=Un((function e(){Vn(this,e)}));function cT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var lT=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return Un(n,[{key:"_apply",value:function(e){var t=PS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){wT(o,a);var s,c=[],l=xc(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(kT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=kT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||wT(o,a),u=zS(n,"where",o,"in"===a||"not-in"===a);var h=Gy.create(i,a,u);return function(e,t){if(t.dt()){var n=hg(e);if(null!==n&&!n.isEqual(t.field))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=fg(e);null!==r&&xT(e,t.field,r)}var i=function(e,t){var n,r=xc(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Jv(Xv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jv(Xv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new iS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(sT);var fT=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return Un(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rg(t,n);return function(e,t){if(null===fg(e)){var n=hg(e);null!==n&&xT(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new iS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ug(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(sT);var hT=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return Un(n,[{key:"_apply",value:function(e){return new iS(e.firestore,e.converter,mg(e._query,this.pa,this.Ia))}}]),n}(sT);var dT=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Un(n,[{key:"_apply",value:function(e){var t=bT(e,this.type,this.Ta,this.Ea);return new iS(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(sT);function pT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dT("startAt",t,!0)}function vT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dT("startAfter",t,!1)}var mT=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Un(n,[{key:"_apply",value:function(e){var t=bT(e,this.type,this.Ta,this.Ea);return new iS(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(sT);function yT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mT("endBefore",t,!1)}function gT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mT("endAt",t,!0)}function bT(e,t,n,r){if(n[0]=Jc(n[0]),n[0]instanceof JS)return function(e,t,n,r,i){if(!r)throw new Jv(Xv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=xc(pg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Iy(t,r.key));else{var c=r.data.field(s.field);if(uy(c))throw new Jv(Xv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ng(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=PS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Jv(Xv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dg(e)&&-1!==c.indexOf("/"))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(mm.fromString(c));if(!bm.isDocumentKey(l))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bm(l);u.push(Iy(t,f))}else{var h=zS(n,r,c);u.push(h)}}return new ng(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function kT(e,t,n){if("string"==typeof(n=Jc(n))){if(""===n)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dg(t)&&-1!==n.indexOf("/"))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(mm.fromString(n));if(!bm.isDocumentKey(r))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Iy(e,new bm(r))}if(n instanceof rS)return Iy(e,n._key);throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(X_(n),"."))}function wT(e,t){if(!Array.isArray(e)||0===e.length)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function xT(e,t,n){if(!n.isEqual(t))throw new Jv(Xv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ET={maxAttempts:5},IT=function(){function e(){Vn(this,e)}return Un(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ay(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Gm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new _S(ay(e.latitude),ay(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=iy(e);return new dm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=mm.fromString(e);Yv(uk(n));var r=new fy(n.get(1),n.get(3)),i=new bm(n.popFirst(5));return r.isEqual(t)||Wv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _T(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ST=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return Un(n,[{key:"convertBytes",value:function(e){return new ES(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rS(this.firestore,null,t)}}]),n}(IT),TT=function(){function e(t,n){Vn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=PS(t)}return Un(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=CT(e,this._firestore),i=_T(r.converter,t,n),a=DS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=CT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Jc(t))||t instanceof xS?BS(this._dataReader,"WriteBatch.update",i._key,t,n,o):US(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=CT(e,this._firestore);return this._mutations=this._mutations.concat(new nb(t._key,Bg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Jv(Xv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function CT(e,t){if((e=Jc(e)).firestore!==t)throw new Jv(Xv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var NT=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return Un(n,[{key:"convertBytes",value:function(e){return new ES(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rS(this.firestore,null,t)}}]),n}(IT);function AT(e){e=J_(e,rS);var t=J_(e.firestore,dS),n=pS(t),r=new NT(t);return function(e,t){var n=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function r(){return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=$v(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Jv(Xv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=eI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,j_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new nT(t,r,e._key,n,new tT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function OT(e){e=J_(e,iS);var t=J_(e.firestore,dS),n=pS(t),r=new NT(t);return function(e,t){var n=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function r(){return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vo(ho().mark((function e(t,n,r){var i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dx(t,n,!0);case 3:i=e.sent,a=new kI(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=eI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,j_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new iT(t,r,e,n)}))}function PT(e,t,n){e=J_(e,rS);var r=J_(e.firestore,dS),i=_T(e.converter,t,n);return LT(r,[DS(PS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bg.none())])}function DT(e,t,n){e=J_(e,rS);for(var r=J_(e.firestore,dS),i=PS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return LT(r,[("string"==typeof(t=Jc(t))||t instanceof xS?BS(i,"updateDoc",e._key,t,n,o):US(i,"updateDoc",e._key,t)).toMutation(e._key,Bg.exists(!0))])}function RT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Jc(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||fS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(fS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof rS)l=J_(e.firestore,dS),f=cg(e._key.path),c={next:function(t){n[s]&&n[s](FT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=J_(e,iS);l=J_(p.firestore,dS),f=p._query;var v=new NT(l);c={next:function(e){n[s]&&n[s](new iT(l,v,p,e))},error:n[s+1],complete:n[s+2]},uT(e._query)}return function(e,t,n,r){var i=new __(r),a=new dI(t,i,n);return e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=oI,t.next=3,z_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sI,t.next=3,z_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pS(l),f,h,c)}function MT(e,t){return function(e,t){var n=new __(t);return e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$v(e).Ru.add(t),t.next()},t.next=3,z_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$v(e).Ru.delete(t)},t.next=3,z_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pS(e=J_(e,dS)),fS(t)?t:{next:t})}function LT(e,t){return function(e,t){var n=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function r(){return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=AI,r.next=3,B_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(pS(e),t)}function FT(e,t,n){var r=n.docs.get(t._key),i=new NT(e);return new nT(e,i,t._key,r,new tT(n.hasPendingWrites,n.fromCache),t.converter)}var VT=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Un(n,[{key:"get",value:function(e){var t=this,r=CT(e,this._firestore),i=new NT(this._firestore);return _f(qn(n.prototype),"get",this).call(this,e).then((function(e){return new nT(t._firestore,i,r._key,e._document,new tT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Vn(this,e),this._firestore=t,this._transaction=n,this._dataReader=PS(t)}return Un(e,[{key:"get",value:function(e){var t=this,n=CT(e,this._firestore),r=new ST(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Qv();var i=e[0];if(i.isFoundDocument())return new JS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new JS(t._firestore,r,n._key,null,n.converter);throw Qv()}))}},{key:"set",value:function(e,t,n){var r=CT(e,this._firestore),i=_T(r.converter,t,n),a=DS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=CT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Jc(t))||t instanceof xS?BS(this._dataReader,"Transaction.update",i._key,t,n,o):US(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=CT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function jT(e,t,n){e=J_(e,dS);var r=Object.assign(Object.assign({},ET),n);return function(e){if(e.maxAttempts<1)throw new Jv(Xv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function i(){var a;return ho().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return L_(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new C_(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(pS(e),(function(n){return t(new VT(e,n))}),r)}function UT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FS("arrayUnion",t)}function BT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bv=e}(Hl),jl(new Zc("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new dS(new rm(e.getProvider("auth-internal")),new um(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jv(Xv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Jl(jv,"3.4.15",e),Jl(jv,"3.4.15","esm2017")}();function zT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Jv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qT(){if("undefined"===typeof Uint8Array)throw new Jv("unimplemented","Uint8Arrays are not available in this environment.")}function KT(){if("undefined"==typeof atob)throw new Jv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var WT=function(){function e(t){Vn(this,e),this._delegate=t}return Un(e,[{key:"toBase64",value:function(){return KT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return KT(),new e(ES.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qT(),new e(ES.fromUint8Array(t))}}]),e}();function HT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=xc(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var GT=function(){function e(){Vn(this,e)}return Un(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){wS(e=J_(e,dS));var n=pS(e),r=e._freezeSettings(),i=new E_;return mS(n,i,new w_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){wS(e=J_(e,dS));var t=pS(e),n=e._freezeSettings(),r=new E_;return mS(t,r,new x_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Jv(Xv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Zv;return e._queue.enqueueAndForgetEvenWhileRestricted(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Mm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),QT=function(){function e(t,n,r){var i=this;Vn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof fy||(this._appCompat=t)}return Un(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Hv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return yS(this._delegate)}},{key:"disableNetwork",value:function(){return gS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Q_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Zv;return e.asyncQueue.enqueueAndForget(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=BI,n.next=3,B_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(pS(e=J_(e,dS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return MT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Jv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sC(this,oS(this._delegate,e))}catch(t){throw eC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ZT(this,uS(this._delegate,e))}catch(t){throw eC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aC(this,function(e,t){if(e=J_(e,tS),G_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Jv(Xv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new iS(e,null,function(e){return new ug(mm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return jT(this._delegate,(function(n){return e(new $T(t,n))}))}},{key:"batch",value:function(){var e=this;return pS(this._delegate),new XT(new TT(this._delegate,(function(t){return LT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return bS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return kS(this._delegate,e).then((function(e){return e?new aC(t,e):null}))}}]),e}(),YT=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return Un(n,[{key:"convertBytes",value:function(e){return new WT(new ES(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ZT.forKey(t,this.firestore,null)}}]),n}(IT);var $T=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YT(t)}return Un(e,[{key:"get",value:function(e){var t=this,n=cC(e);return this._delegate.get(n).then((function(e){return new rC(t._firestore,new nT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cC(e);return n?(zT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cC(e);return this._delegate.delete(t),this}}]),e}(),XT=function(){function e(t){Vn(this,e),this._delegate=t}return Un(e,[{key:"set",value:function(e,t,n){var r=cC(e);return n?(zT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),JT=function(){function e(t,n,r){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Un(e,[{key:"fromFirestore",value:function(e,t){var n=new rT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YT(t),n),i.set(n,a)),a}}]),e}();JT.INSTANCES=new WeakMap;var ZT=function(){function e(t,n){Vn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YT(t)}return Un(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sC(this.firestore,oS(this._delegate,e))}catch(t){throw eC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Jc(e))instanceof rS&&sS(this._delegate,e)}},{key:"set",value:function(e,t){t=zT("DocumentReference.set",t);try{return t?PT(this._delegate,e,t):PT(this._delegate,e)}catch(n){throw eC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?DT(this._delegate,e):DT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return LT(J_(e.firestore,dS),[new nb(e._key,Bg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tC(n),a=nC(n,(function(t){return new rC(e.firestore,new nT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return RT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?AT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=J_(e,rS);var t=J_(e.firestore,dS);return K_(pS(t),e._key,{source:"server"}).then((function(n){return FT(t,e,n)}))}(this._delegate):function(e){e=J_(e,rS);var t=J_(e.firestore,dS);return K_(pS(t),e._key).then((function(n){return FT(t,e,n)}))}(this._delegate),t.then((function(e){return new rC(n.firestore,new nT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(JT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Jv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new rS(n._delegate,r,new bm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new rS(n._delegate,r,t))}}]),e}();function eC(e,t,n){return e.message=e.message.replace(t,n),e}function tC(e){var t,n=xc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!HT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=HT(e[0])?e[0]:HT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rC=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return Un(e,[{key:"ref",get:function(){return new ZT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return oT(this._delegate,e._delegate)}}]),e}(),iC=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Qv()}(void 0!==t),t}}]),n}(rC),aC=function(){function e(t,n){Vn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YT(t)}return Un(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,cT(this._delegate,function(e,t,n){var r=t,i=eT("where",e);return new lT(i,r,n)}(t,n,r)))}catch(i){throw eC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,cT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=eT("orderBy",e);return new fT(n,t)}(t,n)))}catch(r){throw eC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,cT(this._delegate,function(e){return Z_("limit",e),new hT("limit",e,"F")}(t)))}catch(n){throw eC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,cT(this._delegate,function(e){return Z_("limitToLast",e),new hT("limitToLast",e,"L")}(t)))}catch(n){throw eC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,cT(this._delegate,pT.apply(void 0,arguments)))}catch(t){throw eC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,cT(this._delegate,vT.apply(void 0,arguments)))}catch(t){throw eC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,cT(this._delegate,yT.apply(void 0,arguments)))}catch(t){throw eC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,cT(this._delegate,gT.apply(void 0,arguments)))}catch(t){throw eC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return cS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?OT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=J_(e,iS);var t=J_(e.firestore,dS),n=pS(t),r=new NT(t);return W_(n,e._query,{source:"server"}).then((function(n){return new iT(t,r,e,n)}))}(this._delegate):function(e){e=J_(e,iS);var t=J_(e.firestore,dS),n=pS(t),r=new NT(t);return uT(e._query),W_(n,e._query).then((function(n){return new iT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new uC(n.firestore,new iT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tC(n),a=nC(n,(function(t){return new uC(e.firestore,new iT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return RT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(JT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oC=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return Un(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uC=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return Un(e,[{key:"query",get:function(){return new aC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return oT(this._delegate,e._delegate)}}]),e}(),sC=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Un(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ZT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ZT(this.firestore,void 0===e?uS(this._delegate):uS(this._delegate,e))}catch(t){throw eC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=J_(e.firestore,dS),r=uS(e),i=_T(e.converter,t);return LT(n,[DS(PS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ZT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return sS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(JT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aC);function cC(e){return J_(e,rS)}var lC,fC=function(){function e(){Vn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ec(xS,n)}return Un(e,[{key:"isEqual",value:function(e){return(e=Jc(e))instanceof xS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gm.keyField().canonicalString())}}]),e}(),hC=function(){function e(t){Vn(this,e),this._delegate=t}return Un(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new LS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new RS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=UT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=BT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new jS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),dC={Firestore:QT,GeoPoint:_S,Timestamp:dm,Blob:WT,Transaction:$T,WriteBatch:XT,DocumentReference:ZT,DocumentSnapshot:rC,Query:aC,QueryDocumentSnapshot:iC,QuerySnapshot:uC,CollectionReference:sC,FieldPath:fC,FieldValue:hC,setLogLevel:function(e){!function(e){zv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Zc("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dC)))})(lC=Ef,(function(e,t){return new QT(e,t,new GT)})),lC.registerVersion("@firebase/firestore-compat","0.1.24");function pC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var vC;Object.create;var mC="facebook.com",yC="github.com",gC="google.com",bC="password",kC="twitter.com",wC="EMAIL_SIGNIN",xC="PASSWORD_RESET",EC="RECOVER_EMAIL",IC="REVERT_SECOND_FACTOR_ADDITION",_C="VERIFY_AND_CHANGE_EMAIL",SC="VERIFY_EMAIL";function TC(){return z({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var CC=function(){var e;return z(e={},"admin-restricted-operation","This operation is restricted to administrators only."),z(e,"argument-error",""),z(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),z(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),z(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),z(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),z(e,"cordova-not-ready","Cordova framework is not ready."),z(e,"cors-unsupported","This browser is not supported."),z(e,"credential-already-in-use","This credential is already associated with a different user account."),z(e,"custom-token-mismatch","The custom token corresponds to a different audience."),z(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),z(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),z(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),z(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),z(e,"email-already-in-use","The email address is already in use by another account."),z(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),z(e,"expired-action-code","The action code has expired."),z(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),z(e,"internal-error","An internal AuthError has occurred."),z(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),z(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),z(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),z(e,"invalid-auth-event","An internal AuthError has occurred."),z(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),z(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),z(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),z(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),z(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),z(e,"invalid-email","The email address is badly formatted."),z(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),z(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),z(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),z(e,"invalid-credential","The supplied auth credential is malformed or has expired."),z(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),z(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),z(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),z(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),z(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),z(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),z(e,"wrong-password","The password is invalid or the user does not have a password."),z(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),z(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),z(e,"invalid-provider-id","The specified provider ID is invalid."),z(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),z(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),z(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),z(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),z(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),z(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),z(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),z(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),z(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),z(e,"missing-continue-uri","A continue URL must be provided in the request."),z(e,"missing-iframe-start","An internal AuthError has occurred."),z(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),z(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),z(e,"missing-multi-factor-info","No second factor identifier is provided."),z(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),z(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),z(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),z(e,"app-deleted","This instance of FirebaseApp has been deleted."),z(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),z(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),z(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),z(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),z(e,"no-auth-event","An internal AuthError has occurred."),z(e,"no-such-provider","User was not linked to an account with the given provider."),z(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),z(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),z(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),z(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),z(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),z(e,"provider-already-linked","User can only be linked to one identity for the given provider."),z(e,"quota-exceeded","The project's quota for this operation has been exceeded."),z(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),z(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),z(e,"rejected-credential","The request contains malformed or mismatching credentials."),z(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),z(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),z(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),z(e,"timeout","The operation has timed out."),z(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),z(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),z(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),z(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),z(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),z(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),z(e,"unverified-email","The operation requires a verified email."),z(e,"user-cancelled","The user did not grant your application the permissions it requested."),z(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),z(e,"user-disabled","The user account has been disabled by an administrator."),z(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),z(e,"user-signed-out",""),z(e,"weak-password","The password must be 6 characters long or more."),z(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),z(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},NC=TC,AC=new Uc("auth","Firebase",TC()),OC=new ll("@firebase/auth");function PC(e){if(OC.logLevel<=rl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];OC.error.apply(OC,["Auth (".concat(Hl,"): ").concat(e)].concat(n))}}function DC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw FC.apply(void 0,[e].concat(n))}function RC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return FC.apply(void 0,[e].concat(n))}function MC(e,t,n){var r=Object.assign(Object.assign({},NC()),z({},t,n));return new Uc("auth","Firebase",r).create(t,{appName:e.name})}function LC(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&DC(e,"argument-error"),MC(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function FC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=At(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(At(o)))}return AC.create.apply(AC,[e].concat(n))}function VC(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw FC.apply(void 0,[t].concat(r))}}function jC(e){var t="INTERNAL ASSERTION FAILED: "+e;throw PC(t),new Error(t)}function UC(e,t){e||jC(t)}var BC=new Map;function zC(e){UC(e instanceof Function,"Expected a class definition");var t=BC.get(e);return t?(UC(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,BC.set(e,t),t)}function qC(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function KC(){return"http:"===WC()||"https:"===WC()}function WC(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var HC=function(){function e(t,n){Vn(this,e),this.shortDelay=t,this.longDelay=n,UC(n>t,"Short delay should be less than long delay!"),this.isMobile=Dc()||Lc()}return Un(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(KC()||Mc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function GC(e,t){UC(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var QC=function(){function e(){Vn(this,e)}return Un(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void jC("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void jC("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void jC("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),YC=(z(vC={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),z(vC,"MISSING_CUSTOM_TOKEN","internal-error"),z(vC,"INVALID_IDENTIFIER","invalid-email"),z(vC,"MISSING_CONTINUE_URI","internal-error"),z(vC,"INVALID_PASSWORD","wrong-password"),z(vC,"MISSING_PASSWORD","internal-error"),z(vC,"EMAIL_EXISTS","email-already-in-use"),z(vC,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),z(vC,"INVALID_IDP_RESPONSE","invalid-credential"),z(vC,"INVALID_PENDING_TOKEN","invalid-credential"),z(vC,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),z(vC,"MISSING_REQ_TYPE","internal-error"),z(vC,"EMAIL_NOT_FOUND","user-not-found"),z(vC,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),z(vC,"EXPIRED_OOB_CODE","expired-action-code"),z(vC,"INVALID_OOB_CODE","invalid-action-code"),z(vC,"MISSING_OOB_CODE","internal-error"),z(vC,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),z(vC,"INVALID_ID_TOKEN","invalid-user-token"),z(vC,"TOKEN_EXPIRED","user-token-expired"),z(vC,"USER_NOT_FOUND","user-token-expired"),z(vC,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),z(vC,"INVALID_CODE","invalid-verification-code"),z(vC,"INVALID_SESSION_INFO","invalid-verification-id"),z(vC,"INVALID_TEMPORARY_PROOF","invalid-credential"),z(vC,"MISSING_SESSION_INFO","missing-verification-id"),z(vC,"SESSION_EXPIRED","code-expired"),z(vC,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),z(vC,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),z(vC,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),z(vC,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),z(vC,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),z(vC,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),z(vC,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),z(vC,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),z(vC,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),z(vC,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),z(vC,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vC),$C=new HC(3e4,6e4);function XC(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function JC(e,t,n,r){return ZC.apply(this,arguments)}function ZC(){return ZC=vo(ho().mark((function e(t,n,r,i){var a,o=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",eN(t,a,vo(ho().mark((function e(){var a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Hc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",QC.fetch()(iN(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ZC.apply(this,arguments)}function eN(e,t,n){return tN.apply(this,arguments)}function tN(){return tN=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},YC),n),e.prev=2,a=new aN(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw oN(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw oN(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw oN(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw oN(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw MC(t,p,d);case 34:DC(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof jc)){e.next=41;break}throw e.t0;case 41:DC(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),tN.apply(this,arguments)}function nN(e,t,n,r){return rN.apply(this,arguments)}function rN(){return rN=vo(ho().mark((function e(t,n,r,i){var a,o,u=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,JC(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&DC(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?GC(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var aN=function(){function e(t){var n=this;Vn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(RC(n.auth,"network-request-failed"))}),$C.get())}))}return Un(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function oN(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=RC(e,t,r);return i.customData._tokenResponse=n,i}function uN(e,t){return sN.apply(this,arguments)}function sN(){return sN=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),sN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e,t){return hN.apply(this,arguments)}function hN(){return hN=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function pN(){return pN=vo(ho().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Jc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,VC((a=mN(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:dN(vN(a.auth_time)),issuedAtTime:dN(vN(a.iat)),expirationTime:dN(vN(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(e){return 1e3*Number(e)}function mN(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return PC("JWT malformed, contained fewer than 3 sections"),null;try{var o=Cc(i);return o?JSON.parse(o):(PC("Failed to decode base64 JWT payload"),null)}catch(u){return PC("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function yN(e,t){return gN.apply(this,arguments)}function gN(){return gN=vo(ho().mark((function e(t,n){var r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof jc&&bN(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),gN.apply(this,arguments)}function bN(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var kN=function(){function e(t){Vn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Un(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),wN=function(){function e(t,n){Vn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Un(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=dN(this.lastLoginAt),this.creationTime=dN(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function xN(e){return EN.apply(this,arguments)}function EN(){return EN=vo(ho().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,yN(t,fN(r,{idToken:i}));case 6:VC(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?SN(o.providerUserInfo):[],s=_N(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new wN(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}function IN(){return(IN=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jc(t),e.next=3,xN(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _N(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(At(n),At(t))}function SN(e){return e.map((function(e){var t=e.providerId,n=pC(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function TN(e,t){return CN.apply(this,arguments)}function CN(){return CN=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eN(t,{},vo(ho().mark((function e(){var r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=iN(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",QC.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}var NN=function(){function e(){Vn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Un(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){VC(e.idToken,"internal-error"),VC("undefined"!==typeof e.idToken,"internal-error"),VC("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=mN(e);return VC(t,"internal-error"),VC("undefined"!==typeof t.exp,"internal-error"),VC("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=vo(ho().mark((function e(t){var n,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],VC(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TN(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return jC("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(VC("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(VC("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(VC("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function AN(e,t){VC("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ON=function(){function e(t){Vn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=pC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?At(a.providerData):[],this.metadata=new wN(a.createdAt||void 0,a.lastLoginAt||void 0)}return Un(e,[{key:"getIdToken",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yN(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(VC(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return pN.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return IN.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(VC(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){VC(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=vo(ho().mark((function e(t){var n,r,i=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,xN(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,yN(this,uN(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;VC(b&&E,t,"internal-error");var I=NN.fromJSON(this.name,E);VC("string"===typeof b,t,"internal-error"),AN(f,t.name),AN(h,t.name),VC("boolean"===typeof k,t,"internal-error"),VC("boolean"===typeof w,t,"internal-error"),AN(d,t.name),AN(p,t.name),AN(v,t.name),AN(m,t.name),AN(y,t.name),AN(g,t.name);var _=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=vo(ho().mark((function t(n,r){var i,a,o,u=arguments;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new NN).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,xN(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),PN=function(){function e(){Vn(this,e),this.type="NONE",this.storage={}}return Un(e,[{key:"_isAvailable",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();PN.type="NONE";var DN=PN;function RN(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var MN=function(){function e(t,n,r){Vn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=RN(this.userKey,a.apiKey,o),this.fullPersistenceKey=RN("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Un(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ON._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=vo(ho().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(zC(DN),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||zC(DN),u=RN(i,n.config.apiKey,n.name),s=null,c=xc(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ON._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function LN(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zN(t))return"Blackberry";if(qN(t))return"Webos";if(VN(t))return"Safari";if((t.includes("chrome/")||jN(t))&&!t.includes("edge/"))return"Chrome";if(BN(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function FN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/firefox\//i.test(e)}function VN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/crios\//i.test(e)}function UN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/iemobile/i.test(e)}function BN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/android/i.test(e)}function zN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/blackberry/i.test(e)}function qN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/webos/i.test(e)}function KN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function WN(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return KN(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function HN(){return Fc()&&10===document.documentMode}function GN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return KN(e)||BN(e)||qN(e)||zN(e)||/windows phone/i.test(e)||UN(e)}function QN(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=LN(Pc());break;case"Worker":t="".concat(LN(Pc()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Hl,"/").concat(r)}var YN=function(){function e(t){Vn(this,e),this.auth=t,this.queue=[]}return Un(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=xc(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=xc(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$N=function(){function e(t,n,r){Vn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JN(this),this.idTokenSubscription=new JN(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Un(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=zC(t)),this._initializationPromise=this.queue(vo(ho().mark((function r(){var i,a;return ho().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,MN.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return VC(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xN(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Jc(t):null)&&VC(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=vo(ho().mark((function e(t){var n,r=this,i=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&VC(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(zC(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Uc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return VC(n=t&&zC(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,MN.create(this,[zC(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=vo(ho().mark((function e(t){var n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return VC(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return VC(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QN(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=vo(ho().mark((function e(){var t,n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function XN(e){return Jc(e)}var JN=function(){function e(t){var n=this;Vn(this,e),this.auth=t,this.observer=null,this.addObserver=Yc((function(e){return n.observer=e}))}return Un(e,[{key:"next",get:function(){return VC(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ZN(e,t,n){var r=XN(e);VC(r._canInitEmulator,r,"emulator-config-failed"),VC(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=eA(t),o=function(e){var t=eA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:tA(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:tA(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eA(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tA(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var nA=function(){function e(t,n){Vn(this,e),this.providerId=t,this.signInMethod=n}return Un(e,[{key:"toJSON",value:function(){return jC("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return jC("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return jC("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return jC("not implemented")}}]),e}();function rA(e,t){return iA.apply(this,arguments)}function iA(){return iA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:resetPassword",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e,t){return sA.apply(this,arguments)}function sA(){return sA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:update",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithPassword",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function fA(e,t){return hA.apply(this,arguments)}function hA(){return hA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:sendOobCode",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function dA(e,t){return pA.apply(this,arguments)}function pA(){return pA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fA(t,n));case 1:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fA(t,n));case 1:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function yA(e,t){return gA.apply(this,arguments)}function gA(){return gA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fA(t,n));case 1:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function bA(e,t){return kA.apply(this,arguments)}function kA(){return kA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fA(t,n));case 1:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function wA(e,t){return xA.apply(this,arguments)}function xA(){return xA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithEmailLink",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function EA(e,t){return IA.apply(this,arguments)}function IA(){return IA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithEmailLink",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}var _A=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Vn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Un(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cA(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wA(t,{email:this._email,oobCode:this._password}));case 5:DC(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",aA(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",EA(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:DC(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(nA);function SA(e,t){return TA.apply(this,arguments)}function TA(){return TA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithIdp",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),TA.apply(this,arguments)}var CA=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Un(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return SA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,SA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,SA(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):DC("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=pC(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(nA);function NA(e,t){return AA.apply(this,arguments)}function AA(){return AA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:sendVerificationCode",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function OA(){return OA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithPhoneNumber",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function PA(){return PA=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nN(t,"POST","/v1/accounts:signInWithPhoneNumber",XC(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw oN(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}var DA=z({},"USER_NOT_FOUND","user-not-found");function RA(){return RA=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithPhoneNumber",XC(t,r),DA));case 2:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}var MA=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Un(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return OA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return PA.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return RA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(nA);var LA=function(){function e(t){var n,r,i,a,o,u;Vn(this,e);var s=Gc(Qc(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);VC(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Un(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Gc(Qc(e)).link,n=t?Gc(Qc(t)).deep_link_id:null,r=Gc(Qc(e)).deep_link_id;return(r?Gc(Qc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var FA=function(){function e(){Vn(this,e),this.providerId=e.PROVIDER_ID}return Un(e,null,[{key:"credential",value:function(e,t){return _A._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=LA.parseLink(t);return VC(n,"argument-error"),_A._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();FA.PROVIDER_ID="password",FA.EMAIL_PASSWORD_SIGN_IN_METHOD="password",FA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var VA=function(){function e(t){Vn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Un(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),jA=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Un(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return At(this.scopes)}}]),n}(VA),UA=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Un(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return VC(e.idToken||e.accessToken,"argument-error"),CA._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return VC("providerId"in t&&"signInMethod"in t,"argument-error"),CA._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(jA),BA=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.call(this,"facebook.com")}return Un(n,null,[{key:"credential",value:function(e){return CA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(jA);BA.FACEBOOK_SIGN_IN_METHOD="facebook.com",BA.PROVIDER_ID="facebook.com";var zA=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Un(n,null,[{key:"credential",value:function(e,t){return CA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(jA);zA.GOOGLE_SIGN_IN_METHOD="google.com",zA.PROVIDER_ID="google.com";var qA=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.call(this,"github.com")}return Un(n,null,[{key:"credential",value:function(e){return CA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(jA);qA.GITHUB_SIGN_IN_METHOD="github.com",qA.PROVIDER_ID="github.com";var KA=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Un(n,[{key:"_getIdTokenResponse",value:function(e){return SA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,SA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,SA(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nA),WA=function(e){zn(n,e);var t=Gn(n);function n(e){return Vn(this,n),VC(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Un(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=KA.fromJSON(e);return VC(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return KA._create(r,n)}catch(i){return null}}}]),n}(VA),HA=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.call(this,"twitter.com")}return Un(n,null,[{key:"credential",value:function(e,t){return CA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(jA);function GA(e,t){return QA.apply(this,arguments)}function QA(){return QA=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signUp",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}HA.TWITTER_SIGN_IN_METHOD="twitter.com",HA.PROVIDER_ID="twitter.com";var YA=function(){function e(t){Vn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Un(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=vo(ho().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ON._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=$A(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=vo(ho().mark((function t(n,r,i){var a;return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=$A(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function $A(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function XA(){return XA=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XN(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new YA({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,GA(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,YA._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),XA.apply(this,arguments)}var JA=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a){var o,u;return Vn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Wn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Un(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(jc);function ZA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw JA._fromErrorAndOperation(e,n,t,r);throw n}))}function eO(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function tO(e,t){return nO.apply(this,arguments)}function nO(){return nO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,aO(!0,r,n);case 3:return e.t0=cN,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=eO(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),nO.apply(this,arguments)}function rO(e,t){return iO.apply(this,arguments)}function iO(){return iO=vo(ho().mark((function e(t,n){var r,i,a=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=yN,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",YA._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),iO.apply(this,arguments)}function aO(e,t,n){return oO.apply(this,arguments)}function oO(){return(oO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xN(n);case 2:i=eO(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",VC(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uO(e,t){return sO.apply(this,arguments)}function sO(){return sO=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,yN(t,ZA(a,o,n,t),r);case 6:return VC((u=e.sent).idToken,a,"internal-error"),VC(s=mN(u.idToken),a,"internal-error"),c=s.sub,VC(t.uid===c,a,"user-mismatch"),e.abrupt("return",YA._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&DC(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),sO.apply(this,arguments)}function cO(e,t){return lO.apply(this,arguments)}function lO(){return lO=vo(ho().mark((function e(t,n){var r,i,a,o,u=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ZA(t,i,n);case 4:return a=e.sent,e.next=7,YA._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),lO.apply(this,arguments)}function fO(e,t){return hO.apply(this,arguments)}function hO(){return hO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cO(XN(t),n));case 1:case"end":return e.stop()}}),e)}))),hO.apply(this,arguments)}function dO(e,t){return pO.apply(this,arguments)}function pO(){return(pO=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,aO(!1,r,n.providerId);case 3:return e.abrupt("return",rO(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vO(e,t){return mO.apply(this,arguments)}function mO(){return(mO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uO(Jc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yO(e,t){return gO.apply(this,arguments)}function gO(){return gO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nN(t,"POST","/v1/accounts:signInWithCustomToken",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function bO(){return bO=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XN(t),e.next=3,yO(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,YA._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),bO.apply(this,arguments)}var kO=function(){function e(t,n){Vn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Un(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wO._fromServerResponse(e,t):DC(e,"internal-error")}}]),e}(),wO=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Un(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(kO);function xO(e,t,n){var r;VC((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),VC("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(VC(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(VC(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function EO(){return EO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),a={requestType:"PASSWORD_RESET",email:n},r&&xO(i,a,r),e.next=5,vA(i,a);case 5:case"end":return e.stop()}}),e)}))),EO.apply(this,arguments)}function IO(){return IO=vo(ho().mark((function e(t,n,r){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rA(Jc(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),IO.apply(this,arguments)}function _O(){return _O=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uA(Jc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),_O.apply(this,arguments)}function SO(e,t){return TO.apply(this,arguments)}function TO(){return TO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,rA(r,{oobCode:n});case 3:i=e.sent,VC(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return VC(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:VC(i.mfaInfo,r,"internal-error");case 13:VC(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=kO._fromServerResponse(XN(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),TO.apply(this,arguments)}function CO(){return CO=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SO(Jc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}function NO(e,t,n){return AO.apply(this,arguments)}function AO(){return AO=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XN(t),e.next=3,GA(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,YA._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function OO(){return OO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),a={requestType:"EMAIL_SIGNIN",email:n},VC(r.handleCodeInApp,i,"argument-error"),r&&xO(i,a,r),e.next=6,yA(i,a);case 6:case"end":return e.stop()}}),e)}))),OO.apply(this,arguments)}function PO(){return PO=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),VC((a=FA.credentialWithLink(n,r||qC()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",fO(i,a));case 4:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function DO(e,t){return RO.apply(this,arguments)}function RO(){return RO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:createAuthUri",XC(t,n)));case 1:case"end":return e.stop()}}),e)}))),RO.apply(this,arguments)}function MO(){return MO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=KC()?qC():"http://localhost",i={identifier:n,continueUri:r},e.next=4,DO(Jc(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),MO.apply(this,arguments)}function LO(){return(LO=vo(ho().mark((function e(t,n){var r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xO(r.auth,a,n),e.next=8,dA(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FO(){return(FO=vo(ho().mark((function e(t,n,r){var i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xO(i.auth,o,r),e.next=8,bA(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VO(e,t){return jO.apply(this,arguments)}function jO(){return jO=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JC(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jO.apply(this,arguments)}function UO(){return(UO=vo(ho().mark((function e(t,n){var r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Jc(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,yN(a,VO(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BO(e,t,n){return zO.apply(this,arguments)}function zO(){return zO=vo(ho().mark((function e(t,n,r){var i,a,o,u;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,yN(t,aA(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),zO.apply(this,arguments)}var qO=Un((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),KO=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Un(n)}(qO),WO=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"facebook.com",r)}return Un(n)}(qO),HO=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Un(n)}(KO),GO=function(e){zn(n,e);var t=Gn(n);function n(e,r){return Vn(this,n),t.call(this,e,"google.com",r)}return Un(n)}(qO),QO=function(e){zn(n,e);var t=Gn(n);function n(e,r,i){return Vn(this,n),t.call(this,e,"twitter.com",r,i)}return Un(n)}(KO);function YO(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=mN(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new qO(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new WO(a,i);case"github.com":return new HO(a,i);case"google.com":return new GO(a,i);case"twitter.com":return new QO(a,i,e.screenName||null);case"custom":case"anonymous":return new qO(a,null);default:return new qO(a,r,i)}}(n)}var $O=function(){function e(t,n){Vn(this,e),this.type=t,this.credential=n}return Un(e,[{key:"toJSON",value:function(){return{multiFactorSession:z({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),XO=function(){function e(t,n,r){Vn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Un(e,[{key:"resolveSignIn",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=XN(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return kO._fromServerResponse(r,e)}));VC(i.mfaPendingCredential,r,"internal-error");var o=$O._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=vo(ho().mark((function e(t){var a,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,YA._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return VC(n.user,r,"internal-error"),e.abrupt("return",YA._forOperation(n.user,n.operationType,u));case 17:DC(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function JO(e,t){return JC(e,"POST","/v2/accounts/mfaEnrollment:start",XC(e,t))}function ZO(e,t){return JC(e,"POST","/v2/accounts/mfaEnrollment:withdraw",XC(e,t))}var eP=function(){function e(t){var n=this;Vn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return kO._fromServerResponse(t.auth,e)})))}))}return Un(e,[{key:"getSession",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$O,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,yN(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,yN(this.user,ZO(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),tP=new WeakMap;var nP="__sak",rP=function(){function e(t,n){Vn(this,e),this.storageRetriever=t,this.type=n}return Un(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(nP,"1"),this.storage.removeItem(nP),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var iP=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Pc();return VN(e)||KN(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=GN(),e._shouldAllowMigration=!0,e}return Un(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);HN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=vo(ho().mark((function e(t,r){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vo(ho().mark((function e(t){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(qn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rP);iP.type="LOCAL";var aP=iP,oP=function(e){zn(n,e);var t=Gn(n);function n(){return Vn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Un(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rP);oP.type="SESSION";var uP=oP;function sP(e){return Promise.all(e.map(function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var cP=function(){function e(t){Vn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Un(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s,c;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,sP(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function lP(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cP.receivers=[];var fP=function(){function e(t){Vn(this,e),this.target=t,this.handlers=new Set}return Un(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=vo(ho().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=lP("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hP(){return window}function dP(){return"undefined"!==typeof hP().WorkerGlobalScope&&"function"===typeof hP().importScripts}function pP(){return vP.apply(this,arguments)}function vP(){return(vP=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function mP(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var yP="firebaseLocalStorageDb",gP="firebaseLocalStorage",bP="fbase_key",kP=function(){function e(t){Vn(this,e),this.request=t}return Un(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function wP(e,t){return e.transaction([gP],t?"readwrite":"readonly").objectStore(gP)}function xP(){var e=indexedDB.deleteDatabase(yP);return new kP(e).toPromise()}function EP(){var e=indexedDB.open(yP,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(gP,{keyPath:bP})}catch(r){n(r)}})),e.addEventListener("success",vo(ho().mark((function n(){var r;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(gP)){n.next=12;break}return r.close(),n.next=5,xP();case 5:return n.t0=t,n.next=8,EP();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function IP(e,t,n){return _P.apply(this,arguments)}function _P(){return _P=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wP(t,!0).put((z(i={},bP,n),z(i,"value",r),i)),e.abrupt("return",new kP(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),_P.apply(this,arguments)}function SP(e,t){return TP.apply(this,arguments)}function TP(){return TP=vo(ho().mark((function e(t,n){var r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wP(t,!1).get(n),e.next=3,new kP(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),TP.apply(this,arguments)}function CP(e,t){var n=wP(e,!0).delete(t);return new kP(n).toPromise()}var NP=function(){function e(){Vn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Un(e,[{key:"_openDb",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,EP();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dP()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=vo(ho().mark((function e(){var t=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cP._getInstance(dP()?self:null),this.receiver._subscribe("keyChanged",function(){var e=vo(ho().mark((function e(n,r){var i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=vo(ho().mark((function e(){var t,n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pP();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fP(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&mP()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,EP();case 5:return t=e.sent,e.next=8,IP(t,nP,"1");case 8:return e.next=10,CP(t,nP);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vo(ho().mark((function e(t,n){var r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return IP(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return SP(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vo(ho().mark((function e(t){var n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return CP(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=wP(e,!1).getAll();return new kP(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=xc(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(vo(ho().mark((function t(){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();NP.type="LOCAL";var AP=NP;function OP(e,t){return JC(e,"POST","/v2/accounts/mfaSignIn:start",XC(e,t))}function PP(e){return DP.apply(this,arguments)}function DP(){return DP=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JC(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),DP.apply(this,arguments)}function RP(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=RC("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function MP(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var LP=1e12,FP=function(){function e(t){Vn(this,e),this.auth=t,this.counter=LP,this._widgets=new Map}return Un(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new VP(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||LP;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||LP;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||LP,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),VP=function(){function e(t,n,r){var i=this;Vn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;VC(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Un(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var jP=MP("rcb"),UP=new HC(3e4,6e4),BP="https://www.google.com/recaptcha/api.js?",zP=function(){function e(){var t;Vn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hP().grecaptcha)||void 0===t?void 0:t.render)}return Un(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return VC(qP(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(hP().grecaptcha):new Promise((function(r,i){var a=hP().setTimeout((function(){i(RC(e,"network-request-failed"))}),UP.get());hP()[jP]=function(){hP().clearTimeout(a),delete hP()[jP];var o=hP().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(RC(e,"internal-error"))},RP("".concat(BP,"?").concat(Hc({onload:jP,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(RC(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hP().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function qP(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var KP=function(){function e(){Vn(this,e)}return Un(e,[{key:"load",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new FP(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),WP="recaptcha",HP={theme:"light",type:"image"},GP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},HP),r=arguments.length>2?arguments[2]:void 0;Vn(this,e),this.parameters=n,this.type=WP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=XN(r),this.isInvisible="invisible"===this.parameters.size,VC("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;VC(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new KP:new zP,this.validateStartingState()}return Un(e,[{key:"verify",value:function(){var e=vo(ho().mark((function e(){var t,n,r,i=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){VC(!this.parameters.sitekey,this.auth,"argument-error"),VC(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),VC("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hP()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){VC(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=vo(ho().mark((function e(){var t,n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VC(KC()&&!dP(),this.auth,"internal-error"),e.next=3,QP();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,PP(this.auth);case 8:VC(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return VC(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function QP(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var YP=function(){function e(t,n){Vn(this,e),this.verificationId=t,this.onConfirmation=n}return Un(e,[{key:"confirm",value:function(e){var t=MA._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function $P(){return $P=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XN(t),e.next=3,eD(i,n,Jc(r));case 3:return a=e.sent,e.abrupt("return",new YP(a,(function(e){return fO(i,e)})));case 5:case"end":return e.stop()}}),e)}))),$P.apply(this,arguments)}function XP(e,t,n){return JP.apply(this,arguments)}function JP(){return(JP=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,aO(!1,i,"phone");case 3:return e.next=5,eD(i.auth,n,Jc(r));case 5:return a=e.sent,e.abrupt("return",new YP(a,(function(e){return dO(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZP(){return(ZP=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,eD(i.auth,n,Jc(r));case 3:return a=e.sent,e.abrupt("return",new YP(a,(function(e){return vO(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eD(e,t,n){return tD.apply(this,arguments)}function tD(){return tD=vo(ho().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,VC("string"===typeof a,t,"argument-error"),VC(r.type===WP,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return VC("enroll"===u.type,t,"internal-error"),e.next=13,JO(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return VC("signin"===u.type,t,"internal-error"),VC(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,OP(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,NA(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),tD.apply(this,arguments)}function nD(){return(nD=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rO(Jc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rD=function(){function e(t){Vn(this,e),this.providerId=e.PROVIDER_ID,this.auth=XN(t)}return Un(e,[{key:"verifyPhoneNumber",value:function(e,t){return eD(this.auth,e,Jc(t))}}],[{key:"credential",value:function(e,t){return MA._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?MA._fromTokenResponse(n,r):null}}]),e}();function iD(e,t){return t?zC(t):(VC(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}rD.PROVIDER_ID="phone",rD.PHONE_SIGN_IN_METHOD="phone";var aD=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Un(n,[{key:"_getIdTokenResponse",value:function(e){return SA(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return SA(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return SA(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(nA);function oD(e){return cO(e.auth,new aD(e),e.bypassAuthState)}function uD(e){var t=e.auth,n=e.user;return VC(n,t,"internal-error"),uO(n,new aD(e),e.bypassAuthState)}function sD(e){return cD.apply(this,arguments)}function cD(){return cD=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,VC(r=t.user,n,"internal-error"),e.abrupt("return",rO(r,new aD(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),cD.apply(this,arguments)}var lD=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Vn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Un(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=vo(ho().mark((function t(n,r){return ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=vo(ho().mark((function e(t){var n,r,i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return uD;default:DC(this.auth,"internal-error")}}},{key:"resolve",value:function(e){UC(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){UC(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),fD=new HC(2e3,1e4);function hD(e,t,n){return dD.apply(this,arguments)}function dD(){return dD=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XN(t),LC(t,n,VA),a=iD(i,r),o=new yD(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),dD.apply(this,arguments)}function pD(){return(pD=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LC((i=Jc(t)).auth,n,VA),a=iD(i.auth,r),o=new yD(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vD(e,t,n){return mD.apply(this,arguments)}function mD(){return(mD=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LC((i=Jc(t)).auth,n,VA),a=iD(i.auth,r),o=new yD(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yD=function(e){zn(n,e);var t=Gn(n);function n(e,r,i,a,o){var u;return Vn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Wn(u),u}return Un(n,[{key:"executeNotNull",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return VC(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vo(ho().mark((function e(){var t,n=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return UC(1===this.filter.length,"Popup operations only handle one event"),t=lP(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(RC(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(RC(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(RC(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,fD.get())}()}}]),n}(lD);yD.currentPopupAction=null;var gD=new Map,bD=function(e){zn(n,e);var t=Gn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Un(n,[{key:"execute",value:function(){var e=vo(ho().mark((function e(){var t,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gD.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,kD(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,_f(qn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:gD.set(this.auth._key(),t);case 21:return this.bypassAuthState||gD.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=vo(ho().mark((function e(t){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",_f(qn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",_f(qn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(lD);function kD(e,t){return wD.apply(this,arguments)}function wD(){return wD=vo(ho().mark((function e(t,n){var r,i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SD(n),i=_D(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),wD.apply(this,arguments)}function xD(e,t){return ED.apply(this,arguments)}function ED(){return ED=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_D(t)._set(SD(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ED.apply(this,arguments)}function ID(e,t){gD.set(e._key(),t)}function _D(e){return zC(e._redirectPersistence)}function SD(e){return RN("pendingRedirect",e.config.apiKey,e.name)}function TD(e,t,n){return function(e,t,n){return CD.apply(this,arguments)}(e,t,n)}function CD(){return CD=vo(ho().mark((function e(t,n,r){var i,a;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XN(t),LC(t,n,VA),a=iD(i,r),e.next=5,xD(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),CD.apply(this,arguments)}function ND(e,t,n){return function(e,t,n){return AD.apply(this,arguments)}(e,t,n)}function AD(){return(AD=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LC((i=Jc(t)).auth,n,VA),a=iD(i.auth,r),e.next=5,xD(a,i.auth);case 5:return e.next=7,FD(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OD(e,t,n){return function(e,t,n){return PD.apply(this,arguments)}(e,t,n)}function PD(){return(PD=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LC((i=Jc(t)).auth,n,VA),a=iD(i.auth,r),e.next=5,aO(!1,i,n.providerId);case 5:return e.next=7,xD(a,i.auth);case 7:return e.next=9,FD(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DD(e,t){return RD.apply(this,arguments)}function RD(){return RD=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XN(t)._initializationPromise;case 2:return e.abrupt("return",MD(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),RD.apply(this,arguments)}function MD(e,t){return LD.apply(this,arguments)}function LD(){return LD=vo(ho().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=XN(t),a=iD(i,n),o=new bD(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}function FD(e){return VD.apply(this,arguments)}function VD(){return(VD=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lP("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jD=function(){function e(t){Vn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Un(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BD(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!BD(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(RC(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(UD(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(UD(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function UD(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function BD(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zD(e){return qD.apply(this,arguments)}function qD(){return qD=vo(ho().mark((function e(t){var n,r=arguments;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",JC(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),qD.apply(this,arguments)}var KD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WD=/^https?/;function HD(){return HD=vo(ho().mark((function e(t){var n,r,i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zD(t);case 4:n=e.sent,r=n.authorizedDomains,i=xc(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!GD(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:DC(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),HD.apply(this,arguments)}function GD(e){var t=qC(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!WD.test(r))return!1;if(KD.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var QD=new HC(3e4,6e4);function YD(){var e=hP().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=At(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var $D=null;function XD(e){return $D=$D||function(e){return new Promise((function(t,n){var r,i,a;function o(){YD(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){YD(),n(RC(e,"network-request-failed"))},timeout:QD.get()})}if(null===(i=null===(r=hP().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hP().gapi)||void 0===a?void 0:a.load)){var u=MP("iframefcb");return hP()[u]=function(){gapi.load?o():n(RC(e,"network-request-failed"))},RP("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw $D=null,e}))}(e),$D}var JD=new HC(5e3,15e3),ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tR(e){var t=e.config;VC(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?GC(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Hl},i=eR.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Hc(r).slice(1))}function nR(e){return rR.apply(this,arguments)}function rR(){return rR=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XD(t);case 2:return n=e.sent,VC(r=hP().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:tR(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},(function(e){return new Promise(function(){var n=vo(ho().mark((function n(r,i){var a,o,u;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){hP().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=RC(t,"network-request-failed"),o=hP().setTimeout((function(){i(a)}),JD.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rR.apply(this,arguments)}var iR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aR="_blank",oR="http://localhost",uR=function(){function e(t){Vn(this,e),this.window=t,this.associatedEvent=null}return Un(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function sR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},iR),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Pc().toLowerCase();n&&(u=jN(l)?aR:n),FN(l)&&(t=t||oR,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(WN(l)&&"_self"!==u)return cR(t||"",u),new uR(null);var h=window.open(t||"",u,f);VC(h,e,"popup-blocked");try{h.focus()}catch(d){}return new uR(h)}function cR(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lR="__/auth/handler",fR="emulator/auth/handler";function hR(e,t,n,r,i,a){VC(e.config.authDomain,e,"auth-domain-config-required"),VC(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hl,eventId:i};if(t instanceof VA){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof jA){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(lR);return GC(t,fR)}(e),"?").concat(Hc(p).slice(1))}var dR="webStorageSupport",pR=function(){function e(){Vn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uP,this._completeRedirectFn=MD,this._overrideRedirectResult=ID}return Un(e,[{key:"_openPopup",value:function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return UC(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=hR(t,n,r,qC(),i),e.abrupt("return",sR(t,o,lP()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vo(ho().mark((function e(t,n,r,i){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=hR(t,n,r,qC(),i),hP().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(UC(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nR(t);case 2:return n=e.sent,r=new jD(t),n.register("authEvent",(function(e){return VC(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dR,{type:dR},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),DC(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return HD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return GN()||VN()||KN()}}]),e}(),vR=pR,mR=function(){function e(t){Vn(this,e),this.factorId=t}return Un(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return jC("unexpected MultiFactorSessionType")}}}]),e}(),yR=function(e){zn(n,e);var t=Gn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone")).credential=e,r}return Un(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return JC(e,"POST","/v2/accounts/mfaEnrollment:finalize",XC(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return JC(e,"POST","/v2/accounts/mfaSignIn:finalize",XC(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(mR),gR=function(){function e(){Vn(this,e)}return Un(e,null,[{key:"assertion",value:function(e){return yR._fromCredential(e)}}]),e}();gR.FACTOR_ID="phone";var bR,kR="@firebase/auth",wR="0.20.6",xR=function(){function e(t){Vn(this,e),this.auth=t,this.internalListeners=new Map}return Un(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){VC(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ER(){return window}bR="Browser",jl(new Zc("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){VC(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),VC(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:bR,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QN(bR)},i=new $N(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zC);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),jl(new Zc("auth-internal",(function(e){return function(e){return new xR(e)}(XN(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Jl(kR,wR,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(bR)),Jl(kR,wR,"esm2017");function IR(e,t,n){return _R.apply(this,arguments)}function _R(){return _R=vo(ho().mark((function e(t,n,r){var i,a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ER(),o=a.BuildInfo,UC(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,OR(n.sessionId);case 4:return u=e.sent,s={},KN()?s.ibi=o.packageName:BN()?s.apn=o.packageName:DC(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",hR(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),_R.apply(this,arguments)}function SR(){return SR=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ER(),r=n.BuildInfo,i={},KN()?i.iosBundleId=r.packageName:BN()?i.androidPackageName=r.packageName:DC(t,"operation-not-supported-in-this-environment"),e.next=5,zD(t,i);case 5:case"end":return e.stop()}}),e)}))),SR.apply(this,arguments)}function TR(e){var t=ER().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function CR(e,t,n){return NR.apply(this,arguments)}function NR(){return NR=vo(ho().mark((function e(t,n,r){var i,a,o;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ER(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(RC(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),BN()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),NR.apply(this,arguments)}function AR(e){var t,n,r,i,a,o,u,s,c,l,f=ER();VC("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),VC("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),VC("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),VC("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),VC("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function OR(e){return PR.apply(this,arguments)}function PR(){return(PR=vo(ho().mark((function e(t){var n,r,i;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DR(e){if(UC(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var RR=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Un(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),_f(qn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jD);function MR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:UR(),postBody:null,tenantId:e.tenantId,error:RC(e,"no-auth-event")}}function LR(e,t){return BR()._set(zR(e),t)}function FR(e){return VR.apply(this,arguments)}function VR(){return VR=vo(ho().mark((function e(t){var n;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BR()._get(zR(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,BR()._remove(zR(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),VR.apply(this,arguments)}function jR(e,t){var n,r,i=function(e){var t=qR(e),n=t.link?decodeURIComponent(t.link):void 0,r=qR(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return qR(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=qR(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?RC(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function UR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function BR(){return zC(aP)}function zR(e){return RN("authEvent",e.config.apiKey,e.name)}function qR(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Nt(t)||u(t)||s();r[0];return Gc(r.slice(1).join("?"))}var KR=function(){function e(){Vn(this,e),this._redirectPersistence=uP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=MD,this._overrideRedirectResult=ID}return Un(e,[{key:"_initialize",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new RR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){DC(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=vo(ho().mark((function e(t,n,r,i){var a,o,u,s;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),gD.clear(),e.next=10,this._originValidation(t);case 10:return o=MR(t,r,i),e.next=13,LR(t,o);case 13:return e.next=15,IR(t,o,n);case 15:return u=e.sent,e.next=18,TR(u);case 18:return s=e.sent,e.abrupt("return",CR(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return SR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ER(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(vo(ho().mark((function n(){return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,FR(e);case 2:t.onEvent(HR());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=vo(ho().mark((function n(r){var i,a;return ho().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,FR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=jR(i,r.url)),t.onEvent(a||HR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");ER().handleOpenURL=function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),WR=KR;function HR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:RC("no-auth-event")}}function GR(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function QR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return!("file:"!==GR()&&"ionic:"!==GR()&&"capacitor:"!==GR()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function YR(){return Fc()&&11===(null===document||void 0===document?void 0:document.documentMode)}function $R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return/Edge\/\d+/.test(e)}function XR(){try{var e=self.localStorage,t=lP();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc();return YR()||$R(e)}()||Vc()}catch(n){return JR()&&Vc()}return!1}function JR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ZR(){return("http:"===GR()||"https:"===GR()||Mc()||QR())&&!(Lc()||Rc())&&XR()&&!JR()}function eM(){return QR()&&"undefined"!==typeof document}function tM(){return nM.apply(this,arguments)}function nM(){return(nM=vo(ho().mark((function e(){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eM()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rM={LOCAL:"local",NONE:"none",SESSION:"session"},iM=VC,aM="persistence";function oM(e,t){iM(Object.values(rM).includes(t),e,"invalid-persistence-type"),Lc()?iM(t!==rM.SESSION,e,"unsupported-persistence-type"):Rc()?iM(t===rM.NONE,e,"unsupported-persistence-type"):JR()?iM(t===rM.NONE||t===rM.LOCAL&&Vc(),e,"unsupported-persistence-type"):iM(t===rM.NONE||XR(),e,"unsupported-persistence-type")}function uM(e){return sM.apply(this,arguments)}function sM(){return sM=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=cM(),r=RN(aM,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),sM.apply(this,arguments)}function cM(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var lM=VC,fM=function(){function e(){Vn(this,e),this.browserResolver=zC(vR),this.cordovaResolver=zC(WR),this.underlyingResolver=null,this._redirectPersistence=uP,this._completeRedirectFn=MD,this._overrideRedirectResult=ID}return Un(e,[{key:"_initialize",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=vo(ho().mark((function e(t,n,r,i){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vo(ho().mark((function e(t,n,r,i){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return eM()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return lM(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tM();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hM(e){return e.unwrap()}function dM(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new gM(e,function(e,t){var n,r=Jc(e),i=t;return VC(t.customData.operationType,r,"argument-error"),VC(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),XO._fromError(r,i)}(e,t));else if(i){var a=pM(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function pM(e){var t=(e instanceof jc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof jc)&&"temporaryProof"in t&&"phoneNumber"in t)return rD.credentialFromResult(e);var n,r=t.providerId;if(!r||r===bC)return null;switch(r){case gC:n=zA;break;case mC:n=BA;break;case yC:n=qA;break;case kC:n=HA;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?KA._create(r,u):CA._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new UA(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof jc?n.credentialFromError(e):n.credentialFromResult(e)}function vM(e,t){return t.catch((function(t){throw t instanceof jc&&dM(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,pM(t)),additionalUserInfo:YO(e),user:bM.getOrCreate(r)}}))}function mM(e,t){return yM.apply(this,arguments)}function yM(){return yM=vo(ho().mark((function e(t,n){var r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return vM(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),yM.apply(this,arguments)}var gM=function(){function e(t,n){Vn(this,e),this.resolver=n,this.auth=t.wrapped()}return Un(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return vM(hM(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bM=function(){function e(t){Vn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Jc(e);return tP.has(t)||tP.set(t,eP._fromUser(t)),tP.get(t)}(t)}return Un(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vM(this.auth,dO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mM(this.auth,XP(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vM(this.auth,vD(this._delegate,t,fM)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uM(XN(this.auth));case 2:return e.abrupt("return",OD(this._delegate,t,fM));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vM(this.auth,vO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return mM(this.auth,function(e,t,n){return ZP.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return vM(this.auth,function(e,t,n){return pD.apply(this,arguments)}(this._delegate,e,fM))}},{key:"reauthenticateWithRedirect",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uM(XN(this.auth));case 2:return e.abrupt("return",ND(this._delegate,t,fM));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return LO.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tO(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return BO(Jc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return BO(Jc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return nD.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return UO.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return FO.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bM.USER_MAP=new WeakMap;var kM=VC,wM=function(){function e(t,n){if(Vn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;kM(r,"invalid-api-key",{appName:t.name}),kM(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?fM:void 0;this._delegate=n.initialize({options:{persistence:EM(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(CC),this.linkUnderlyingAuth()}return Un(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bM.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ZN(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return _O.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return SO(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return IO.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=vo(ho().mark((function e(t,n){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vM(this._delegate,NO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return MO.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=LA.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=vo(ho().mark((function e(){var t;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kM(ZR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,DD(this._delegate,fM);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",vM(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){XN(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=xM(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=xM(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return OO.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return EO.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=vo(ho().mark((function e(t){var n,r;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oM(this._delegate,t),e.t0=t,e.next=e.t0===rM.SESSION?4:e.t0===rM.LOCAL?6:e.t0===rM.NONE?11:13;break;case 4:return n=uP,e.abrupt("break",14);case 6:return e.next=8,zC(AP)._isAvailable();case 8:return r=e.sent,n=r?AP:aP,e.abrupt("break",14);case 11:return n=DN,e.abrupt("break",14);case 13:return e.abrupt("return",DC("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return vM(this._delegate,function(e){return XA.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return vM(this._delegate,fO(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return vM(this._delegate,function(e,t){return bO.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return vM(this._delegate,function(e,t,n){return fO(Jc(e),FA.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return vM(this._delegate,function(e,t,n){return PO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return mM(this._delegate,function(e,t,n){return $P.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kM(ZR(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",vM(this._delegate,hD(this._delegate,t,fM)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=vo(ho().mark((function e(t){return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kM(ZR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,uM(this._delegate);case 3:return e.abrupt("return",TD(this._delegate,t,fM));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return CO.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function xM(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bM.getOrCreate(e))},error:t,complete:n}}function EM(e,t){var n=function(e,t){var n=cM();if(!n)return[];var r=RN(aM,e,t);switch(n.getItem(r)){case rM.NONE:return[DN];case rM.LOCAL:return[AP,uP];case rM.SESSION:return[uP];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(AP)||n.push(AP),"undefined"!==typeof window)for(var r=0,i=[aP,uP];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(DN)||n.push(DN),n}wM.Persistence=rM;var IM=function(){function e(){Vn(this,e),this.providerId="phone",this._delegate=new rD(hM(Ef.auth()))}return Un(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return rD.credential(e,t)}}]),e}();IM.PHONE_SIGN_IN_METHOD=rD.PHONE_SIGN_IN_METHOD,IM.PROVIDER_ID=rD.PROVIDER_ID;var _M=VC,SM=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ef.app();Vn(this,e),_M(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new GP(t,n,i.auth()),this.type=this._delegate.type}return Un(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Zc("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new wM(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wC,PASSWORD_RESET:xC,RECOVER_EMAIL:EC,REVERT_SECOND_FACTOR_ADDITION:IC,VERIFY_AND_CHANGE_EMAIL:_C,VERIFY_EMAIL:SC}},EmailAuthProvider:FA,FacebookAuthProvider:BA,GithubAuthProvider:qA,GoogleAuthProvider:zA,OAuthProvider:UA,SAMLAuthProvider:WA,PhoneAuthProvider:IM,PhoneMultiFactorGenerator:gR,RecaptchaVerifier:SM,TwitterAuthProvider:HA,Auth:wM,AuthCredential:nA,Error:jc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.19")}(Ef);var TM=function(e){var t=e.auth;return(0,yc.jsx)(yc.Fragment,{children:(0,yc.jsx)("div",{className:"pt-3",children:(0,yc.jsx)(mc,{onClick:function(e){var n=new Ef.auth.GoogleAuthProvider;t.signInWithPopup(n)},children:"Sign in with Google"})})})};function CM(){return(0,yc.jsxs)(yc.Fragment,{children:[(0,yc.jsx)("div",{children:"Privacy Policy"}),(0,yc.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function NM(){return(0,yc.jsxs)(yc.Fragment,{children:[(0,yc.jsx)("div",{children:"Terms"}),(0,yc.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function AM(){return(0,yc.jsx)("div",{children:"ResetPassword"})}function OM(){return(0,yc.jsxs)(yc.Fragment,{children:[(0,yc.jsx)("div",{className:"h-full",children:(0,yc.jsx)("div",{className:"flyingObject"})}),(0,yc.jsx)("div",{className:"text-xl -mt-6",children:"Wombol Alpha 0.0.7 is where you can learn for free."}),(0,yc.jsx)("div",{className:"text-2xl -mt-2",children:"Coming Soon!"})]})}function PM(){return(0,yc.jsx)("div",{children:"Question"})}var DM=r.createContext({});!function(){var e=0}();var RM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},MM=function(e){var t=e.prefixCls,n=e.className,i=e.dashed,a=RM(e,["prefixCls","className","dashed"]),o=(0,r.useContext(H).getPrefixCls)("menu",t),u=W()(z({},"".concat(o,"-item-divider-dashed"),!!i),n);return r.createElement(pu,l({className:u},a))},LM={adjustX:1,adjustY:1},FM=[0,0],VM={left:{points:["cr","cl"],overflow:LM,offset:[-4,0],targetOffset:FM},right:{points:["cl","cr"],overflow:LM,offset:[4,0],targetOffset:FM},top:{points:["bc","tc"],overflow:LM,offset:[0,-4],targetOffset:FM},bottom:{points:["tc","bc"],overflow:LM,offset:[0,4],targetOffset:FM},topLeft:{points:["bl","tl"],overflow:LM,offset:[0,-4],targetOffset:FM},leftTop:{points:["tr","tl"],overflow:LM,offset:[-4,0],targetOffset:FM},topRight:{points:["br","tr"],overflow:LM,offset:[0,-4],targetOffset:FM},rightTop:{points:["tl","tr"],overflow:LM,offset:[4,0],targetOffset:FM},bottomRight:{points:["tr","br"],overflow:LM,offset:[0,4],targetOffset:FM},rightBottom:{points:["bl","br"],overflow:LM,offset:[4,0],targetOffset:FM},bottomLeft:{points:["tl","bl"],overflow:LM,offset:[0,4],targetOffset:FM},leftBottom:{points:["br","bl"],overflow:LM,offset:[-4,0],targetOffset:FM}};function jM(e){var t=e.showArrow,n=e.arrowContent,i=e.children,a=e.prefixCls,o=e.id,u=e.overlayInnerStyle,s=e.className,c=e.style;return r.createElement("div",{className:W()("".concat(a,"-content"),s),style:c},!1!==t&&r.createElement("div",{className:"".concat(a,"-arrow"),key:"arrow"},n),r.createElement("div",{className:"".concat(a,"-inner"),id:o,role:"tooltip",style:u},"function"===typeof i?i():i))}var UM=function(e,t){var n=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,u=void 0===o?0:o,s=e.mouseLeaveDelay,c=void 0===s?.1:s,f=e.overlayStyle,h=e.prefixCls,d=void 0===h?"rc-tooltip":h,p=e.children,v=e.onVisibleChange,m=e.afterVisibleChange,y=e.transitionName,g=e.animation,b=e.motion,k=e.placement,w=void 0===k?"right":k,x=e.align,E=void 0===x?{}:x,I=e.destroyTooltipOnHide,_=void 0!==I&&I,S=e.defaultVisible,T=e.getTooltipContainer,C=e.overlayInnerStyle,N=e.arrowContent,A=e.overlay,O=e.id,P=e.showArrow,D=Ee(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),R=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return R.current}));var M=de({},D);"visible"in e&&(M.popupVisible=e.visible);var L=!1,F=!1;if("boolean"===typeof _)L=_;else if(_&&"object"===q(_)){var V=_.keepParent;L=!0===V,F=!1===V}return r.createElement(No,l({popupClassName:n,prefixCls:d,popup:function(){return r.createElement(jM,{showArrow:P,arrowContent:N,key:"content",prefixCls:d,id:O,overlayInnerStyle:C},A)},action:a,builtinPlacements:VM,popupPlacement:w,ref:R,popupAlign:E,getPopupContainer:T,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:y,popupAnimation:g,popupMotion:b,defaultPopupVisible:S,destroyPopupOnHide:L,autoDestroy:F,mouseLeaveDelay:c,popupStyle:f,mouseEnterDelay:u},M),p)},BM=(0,r.forwardRef)(UM),zM=(re("success","processing","error","default","warning"),re("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),qM={adjustX:1,adjustY:1},KM={adjustX:0,adjustY:0},WM=[0,0];function HM(e){return"boolean"===typeof e?e?qM:KM:l(l({},KM),e)}var GM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},QM=new RegExp("^(".concat(zM.join("|"),")(-inverse)?$"));function YM(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=l({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,u=l(l({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Ws(e,{style:l(l({},o),{pointerEvents:"none"}),className:null});return r.createElement("span",{style:u,className:W()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var $M=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPopupContainer,o=i.getPrefixCls,u=i.direction;var s=c(Jt(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),f=s[0],h=s[1],d=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},p=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,u=e.autoAdjustOverflow,s=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=s?l(l({},c[e]),{overflow:HM(u),targetOffset:WM}):l(l({},VM[e]),{overflow:HM(u)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},v=e.getPopupContainer,m=GM(e,["getPopupContainer"]),y=e.prefixCls,g=e.openClassName,b=e.getTooltipContainer,k=e.overlayClassName,w=e.color,x=e.overlayInnerStyle,E=e.children,I=o("tooltip",y),_=o(),S=f;"open"in e||"visible"in e||!d()||(S=!1);var T,C=YM(Ks(E)&&!function(e){return e&&e.type===r.Fragment}(E)?E:r.createElement("span",null,E),I),N=C.props,A=W()(N.className,z({},g||"".concat(I,"-open"),!0)),O=W()(k,(z(n={},"".concat(I,"-rtl"),"rtl"===u),z(n,"".concat(I,"-").concat(w),w&&QM.test(w)),n)),P=x;return w&&!QM.test(w)&&(P=l(l({},x),{background:w}),T={"--antd-arrow-background-color":w}),r.createElement(BM,l({},m,{prefixCls:I,overlayClassName:O,getTooltipContainer:v||b||a,ref:t,builtinPlacements:p(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:S,onVisibleChange:function(t){var n,r;h(!d()&&t),d()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=p(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:P,arrowContent:r.createElement("span",{className:"".concat(I,"-arrow-content"),style:T}),motion:{motionName:Hu(_,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),S?Ws(C,{className:A}):C)}));$M.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var XM=$M,JM=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),ZM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},eL=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,i,a=t.siderCollapsed,o=e.context,u=o.prefixCls,s=o.firstLevel,c=o.inlineCollapsed,f=o.direction,h=o.disableMenuItemTitleTooltip,d=e.props,p=d.className,v=d.children,m=e.props,y=m.title,g=m.icon,b=m.danger,k=ZM(m,["title","icon","danger"]),w=y;"undefined"===typeof y?w=s?v:"":!1===y&&(w="");var x={title:w};a||c||(x.title=null,x.open=!1);var E=dr(v).length,I=r.createElement(Ui,l({},k,{className:W()((n={},z(n,"".concat(u,"-item-danger"),b),z(n,"".concat(u,"-item-only-child"),1===(g?E+1:E)),n),p),title:"string"===typeof y?y:void 0}),Ws(g,{className:W()(Ks(g)?null===(i=g.props)||void 0===i?void 0:i.className:"","".concat(u,"-item-icon"))}),e.renderItemChildren(c));return h||(I=r.createElement(XM,l({},x,{placement:"rtl"===f?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),I)),I},e}return Un(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,i=t.firstLevel,a=this.props,o=a.icon,u=a.children,s=r.createElement("span",{className:"".concat(n,"-title-content")},u);return(!o||Ks(u)&&"span"===u.type)&&u&&e&&i&&"string"===typeof u?r.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},u.charAt(0)):s}},{key:"render",value:function(){return r.createElement(DM.Consumer,null,this.renderItem)}}]),n}(r.Component);eL.contextType=JM;var tL=function(e){var t,n,i=e.popupClassName,a=e.icon,o=e.title,u=e.theme,s=r.useContext(JM),c=s.prefixCls,f=s.inlineCollapsed,h=s.antdMenuTheme,d=vu();if(a){var p=Ks(o)&&"span"===o.type;n=r.createElement(r.Fragment,null,Ws(a,{className:W()(Ks(a)?null===(t=a.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),p?o:r.createElement("span",{className:"".concat(c,"-title-content")},o))}else n=f&&!d.length&&o&&"string"===typeof o?r.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(c,"-title-content")},o);var v=r.useMemo((function(){return l(l({},s),{firstLevel:!1})}),[s]);return r.createElement(JM.Provider,{value:v},r.createElement(Uo,l({},pe(e,["icon"]),{title:n,popupClassName:W()(c,"".concat(c,"-").concat(u||h),i)})))},nL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function rL(e){return(e||[]).map((function(e,t){if(e&&"object"===q(e)){var n=e,i=n.label,a=n.children,o=n.key,u=n.type,s=nL(n,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===u?"group"===u?r.createElement(du,l({key:c},s,{title:i}),rL(a)):r.createElement(tL,l({key:c},s,{title:i}),rL(a)):"divider"===u?r.createElement(MM,l({key:c},s)):r.createElement(eL,l({key:c},s),i)}return null})).filter((function(e){return e}))}function iL(e){return r.useMemo((function(){return e?rL(e):e}),[e])}var aL=r.createContext(null),oL=aL,uL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sL=(0,r.forwardRef)((function(e,t){var n,i=r.useContext(oL)||{},a=r.useContext(H),o=a.getPrefixCls,u=a.getPopupContainer,s=a.direction,c=o(),f=e.prefixCls,h=e.className,d=e.theme,p=void 0===d?"light":d,v=e.expandIcon,m=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,g=e.siderCollapsed,b=e.items,k=e.children,w=e.mode,x=e.selectable,E=e.onClick,I=pe(uL(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),["collapsedWidth"]),_=iL(b)||k;null===(n=i.validator)||void 0===n||n.call(i,{mode:w});var S,T=Ht((function(){var e;null===E||void 0===E||E.apply(void 0,arguments),null===(e=null===i||void 0===i?void 0:i.onClick)||void 0===e||e.call(i)})),C=i.mode||w,N=null!==x&&void 0!==x?x:i.selectable,A=r.useMemo((function(){return void 0!==g?g:y}),[y,g]),O={horizontal:{motionName:"".concat(c,"-slide-up")},inline:Gu,other:{motionName:"".concat(c,"-zoom-big")}},P=o("menu",f||i.prefixCls),D=W()("".concat(P,"-").concat(p),h);S="function"===typeof v?v:Ws(v||i.expandIcon,{className:"".concat(P,"-submenu-expand-icon")});var R=r.useMemo((function(){return{prefixCls:P,inlineCollapsed:A||!1,antdMenuTheme:p,direction:s,firstLevel:!0,disableMenuItemTitleTooltip:m}}),[P,A,p,s,m]);return r.createElement(oL.Provider,{value:null},r.createElement(JM.Provider,{value:R},r.createElement(yu,l({getPopupContainer:u,overflowedIndicator:r.createElement(Bt,null),overflowedIndicatorPopupClassName:"".concat(P,"-").concat(p),mode:C,selectable:N,onClick:T},I,{inlineCollapsed:A,className:D,prefixCls:P,direction:s,defaultMotions:O,expandIcon:S,ref:t}),_)))})),cL=function(e){zn(n,e);var t=Gn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).focus=function(t){var n;null===(n=e.menu)||void 0===n||n.focus(t)},e}return Un(n,[{key:"render",value:function(){var e=this;return r.createElement(DM.Consumer,null,(function(t){return r.createElement(sL,l({ref:function(t){e.menu=t}},e.props,t))}))}}]),n}(r.Component);cL.Divider=MM,cL.Item=eL,cL.SubMenu=tL,cL.ItemGroup=du;var lL=cL,fL=[{label:"Mathematics",key:"/category?c=Mathematics"},{label:"Statistics",key:"/category?c=Statistics"},{label:"Economics",key:"/category?c=Economics"},{label:"Finance",key:"/category?c=Finance"},{label:"Accounting",key:"/category?c=Accounting"},{label:"Software Development",key:"/category?c=SoftwareDevelopment"},{label:"Marketing",key:"/category?c=Marketing"}],hL=function(e){var t=e.key;return window.location.href="/#"+t},dL=function(){var e="";return fL.forEach((function(t){-1!==window.location.pathname.indexOf(t.label)&&(e=t.label)})),e},pL=Navigator=function(){return(0,yc.jsx)(lL,{mode:"horizontal",align:"center",items:fL,onClick:hL,selectedKeys:[dL]})},vL=[{label:"Home",key:"home"},{label:"Login",key:"login"}],mL=[{label:"Home",key:"home"},{label:"Logout",key:"logout"}],yL=Navigator=function(e){var t=e.user,n=e.auth;return(0,yc.jsx)(lL,{mode:"horizontal",items:t?mL:vL,onClick:function(e){var t=e.key;"logout"===t?(console.log("LOGGING OUT"),n.signOut(),window.location.href="/"):window.location.href="/#/"+t},selectedKeys:[window.location.pathname.replace("/","").toLowerCase()]})};function gL(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function bL(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var kL=function(){return kL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kL.apply(this,arguments)},wL=function(e){return{loading:void 0===e||null===e,value:e}},xL=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return kL(kL({},e),{error:t.error,loading:!1,value:void 0});case"reset":return wL(t.defaultValue);case"value":return kL(kL({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),wL(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},EL=function(e,t){var n=xL((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return Jc(e).onAuthStateChanged(t,n,r)}(e,(function(e){return gL(void 0,void 0,void 0,(function(){var n;return bL(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)};Ef.initializeApp({apiKey:"AIzaSyDLZtN_iioKBgGTrjzIF8DWp-zNksYS7TQ",authDomain:"wombol-df415.firebaseapp.com",projectId:"wombol-df415",storageBucket:"wombol-df415.appspot.com",messagingSenderId:"211219277241",appId:"1:211219277241:web:946571b670da366d87c268",measurementId:"G-MLWY4LNEZ0"});var IL=Ef.auth();Ef.firestore();function _L(){var e=window;return{innerWidth:e.innerWidth,innerHeight:e.innerHeight}}var SL=function(){var e=c(EL(IL),1)[0],t=c((0,r.useState)(_L()),2),n=(t[0],t[1]),i=c((0,r.useState)("Home"),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){function e(){n(_L())}function t(){o(window.location.hash.replace("#/category?c=",""))}return window.addEventListener("resize",e),window.addEventListener("hashchange",t),function(){window.removeEventListener("resize",e),window.removeEventListener("hashchange",t)}}),[]),(0,yc.jsxs)("div",{className:"App",children:[(0,yc.jsx)("div",{className:"text-4xl italic font-bold",children:(0,yc.jsx)("a",{href:"/",children:"Wombol"})}),(0,yc.jsx)(yL,{user:e,auth:IL}),(0,yc.jsx)(pL,{}),(0,yc.jsx)(B,{basename:"",children:(0,yc.jsxs)(j,{children:[(0,yc.jsx)(F,{path:"/",element:(0,yc.jsx)(OM,{})}),(0,yc.jsx)(F,{path:"/login",element:(0,yc.jsx)(TM,{auth:IL})}),(0,yc.jsx)(F,{path:"/resetPassword",element:(0,yc.jsx)(AM,{})}),(0,yc.jsx)(F,{path:"/confirmAccount",element:(0,yc.jsx)(kc,{})}),(0,yc.jsx)(F,{path:"/home",element:(0,yc.jsx)(wc,{user:e})}),(0,yc.jsx)(F,{path:"/category",element:(0,yc.jsx)(bc,{category:a,user:e})}),(0,yc.jsx)(F,{path:"/question",element:(0,yc.jsx)(PM,{})}),(0,yc.jsx)(F,{path:"/privacy",element:(0,yc.jsx)(CM,{})}),(0,yc.jsx)(F,{path:"/terms",element:(0,yc.jsx)(NM,{})})]})})]})},TL=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,yc.jsx)(r.StrictMode,{children:(0,yc.jsx)(SL,{})})),TL()}()}();
//# sourceMappingURL=main.876803cf.js.map