/*! For license information please see main.d6e50af3.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&s(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),b=s(t),k=g?d:u(e),w=b?d:u(t),x=(k=k==f?h:k)==h,E=(w=w==f?h:w)==h,C=k==w;if(C&&c(e)){if(!c(t))return!1;g=!0,x=!1}if(C&&!x)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,k,n,v,m,y);if(!(1&n)){var I=x&&p.call(e,"__wrapped__"),_=E&&p.call(t,"__wrapped__");if(I||_){var S=I?e.value():e,T=_?t.value():t;return y||(y=new r),m(S,T,n,v,y)}}return!!C&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=o(h(e),h(t),r,c,f,d);return d.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var d=c[f];if(!(s?d in t:i.call(t,d)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[d=c[f]],g=t[d];if(a)var b=s?a(g,y,d,t,e,u):a(y,g,d,e,t,u);if(!(void 0===b?y===g||o(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(u),k=s;(r&&k(new r(new ArrayBuffer(1)))!=p||i&&k(new i)!=l||a&&k(a.resolve())!=f||o&&k(new o)!=d||u&&k(new u)!=h)&&(k=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return d;case b:return h}return t}),e.exports=k},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Ce=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function Se(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ce)&&(Ne(),Se())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,Ct,It,_t=!1,St=[],Tt=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Cn}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(_n),Tn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Cr={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Ir("animationend"),Sr=Ir("animationiteration"),Tr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Sr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case _r:case Sr:case Tr:s=yn;break;case Nr:s=An;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Ei=-1;function Ci(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Si={},Ti=Ci(Si),Ni=Ci(!1),Ai=Si;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ni),Ii(Ti)}function Di(e,t,n){if(Ti.current!==Si)throw Error(a(168));_i(Ti,t),_i(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ti.current,_i(Ti,e),_i(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ti),_i(Ti,e)):Ii(Ni),_i(Ni,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Sa(e){null===_a?_a=[e]:_a.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ti.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),_i(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ci(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function zo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return So().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Sa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:$o,useDeferredValue:function(e){return Jo(So(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],So().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(To)},useDebugValue:$o,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],So().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),du(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=Io(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Cu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Su(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Rs,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Rs,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Rs,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Rs,Ps),Ps|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Pi(n)?Ai:Ti.current;return a=Oi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=Io(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Tu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ca(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Pi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Pi(n)?Ai:Ti.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,Du,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Cc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Cc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ju=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Cc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Cc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Cc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Cc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Cc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Cc(t,o,s)}}}catch(s){Cc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,Cs=Math.ceil,Is=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ss=k.ReactCurrentBatchConfig,Ts=0,Ns=null,As=null,Os=0,Ps=0,Rs=Ci(0),Ds=0,Ms=null,Ls=0,Fs=0,js=0,Vs=null,Us=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Hs=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Ts)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===Ns||(e===Ns&&(0===(2&Ts)&&(Fs|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Bs=Xe()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Ts)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,Bs=Xe()+500,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}wa(),Is.current=o,Ts=i,null!==As?t=0:(Ns=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,dc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,dc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Bs=Xe()+500,Vi&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Ts)&&xc();var t=Ts;Ts|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(Ts=t))&&Bi()}}function fc(){Ps=Rs.current,Ii(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ii(Ni),Ii(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ps=t,Ds=0,Ms=null,js=Fs=Ls=0,Us=Vs=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function hc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,_s.current=null,null===n||null===n.return){Ds=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||uc(Ns,Os)}function mc(e,t){var n=Ts;Ts|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wa(),Ts=n,Is.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ds}function yc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!$e();)bc(As)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=bt;bt=1;var s=Ts;Ts|=4,_s.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Ts=s,bt=u,Ss.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt($s),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Cc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Ts=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Xe()-zs?dc(e,0):js|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case C:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case S:u=9;break e;case T:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Cu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ca(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ts)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Ct=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,I=null,_=-1,S=5,T=-1;function N(){return!(t.unstable_now()-T<S)}function A(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?E():(C=!1,I=null)}}else C=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function R(e){I=e,C||(C=!0,E())}function D(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d1d4a2c2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return qc},SDK_VERSION:function(){return Yl},_DEFAULT_ENTRY_NAME:function(){return Fl},_addComponent:function(){return zl},_addOrOverwriteComponent:function(){return Bl},_apps:function(){return Vl},_clearComponents:function(){return Hl},_components:function(){return Ul},_getProvider:function(){return Wl},_registerComponent:function(){return ql},_removeServiceInstance:function(){return Kl},deleteApp:function(){return ef},getApp:function(){return Jl},getApps:function(){return Zl},initializeApp:function(){return Xl},onLog:function(){return rf},registerVersion:function(){return nf},setLogLevel:function(){return af}});var t,r=n(2791),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var d="beforeunload",h="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=b(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=p-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else S(e)}}r.addEventListener(h,u),r.addEventListener("hashchange",(function(){g(a()[1])!==g(k)&&u()}));var s=t.Pop,c=a(),p=c[0],k=c[1],w=m(),x=m();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:g(e))}function C(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:y()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function S(e){s=e;var t=a();p=t[0],k=t[1],w.call({action:s,location:k})}function T(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var N={get action(){return s},get location(){return k},createHref:E,push:function e(n,a){var o=t.Push,u=C(n,a);if(_(o,u,(function(){e(n,a)}))){var s=I(u,p+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}S(o)}},replace:function e(n,r){var a=t.Replace,o=C(n,r);if(_(a,o,(function(){e(n,r)}))){var u=I(o,p),s=u[0],c=u[1];i.replaceState(s,"",c),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,v),function(){t(),x.length||r.removeEventListener(d,v)}}};return N}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var w=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function C(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=N(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||E(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&E(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var _=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(_.test(t)?3:""===t?1:10)}),r)}function N(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:R(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function D(){return null!=(0,r.useContext)(w)}function M(){return D()||E(!1),(0,r.useContext)(w).location}function L(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function F(e){E(!1)}function j(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;D()&&E(!1);var h=R(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=b(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,x=void 0===g?"":g,C=v.hash,I=void 0===C?"":C,_=v.state,S=void 0===_?null:_,T=v.key,N=void 0===T?"default":T,A=(0,r.useMemo)((function(){var e=O(y,h);return null==e?null:{pathname:e,search:x,hash:I,state:S,key:N}}),[h,y,x,I,S,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:A,navigationType:c}}))}function V(e){var t=e.children,n=e.location;return function(e,t){D()||E(!1);var n,i=(0,r.useContext)(x).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,M());if(t){var c,l="string"===typeof t?b(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||E(!1),n=l}else n=s;var f=n.pathname||"/",d=C(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,e.pathnameBase])})})),i)}(U(t),n)}function U(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==F&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=U(e.props.children)),t.push(n)}else t.push.apply(t,U(e.props.children))})),t}function z(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,u=c((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],l=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(j,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}var W=n(1694),K=n.n(W),H=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),G=H.Consumer;function Q(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var $,Y=function(){if(!Q()||!window.document.documentElement)return!1;if(void 0!==$)return $;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),$=1===e.scrollHeight,document.body.removeChild(e),$},X=["xxl","xl","lg","md","sm","xs"],J={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Z=new Map,ee=-1,te={},ne={matchHandlers:{},dispatch:function(e){return te=e,Z.forEach((function(e){return e(te)})),Z.size>=1},subscribe:function(e){return Z.size||this.register(),ee+=1,Z.set(ee,e),e(te),ee},unsubscribe:function(e){Z.delete(e),Z.size||this.unregister()},unregister:function(){var e=this;Object.keys(J).forEach((function(t){var n=J[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Z.clear()},register:function(){var e=this;Object.keys(J).forEach((function(t){var n=J[t],r=function(n){var r=n.matches;e.dispatch(l(l({},te),B({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},re=ne,ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},ae=(0,r.createContext)({}),oe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ue=(ie("top","middle","bottom","stretch"),ie("start","end","center","space-around","space-between","space-evenly"),r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.justify,o=e.align,u=e.className,s=e.style,f=e.children,d=e.gutter,h=void 0===d?0:d,p=e.wrap,v=oe(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=r.useContext(H),y=m.getPrefixCls,g=m.direction,b=c(r.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),k=b[0],w=b[1],x=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return r.useEffect((function(){n(Y())}),[]),t}(),E=r.useRef(h);r.useEffect((function(){var e=re.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===q(t)||Array.isArray(t)&&("object"===q(t[0])||"object"===q(t[1])))&&w(e)}));return function(){return re.unsubscribe(e)}}),[]);var C=y("row",i),I=function(){var e=[void 0,void 0];return(Array.isArray(h)?h:[h,void 0]).forEach((function(t,n){if("object"===q(t))for(var r=0;r<X.length;r++){var i=X[r];if(k[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),_=K()(C,(B(n={},"".concat(C,"-no-wrap"),!1===p),B(n,"".concat(C,"-").concat(a),a),B(n,"".concat(C,"-").concat(o),o),B(n,"".concat(C,"-rtl"),"rtl"===g),n),u),S={},T=null!=I[0]&&I[0]>0?I[0]/-2:void 0,N=null!=I[1]&&I[1]>0?I[1]/-2:void 0;if(T&&(S.marginLeft=T,S.marginRight=T),x){var A=c(I,2);S.rowGap=A[1]}else N&&(S.marginTop=N,S.marginBottom=N);var O=c(I,2),P=O[0],R=O[1],D=r.useMemo((function(){return{gutter:[P,R],wrap:p,supportFlexGap:x}}),[P,R,p,x]);return r.createElement(ae.Provider,{value:D},r.createElement("div",l({},v,{className:_,style:l(l({},S),s),ref:t}),f))})));var se=ue,ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var le=["xs","sm","md","lg","xl","xxl"],fe=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPrefixCls,o=i.direction,u=r.useContext(ae),s=u.gutter,c=u.wrap,f=u.supportFlexGap,d=e.prefixCls,h=e.span,p=e.order,v=e.offset,m=e.push,y=e.pull,g=e.className,b=e.children,k=e.flex,w=e.style,x=ce(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=a("col",d),C={};le.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===q(i)&&(r=i||{}),delete x[t],C=l(l({},C),(B(n={},"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),B(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),B(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),B(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),B(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),B(n,"".concat(E,"-rtl"),"rtl"===o),n))}));var I=K()(E,(B(n={},"".concat(E,"-").concat(h),void 0!==h),B(n,"".concat(E,"-order-").concat(p),p),B(n,"".concat(E,"-offset-").concat(v),v),B(n,"".concat(E,"-push-").concat(m),m),B(n,"".concat(E,"-pull-").concat(y),y),n),g,C),_={};if(s&&s[0]>0){var S=s[0]/2;_.paddingLeft=S,_.paddingRight=S}if(s&&s[1]>0&&!f){var T=s[1]/2;_.paddingTop=T,_.paddingBottom=T}return k&&(_.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(k),!1!==c||_.minWidth||(_.minWidth=0)),r.createElement("div",l({},x,{style:l(l({},_),w),className:I,ref:t}),b)}));var de=fe;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t){var n=pe({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var me=r.createContext(void 0),ye=me,ge=function(e){var t,n,i=e.prefixCls,a=e.className,o=e.style,u=e.size,s=e.shape,c=K()((B(t={},"".concat(i,"-lg"),"large"===u),B(t,"".concat(i,"-sm"),"small"===u),t)),f=K()((B(n={},"".concat(i,"-circle"),"circle"===s),B(n,"".concat(i,"-square"),"square"===s),B(n,"".concat(i,"-round"),"round"===s),n)),d="number"===typeof u?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return r.createElement("span",{className:K()(i,c,f,a),style:l(l({},d),o)})},be=function(e){var t=e.prefixCls,n=e.className,i=e.active,a=(0,r.useContext(H).getPrefixCls)("skeleton",t),o=ve(e,["prefixCls","className"]),u=K()(a,"".concat(a,"-element"),B({},"".concat(a,"-active"),i),n);return r.createElement("div",{className:u},r.createElement(ge,l({prefixCls:"".concat(a,"-avatar")},o)))};be.defaultProps={size:"default",shape:"circle"};var ke=be,we=function(e){var t,n=e.prefixCls,i=e.className,a=e.active,o=e.block,u=void 0!==o&&o,s=(0,r.useContext(H).getPrefixCls)("skeleton",n),c=ve(e,["prefixCls"]),f=K()(s,"".concat(s,"-element"),(B(t={},"".concat(s,"-active"),a),B(t,"".concat(s,"-block"),u),t),i);return r.createElement("div",{className:f},r.createElement(ge,l({prefixCls:"".concat(s,"-button")},c)))};we.defaultProps={size:"default"};var xe=we,Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};function Ce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ie=(0,r.createContext)({});function _e(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Se(e){return e<=1?"".concat(100*Number(e),"%"):e}function Te(e){return 1===e.length?"0"+e:String(e)}function Ne(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ae(e){return Oe(e)/255}function Oe(e){return parseInt(e,16)}var Pe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Re(e){var t,n,r,i={r:0,g:0,b:0},a=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Pe[e])e=Pe[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Fe.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Fe.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Fe.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Fe.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Fe.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Fe.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Fe.hex8.exec(e))return{r:Oe(n[1]),g:Oe(n[2]),b:Oe(n[3]),a:Ae(n[4]),format:t?"name":"hex8"};if(n=Fe.hex6.exec(e))return{r:Oe(n[1]),g:Oe(n[2]),b:Oe(n[3]),format:t?"name":"hex"};if(n=Fe.hex4.exec(e))return{r:Oe(n[1]+n[1]),g:Oe(n[2]+n[2]),b:Oe(n[3]+n[3]),a:Ae(n[4]+n[4]),format:t?"name":"hex8"};if(n=Fe.hex3.exec(e))return{r:Oe(n[1]+n[1]),g:Oe(n[2]+n[2]),b:Oe(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(je(e.r)&&je(e.g)&&je(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*_e(t,255),g:255*_e(n,255),b:255*_e(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):je(e.h)&&je(e.s)&&je(e.v)?(o=Se(e.s),u=Se(e.v),i=function(e,t,n){e=6*_e(e,360),t=_e(t,100),n=_e(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):je(e.h)&&je(e.s)&&je(e.l)&&(o=Se(e.s),s=Se(e.l),i=function(e,t,n){var r,i,a;if(e=_e(e,360),t=_e(t,100),n=_e(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=Ne(u,o,e+1/3),i=Ne(u,o,e),a=Ne(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(a),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var De="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Me="[\\s|\\(]+(".concat(De,")[,|\\s]+(").concat(De,")[,|\\s]+(").concat(De,")\\s*\\)?"),Le="[\\s|\\(]+(".concat(De,")[,|\\s]+(").concat(De,")[,|\\s]+(").concat(De,")[,|\\s]+(").concat(De,")\\s*\\)?"),Fe={CSS_UNIT:new RegExp(De),rgb:new RegExp("rgb"+Me),rgba:new RegExp("rgba"+Le),hsl:new RegExp("hsl"+Me),hsla:new RegExp("hsla"+Le),hsv:new RegExp("hsv"+Me),hsva:new RegExp("hsva"+Le),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function je(e){return Boolean(Fe.CSS_UNIT.exec(String(e)))}var Ve=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ue(e){var t=function(e,t,n){e=_e(e,255),t=_e(t,255),n=_e(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function ze(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[Te(Math.round(e).toString(16)),Te(Math.round(t).toString(16)),Te(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function Be(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function qe(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function We(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Ke(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function He(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Re(e),i=5;i>0;i-=1){var a=Ue(r),o=ze(Re({h:qe(a,i,!0),s:We(a,i,!0),v:Ke(a,i,!0)}));n.push(o)}n.push(ze(r));for(var u=1;u<=4;u+=1){var s=Ue(r),c=ze(Re({h:qe(s,u),s:We(s,u),v:Ke(s,u)}));n.push(c)}return"dark"===t.theme?Ve.map((function(e){var r=e.index,i=e.opacity;return ze(Be(Re(t.backgroundColor||"#141414"),Re(n[r]),100*i))})):n}var Ge={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Qe={},$e={};Object.keys(Ge).forEach((function(e){Qe[e]=He(Ge[e]),Qe[e].primary=Qe[e][5],$e[e]=He(Ge[e],{theme:"dark",backgroundColor:"#141414"}),$e[e].primary=$e[e][5]}));Qe.red,Qe.volcano,Qe.gold,Qe.orange,Qe.yellow,Qe.lime,Qe.green,Qe.cyan,Qe.blue,Qe.geekblue,Qe.purple,Qe.magenta,Qe.grey;var Ye={};function Xe(e,t){0}function Je(e,t,n){t||Ye[n]||(e(!1,n),Ye[n]=!0)}var Ze=function(e,t){Je(Xe,e,t)},et="data-rc-order",tt="rc-util-key",nt=new Map;function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):tt}function it(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function at(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function ot(e){return Array.from((nt.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Q())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(et,at(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var a=it(t),o=a.firstChild;if(r){if("queue"===r){var u=ot(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(et))}));if(u.length)return a.insertBefore(i,u[u.length-1].nextSibling),i}a.insertBefore(i,o)}else a.appendChild(i);return i}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=it(t);return ot(n).find((function(n){return n.getAttribute(rt(t))===e}))}function ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=it(n);if(!nt.has(r)){var i=ut("",n),a=i.parentNode;nt.set(r,a),a.removeChild(i)}var o=st(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=ut(e,n);return l.setAttribute(rt(n),t),l}function lt(e){return"object"===q(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===q(e.icon)||"function"===typeof e.icon)}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function dt(e,t,n){return n?r.createElement(e.tag,pe(pe({key:t},ft(e.attrs)),n),(e.children||[]).map((function(n,r){return dt(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,pe({key:t},ft(e.attrs)),(e.children||[]).map((function(n,r){return dt(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function ht(e){return He(e)[0]}function pt(e){return e?Array.isArray(e)?e:[e]:[]}var vt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",mt=["icon","className","onClick","style","primaryColor","secondaryColor"],yt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var gt=function(e){var t,n,i=e.icon,a=e.className,o=e.onClick,u=e.style,s=e.primaryColor,c=e.secondaryColor,l=Ce(e,mt),f=yt;if(s&&(f={primaryColor:s,secondaryColor:c||ht(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=(0,r.useContext)(Ie).csp;(0,r.useEffect)((function(){ct(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=lt(i),n="icon should be icon definiton, but got ".concat(i),Ze(t,"[@ant-design/icons] ".concat(n)),!lt(i))return null;var d=i;return d&&"function"===typeof d.icon&&(d=pe(pe({},d),{},{icon:d.icon(f.primaryColor,f.secondaryColor)})),dt(d.icon,"svg-".concat(d.name),pe({className:a,onClick:o,style:u,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};gt.displayName="IconReact",gt.getTwoToneColors=function(){return pe({},yt)},gt.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;yt.primaryColor=t,yt.secondaryColor=n||ht(t),yt.calculated=!!n};var bt=gt;function kt(e){var t=c(pt(e),2),n=t[0],r=t[1];return bt.setTwoToneColors({primaryColor:n,secondaryColor:r})}var wt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];kt("#1890ff");var xt=r.forwardRef((function(e,t){var n,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,l=e.onClick,f=e.twoToneColor,d=Ce(e,wt),h=r.useContext(Ie).prefixCls,p=void 0===h?"anticon":h,v=K()(p,(B(n={},"".concat(p,"-").concat(a.name),!!a.name),B(n,"".concat(p,"-spin"),!!o||"loading"===a.name),n),i),m=s;void 0===m&&l&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=c(pt(f),2),b=g[0],k=g[1];return r.createElement("span",pe(pe({role:"img","aria-label":a.name},d),{},{ref:t,tabIndex:m,onClick:l,className:v}),r.createElement(bt,{icon:a,primaryColor:b,secondaryColor:k,style:y}))}));xt.displayName="AntdIcon",xt.getTwoToneColor=function(){var e=bt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},xt.setTwoToneColor=kt;var Et=xt,Ct=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:Ee}))};Ct.displayName="DotChartOutlined";var It=r.forwardRef(Ct),_t=function(e){var t,n=e.prefixCls,i=e.className,a=e.style,o=e.active,u=(0,r.useContext(H).getPrefixCls)("skeleton",n),s=K()(u,"".concat(u,"-element"),B({},"".concat(u,"-active"),o),i),c=null!==(t=e.children)&&void 0!==t?t:r.createElement(It,null);return r.createElement("div",{className:s},r.createElement("div",{className:K()("".concat(u,"-image"),i),style:a},c))},St=function(e){var t=e.prefixCls,n=e.className,i=e.style,a=e.active,o=(0,r.useContext(H).getPrefixCls)("skeleton",t),u=K()(o,"".concat(o,"-element"),B({},"".concat(o,"-active"),a),n);return r.createElement("div",{className:u},r.createElement("div",{className:K()("".concat(o,"-image"),n),style:i},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(o,"-image-svg")},r.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(o,"-image-path")}))))},Tt=function(e){var t,n=e.prefixCls,i=e.className,a=e.active,o=e.block,u=(0,r.useContext(H).getPrefixCls)("skeleton",n),s=ve(e,["prefixCls"]),c=K()(u,"".concat(u,"-element"),(B(t={},"".concat(u,"-active"),a),B(t,"".concat(u,"-block"),o),t),i);return r.createElement("div",{className:c},r.createElement(ge,l({prefixCls:"".concat(u,"-input")},s)))};Tt.defaultProps={size:"default"};var Nt=Tt;function At(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ot(e){return function(e){if(Array.isArray(e))return o(e)}(e)||At(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pt=function(e){var t=function(t){var n=e.width,r=e.rows,i=void 0===r?2:r;return Array.isArray(n)?n[t]:i-1===t?n:void 0},n=e.prefixCls,i=e.className,a=e.style,o=e.rows,u=Ot(Array(o)).map((function(e,n){return r.createElement("li",{key:n,style:{width:t(n)}})}));return r.createElement("ul",{className:K()(n,i),style:a},u)},Rt=function(e){var t=e.prefixCls,n=e.className,i=e.width,a=e.style;return r.createElement("h3",{className:K()(t,n),style:l({width:i},a)})};function Dt(e){return e&&"object"===q(e)?e:{}}var Mt=function(e){var t=e.prefixCls,n=e.loading,i=e.className,a=e.style,o=e.children,u=e.avatar,s=e.title,c=e.paragraph,f=e.active,d=e.round,h=r.useContext(H),p=h.getPrefixCls,v=h.direction,m=p("skeleton",t);if(n||!("loading"in e)){var y,g,b,k=!!u,w=!!s,x=!!c;if(k){var E=l(l({prefixCls:"".concat(m,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(w,x)),Dt(u));g=r.createElement("div",{className:"".concat(m,"-header")},r.createElement(ge,l({},E)))}if(w||x){var C,I;if(w){var _=l(l({prefixCls:"".concat(m,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(k,x)),Dt(s));C=r.createElement(Rt,l({},_))}if(x){var S=l(l({prefixCls:"".concat(m,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(k,w)),Dt(c));I=r.createElement(Pt,l({},S))}b=r.createElement("div",{className:"".concat(m,"-content")},C,I)}var T=K()(m,(B(y={},"".concat(m,"-with-avatar"),k),B(y,"".concat(m,"-active"),f),B(y,"".concat(m,"-rtl"),"rtl"===v),B(y,"".concat(m,"-round"),d),y),i);return r.createElement("div",{className:T,style:a},g,b)}return"undefined"!==typeof o?o:null};Mt.defaultProps={avatar:!1,title:!0,paragraph:!0},Mt.Button=xe,Mt.Avatar=ke,Mt.Input=Nt,Mt.Image=St,Mt.Node=_t;var Lt=Mt,Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},jt=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:Ft}))};jt.displayName="CloseOutlined";var Vt=r.forwardRef(jt),Ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},zt=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:Ut}))};zt.displayName="EllipsisOutlined";var Bt=r.forwardRef(zt),qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Wt=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:qt}))};Wt.displayName="PlusOutlined";var Kt=r.forwardRef(Wt),Ht=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function Gt(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Qt,$t=Q()?r.useLayoutEffect:r.useEffect,Yt=$t;function Xt(e){var t=r.useRef(!1),n=c(r.useState(e),2),i=n[0],a=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||a(e)}]}function Jt(e){return void 0!==e}function Zt(e,t){var n=t||{},i=n.defaultValue,a=n.value,o=n.onChange,u=n.postState,s=c(Xt((function(){var t,n=void 0;return Jt(a)?(n=a,t=Qt.PROP):Jt(i)?(n="function"===typeof i?i():i,t=Qt.PROP):(n="function"===typeof e?e():e,t=Qt.INNER),[n,t,n]})),2),l=s[0],f=s[1],d=Jt(a)?a:l[0],h=u?u(d):d;!function(e,t){var n=r.useRef(!0);$t((function(){if(!n.current)return e()}),t),$t((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){f((function(e){var t=c(e,1)[0];return[a,Qt.PROP,t]}))}),[a]);var p=r.useRef(),v=Gt((function(e,t){f((function(t){var n=c(t,3),r=n[0],i=n[1],a=n[2],o="function"===typeof e?e(r):e;if(o===r)return t;var u=i===Qt.INNER&&p.current!==a?a:r;return[o,Qt.INNER,u]}),t)})),m=Gt(o);return Yt((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===Qt.INNER&&(m(t,r),p.current=r)}),[l]),[h,v]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(Qt||(Qt={}));var en=n(4164);function tn(e){return e instanceof HTMLElement?e:en.findDOMNode(e)}var nn=n(3873);function rn(e,t){"function"===typeof e?e(t):"object"===q(e)&&e&&"current"in e&&(e.current=t)}function an(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){rn(t,e)}))}}function on(e){var t,n,r=(0,nn.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function un(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var sn=function(e,t){var n={animationend:un("Animation","AnimationEnd"),transitionend:un("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Q(),"undefined"!==typeof window?window:{}),cn={};if(Q()){var ln=document.createElement("div");cn=ln.style}var fn={};function dn(e){if(fn[e])return fn[e];var t=sn[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in cn)return fn[e]=t[a],fn[e]}return""}var hn=dn("animationend"),pn=dn("transitionend"),vn=!(!hn||!pn),mn=hn||"animationend",yn=pn||"transitionend";function gn(e,t){return e?"object"===q(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var bn="none",kn="appear",wn="enter",xn="leave",En="none",Cn="prepare",In="start",_n="active",Sn="end",Tn=function(e){return+setTimeout(e,16)},Nn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Tn=function(e){return window.requestAnimationFrame(e)},Nn=function(e){return window.cancelAnimationFrame(e)});var An=0,On=new Map;function Pn(e){On.delete(e)}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=An+=1;function r(t){if(0===t)Pn(n),e();else{var i=Tn((function(){r(t-1)}));On.set(n,i)}}return r(t),n}Rn.cancel=function(e){var t=On.get(e);return Pn(t),Nn(t)};var Dn=Q()?r.useLayoutEffect:r.useEffect,Mn=[Cn,In,_n,Sn];function Ln(e){return e===_n||e===Sn}var Fn=function(e,t){var n=c(Xt(En),2),i=n[0],a=n[1],o=function(){var e=r.useRef(null);function t(){Rn.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Rn((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),u=c(o,2),s=u[0],l=u[1];return Dn((function(){if(i!==En&&i!==Sn){var e=Mn.indexOf(i),n=Mn[e+1],r=t(i);false===r?a(n,!0):s((function(e){function t(){e.isCanceled()||a(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),r.useEffect((function(){return function(){l()}}),[]),[function(){a(Cn,!0)},i]};function jn(e,t,n,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,l=i.motionLeave,f=void 0===l||l,d=i.motionDeadline,h=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,b=i.onLeaveStart,k=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,E=i.onAppearEnd,C=i.onEnterEnd,I=i.onLeaveEnd,_=i.onVisibleChanged,S=c(Xt(),2),T=S[0],N=S[1],A=c(Xt(bn),2),O=A[0],P=A[1],R=c(Xt(null),2),D=R[0],M=R[1],L=(0,r.useRef)(!1),F=(0,r.useRef)(null);function j(){return n()}var V=(0,r.useRef)(!1);function U(e){var t=j();if(!e||e.deadline||e.target===t){var n,r=V.current;O===kn&&r?n=null===E||void 0===E?void 0:E(t,e):O===wn&&r?n=null===C||void 0===C?void 0:C(t,e):O===xn&&r&&(n=null===I||void 0===I?void 0:I(t,e)),O!==bn&&r&&!1!==n&&(P(bn,!0),M(null,!0))}}var z=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(yn,i),e.removeEventListener(mn,i))}return r.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(yn,i),e.addEventListener(mn,i),t.current=e)},a]}(U),q=c(z,1)[0],W=r.useMemo((function(){var e,t,n;switch(O){case kn:return B(e={},Cn,p),B(e,In,y),B(e,_n,k),e;case wn:return B(t={},Cn,v),B(t,In,g),B(t,_n,w),t;case xn:return B(n={},Cn,m),B(n,In,b),B(n,_n,x),n;default:return{}}}),[O]),K=c(Fn(O,(function(e){if(e===Cn){var t=W.prepare;return!!t&&t(j())}var n;G in W&&M((null===(n=W[G])||void 0===n?void 0:n.call(W,j(),null))||null);return G===_n&&(q(j()),d>0&&(clearTimeout(F.current),F.current=setTimeout((function(){U({deadline:!0})}),d))),true})),2),H=K[0],G=K[1],Q=Ln(G);V.current=Q,Dn((function(){N(t);var n,r=L.current;(L.current=!0,e)&&(!r&&t&&s&&(n=kn),r&&t&&o&&(n=wn),(r&&!t&&f||!r&&h&&!t&&f)&&(n=xn),n&&(P(n),H()))}),[t]),(0,r.useEffect)((function(){(O===kn&&!s||O===wn&&!o||O===xn&&!f)&&P(bn)}),[s,o,f]),(0,r.useEffect)((function(){return function(){L.current=!1,clearTimeout(F.current)}}),[]);var $=r.useRef(!1);(0,r.useEffect)((function(){T&&($.current=!0),void 0!==T&&O===bn&&(($.current||T)&&(null===_||void 0===_||_(T)),$.current=!0)}),[T,O]);var Y=D;return W.prepare&&G===In&&(Y=pe({transition:"none"},Y)),[O,G,Y,null!==T&&void 0!==T?T:t]}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t,n){return t&&Un(e.prototype,t),n&&Un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bn(e,t){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bn(e,t)}function qn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bn(e,t)}function Wn(e){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(e)}function Kn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e,t){if(t&&("object"===q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hn(e)}function Qn(e){var t=Kn();return function(){var n,r=Wn(e);if(t){var i=Wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gn(this,n)}}var $n=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),Yn=$n;var Xn=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===q(e)&&(t=e.transitionSupport);var i=r.forwardRef((function(e,t){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,s=e.forceRender,l=e.children,f=e.motionName,d=e.leavedClassName,h=e.eventProps,p=n(e),v=(0,r.useRef)(),m=(0,r.useRef)();var y=c(jn(p,a,(function(){try{return v.current instanceof HTMLElement?v.current:tn(m.current)}catch(e){return null}}),e),4),g=y[0],b=y[1],k=y[2],w=y[3],x=r.useRef(w);w&&(x.current=!0);var E,C=r.useCallback((function(e){v.current=e,rn(t,e)}),[t]),I=pe(pe({},h),{},{visible:a});if(l)if(g!==bn&&n(e)){var _,S;b===Cn?S="prepare":Ln(b)?S="active":b===In&&(S="start"),E=l(pe(pe({},I),{},{className:K()(gn(f,g),(_={},B(_,gn(f,"".concat(g,"-").concat(S)),S),B(_,f,"string"===typeof f),_)),style:k}),C)}else E=w?l(pe({},I),C):!u&&x.current?l(pe(pe({},I),{},{className:d}),C):s?l(pe(pe({},I),{},{style:{display:"none"}}),C):null;else E=null;r.isValidElement(E)&&on(E)&&(E.ref||(E=r.cloneElement(E,{ref:C})));return r.createElement(Yn,{ref:m},E)}));return i.displayName="CSSMotion",i}(vn),Jn="add",Zn="keep",er="remove",tr="removed";function nr(e){var t;return pe(pe({},t=e&&"object"===q(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(nr)}function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=rr(e),o=rr(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return pe(pe({},e),{},{status:Jn})}))),r=a),n.push(pe(pe({},u),{},{status:Zn})),r+=1,t=!0;break}}t||n.push(pe(pe({},e),{},{status:er}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return pe(pe({},e),{},{status:Jn})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==er}))).forEach((function(t){t.key===e&&(t.status=Zn)}))})),n}var ar=["component","children","onVisibleChanged","onAllRemoved"],or=["status"],ur=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn,n=function(e){qn(i,e);var n=Qn(i);function i(){var e;Vn(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:pe(pe({},e),{},{status:tr})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==tr})).length},e}return zn(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=Ce(i,ar),f=a||r.Fragment,d={};return ur.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,r.createElement(f,c,n.map((function(n){var i=n.status,a=Ce(n,or),c=i===Jn||i===Zn;return r.createElement(t,l({},d,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=rr(n);return{keyEntities:ir(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==tr||e.status!==er}))}}}]),i}(r.Component);n.defaultProps={component:"div"}}(vn);var sr=Xn,cr=(0,r.createContext)(null),lr=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,a=e.style,o=e.id,u=e.active,s=e.tabKey,c=e.children;return r.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!u,style:a,className:K()(n,u&&"".concat(n,"-active"),i),ref:t},c)}));var fr=lr,dr=["key","forceRender","style","className"];function hr(e){var t=e.id,n=e.activeKey,i=e.animated,a=e.tabPosition,o=e.destroyInactiveTabPane,u=r.useContext(cr),s=u.prefixCls,c=u.tabs,f=i.tabPane,d="".concat(s,"-tabpane");return r.createElement("div",{className:K()("".concat(s,"-content-holder"))},r.createElement("div",{className:K()("".concat(s,"-content"),"".concat(s,"-content-").concat(a),B({},"".concat(s,"-content-animated"),f))},c.map((function(e){var a=e.key,u=e.forceRender,s=e.style,c=e.className,h=Ce(e,dr),p=a===n;return r.createElement(sr,l({key:a,visible:p,forceRender:u,removeOnLeave:!!o,leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),(function(e,n){var i=e.style,o=e.className;return r.createElement(fr,l({},h,{prefixCls:d,id:t,tabKey:a,animated:f,active:p,style:pe(pe({},s),i),className:K()(c,o),ref:n}))}))}))))}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(pr(e)):(0,nn.isFragment)(e)&&e.props?n=n.concat(pr(e.props.children,t)):n.push(e))})),n}var vr=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),mr="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,yr="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),gr="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(yr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var br=["top","right","bottom","left","width","height","size","weight"],kr="undefined"!==typeof MutationObserver,wr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function o(){gr(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){mr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){mr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;br.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),xr=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Er=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||yr},Cr=Ar(0,0,0,0);function Ir(e){return parseFloat(e)||0}function _r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ir(e["border-"+n+"-width"])}),0)}function Sr(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Cr;var r=Er(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Ir(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=Ir(r.width),s=Ir(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=_r(r,"left","right")+a),Math.round(s+o)!==n&&(s-=_r(r,"top","bottom")+o)),!function(e){return e===Er(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return Ar(i.left,i.top,u,s)}var Tr="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Er(e).SVGGraphicsElement}:function(e){return e instanceof Er(e).SVGElement&&"function"===typeof e.getBBox};function Nr(e){return mr?Tr(e)?function(e){var t=e.getBBox();return Ar(0,0,t.width,t.height)}(e):Sr(e):Cr}function Ar(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Or=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ar(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Nr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Pr=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return xr(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);xr(this,{target:e,contentRect:n})},Rr=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new vr,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Er(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Or(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Er(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Pr(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Dr="undefined"!==typeof WeakMap?new WeakMap:new vr,Mr=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=wr.getInstance(),r=new Rr(t,n,this);Dr.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Mr.prototype[e]=function(){var t;return(t=Dr.get(this))[e].apply(t,arguments)}}));var Lr="undefined"!==typeof yr.ResizeObserver?yr.ResizeObserver:Mr,Fr=new Map;var jr=new Lr((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Fr.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Vr=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),Ur=r.createContext(null);function zr(e){var t=e.children,n=e.disabled,i=r.useRef(null),a=r.useRef(null),o=r.useContext(Ur),u="function"===typeof t,s=u?t(i):t,c=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!u&&r.isValidElement(s)&&on(s),f=l?s.ref:null,d=r.useMemo((function(){return an(f,i)}),[f,i]),h=r.useRef(e);h.current=e;var p=r.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),d=Math.floor(u);if(c.current.width!==f||c.current.height!==d||c.current.offsetWidth!==s||c.current.offsetHeight!==l){var p={width:f,height:d,offsetWidth:s,offsetHeight:l};c.current=p;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,y=pe(pe({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return r.useEffect((function(){var e,t,r=tn(i.current)||tn(a.current);return r&&!n&&(e=r,t=p,Fr.has(e)||(Fr.set(e,new Set),jr.observe(e)),Fr.get(e).add(t)),function(){return function(e,t){Fr.has(e)&&(Fr.get(e).delete(t),Fr.get(e).size||(jr.unobserve(e),Fr.delete(e)))}(r,p)}}),[i.current,n]),r.createElement(Vr,{ref:a},l?r.cloneElement(s,{ref:d}):s)}function Br(e){var t=e.children;return("function"===typeof t?[t]:pr(t)).map((function(t,n){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(zr,l({},e,{key:i}),t)}))}Br.Collection=function(e){var t=e.children,n=e.onBatchResize,i=r.useRef(0),a=r.useRef([]),o=r.useContext(Ur),u=r.useCallback((function(e,t,r){i.current+=1;var u=i.current;a.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){u===i.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,r)}),[n,o]);return r.createElement(Ur.Provider,{value:u},t)};var qr=Br;function Wr(e){var t=(0,r.useRef)(),n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return n.current=!1,function(){n.current=!0,Rn.cancel(t.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(Rn.cancel(t.current),t.current=Rn((function(){e.apply(void 0,i)})))}}var Kr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Kr.F1&&t<=Kr.F12)return!1;switch(t){case Kr.ALT:case Kr.CAPS_LOCK:case Kr.CONTEXT_MENU:case Kr.CTRL:case Kr.DOWN:case Kr.END:case Kr.ESC:case Kr.HOME:case Kr.INSERT:case Kr.LEFT:case Kr.MAC_FF_META:case Kr.META:case Kr.NUMLOCK:case Kr.NUM_CENTER:case Kr.PAGE_DOWN:case Kr.PAGE_UP:case Kr.PAUSE:case Kr.PRINT_SCREEN:case Kr.RIGHT:case Kr.SHIFT:case Kr.UP:case Kr.WIN_KEY:case Kr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Kr.ZERO&&e<=Kr.NINE)return!0;if(e>=Kr.NUM_ZERO&&e<=Kr.NUM_MULTIPLY)return!0;if(e>=Kr.A&&e<=Kr.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Kr.SPACE:case Kr.QUESTION_MARK:case Kr.NUM_PLUS:case Kr.NUM_MINUS:case Kr.NUM_PERIOD:case Kr.NUM_DIVISION:case Kr.SEMICOLON:case Kr.DASH:case Kr.EQUALS:case Kr.COMMA:case Kr.PERIOD:case Kr.SLASH:case Kr.APOSTROPHE:case Kr.SINGLE_QUOTE:case Kr.OPEN_SQUARE_BRACKET:case Kr.BACKSLASH:case Kr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Hr=Kr;function Gr(e,t){var n,i=e.prefixCls,a=e.id,o=e.active,u=e.tab,s=u.key,c=u.label,l=u.disabled,f=u.closeIcon,d=e.closable,h=e.renderWrapper,p=e.removeAriaLabel,v=e.editable,m=e.onClick,y=e.onRemove,g=e.onFocus,b=e.style,k="".concat(i,"-tab");r.useEffect((function(){return y}),[]);var w=v&&!1!==d&&!l;function x(e){l||m(e)}var E=r.createElement("div",{key:s,ref:t,className:K()(k,(n={},B(n,"".concat(k,"-with-remove"),w),B(n,"".concat(k,"-active"),o),B(n,"".concat(k,"-disabled"),l),n)),style:b,onClick:x},r.createElement("div",{role:"tab","aria-selected":o,id:a&&"".concat(a,"-tab-").concat(s),className:"".concat(k,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(e){e.stopPropagation(),x(e)},onKeyDown:function(e){[Hr.SPACE,Hr.ENTER].includes(e.which)&&(e.preventDefault(),x(e))},onFocus:g},c),w&&r.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(k,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:s,event:t})}},f||v.removeIcon||"\xd7"));return h?h(E):E}var Qr=r.forwardRef(Gr),$r={width:0,height:0,left:0,top:0};var Yr={width:0,height:0,left:0,top:0,right:0};var Xr=n(9613),Jr=n.n(Xr),Zr=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],ei=void 0;function ti(e,t){var n=e.prefixCls,i=e.invalidate,a=e.item,o=e.renderItem,u=e.responsive,s=e.responsiveDisabled,c=e.registerSize,f=e.itemKey,d=e.className,h=e.style,p=e.children,v=e.display,m=e.order,y=e.component,g=void 0===y?"div":y,b=Ce(e,Zr),k=u&&!v;function w(e){c(f,e)}r.useEffect((function(){return function(){w(null)}}),[]);var x,E=o&&a!==ei?o(a):p;i||(x={opacity:k?0:1,height:k?0:ei,overflowY:k?"hidden":ei,order:u?m:ei,pointerEvents:k?"none":ei,position:k?"absolute":ei});var C={};k&&(C["aria-hidden"]=!0);var I=r.createElement(g,l({className:K()(!i&&n,d),style:pe(pe({},x),h)},C,b,{ref:t}),E);return u&&(I=r.createElement(qr,{onResize:function(e){w(e.offsetWidth)},disabled:s},I)),I}var ni=r.forwardRef(ti);ni.displayName="Item";var ri=ni;var ii=["component"],ai=["className"],oi=["className"],ui=function(e,t){var n=r.useContext(fi);if(!n){var i=e.component,a=void 0===i?"div":i,o=Ce(e,ii);return r.createElement(a,l({},o,{ref:t}))}var u=n.className,s=Ce(n,ai),c=e.className,f=Ce(e,oi);return r.createElement(fi.Provider,{value:null},r.createElement(ri,l({ref:t,className:K()(u,c)},s,f)))},si=r.forwardRef(ui);si.displayName="RawItem";var ci=si,li=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],fi=r.createContext(null),di="responsive",hi="invalidate";function pi(e){return"+ ".concat(e.length," ...")}function vi(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,a=e.data,o=void 0===a?[]:a,u=e.renderItem,s=e.renderRawItem,f=e.itemKey,d=e.itemWidth,h=void 0===d?10:d,p=e.ssr,v=e.style,m=e.className,y=e.maxCount,g=e.renderRest,b=e.renderRawRest,k=e.suffix,w=e.component,x=void 0===w?"div":w,E=e.itemComponent,C=e.onVisibleChange,I=Ce(e,li),_=function(){var e=c(Xt({}),2)[1],t=(0,r.useRef)([]),n=0,i=0;return function(r){var a=n;return n+=1,t.current.length<a+1&&(t.current[a]=r),[t.current[a],function(n){t.current[a]="function"===typeof n?n(t.current[a]):n,Rn.cancel(i),i=Rn((function(){e({},!0)}))}]}}(),S="full"===p,T=c(_(null),2),N=T[0],A=T[1],O=N||0,P=c(_(new Map),2),R=P[0],D=P[1],M=c(_(0),2),L=M[0],F=M[1],j=c(_(0),2),V=j[0],U=j[1],z=c(_(0),2),B=z[0],q=z[1],W=c((0,r.useState)(null),2),H=W[0],G=W[1],Q=c((0,r.useState)(null),2),$=Q[0],Y=Q[1],X=r.useMemo((function(){return null===$&&S?Number.MAX_SAFE_INTEGER:$||0}),[$,N]),J=c((0,r.useState)(!1),2),Z=J[0],ee=J[1],te="".concat(i,"-item"),ne=Math.max(L,V),re=y===di,ie=o.length&&re,ae=y===hi,oe=ie||"number"===typeof y&&o.length>y,ue=(0,r.useMemo)((function(){var e=o;return ie?e=null===N&&S?o:o.slice(0,Math.min(o.length,O/h)):"number"===typeof y&&(e=o.slice(0,y)),e}),[o,h,N,y,ie]),se=(0,r.useMemo)((function(){return ie?o.slice(X+1):o.slice(ue.length)}),[o,ue,ie,X]),ce=(0,r.useCallback)((function(e,t){var n;return"function"===typeof f?f(e):null!==(n=f&&(null===e||void 0===e?void 0:e[f]))&&void 0!==n?n:t}),[f]),le=(0,r.useCallback)(u||function(e){return e},[u]);function fe(e,t,n){($!==e||void 0!==t&&t!==H)&&(Y(e),n||(ee(e<o.length-1),null===C||void 0===C||C(e)),void 0!==t&&G(t))}function de(e,t){D((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function he(e){return R.get(ce(ue[e],e))}Yt((function(){if(O&&ne&&ue){var e=B,t=ue.length,n=t-1;if(!t)return void fe(0,null);for(var r=0;r<t;r+=1){var i=he(r);if(S&&(i=i||0),void 0===i){fe(r-1,void 0,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+he(n)<=O){fe(n,null);break}if(e+ne>O){fe(r-1,e-i-B+V);break}}k&&he(0)+B>O&&G(null)}}),[O,R,V,B,ce,ue]);var ve=Z&&!!se.length,me={};null!==H&&ie&&(me={position:"absolute",left:H,top:0});var ye,ge={prefixCls:te,responsive:ie,component:E,invalidate:ae},be=s?function(e,t){var n=ce(e,t);return r.createElement(fi.Provider,{key:n,value:pe(pe({},ge),{},{order:t,item:e,itemKey:n,registerSize:de,display:t<=X})},s(e,t))}:function(e,t){var n=ce(e,t);return r.createElement(ri,l({},ge,{order:t,key:n,item:e,renderItem:le,itemKey:n,registerSize:de,display:t<=X}))},ke={order:ve?X:Number.MAX_SAFE_INTEGER,className:"".concat(te,"-rest"),registerSize:function(e,t){U(t),F(V)},display:ve};if(b)b&&(ye=r.createElement(fi.Provider,{value:pe(pe({},ge),ke)},b(se)));else{var we=g||pi;ye=r.createElement(ri,l({},ge,ke),"function"===typeof we?we(se):we)}var xe=r.createElement(x,l({className:K()(!ae&&i,m),style:v,ref:t},I),ue.map(be),oe?ye:null,k&&r.createElement(ri,l({},ge,{responsive:re,responsiveDisabled:!ie,order:X,className:"".concat(te,"-suffix"),registerSize:function(e,t){q(t)},display:!0,style:me}),k));return re&&(xe=r.createElement(qr,{onResize:function(e,t){A(t.clientWidth)},disabled:!ie},xe)),xe}var mi=r.forwardRef(vi);mi.displayName="Overflow",mi.Item=ci,mi.RESPONSIVE=di,mi.INVALIDATE=hi;var yi=mi,gi=["children","locked"],bi=r.createContext(null);function ki(e){var t=e.children,n=e.locked,i=Ce(e,gi),a=r.useContext(bi),o=function(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}((function(){return function(e,t){var n=pe({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,i)}),[a,i],(function(e,t){return!n&&(e[0]!==t[0]||!Jr()(e[1],t[1]))}));return r.createElement(bi.Provider,{value:o},t)}function wi(e,t,n,i){var a=r.useContext(bi),o=a.activeKey,u=a.onActive,s=a.onInactive,c={active:o===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),u(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),s(e)}),c}var xi=["item"];function Ei(e){var t=e.item,n=Ce(e,xi);return Object.defineProperty(n,"item",{get:function(){return Ze(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Ci(e){var t=e.icon,n=e.props,i=e.children;return("function"===typeof t?r.createElement(t,pe({},n)):t)||i||null}function Ii(e){var t=r.useContext(bi),n=t.mode,i=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return i?{paddingRight:e*a}:{paddingLeft:e*a}}var _i=[],Si=r.createContext(null);function Ti(){return r.useContext(Si)}var Ni=r.createContext(_i);function Ai(e){var t=r.useContext(Ni);return r.useMemo((function(){return void 0!==e?[].concat(Ot(t),[e]):t}),[t,e])}var Oi=r.createContext(null),Pi=r.createContext(null);function Ri(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Di(e){return Ri(r.useContext(Pi),e)}var Mi=r.createContext({}),Li=["title","attribute","elementRef"],Fi=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ji=["active"],Vi=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=ve(Ce(e,Li),["eventKey"]);return Ze(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(yi.Item,l({},n,{title:"string"===typeof t?t:void 0},a,{ref:i}))}}]),n}(r.Component),Ui=function(e){var t,n=e.style,i=e.className,a=e.eventKey,o=(e.warnKey,e.disabled),u=e.itemIcon,s=e.children,c=e.role,f=e.onMouseEnter,d=e.onMouseLeave,h=e.onClick,p=e.onKeyDown,v=e.onFocus,m=Ce(e,Fi),y=Di(a),g=r.useContext(bi),b=g.prefixCls,k=g.onItemClick,w=g.disabled,x=g.overflowDisabled,E=g.itemIcon,C=g.selectedKeys,I=g.onActive,_=r.useContext(Mi)._internalRenderMenuItem,S="".concat(b,"-item"),T=r.useRef(),N=r.useRef(),A=w||o,O=Ai(a);var P=function(e){return{key:a,keyPath:Ot(O).reverse(),item:T.current,domEvent:e}},R=u||E,D=wi(a,A,f,d),M=D.active,L=Ce(D,ji),F=C.includes(a),j=Ii(O.length),V={};"option"===e.role&&(V["aria-selected"]=F);var U=r.createElement(Vi,l({ref:T,elementRef:N,role:null===c?"none":c||"menuitem",tabIndex:o?null:-1,"data-menu-id":x&&y?null:y},m,L,V,{component:"li","aria-disabled":o,style:pe(pe({},j),n),className:K()(S,(t={},B(t,"".concat(S,"-active"),M),B(t,"".concat(S,"-selected"),F),B(t,"".concat(S,"-disabled"),A),t),i),onClick:function(e){if(!A){var t=P(e);null===h||void 0===h||h(Ei(t)),k(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===Hr.ENTER){var t=P(e);null===h||void 0===h||h(Ei(t)),k(t)}},onFocus:function(e){I(a),null===v||void 0===v||v(e)}}),s,r.createElement(Ci,{props:pe(pe({},e),{},{isSelected:F}),icon:R}));return _&&(U=_(U,e,{selected:F})),U};var zi=function(e){var t=e.eventKey,n=Ti(),i=Ai(t);return r.useEffect((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r.createElement(Ui,e)},Bi=["label","children","key","type"];function qi(e,t){return pr(e).map((function(e,n){if(r.isValidElement(e)){var i,a,o=e.key,u=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o;(null===u||void 0===u)&&(u="tmp_key-".concat([].concat(Ot(t),[n]).join("-")));var s={key:u,eventKey:u};return r.cloneElement(e,s)}return e}))}function Wi(e){return(e||[]).map((function(e,t){if(e&&"object"===q(e)){var n=e.label,i=e.children,a=e.key,o=e.type,u=Ce(e,Bi),s=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?r.createElement(pu,l({key:s},u,{title:n}),Wi(i)):r.createElement(zo,l({key:s},u,{title:n}),Wi(i)):"divider"===o?r.createElement(vu,l({key:s},u)):r.createElement(zi,l({key:s},u),n)}return null})).filter((function(e){return e}))}function Ki(e,t,n){var r=e;return t&&(r=Wi(t)),qi(r,n)}function Hi(e){var t=r.useRef(e);t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var Gi=["className","children"],Qi=function(e,t){var n=e.className,i=e.children,a=Ce(e,Gi),o=r.useContext(bi),u=o.prefixCls,s=o.mode,c=o.rtl;return r.createElement("ul",l({className:K()(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===s?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},$i=r.forwardRef(Qi);$i.displayName="SubMenuList";var Yi=$i;function Xi(e,t){return!!e&&e.contains(t)}function Ji(e,t,n,r){var i=en.unstable_batchedUpdates?function(e){en.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var Zi=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,a=e.children,o=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var s=(0,r.useRef)(!1);return!s.current&&Q()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?en.createPortal(a,u.current):null})),ea=Zi;function ta(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function na(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function ra(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,u=e.maskAnimation,s=e.maskTransitionName;if(!a)return null;var c={};return(o||s||u)&&(c=pe({motionAppear:!0},na({motion:o,prefixCls:t,transitionName:s,animation:u}))),r.createElement(sr,l({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:i},className:K()("".concat(t,"-mask"),n)})}))}var ia,aa=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}return!1};function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e){return sa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(e)}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var la={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function fa(){if(void 0!==ia)return ia;ia="";var e=document.createElement("p").style;for(var t in la)t+"Transform"in e&&(ia=t);return ia}function da(){return fa()?"".concat(fa(),"TransitionProperty"):"transitionProperty"}function ha(){return fa()?"".concat(fa(),"Transform"):"transform"}function pa(e,t){var n=da();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function va(e,t){var n=ha();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var ma,ya=/matrix\((.*)\)/,ga=/matrix3d\((.*)\)/;function ba(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ka(e,t,n){var r=n;if("object"!==sa(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):ma(e,t);for(var i in t)t.hasOwnProperty(i)&&ka(e,i,t[i])}function wa(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function xa(e){return wa(e)}function Ea(e){return wa(e,!0)}function Ca(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=xa(r),t.top+=Ea(r),t}function Ia(e){return null!==e&&void 0!==e&&e==e.window}function _a(e){return Ia(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Sa=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Ta=/^(top|right|bottom|left)$/;function Na(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Aa(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Oa(e,t,n){"static"===ka(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=Na("left",n),o=Na("top",n),u=Aa(a),s=Aa(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=Ca(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[da()]||"",pa(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),ba(e);var d=Ca(e),h={};for(var p in t)if(t.hasOwnProperty(p)){var v=Na(p,n),m="left"===p?r:i,y=f[p]-d[p];h[v]=v===p?m+y:m-y}ka(e,h),ba(e),("left"in t||"top"in t)&&pa(e,l);var g={};for(var b in t)if(t.hasOwnProperty(b)){var k=Na(b,n),w=t[b]-f[b];g[k]=b===k?h[k]+w:h[k]-w}ka(e,g)}function Pa(e,t){var n=Ca(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(ha());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(ha());if(r&&"none"!==r){var i,a=r.match(ya);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,va(e,"matrix(".concat(i.join(","),")"))):((i=r.match(ga)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,va(e,"matrix3d(".concat(i.join(","),")")))}else va(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function Ra(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Da(e){return"border-box"===ma(e,"boxSizing")}"undefined"!==typeof window&&(ma=window.getComputedStyle?function(e,t,n){var r=n,i="",a=_a(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(Sa.test(n)&&!Ta.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var Ma=["margin","border","padding"];function La(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function Fa(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(ma(e,u))||0}return o}var ja={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Va(e,t,n){var r=n;if(Ia(e))return"width"===t?ja.viewportWidth(e):ja.viewportHeight(e);if(9===e.nodeType)return"width"===t?ja.docWidth(e):ja.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=Da(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=ma(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-Fa(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-Fa(e,["border"],i):Fa(e,["margin"],i)):u+Fa(e,Ma.slice(r),i)}Ra(["Width","Height"],(function(e){ja["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],ja["viewport".concat(e)](n))},ja["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var Ua={position:"absolute",visibility:"hidden",display:"block"};function za(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Va.apply(void 0,t):La(i,Ua,(function(){r=Va.apply(void 0,t)})),r}function Ba(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Ra(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);ja["outer".concat(t)]=function(t,n){return t&&za(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];ja[e]=function(t,r){var i=r;return void 0!==i?t?(Da(t)&&(i+=Fa(t,["padding","border"],n)),ka(t,e,i)):void 0:t&&za(t,e,-1)}}));var qa={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:_a,offset:function(e,t,n){if("undefined"===typeof t)return Ca(e);!function(e,t,n){if(n.ignoreShake){var r=Ca(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?Oa(e,t,n):n.useCssTransform&&ha()in document.body.style?Pa(e,t):Oa(e,t,n)}(e,t,n||{})},isWindow:Ia,each:Ra,css:ka,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Ba,getWindowScrollLeft:function(e){return xa(e)},getWindowScrollTop:function(e){return Ea(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)qa.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Ba(qa,ja);var Wa=qa.getParent;function Ka(e){if(qa.isWindow(e)||9===e.nodeType)return null;var t,n=qa.getDocument(e).body,r=qa.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Wa(e);for(t=Wa(e);t&&t!==n&&9!==t.nodeType;t=Wa(t))if("static"!==(r=qa.css(t,"position")))return t;return null}var Ha=qa.getParent;function Ga(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Ka(e),i=qa.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===qa.css(r,"overflow")){if(r===o||r===u)break}else{var s=qa.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=Ka(r)}var c=null;qa.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===qa.css(e,"position")&&(e.style.position="fixed"));var l=qa.getWindowScrollLeft(a),f=qa.getWindowScrollTop(a),d=qa.viewportWidth(a),h=qa.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(qa.isWindow(e)||9===e.nodeType)return!1;var t=qa.getDocument(e),n=t.body,r=null;for(r=Ha(e);r&&r!==n&&r!==t;r=Ha(r))if("fixed"===qa.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+d),n.bottom=Math.min(n.bottom,f+h);else{var y=Math.max(p,l+d);n.right=Math.min(n.right,y);var g=Math.max(v,f+h);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Qa(e){var t,n,r;if(qa.isWindow(e)||9===e.nodeType){var i=qa.getWindow(e);t={left:qa.getWindowScrollLeft(i),top:qa.getWindowScrollTop(i)},n=qa.viewportWidth(i),r=qa.viewportHeight(i)}else t=qa.offset(e),n=qa.outerWidth(e),r=qa.outerHeight(e);return t.width=n,t.height=r,t}function $a(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function Ya(e,t,n,r,i){var a=$a(t,n[1]),o=$a(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function Xa(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Ja(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Za(e,t,n){var r=[];return qa.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function eo(e,t){return e[t]=-e[t],e}function to(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function no(e,t){e[0]=to(e[0],t.width),e[1]=to(e[1],t.height)}function ro(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=Ga(s,!(!(u=u||{})||!u.alwaysByViewport)),d=Qa(s);no(a,d),no(o,t);var h=Ya(d,t,i,a,o),p=qa.merge(d,h);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&Xa(h,d,f)){var v=Za(i,/[lr]/gi,{l:"r",r:"l"}),m=eo(a,0),y=eo(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Ya(d,t,v,m,y),d,f)||(l=1,i=v,a=m,o=y)}if(u.adjustY&&Ja(h,d,f)){var g=Za(i,/[tb]/gi,{t:"b",b:"t"}),b=eo(a,1),k=eo(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Ya(d,t,g,b,k),d,f)||(l=1,i=g,a=b,o=k)}l&&(h=Ya(d,t,i,a,o),qa.mix(p,h));var w=Xa(h,d,f),x=Ja(h,d,f);if(w||x){var E=i;w&&(E=Za(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=Za(i,/[tb]/gi,{t:"b",b:"t"})),i=E,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&w,c.adjustY=u.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=qa.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),qa.mix(i,a)}(h,d,f,c))}return p.width!==d.width&&qa.css(s,"width",qa.width(s)+p.width-d.width),p.height!==d.height&&qa.css(s,"height",qa.height(s)+p.height-d.height),qa.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function io(e,t,n){var r=n.target||t,i=Qa(r),a=!function(e,t){var n=Ga(e,t),r=Qa(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return ro(e,i,n,a)}io.__getOffsetParent=Ka,io.__getVisibleRectForElement=Ga;var ao=n(8111),oo=n.n(ao);function uo(e,t){var n=null,r=null;var i=new Lr((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,s=Math.floor(o),l=Math.floor(u);n===s&&r===l||Promise.resolve().then((function(){t({width:s,height:l})})),n=s,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function so(e){return"function"!==typeof e?null:e()}function co(e){return"object"===q(e)&&e?e:null}var lo=function(e,t){var n=e.children,i=e.disabled,a=e.target,o=e.align,u=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,d=r.useRef({}),h=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=i,v.current.target=a,v.current.align=o,v.current.onAlign=u;var m=function(e,t){var n=r.useRef(!1),i=r.useRef(null);function a(){window.clearTimeout(i.current)}return[function r(o){if(a(),n.current&&!0!==o)i.current=window.setTimeout((function(){n.current=!1,r()}),t);else{if(!1===e())return;n.current=!0,i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,a()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=h.current,u=so(n),s=co(n);d.current.element=u,d.current.point=s,d.current.align=r;var c=document.activeElement;return u&&aa(u)?a=io(o,u,r):s&&(a=function(e,t,n){var r,i,a=qa.getDocument(e),o=a.defaultView||a.parentWindow,u=qa.getWindowScrollLeft(o),s=qa.getWindowScrollTop(o),c=qa.viewportWidth(o),l=qa.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},d=r>=0&&r<=u+c&&i>=0&&i<=s+l,h=[n.points[0],"cc"];return ro(e,f,ua(ua({},n),{},{points:h}),d)}(o,s,r)),function(e,t){e!==document.activeElement&&Xi(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),f),y=c(m,2),g=y[0],b=y[1],k=r.useRef({cancel:function(){}}),w=r.useRef({cancel:function(){}});r.useEffect((function(){var e,t,n=so(a),r=co(a);h.current!==w.current.element&&(w.current.cancel(),w.current.element=h.current,w.current.cancel=uo(h.current,g)),d.current.element===n&&((e=d.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&oo()(d.current.align,o)||(g(),k.current.element!==n&&(k.current.cancel(),k.current.element=n,k.current.cancel=uo(n,g)))})),r.useEffect((function(){i?b():g()}),[i]);var x=r.useRef(null);return r.useEffect((function(){s?x.current||(x.current=Ji(window,"resize",g)):x.current&&(x.current.remove(),x.current=null)}),[s]),r.useEffect((function(){return function(){k.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),b()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:an(p.ref,h)})),p},fo=r.forwardRef(lo);fo.displayName="Align";var ho=fo;function po(){po=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==q(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=h,u(y,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function vo(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function mo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){vo(a,r,i,o,u,"next",e)}function u(e){vo(a,r,i,o,u,"throw",e)}o(void 0)}))}}var yo=["measure","alignPre","align",null,"motion"],go=r.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,a=e.className,o=e.style,u=e.children,s=e.zIndex,f=e.stretch,d=e.destroyPopupOnHide,h=e.forceRender,p=e.align,v=e.point,m=e.getRootDomNode,y=e.getClassNameFromAlign,g=e.onAlign,b=e.onMouseEnter,k=e.onMouseLeave,w=e.onMouseDown,x=e.onTouchStart,E=e.onClick,C=(0,r.useRef)(),I=(0,r.useRef)(),_=c((0,r.useState)(),2),S=_[0],T=_[1],N=function(e){var t=c(r.useState({width:0,height:0}),2),n=t[0],i=t[1];return[r.useMemo((function(){var t={};if(e){var r=n.width,i=n.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(f),A=c(N,2),O=A[0],P=A[1];var R=function(e,t){var n=c(Xt(null),2),i=n[0],a=n[1],o=(0,r.useRef)();function u(e){a(e,!0)}function s(){Rn.cancel(o.current)}return(0,r.useEffect)((function(){u("measure")}),[e]),(0,r.useEffect)((function(){"measure"===i&&t(),i&&(o.current=Rn(mo(po().mark((function e(){var t,n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=yo.indexOf(i),(n=yo[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,r.useEffect)((function(){return function(){s()}}),[]),[i,function(e){s(),o.current=Rn((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){f&&P(m())})),D=c(R,2),M=D[0],L=D[1],F=c((0,r.useState)(0),2),j=F[0],V=F[1],U=(0,r.useRef)();function z(){var e;null===(e=C.current)||void 0===e||e.forceAlign()}function B(e,t){var n=y(t);S!==n&&T(n),V((function(e){return e+1})),"align"===M&&(null===g||void 0===g||g(e,t))}Yt((function(){"alignPre"===M&&V(0)}),[M]),Yt((function(){"align"===M&&(j<2?z():L((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})))}),[j]);var q=pe({},na(e));function W(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return L(),null===t||void 0===t?void 0:t(e,n)}})),r.useEffect((function(){q.motionName||"motion"!==M||L()}),[q.motionName,M]),r.useImperativeHandle(t,(function(){return{forceAlign:z,getElement:function(){return I.current}}}));var H=pe(pe({},O),{},{zIndex:s,opacity:"motion"!==M&&"stable"!==M&&n?0:void 0,pointerEvents:n||"stable"===M?void 0:"none"},o),G=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==M&&"stable"!==M||(G=!1);var Q=u;return r.Children.count(u)>1&&(Q=r.createElement("div",{className:"".concat(i,"-content")},u)),r.createElement(sr,l({visible:n,ref:I,leavedClassName:"".concat(i,"-hidden")},q,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:d,forceRender:h}),(function(e,t){var n=e.className,o=e.style,u=K()(i,a,S,n);return r.createElement(ho,{target:v||m,key:"popup",ref:C,monitorWindowResize:!0,disabled:G,align:p,onAlign:B},r.createElement("div",{ref:t,className:u,onMouseEnter:b,onMouseLeave:k,onMouseDownCapture:w,onTouchStartCapture:x,onClick:E,style:pe(pe({},o),H)},Q))}))}));go.displayName="PopupInner";var bo=go,ko=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,u=e.mobile,s=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,f=u.popupMotion,d=void 0===f?{}:f,h=u.popupRender,p=e.onClick,v=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var m=pe({zIndex:a},c),y=o;return r.Children.count(o)>1&&(y=r.createElement("div",{className:"".concat(n,"-content")},o)),h&&(y=h(y)),r.createElement(sr,l({visible:i,ref:v,removeOnLeave:!0},d),(function(e,t){var i=e.className,a=e.style,o=K()(n,s,i);return r.createElement("div",{ref:t,className:o,onClick:p,style:pe(pe({},a),m)},y)}))}));ko.displayName="MobilePopupInner";var wo=ko,xo=["visible","mobile"],Eo=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,a=Ce(e,xo),o=c((0,r.useState)(n),2),u=o[0],s=o[1],f=c((0,r.useState)(!1),2),d=f[0],h=f[1],p=pe(pe({},a),{},{visible:u});(0,r.useEffect)((function(){s(n),n&&i&&h(Ht())}),[n,i]);var v=d?r.createElement(wo,l({},p,{mobile:i,ref:t})):r.createElement(bo,l({},p,{ref:t}));return r.createElement("div",null,r.createElement(ra,p),v)}));Eo.displayName="Popup";var Co=Eo,Io=r.createContext(null);function _o(){}function So(){return""}function To(e){return e?e.ownerDocument:window.document}var No=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Ao=function(e){var t=function(t){qn(i,t);var n=Qn(i);function i(e){var t,a;return Vn(this,i),(t=n.call(this,e)).popupRef=r.createRef(),t.triggerRef=r.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Xi(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Xi(r,n)&&!t.isContextMenuOnly()||Xi(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=tn(t.triggerRef.current);if(n)return n}catch(r){}return en.findDOMNode(Hn(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(ta(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&n.push(s(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,f=e.popupStyle,d=e.mask,h=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,k=e.mobile,w=e.forceRender,x=e.onPopupClick,E=t.state,C=E.popupVisible,I=E.point,_=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,r.createElement(Co,l({prefixCls:n,destroyPopupOnHide:i,visible:C,point:b&&I,className:a,align:_,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:d,zIndex:m,transitionName:c,maskAnimation:h,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:u,mobile:k,forceRender:w,onClick:x}),"function"===typeof y?y():y)},t.attachParent=function(e){Rn.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Rn((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},No.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return zn(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Ji(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Ji(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Ji(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Ji(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Rn.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return pe(pe({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,u=n.className,s=n.autoDestroy,c=r.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=K()(c&&c.props&&c.props.className,u);f&&(l.className=f);var d=pe({},l);on(c)&&(d.ref=an(this.triggerRef,c.ref));var h,p=r.cloneElement(c,d);return(t||this.popupRef.current||a)&&(h=r.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(h=null),r.createElement(Io.Provider,{value:this.triggerContextValue},p,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r.Component);return t.contextType=Io,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:So,getDocument:To,onPopupVisibleChange:_o,afterPopupVisibleChange:_o,onPopupAlign:_o,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(ea),Oo={adjustX:1,adjustY:1},Po={topLeft:{points:["bl","tl"],overflow:Oo,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Oo,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Oo,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Oo,offset:[4,0]}},Ro={topLeft:{points:["bl","tl"],overflow:Oo,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Oo,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Oo,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Oo,offset:[4,0]}};function Do(e,t,n){return t||(n?n[e]||n.other:void 0)}var Mo={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Lo(e){var t=e.prefixCls,n=e.visible,i=e.children,a=e.popup,o=e.popupClassName,u=e.popupOffset,s=e.disabled,l=e.mode,f=e.onVisibleChange,d=r.useContext(bi),h=d.getPopupContainer,p=d.rtl,v=d.subMenuOpenDelay,m=d.subMenuCloseDelay,y=d.builtinPlacements,g=d.triggerSubMenuAction,b=d.forceSubMenuRender,k=d.rootClassName,w=d.motion,x=d.defaultMotions,E=c(r.useState(!1),2),C=E[0],I=E[1],_=pe(pe({},p?Ro:Po),y),S=Mo[l],T=pe(pe({},Do(l,w,x)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=r.useRef();return r.useEffect((function(){return N.current=Rn((function(){I(n)})),function(){Rn.cancel(N.current)}}),[n]),r.createElement(Ao,{prefixCls:t,popupClassName:K()("".concat(t,"-popup"),B({},"".concat(t,"-rtl"),p),o,k),stretch:"horizontal"===l?"minWidth":null,getPopupContainer:h,builtinPlacements:_,popupPlacement:S,popupVisible:C,popup:a,popupAlign:u&&{offset:u},action:s?[]:[g],mouseEnterDelay:v,mouseLeaveDelay:m,onPopupVisibleChange:f,forceRender:b,popupMotion:T},i)}function Fo(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,o="inline",u=r.useContext(bi),s=u.prefixCls,f=u.forceSubMenuRender,d=u.motion,h=u.defaultMotions,p=u.mode,v=r.useRef(!1);v.current=p===o;var m=c(r.useState(!v.current),2),y=m[0],g=m[1],b=!!v.current&&n;r.useEffect((function(){v.current&&g(!1)}),[p]);var k=pe({},Do(o,d,h));i.length>1&&(k.motionAppear=!1);var w=k.onVisibleChanged;return k.onVisibleChanged=function(e){return v.current||e||g(!0),null===w||void 0===w?void 0:w(e)},y?null:r.createElement(ki,{mode:o,locked:!v.current},r.createElement(sr,l({visible:b},k,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,i=e.style;return r.createElement(Yi,{id:t,className:n,style:i},a)})))}var jo=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Vo=["active"],Uo=function(e){var t,n=e.style,i=e.className,a=e.title,o=e.eventKey,u=(e.warnKey,e.disabled),s=e.internalPopupClose,f=e.children,d=e.itemIcon,h=e.expandIcon,p=e.popupClassName,v=e.popupOffset,m=e.onClick,y=e.onMouseEnter,g=e.onMouseLeave,b=e.onTitleClick,k=e.onTitleMouseEnter,w=e.onTitleMouseLeave,x=Ce(e,jo),E=Di(o),C=r.useContext(bi),I=C.prefixCls,_=C.mode,S=C.openKeys,T=C.disabled,N=C.overflowDisabled,A=C.activeKey,O=C.selectedKeys,P=C.itemIcon,R=C.expandIcon,D=C.onItemClick,M=C.onOpenChange,L=C.onActive,F=r.useContext(Mi)._internalRenderSubMenuItem,j=r.useContext(Oi).isSubPathKey,V=Ai(),U="".concat(I,"-submenu"),z=T||u,q=r.useRef(),W=r.useRef();var H=d||P,G=h||R,Q=S.includes(o),$=!N&&Q,Y=j(O,o),X=wi(o,z,k,w),J=X.active,Z=Ce(X,Vo),ee=c(r.useState(!1),2),te=ee[0],ne=ee[1],re=function(e){z||ne(e)},ie=r.useMemo((function(){return J||"inline"!==_&&(te||j([A],o))}),[_,J,A,te,o,j]),ae=Ii(V.length),oe=Hi((function(e){null===m||void 0===m||m(Ei(e)),D(e)})),ue=E&&"".concat(E,"-popup"),se=r.createElement("div",l({role:"menuitem",style:ae,className:"".concat(U,"-title"),tabIndex:z?null:-1,ref:q,title:"string"===typeof a?a:null,"data-menu-id":N&&E?null:E,"aria-expanded":$,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":z,onClick:function(e){z||(null===b||void 0===b||b({key:o,domEvent:e}),"inline"===_&&M(o,!Q))},onFocus:function(){L(o)}},Z),a,r.createElement(Ci,{icon:"horizontal"!==_?G:null,props:pe(pe({},e),{},{isOpen:$,isSubMenu:!0})},r.createElement("i",{className:"".concat(U,"-arrow")}))),ce=r.useRef(_);if("inline"!==_&&(ce.current=V.length>1?"vertical":_),!N){var le=ce.current;se=r.createElement(Lo,{mode:le,prefixCls:U,visible:!s&&$&&"inline"!==_,popupClassName:p,popupOffset:v,popup:r.createElement(ki,{mode:"horizontal"===le?"vertical":le},r.createElement(Yi,{id:ue,ref:W},f)),disabled:z,onVisibleChange:function(e){"inline"!==_&&M(o,e)}},se)}var fe=r.createElement(yi.Item,l({role:"none"},x,{component:"li",style:n,className:K()(U,"".concat(U,"-").concat(_),i,(t={},B(t,"".concat(U,"-open"),$),B(t,"".concat(U,"-active"),ie),B(t,"".concat(U,"-selected"),Y),B(t,"".concat(U,"-disabled"),z),t)),onMouseEnter:function(e){re(!0),null===y||void 0===y||y({key:o,domEvent:e})},onMouseLeave:function(e){re(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),se,!N&&r.createElement(Fo,{id:ue,open:$,keyPath:V},f));return F&&(fe=F(fe,e,{selected:Y,active:ie,open:$,disabled:z})),r.createElement(ki,{onItemClick:oe,mode:"horizontal"===_?"vertical":_,itemIcon:H,expandIcon:G},fe)};function zo(e){var t,n=e.eventKey,i=e.children,a=Ai(n),o=qi(i,a),u=Ti();return r.useEffect((function(){if(u)return u.registerPath(n,a),function(){u.unregisterPath(n,a)}}),[a]),t=u?o:r.createElement(Uo,e,o),r.createElement(Ni.Provider,{value:a},t)}function Bo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(aa(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function qo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ot(e.querySelectorAll("*")).filter((function(e){return Bo(e,t)}));return Bo(e,t)&&n.unshift(e),n}var Wo=Hr.LEFT,Ko=Hr.RIGHT,Ho=Hr.UP,Go=Hr.DOWN,Qo=Hr.ENTER,$o=Hr.ESC,Yo=Hr.HOME,Xo=Hr.END,Jo=[Ho,Go,Wo,Ko];function Zo(e,t){return qo(e,!0).filter((function(e){return t.has(e)}))}function eu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Zo(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function tu(e,t,n,i,a,o,u,s,c,l){var f=r.useRef(),d=r.useRef();d.current=t;var h=function(){Rn.cancel(f.current)};return r.useEffect((function(){return function(){h()}}),[]),function(r){var p=r.which;if([].concat(Jo,[Qo,$o,Yo,Xo]).includes(p)){var v,m,y,g=function(){return v=new Set,m=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(Ri(i,e),"']"));t&&(v.add(t),y.set(t,e),m.set(e,t))})),v};g();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),v),k=y.get(b),w=function(e,t,n,r){var i,a,o,u,s="prev",c="next",l="children",f="parent";if("inline"===e&&r===Qo)return{inlineTrigger:!0};var d=(B(i={},Ho,s),B(i,Go,c),i),h=(B(a={},Wo,n?c:s),B(a,Ko,n?s:c),B(a,Go,l),B(a,Qo,l),a),p=(B(o={},Ho,s),B(o,Go,c),B(o,Qo,l),B(o,$o,f),B(o,Wo,n?l:f),B(o,Ko,n?f:l),o);switch(null===(u={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===u(k,!0).length,n,p);if(!w&&p!==Yo&&p!==Xo)return;(Jo.includes(p)||[Yo,Xo].includes(p))&&r.preventDefault();var x=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);s(r),h(),f.current=Rn((function(){d.current===r&&t.focus()}))}};if([Yo,Xo].includes(p)||w.sibling||!b){var E,C,I=Zo(E=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):a.current,v);C=p===Yo?I[0]:p===Xo?I[I.length-1]:eu(E,v,b,w.offset),x(C)}else if(w.inlineTrigger)c(k);else if(w.offset>0)c(k,!0),h(),f.current=Rn((function(){g();var e=b.getAttribute("aria-controls"),t=eu(document.getElementById(e),v);x(t)}),5);else if(w.offset<0){var _=u(k,!0),S=_[_.length-2],T=m.get(S);c(S,!1),x(T)}}null===l||void 0===l||l(r)}}var nu=Math.random().toFixed(5).toString().slice(2),ru=0;var iu="__RC_UTIL_PATH_SPLIT__",au=function(e){return e.join(iu)},ou="rc-menu-more";function uu(){var e=c(r.useState({}),2)[1],t=(0,r.useRef)(new Map),n=(0,r.useRef)(new Map),i=c(r.useState([]),2),a=i[0],o=i[1],u=(0,r.useRef)(0),s=(0,r.useRef)(!1),l=(0,r.useCallback)((function(r,i){var a=au(i);n.current.set(a,r),t.current.set(r,a),u.current+=1;var o,c=u.current;o=function(){c===u.current&&(s.current||e({}))},Promise.resolve().then(o)}),[]),f=(0,r.useCallback)((function(e,r){var i=au(r);n.current.delete(i),t.current.delete(e)}),[]),d=(0,r.useCallback)((function(e){o(e)}),[]),h=(0,r.useCallback)((function(e,n){var r=t.current.get(e)||"",i=r.split(iu);return n&&a.includes(i[0])&&i.unshift(ou),i}),[a]),p=(0,r.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),v=(0,r.useCallback)((function(e){var r="".concat(t.current.get(e)).concat(iu),i=new Set;return Ot(n.current.keys()).forEach((function(e){e.startsWith(r)&&i.add(n.current.get(e))})),i}),[]);return r.useEffect((function(){return function(){s.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=Ot(t.current.keys());return a.length&&e.push(ou),e},getSubPathKeys:v}}var su=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],cu=[],lu=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=void 0===a?"rc-menu":a,u=e.rootClassName,s=e.style,f=e.className,d=e.tabIndex,h=void 0===d?0:d,p=e.items,v=e.children,m=e.direction,y=e.id,g=e.mode,b=void 0===g?"vertical":g,k=e.inlineCollapsed,w=e.disabled,x=e.disabledOverflow,E=e.subMenuOpenDelay,C=void 0===E?.1:E,I=e.subMenuCloseDelay,_=void 0===I?.1:I,S=e.forceSubMenuRender,T=e.defaultOpenKeys,N=e.openKeys,A=e.activeKey,O=e.defaultActiveFirst,P=e.selectable,R=void 0===P||P,D=e.multiple,M=void 0!==D&&D,L=e.defaultSelectedKeys,F=e.selectedKeys,j=e.onSelect,V=e.onDeselect,U=e.inlineIndent,z=void 0===U?24:U,q=e.motion,W=e.defaultMotions,H=e.triggerSubMenuAction,G=void 0===H?"hover":H,Q=e.builtinPlacements,$=e.itemIcon,Y=e.expandIcon,X=e.overflowedIndicator,J=void 0===X?"...":X,Z=e.overflowedIndicatorPopupClassName,ee=e.getPopupContainer,te=e.onClick,ne=e.onOpenChange,re=e.onKeyDown,ie=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ae=e._internalRenderSubMenuItem,oe=Ce(e,su),ue=r.useMemo((function(){return Ki(v,p,cu)}),[v,p]),se=c(r.useState(!1),2),ce=se[0],le=se[1],fe=r.useRef(),de=function(e){var t=c(Zt(e,{value:e}),2),n=t[0],i=t[1];return r.useEffect((function(){ru+=1;var e="".concat(nu,"-").concat(ru);i("rc-menu-uuid-".concat(e))}),[]),n}(y),he="rtl"===m;var ve=c(r.useMemo((function(){return"inline"!==b&&"vertical"!==b||!k?[b,!1]:["vertical",k]}),[b,k]),2),me=ve[0],ye=ve[1],ge=c(r.useState(0),2),be=ge[0],ke=ge[1],we=be>=ue.length-1||"horizontal"!==me||x,xe=c(Zt(T,{value:N,postState:function(e){return e||cu}}),2),Ee=xe[0],Ie=xe[1],_e=function(e){Ie(e),null===ne||void 0===ne||ne(e)},Se=c(r.useState(Ee),2),Te=Se[0],Ne=Se[1],Ae="inline"===me,Oe=r.useRef(!1);r.useEffect((function(){Ae&&Ne(Ee)}),[Ee]),r.useEffect((function(){Oe.current&&(Ae?Ie(Te):_e(cu))}),[Ae]),r.useEffect((function(){return Oe.current=!0,function(){Oe.current=!1}}),[]);var Pe=uu(),Re=Pe.registerPath,De=Pe.unregisterPath,Me=Pe.refreshOverflowKeys,Le=Pe.isSubPathKey,Fe=Pe.getKeyPath,je=Pe.getKeys,Ve=Pe.getSubPathKeys,Ue=r.useMemo((function(){return{registerPath:Re,unregisterPath:De}}),[Re,De]),ze=r.useMemo((function(){return{isSubPathKey:Le}}),[Le]);r.useEffect((function(){Me(we?cu:ue.slice(be+1).map((function(e){return e.key})))}),[be,we]);var Be=c(Zt(A||O&&(null===(n=ue[0])||void 0===n?void 0:n.key),{value:A}),2),qe=Be[0],We=Be[1],Ke=Hi((function(e){We(e)})),He=Hi((function(){We(void 0)}));(0,r.useImperativeHandle)(t,(function(){return{list:fe.current,focus:function(e){var t,n,r,i,a=null!==qe&&void 0!==qe?qe:null===(t=ue.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=fe.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(Ri(de,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Ge=c(Zt(L||[],{value:F,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?cu:[e]}}),2),Qe=Ge[0],$e=Ge[1],Ye=Hi((function(e){null===te||void 0===te||te(Ei(e)),function(e){if(R){var t,n=e.key,r=Qe.includes(n);t=M?r?Qe.filter((function(e){return e!==n})):[].concat(Ot(Qe),[n]):[n],$e(t);var i=pe(pe({},e),{},{selectedKeys:t});r?null===V||void 0===V||V(i):null===j||void 0===j||j(i)}!M&&Ee.length&&"inline"!==me&&_e(cu)}(e)})),Xe=Hi((function(e,t){var n=Ee.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==me){var r=Ve(e);n=n.filter((function(e){return!r.has(e)}))}Jr()(Ee,n)||_e(n)})),Je=Hi(ee),Ze=tu(me,qe,he,de,fe,je,Fe,We,(function(e,t){var n=null!==t&&void 0!==t?t:!Ee.includes(e);Xe(e,n)}),re);r.useEffect((function(){le(!0)}),[]);var et=r.useMemo((function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:ae}}),[ie,ae]),tt="horizontal"!==me||x?ue:ue.map((function(e,t){return r.createElement(ki,{key:e.key,overflowDisabled:t>be},e)})),nt=r.createElement(yi,l({id:y,ref:fe,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:zi,className:K()(o,"".concat(o,"-root"),"".concat(o,"-").concat(me),f,(i={},B(i,"".concat(o,"-inline-collapsed"),ye),B(i,"".concat(o,"-rtl"),he),i),u),dir:m,style:s,role:"menu",tabIndex:h,data:tt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ue.slice(-t):null;return r.createElement(zo,{eventKey:ou,title:J,disabled:we,internalPopupClose:0===t,popupClassName:Z},n)},maxCount:"horizontal"!==me||x?yi.INVALIDATE:yi.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ke(e)},onKeyDown:Ze},oe));return r.createElement(Mi.Provider,{value:et},r.createElement(Pi.Provider,{value:de},r.createElement(ki,{prefixCls:o,rootClassName:u,mode:me,openKeys:Ee,rtl:he,disabled:w,motion:ce?q:null,defaultMotions:ce?W:null,activeKey:qe,onActive:Ke,onInactive:He,selectedKeys:Qe,inlineIndent:z,subMenuOpenDelay:C,subMenuCloseDelay:_,forceSubMenuRender:S,builtinPlacements:Q,triggerSubMenuAction:G,getPopupContainer:Je,itemIcon:$,expandIcon:Y,onItemClick:Ye,onOpenChange:Xe},r.createElement(Oi.Provider,{value:ze},nt),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(Si.Provider,{value:Ue},ue)))))})),fu=["className","title","eventKey","children"],du=["children"],hu=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=Ce(e,fu),o=r.useContext(bi).prefixCls,u="".concat(o,"-item-group");return r.createElement("li",l({},a,{onClick:function(e){return e.stopPropagation()},className:K()(u,t)}),r.createElement("div",{className:"".concat(u,"-title"),title:"string"===typeof n?n:void 0},n),r.createElement("ul",{className:"".concat(u,"-list")},i))};function pu(e){var t=e.children,n=Ce(e,du),i=qi(t,Ai(n.eventKey));return Ti()?i:r.createElement(hu,ve(n,["warnKey"]),i)}function vu(e){var t=e.className,n=e.style,i=r.useContext(bi).prefixCls;return Ti()?null:r.createElement("li",{className:K()("".concat(i,"-item-divider"),t),style:n})}var mu=Ai,yu=lu;yu.Item=zi,yu.SubMenu=zo,yu.ItemGroup=pu,yu.Divider=vu;var gu=yu,bu={adjustX:1,adjustY:1},ku=[0,0],wu={topLeft:{points:["bl","tl"],overflow:bu,offset:[0,-4],targetOffset:ku},topCenter:{points:["bc","tc"],overflow:bu,offset:[0,-4],targetOffset:ku},topRight:{points:["br","tr"],overflow:bu,offset:[0,-4],targetOffset:ku},bottomLeft:{points:["tl","bl"],overflow:bu,offset:[0,4],targetOffset:ku},bottomCenter:{points:["tc","bc"],overflow:bu,offset:[0,4],targetOffset:ku},bottomRight:{points:["tr","br"],overflow:bu,offset:[0,4],targetOffset:ku}},xu=Hr.ESC,Eu=Hr.TAB;var Cu=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Iu(e,t){var n=e.arrow,i=void 0!==n&&n,a=e.prefixCls,o=void 0===a?"rc-dropdown":a,u=e.transitionName,s=e.animation,l=e.align,f=e.placement,d=void 0===f?"bottomLeft":f,h=e.placements,p=void 0===h?wu:h,v=e.getPopupContainer,m=e.showAction,y=e.hideAction,g=e.overlayClassName,b=e.overlayStyle,k=e.visible,w=e.trigger,x=void 0===w?["hover"]:w,E=e.autoFocus,C=Ce(e,Cu),I=c(r.useState(),2),_=I[0],S=I[1],T="visible"in e?k:_,N=r.useRef(null);r.useImperativeHandle(t,(function(){return N.current})),function(e){var t=e.visible,n=e.setTriggerVisible,i=e.triggerRef,a=e.onVisibleChange,o=e.autoFocus,u=r.useRef(!1),s=function(){var e,r,o,u;t&&i.current&&(null===(e=i.current)||void 0===e||null===(r=e.triggerRef)||void 0===r||null===(o=r.current)||void 0===o||null===(u=o.focus)||void 0===u||u.call(o),n(!1),"function"===typeof a&&a(!1))},c=function(){var e,t,n,r,a=qo(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),u.current=!0,!0)},l=function(e){switch(e.keyCode){case xu:s();break;case Eu:var t=!1;u.current||(t=c()),t?e.preventDefault():s()}};r.useEffect((function(){return t?(window.addEventListener("keydown",l),o&&Rn(c,3),function(){window.removeEventListener("keydown",l),u.current=!1}):function(){u.current=!1}}),[t])}({visible:T,setTriggerVisible:S,triggerRef:N,onVisibleChange:e.onVisibleChange,autoFocus:E});var A=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(o,"-arrow")}),t)},O=y;return O||-1===x.indexOf("contextMenu")||(O=["click"]),r.createElement(Ao,pe(pe({builtinPlacements:p},C),{},{prefixCls:o,ref:N,popupClassName:K()(g,B({},"".concat(o,"-show-arrow"),i)),popupStyle:b,action:x,showAction:m,hideAction:O||[],popupPlacement:d,popupAlign:l,popupTransitionName:u,popupAnimation:s,popupVisible:T,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?A:A(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;S(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;S(!1),n&&n(t)},getPopupContainer:v}),function(){var t=e.children,n=t.props?t.props:{},i=K()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return T&&t?r.cloneElement(t,{className:i}):t}())}var _u=r.forwardRef(Iu);function Su(e,t){var n=e.prefixCls,i=e.editable,a=e.locale,o=e.style;return i&&!1!==i.showAdd?r.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var Tu=r.forwardRef(Su);function Nu(e,t){var n=e.prefixCls,i=e.id,a=e.tabs,o=e.locale,u=e.mobile,s=e.moreIcon,l=void 0===s?"More":s,f=e.moreTransitionName,d=e.style,h=e.className,p=e.editable,v=e.tabBarGutter,m=e.rtl,y=e.removeAriaLabel,g=e.onTabClick,b=e.getPopupContainer,k=e.popupClassName,w=c((0,r.useState)(!1),2),x=w[0],E=w[1],C=c((0,r.useState)(null),2),I=C[0],_=C[1],S="".concat(i,"-more-popup"),T="".concat(n,"-dropdown"),N=null!==I?"".concat(S,"-").concat(I):null,A=null===o||void 0===o?void 0:o.dropdownAriaLabel;var O=r.createElement(gu,{onClick:function(e){var t=e.key,n=e.domEvent;g(t,n),E(!1)},prefixCls:"".concat(T,"-menu"),id:S,tabIndex:-1,role:"listbox","aria-activedescendant":N,selectedKeys:[I],"aria-label":void 0!==A?A:"expanded dropdown"},a.map((function(e){var t=p&&!1!==e.closable&&!e.disabled;return r.createElement(zi,{key:e.key,id:"".concat(S,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},r.createElement("span",null,e.label),t&&r.createElement("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(T,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),p.onEdit("remove",{key:r,event:n})}},e.closeIcon||p.removeIcon||"\xd7"))})));function P(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===I}))||0,r=t.length,i=0;i<r;i+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void _(o.key)}}(0,r.useEffect)((function(){var e=document.getElementById(N);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[I]),(0,r.useEffect)((function(){x||_(null)}),[x]);var R=B({},m?"marginRight":"marginLeft",v);a.length||(R.visibility="hidden",R.order=1);var D=K()(B({},"".concat(T,"-rtl"),m)),M=u?null:r.createElement(_u,{prefixCls:T,overlay:O,trigger:["hover"],visible:!!a.length&&x,transitionName:f,onVisibleChange:E,overlayClassName:K()(D,k),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:b},r.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:R,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":S,id:"".concat(i,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case Hr.UP:P(-1),e.preventDefault();break;case Hr.DOWN:P(1),e.preventDefault();break;case Hr.ESC:E(!1);break;case Hr.SPACE:case Hr.ENTER:null!==I&&g(I,e)}else[Hr.DOWN,Hr.SPACE,Hr.ENTER].includes(t)&&(E(!0),e.preventDefault())}},l));return r.createElement("div",{className:K()("".concat(n,"-nav-operations"),h),style:d,ref:t},M,r.createElement(Tu,{prefixCls:n,locale:o,editable:p}))}var Au=r.memo(r.forwardRef(Nu),(function(e,t){return t.tabMoving})),Ou=Math.pow(.995,20);function Pu(e,t){var n=r.useRef(e),i=c(r.useState({}),2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var Ru=function(e){var t,n=e.position,i=e.prefixCls,a=e.extra;if(!a)return null;var o={};return a&&"object"===q(a)&&!r.isValidElement(a)?o=a:o.right=a,"right"===n&&(t=o.right),"left"===n&&(t=o.left),t?r.createElement("div",{className:"".concat(i,"-extra-content")},t):null};function Du(e,t){var n,i=r.useContext(cr),a=i.prefixCls,o=i.tabs,u=e.className,s=e.style,f=e.id,d=e.animated,h=e.activeKey,p=e.rtl,v=e.extra,m=e.editable,y=e.locale,g=e.tabPosition,b=e.tabBarGutter,k=e.children,w=e.onTabClick,x=e.onTabScroll,E=(0,r.useRef)(),C=(0,r.useRef)(),I=(0,r.useRef)(),_=(0,r.useRef)(),S=c(function(){var e=(0,r.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,r.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),2),T=S[0],N=S[1],A="top"===g||"bottom"===g,O=c(Pu(0,(function(e,t){A&&x&&x({direction:e>t?"left":"right"})})),2),P=O[0],R=O[1],D=c(Pu(0,(function(e,t){!A&&x&&x({direction:e>t?"top":"bottom"})})),2),M=D[0],L=D[1],F=c((0,r.useState)(0),2),j=F[0],V=F[1],U=c((0,r.useState)(0),2),z=U[0],q=U[1],W=c((0,r.useState)(null),2),H=W[0],G=W[1],Q=c((0,r.useState)(null),2),$=Q[0],Y=Q[1],X=c((0,r.useState)(0),2),J=X[0],Z=X[1],ee=c((0,r.useState)(0),2),te=ee[0],ne=ee[1],re=function(e){var t=(0,r.useRef)([]),n=c((0,r.useState)({}),2)[1],i=(0,r.useRef)("function"===typeof e?e():e),a=Wr((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,n({})}));return[i.current,function(e){t.current.push(e),a()}]}(new Map),ie=c(re,2),ae=ie[0],oe=ie[1],ue=function(e,t,n){return(0,r.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||$r,a=i.left+i.width,o=0;o<e.length;o+=1){var u,s=e[o].key,c=t.get(s);c||(c=t.get(null===(u=e[o-1])||void 0===u?void 0:u.key)||$r);var l=r.get(s)||pe({},c);l.right=a-l.left-l.width,r.set(s,l)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(o,ae,j),se="".concat(a,"-nav-operations-hidden"),ce=0,le=0;function fe(e){return e<ce?ce:e>le?le:e}A?p?(ce=0,le=Math.max(0,j-H)):(ce=Math.min(0,H-j),le=0):(ce=Math.min(0,$-z),le=0);var de=(0,r.useRef)(),he=c((0,r.useState)(),2),ve=he[0],me=he[1];function ye(){me(Date.now())}function ge(){window.clearTimeout(de.current)}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=ue.get(e)||{width:0,height:0,left:0,right:0,top:0};if(A){var n=P;p?t.right<P?n=t.right:t.right+t.width>P+H&&(n=t.right+t.width-H):t.left<-P?n=-t.left:t.left+t.width>-P+H&&(n=-(t.left+t.width-H)),L(0),R(fe(n))}else{var r=M;t.top<-M?r=-t.top:t.top+t.height>-M+$&&(r=-(t.top+t.height-$)),R(0),L(fe(r))}}!function(e,t){var n=c((0,r.useState)(),2),i=n[0],a=n[1],o=c((0,r.useState)(0),2),u=o[0],s=o[1],l=c((0,r.useState)(0),2),f=l[0],d=l[1],h=c((0,r.useState)(),2),p=h[0],v=h[1],m=(0,r.useRef)(),y=(0,r.useRef)(),g=(0,r.useRef)(null);g.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(m.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,o=n.screenY;a({x:r,y:o});var c=r-i.x,l=o-i.y;t(c,l);var f=Date.now();s(f),d(f-u),v({x:c,y:l})}},onTouchEnd:function(){if(i&&(a(null),v(null),p)){var e=p.x/f,n=p.y/f,r=Math.abs(e),o=Math.abs(n);if(Math.max(r,o)<.1)return;var u=e,s=n;m.current=window.setInterval((function(){Math.abs(u)<.01&&Math.abs(s)<.01?window.clearInterval(m.current):t(20*(u*=Ou),20*(s*=Ou))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===y.current?n:r:a>o?(i=n,y.current="x"):(i=r,y.current="y"),t(-i,-i)&&e.preventDefault()}},r.useEffect((function(){function t(e){g.current.onTouchMove(e)}function n(e){g.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){g.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){g.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(E,(function(e,t){function n(e,t){e((function(e){return fe(e+t)}))}if(A){if(H>=j)return!1;n(R,e)}else{if($>=z)return!1;n(L,t)}return ge(),ye(),!0})),(0,r.useEffect)((function(){return ge(),ve&&(de.current=window.setTimeout((function(){me(0)}),100)),ge}),[ve]);var ke=function(e,t,n,i,a){var o,u,s,c=a.tabs,l=a.tabPosition,f=a.rtl;["top","bottom"].includes(l)?(o="width",u=f?"right":"left",s=Math.abs(t.left)):(o="height",u="top",s=-t.top);var d=t[o],h=n[o],p=i[o],v=d;return h+p>d&&h<d&&(v=d-p),(0,r.useMemo)((function(){if(!c.length)return[0,0];for(var t=c.length,n=t,r=0;r<t;r+=1){var i=e.get(c[r].key)||Yr;if(i[u]+i[o]>s+v){n=r-1;break}}for(var a=0,l=t-1;l>=0;l-=1)if((e.get(c[l].key)||Yr)[u]<s){a=l+1;break}return[a,n]}),[e,s,v,l,c.map((function(e){return e.key})).join("_"),f])}(ue,{width:H,height:$,left:P,top:M},{width:j,height:z},{width:J,height:te},pe(pe({},e),{},{tabs:o})),we=c(ke,2),xe=we[0],Ee=we[1],Ce={};"top"===g||"bottom"===g?Ce[p?"marginRight":"marginLeft"]=b:Ce.marginTop=b;var Ie=o.map((function(e,t){var n=e.key;return r.createElement(Qr,{id:f,prefixCls:a,key:n,tab:e,style:0===t?void 0:Ce,closable:e.closable,editable:m,active:n===h,renderWrapper:k,removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:T(n),onClick:function(e){w(n,e)},onRemove:function(){N(n)},onFocus:function(){be(n),ye(),E.current&&(p||(E.current.scrollLeft=0),E.current.scrollTop=0)}})})),_e=Wr((function(){var e,t,n,r,i,a,u=(null===(e=E.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=E.current)||void 0===t?void 0:t.offsetHeight)||0,c=(null===(n=_.current)||void 0===n?void 0:n.offsetWidth)||0,l=(null===(r=_.current)||void 0===r?void 0:r.offsetHeight)||0;G(u),Y(s),Z(c),ne(l);var f=((null===(i=C.current)||void 0===i?void 0:i.offsetWidth)||0)-c,d=((null===(a=C.current)||void 0===a?void 0:a.offsetHeight)||0)-l;V(f),q(d),oe((function(){var e=new Map;return o.forEach((function(t){var n=t.key,r=T(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Se=o.slice(0,xe),Te=o.slice(Ee+1),Ne=[].concat(Ot(Se),Ot(Te)),Ae=c((0,r.useState)(),2),Oe=Ae[0],Pe=Ae[1],Re=ue.get(h),De=(0,r.useRef)();function Me(){Rn.cancel(De.current)}(0,r.useEffect)((function(){var e={};return Re&&(A?(p?e.right=Re.right:e.left=Re.left,e.width=Re.width):(e.top=Re.top,e.height=Re.height)),Me(),De.current=Rn((function(){Pe(e)})),Me}),[Re,A,p]),(0,r.useEffect)((function(){be()}),[h,Re,ue,A]),(0,r.useEffect)((function(){_e()}),[p,b,h,o.map((function(e){return e.key})).join("_")]);var Le,Fe,je,Ve,Ue=!!Ne.length,ze="".concat(a,"-nav-wrap");return A?p?(Fe=P>0,Le=P+H<j):(Le=P<0,Fe=-P+H<j):(je=M<0,Ve=-M+$<z),r.createElement("div",{ref:t,role:"tablist",className:K()("".concat(a,"-nav"),u),style:s,onKeyDown:function(){ye()}},r.createElement(Ru,{position:"left",extra:v,prefixCls:a}),r.createElement(qr,{onResize:_e},r.createElement("div",{className:K()(ze,(n={},B(n,"".concat(ze,"-ping-left"),Le),B(n,"".concat(ze,"-ping-right"),Fe),B(n,"".concat(ze,"-ping-top"),je),B(n,"".concat(ze,"-ping-bottom"),Ve),n)),ref:E},r.createElement(qr,{onResize:_e},r.createElement("div",{ref:C,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(P,"px, ").concat(M,"px)"),transition:ve?"none":void 0}},Ie,r.createElement(Tu,{ref:_,prefixCls:a,locale:y,editable:m,style:pe(pe({},0===Ie.length?void 0:Ce),{},{visibility:Ue?"hidden":null})}),r.createElement("div",{className:K()("".concat(a,"-ink-bar"),B({},"".concat(a,"-ink-bar-animated"),d.inkBar)),style:Oe}))))),r.createElement(Au,l({},e,{removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:I,prefixCls:a,tabs:Ne,className:!Ue&&se,tabMoving:!!ve})),r.createElement(Ru,{position:"right",extra:v,prefixCls:a}))}var Mu=r.forwardRef(Du),Lu=["renderTabBar"],Fu=["label","key"];function ju(e){var t=e.renderTabBar,n=Ce(e,Lu),i=(0,r.useContext)(cr).tabs;return t?t(pe(pe({},n),{},{panes:i.map((function(e){var t=e.label,n=e.key,i=Ce(e,Fu);return r.createElement(fr,l({tab:t,key:n,tabKey:n},i))}))}),Mu):r.createElement(Mu,n)}var Vu=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Uu=0;function zu(e,t){var n,i=e.id,a=e.prefixCls,o=void 0===a?"rc-tabs":a,u=e.className,s=e.items,f=e.direction,d=e.activeKey,h=e.defaultActiveKey,p=e.editable,v=e.animated,m=e.tabPosition,y=void 0===m?"top":m,g=e.tabBarGutter,b=e.tabBarStyle,k=e.tabBarExtraContent,w=e.locale,x=e.moreIcon,E=e.moreTransitionName,C=e.destroyInactiveTabPane,I=e.renderTabBar,_=e.onChange,S=e.onTabClick,T=e.onTabScroll,N=e.getPopupContainer,A=e.popupClassName,O=Ce(e,Vu),P=r.useMemo((function(){return(s||[]).filter((function(e){return e&&"object"===q(e)&&"key"in e}))}),[s]),R="rtl"===f,D=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:pe({inkBar:!0},"object"===q(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(v),M=c((0,r.useState)(!1),2),L=M[0],F=M[1];(0,r.useEffect)((function(){F(Ht())}),[]);var j=c(Zt((function(){var e;return null===(e=P[0])||void 0===e?void 0:e.key}),{value:d,defaultValue:h}),2),V=j[0],U=j[1],z=c((0,r.useState)((function(){return P.findIndex((function(e){return e.key===V}))})),2),W=z[0],H=z[1];(0,r.useEffect)((function(){var e,t=P.findIndex((function(e){return e.key===V}));-1===t&&(t=Math.max(0,Math.min(W,P.length-1)),U(null===(e=P[t])||void 0===e?void 0:e.key));H(t)}),[P.map((function(e){return e.key})).join("_"),V,W]);var G=c(Zt(null,{value:i}),2),Q=G[0],$=G[1];(0,r.useEffect)((function(){i||($("rc-tabs-".concat(Uu)),Uu+=1)}),[]);var Y={id:Q,activeKey:V,animated:D,tabPosition:y,rtl:R,mobile:L},X=pe(pe({},Y),{},{editable:p,locale:w,moreIcon:x,moreTransitionName:E,tabBarGutter:g,onTabClick:function(e,t){null===S||void 0===S||S(e,t);var n=e!==V;U(e),n&&(null===_||void 0===_||_(e))},onTabScroll:T,extra:k,style:b,panes:null,getPopupContainer:N,popupClassName:A});return r.createElement(cr.Provider,{value:{tabs:P,prefixCls:o}},r.createElement("div",l({ref:t,id:i,className:K()(o,"".concat(o,"-").concat(y),(n={},B(n,"".concat(o,"-mobile"),L),B(n,"".concat(o,"-editable"),p),B(n,"".concat(o,"-rtl"),R),n),u)},O),undefined,r.createElement(ju,l({},X,{renderTabBar:I})),r.createElement(hr,l({destroyInactiveTabPane:C},Y,{animated:D}))))}var Bu=r.forwardRef(zu),qu=function(){return{height:0,opacity:0}},Wu=function(e){return{height:e.scrollHeight,opacity:1}},Ku=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Hu={motionName:"ant-motion-collapse",onAppearStart:qu,onEnterStart:qu,onAppearActive:Wu,onEnterActive:Wu,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:qu,onAppearEnd:Ku,onEnterEnd:Ku,onLeaveEnd:Ku,motionDeadline:500},Gu=(ie("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),Qu=Hu,$u={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Yu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Xu=function(){return null},Ju=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Zu(e){var t,n=e.type,i=e.className,a=e.size,o=e.onEdit,u=e.hideAdd,s=e.centered,c=e.addIcon,f=e.children,d=e.items,h=e.animated,p=Ju(e,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),v=p.prefixCls,m=p.moreIcon,y=void 0===m?r.createElement(Bt,null):m,g=r.useContext(H),b=g.getPrefixCls,k=g.direction,w=b("tabs",v);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===o||void 0===o||o("add"===e?r:n,e)},removeIcon:r.createElement(Vt,null),addIcon:c||r.createElement(Kt,null),showAdd:!0!==u});var x=b(),E=function(e,t){if(e)return e;var n=pr(t).map((function(e){if(r.isValidElement(e)){var t=e.key,n=e.props||{},i=n.tab,a=Yu(n,["tab"]);return l(l({key:String(t)},a),{label:i})}return null}));return function(e){return e.filter((function(e){return e}))}(n)}(d,f),C=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!1}:l({inkBar:!0},"object"===q(n)?n:{})).tabPane&&(t.tabPaneMotion=l(l({},$u),{motionName:Gu(e,"switch")})),t}(w,h);return r.createElement(ye.Consumer,null,(function(e){var o,u=void 0!==a?a:e;return r.createElement(Bu,l({direction:k,moreTransitionName:"".concat(x,"-slide-up")},p,{items:E,className:K()((o={},B(o,"".concat(w,"-").concat(u),u),B(o,"".concat(w,"-card"),["card","editable-card"].includes(n)),B(o,"".concat(w,"-editable-card"),"editable-card"===n),B(o,"".concat(w,"-centered"),s),o),i),editable:t,moreIcon:y,prefixCls:w,animated:C}))}))}Zu.TabPane=Xu;var es=Zu,ts=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ns=function(e){var t=e.prefixCls,n=e.className,i=e.hoverable,a=void 0===i||i,o=ts(e,["prefixCls","className","hoverable"]);return r.createElement(G,null,(function(e){var i=(0,e.getPrefixCls)("card",t),u=K()("".concat(i,"-grid"),n,B({},"".concat(i,"-grid-hoverable"),a));return r.createElement("div",l({},o,{className:u}))}))},rs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var is=r.forwardRef((function(e,t){var n,i,a,o=r.useContext(H),u=o.getPrefixCls,s=o.direction,c=r.useContext(ye),f=e.prefixCls,d=e.className,h=e.extra,p=e.headStyle,v=void 0===p?{}:p,m=e.bodyStyle,y=void 0===m?{}:m,g=e.title,b=e.loading,k=e.bordered,w=void 0===k||k,x=e.size,E=e.type,C=e.cover,I=e.actions,_=e.tabList,S=e.children,T=e.activeTabKey,N=e.defaultActiveTabKey,A=e.tabBarExtraContent,O=e.hoverable,P=e.tabProps,R=void 0===P?{}:P,D=rs(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),M=u("card",f),L=r.createElement(Lt,{loading:!0,active:!0,paragraph:{rows:4},title:!1},S),F=void 0!==T,j=l(l({},R),(B(n={},F?"activeKey":"defaultActiveKey",F?T:N),B(n,"tabBarExtraContent",A),n)),V=_&&_.length?r.createElement(es,l({size:"large"},j,{className:"".concat(M,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),_.map((function(e){return r.createElement(es.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(g||h||V)&&(a=r.createElement("div",{className:"".concat(M,"-head"),style:v},r.createElement("div",{className:"".concat(M,"-head-wrapper")},g&&r.createElement("div",{className:"".concat(M,"-head-title")},g),h&&r.createElement("div",{className:"".concat(M,"-extra")},h)),V));var U=C?r.createElement("div",{className:"".concat(M,"-cover")},C):null,z=r.createElement("div",{className:"".concat(M,"-body"),style:y},b?L:S),q=I&&I.length?r.createElement("ul",{className:"".concat(M,"-actions")},function(e){var t=e.map((function(t,n){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},r.createElement("span",null,t))}));return t}(I)):null,W=ve(D,["onTabChange"]),G=x||c,Q=K()(M,(B(i={},"".concat(M,"-loading"),b),B(i,"".concat(M,"-bordered"),w),B(i,"".concat(M,"-hoverable"),O),B(i,"".concat(M,"-contain-grid"),function(){var t;return r.Children.forEach(e.children,(function(e){e&&e.type&&e.type===ns&&(t=!0)})),t}()),B(i,"".concat(M,"-contain-tabs"),_&&_.length),B(i,"".concat(M,"-").concat(G),G),B(i,"".concat(M,"-type-").concat(E),!!E),B(i,"".concat(M,"-rtl"),"rtl"===s),i),d);return r.createElement("div",l({ref:t},W,{className:Q}),a,U,z,q)})),as=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},os=function(e){return r.createElement(G,null,(function(t){var n=t.getPrefixCls,i=e.prefixCls,a=e.className,o=e.avatar,u=e.title,s=e.description,c=as(e,["prefixCls","className","avatar","title","description"]),f=n("card",i),d=K()("".concat(f,"-meta"),a),h=o?r.createElement("div",{className:"".concat(f,"-meta-avatar")},o):null,p=u?r.createElement("div",{className:"".concat(f,"-meta-title")},u):null,v=s?r.createElement("div",{className:"".concat(f,"-meta-description")},s):null,m=p||v?r.createElement("div",{className:"".concat(f,"-meta-detail")},p,v):null;return r.createElement("div",l({},c,{className:d}),h,m)}))},us=is;us.Grid=ns,us.Meta=os;var ss=us,cs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},ls=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:cs}))};ls.displayName="CheckCircleFilled";var fs=r.forwardRef(ls),ds={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},hs=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:ds}))};hs.displayName="CheckOutlined";var ps=r.forwardRef(hs),vs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},ms=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:vs}))};ms.displayName="CloseCircleFilled";var ys=r.forwardRef(ms),gs={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},bs=function(){var e=(0,r.useRef)([]),t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current},ks=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],ws=function(e){var t=e.className,n=e.percent,i=e.prefixCls,a=e.strokeColor,o=e.strokeLinecap,u=e.strokeWidth,s=e.style,c=e.trailColor,f=e.trailWidth,d=e.transition,h=Ce(e,ks);delete h.gapPosition;var p=Array.isArray(n)?n:[n],v=Array.isArray(a)?a:[a],m=bs(),y=u/2,g=100-u/2,b="M ".concat("round"===o?y:0,",").concat(y,"\n         L ").concat("round"===o?g:100,",").concat(y),k="0 0 100 ".concat(u),w=0;return r.createElement("svg",l({className:K()("".concat(i,"-line"),t),viewBox:k,preserveAspectRatio:"none",style:s},h),r.createElement("path",{className:"".concat(i,"-line-trail"),d:b,strokeLinecap:o,stroke:c,strokeWidth:f||u,fillOpacity:"0"}),p.map((function(e,t){var n=1;switch(o){case"round":n=1-u/100;break;case"square":n=1-u/2/100;break;default:n=1}var a={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(w,"px"),transition:d||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},s=v[t]||v[v.length-1];return w+=e,r.createElement("path",{key:t,className:"".concat(i,"-line-path"),d:b,strokeLinecap:o,stroke:s,strokeWidth:u,fillOpacity:"0",ref:function(e){m[t]=e},style:a})})))};ws.defaultProps=gs,ws.displayName="Line";var xs=0,Es=Q();var Cs=function(e){var t=c(r.useState(),2),n=t[0],i=t[1];return r.useEffect((function(){i("rc_progress_".concat(function(){var e;return Es?(e=xs,xs+=1):e="TEST_OR_SSR",e}()))}),[]),e||n},Is=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function _s(e){return+e.replace("%","")}function Ss(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var Ts=100,Ns=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,s=i>0?90+i/2:-90,c=2*Math.PI*e,l=c*((360-i)/360),f=t/100*360*((360-i)/360),d=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],h=(100-n)/100*l;return"round"===o&&100!==n&&(h+=u/2)>=l&&(h=l-.01),{stroke:"string"===typeof r?r:void 0,strokeDasharray:"".concat(l,"px ").concat(c),strokeDashoffset:h,transform:"rotate(".concat(s+f+d,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},As=function(e){var t=e.id,n=e.prefixCls,i=e.strokeWidth,a=e.trailWidth,o=e.gapDegree,u=e.gapPosition,s=e.trailColor,c=e.strokeLinecap,f=e.style,d=e.className,h=e.strokeColor,p=e.percent,v=Ce(e,Is),m=Cs(t),y="".concat(m,"-gradient"),g=50-i/2,b=Ns(g,0,100,s,o,u,c,i),k=Ss(p),w=Ss(h),x=w.find((function(e){return e&&"object"===q(e)})),E=bs();return r.createElement("svg",l({className:K()("".concat(n,"-circle"),d),viewBox:"0 0 ".concat(Ts," ").concat(Ts),style:f,id:t},v),x&&r.createElement("defs",null,r.createElement("linearGradient",{id:y,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(x).sort((function(e,t){return _s(e)-_s(t)})).map((function(e,t){return r.createElement("stop",{key:t,offset:e,stopColor:x[e]})})))),r.createElement("circle",{className:"".concat(n,"-circle-trail"),r:g,cx:50,cy:50,stroke:s,strokeLinecap:c,strokeWidth:a||i,style:b}),function(){var e=0;return k.map((function(t,a){var s=w[a]||w[w.length-1],l=s&&"object"===q(s)?"url(#".concat(y,")"):void 0,f=Ns(g,e,t,s,o,u,c,i);return e+=t,r.createElement("circle",{key:a,className:"".concat(n,"-circle-path"),r:g,cx:50,cy:50,stroke:l,strokeLinecap:c,strokeWidth:i,opacity:0===t?0:1,style:f,ref:function(e){E[a]=e}})})).reverse()}())};As.defaultProps=gs,As.displayName="Circle";var Os=As;function Ps(e){return!e||e<0?0:e>100?100:e}function Rs(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}function Ds(e){var t=e.percent,n=Ps(Rs({success:e.success,successPercent:e.successPercent}));return[n,Ps(Ps(t)-n)]}var Ms=function(e){var t=e.prefixCls,n=e.width,i=e.strokeWidth,a=e.trailColor,o=void 0===a?null:a,u=e.strokeLinecap,s=void 0===u?"round":u,c=e.gapPosition,l=e.gapDegree,f=e.type,d=e.children,h=e.success,p=n||120,v={width:p,height:p,fontSize:.15*p+6},m=i||6,y=c||"dashboard"===f&&"bottom"||void 0,g="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||Ge.green,r||null]}({success:h,strokeColor:e.strokeColor}),k=K()("".concat(t,"-inner"),B({},"".concat(t,"-circle-gradient"),g));return r.createElement("div",{className:k,style:v},r.createElement(Os,{percent:Ds(e),strokeWidth:m,trailWidth:m,strokeColor:b,strokeLinecap:s,trailColor:o,prefixCls:t,gapDegree:l||0===l?l:"dashboard"===f?75:void 0,gapPosition:y}),d)},Ls=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fs=function(e,t){var n=e.from,r=void 0===n?Ge.blue:n,i=e.to,a=void 0===i?Ge.blue:i,o=e.direction,u=void 0===o?"rtl"===t?"to left":"to right":o,s=Ls(e,["from","to","direction"]);if(0!==Object.keys(s).length){var c=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(s);return{backgroundImage:"linear-gradient(".concat(u,", ").concat(c,")")}}return{backgroundImage:"linear-gradient(".concat(u,", ").concat(r,", ").concat(a,")")}},js=function(e){var t=e.prefixCls,n=e.direction,i=e.percent,a=e.strokeWidth,o=e.size,u=e.strokeColor,s=e.strokeLinecap,c=void 0===s?"round":s,f=e.children,d=e.trailColor,h=void 0===d?null:d,p=e.success,v=u&&"string"!==typeof u?Fs(u,n):{background:u},m="square"===c||"butt"===c?0:void 0,y={backgroundColor:h||void 0,borderRadius:m},g=l({width:"".concat(Ps(i),"%"),height:a||("small"===o?6:8),borderRadius:m},v),b=Rs(e),k={width:"".concat(Ps(b),"%"),height:a||("small"===o?6:8),borderRadius:m,backgroundColor:null===p||void 0===p?void 0:p.strokeColor},w=void 0!==b?r.createElement("div",{className:"".concat(t,"-success-bg"),style:k}):null;return r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(t,"-outer")},r.createElement("div",{className:"".concat(t,"-inner"),style:y},r.createElement("div",{className:"".concat(t,"-bg"),style:g}),w)),f)},Vs=function(e){for(var t=e.size,n=e.steps,i=e.percent,a=void 0===i?0:i,o=e.strokeWidth,u=void 0===o?8:o,s=e.strokeColor,c=e.trailColor,l=void 0===c?null:c,f=e.prefixCls,d=e.children,h=Math.round(n*(a/100)),p="small"===t?2:14,v=new Array(n),m=0;m<n;m++){var y=Array.isArray(s)?s[m]:s;v[m]=r.createElement("div",{key:m,className:K()("".concat(f,"-steps-item"),B({},"".concat(f,"-steps-item-active"),m<=h-1)),style:{backgroundColor:m<=h-1?y:l,width:p,height:u}})}return r.createElement("div",{className:"".concat(f,"-steps-outer")},v,d)},Us=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zs=(ie("line","circle","dashboard"),ie("normal","exception","active","success")),Bs=function(e){var t,n=e.prefixCls,i=e.className,a=e.steps,o=e.strokeColor,u=e.percent,s=void 0===u?0:u,c=e.size,f=void 0===c?"default":c,d=e.showInfo,h=void 0===d||d,p=e.type,v=void 0===p?"line":p,m=Us(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);var y,g=r.useContext(H),b=g.getPrefixCls,k=g.direction,w=b("progress",n),x=function(){var t=e.status;return zs.indexOf(t)<0&&function(){var t=Rs(e);return parseInt(void 0!==t?t.toString():s.toString(),10)}()>=100?"success":t||"normal"}(),E=function(t,n){var i,a=e.format,o=Rs(e);if(!h)return null;var u="line"===v;return a||"exception"!==n&&"success"!==n?i=(a||function(e){return"".concat(e,"%")})(Ps(s),Ps(o)):"exception"===n?i=u?r.createElement(ys,null):r.createElement(Vt,null):"success"===n&&(i=u?r.createElement(fs,null):r.createElement(ps,null)),r.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof i?i:void 0},i)}(w,x),C=Array.isArray(o)?o[0]:o,I="string"===typeof o||Array.isArray(o)?o:void 0;"line"===v?y=a?r.createElement(Vs,l({},e,{strokeColor:I,prefixCls:w,steps:a}),E):r.createElement(js,l({},e,{strokeColor:C,prefixCls:w,direction:k}),E):"circle"!==v&&"dashboard"!==v||(y=r.createElement(Ms,l({},e,{strokeColor:C,prefixCls:w,progressStatus:x}),E));var _=K()(w,(B(t={},"".concat(w,"-").concat(("dashboard"===v?"circle":a&&"steps")||v),!0),B(t,"".concat(w,"-status-").concat(x),!0),B(t,"".concat(w,"-show-info"),h),B(t,"".concat(w,"-").concat(f),f),B(t,"".concat(w,"-rtl"),"rtl"===k),t),i);return r.createElement("div",l({},ve(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:_}),y)},qs=Bs,Ws=r.createContext(!1),Ks=Ws,Hs=r.isValidElement;function Gs(e,t,n){return Hs(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}function Qs(e,t){return Gs(e,e,t)}var $s,Ys=0,Xs={};function Js(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Ys++,r=t;function i(){(r-=1)<=0?(e(),delete Xs[n]):Xs[n]=Rn(i)}return Xs[n]=Rn(i),n}function Zs(e){return!e||null===e.offsetParent||e.hidden}function ec(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Js.cancel=function(e){void 0!==e&&(Rn.cancel(Xs[e]),delete Xs[e])},Js.ids=Xs;var tc=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).containerRef=r.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||Zs(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=Hn(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&ec(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;$s=ct("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Zs(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),Js.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Js((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,i=e.props.children;if(e.csp=n,!r.isValidElement(i))return i;var a=e.containerRef;return on(i)&&(a=an(i.ref,e.containerRef)),Qs(i,{ref:a})},e}return zn(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),$s&&($s.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return r.createElement(G,null,this.renderWave)}}]),n}(r.Component);tc.contextType=H;var nc=(0,r.forwardRef)((function(e,t){return r.createElement(tc,l({ref:t},e))})),rc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ic=r.createContext(void 0),ac=function(e){var t,n=r.useContext(H),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,u=e.size,s=e.className,c=rc(e,["prefixCls","size","className"]),f=i("btn-group",o),d="";switch(u){case"large":d="lg";break;case"small":d="sm"}var h=K()(f,(B(t={},"".concat(f,"-").concat(d),d),B(t,"".concat(f,"-rtl"),"rtl"===a),t),s);return r.createElement(ic.Provider,{value:u},r.createElement("div",l({},c,{className:h})))},oc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},uc=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:oc}))};uc.displayName="LoadingOutlined";var sc=r.forwardRef(uc),cc=function(){return{width:0,opacity:0,transform:"scale(0)"}},lc=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},fc=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(sc,null)):r.createElement(sr,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:cc,onAppearActive:lc,onEnterStart:cc,onEnterActive:lc,onLeaveStart:lc,onLeaveActive:cc},(function(e,n){var i=e.className,a=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:a,ref:n},r.createElement(sc,{className:i}))}))},dc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hc=/^[\u4e00-\u9fa5]{2}$/,pc=hc.test.bind(hc);function vc(e){return"text"===e||"link"===e}function mc(e,t){if(null!==e&&void 0!==e){var n,i=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&pc(e.props.children)?Qs(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?pc(e)?r.createElement("span",null,e.split("").join(i)):r.createElement("span",null,e):(n=e,r.isValidElement(n)&&n.type===r.Fragment?r.createElement("span",null,e):e)}}ie("default","primary","ghost","dashed","link","text"),ie("default","circle","round"),ie("submit","button","reset");function yc(e){return"danger"===e?{danger:!0}:{type:e}}var gc=function(e,t){var n,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,s=void 0===u?"default":u,f=e.danger,d=e.shape,h=void 0===d?"default":d,p=e.size,v=e.disabled,m=e.className,y=e.children,g=e.icon,b=e.ghost,k=void 0!==b&&b,w=e.block,x=void 0!==w&&w,E=e.htmlType,C=void 0===E?"button":E,I=dc(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),_=r.useContext(ye),S=r.useContext(Ks),T=v||S,N=r.useContext(ic),A=c(r.useState(!!a),2),O=A[0],P=A[1],R=c(r.useState(!1),2),D=R[0],M=R[1],L=r.useContext(H),F=L.getPrefixCls,j=L.autoInsertSpaceInButton,V=L.direction,U=t||r.createRef(),z=function(){return 1===r.Children.count(y)&&!g&&!vc(s)},W="boolean"===typeof a?a:(null===a||void 0===a?void 0:a.delay)||!0;r.useEffect((function(){var e=null;return"number"===typeof W?e=window.setTimeout((function(){e=null,P(W)}),W):P(W),function(){e&&(window.clearTimeout(e),e=null)}}),[W]),r.useEffect((function(){if(U&&U.current&&!1!==j){var e=U.current.textContent;z()&&pc(e)?D||M(!0):D&&M(!1)}}),[U]);var G=function(t){var n=e.onClick;O||T?t.preventDefault():null===n||void 0===n||n(t)},Q=F("btn",o),$=!1!==j,Y=N||p||_,X=Y&&{large:"lg",small:"sm",middle:void 0}[Y]||"",J=O?"loading":g,Z=ve(I,["navigate"]),ee=K()(Q,(B(n={},"".concat(Q,"-").concat(h),"default"!==h&&h),B(n,"".concat(Q,"-").concat(s),s),B(n,"".concat(Q,"-").concat(X),X),B(n,"".concat(Q,"-icon-only"),!y&&0!==y&&!!J),B(n,"".concat(Q,"-background-ghost"),k&&!vc(s)),B(n,"".concat(Q,"-loading"),O),B(n,"".concat(Q,"-two-chinese-chars"),D&&$&&!O),B(n,"".concat(Q,"-block"),x),B(n,"".concat(Q,"-dangerous"),!!f),B(n,"".concat(Q,"-rtl"),"rtl"===V),B(n,"".concat(Q,"-disabled"),void 0!==Z.href&&T),n),m),te=g&&!O?g:r.createElement(fc,{existIcon:!!g,prefixCls:Q,loading:!!O}),ne=y||0===y?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t=q(e),r="string"===t||"number"===t;if(n&&r){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);n=r})),r.Children.map(i,(function(e){return mc(e,t)}))}(y,z()&&$):null;if(void 0!==Z.href)return r.createElement("a",l({},Z,{className:ee,onClick:G,ref:U}),te,ne);var re=r.createElement("button",l({},I,{type:C,className:ee,onClick:G,disabled:T,ref:U}),te,ne);return vc(s)?re:r.createElement(nc,{disabled:!!O},re)},bc=r.forwardRef(gc);bc.Group=ac,bc.__ANT_BUTTON=!0;var kc=bc,wc=n(184);function xc(e){var t=e.category,n=e.topics,r=e.home,i=e.disabled;return(0,wc.jsxs)("div",{className:"flex flex-wrap",children:[(0,wc.jsx)("h1",{className:"m-auto",children:t}),n.map((function(e){return(0,wc.jsx)(se,{gutter:24,children:e.map((function(e){return(0,wc.jsx)(de,{span:24,className:"!w-1/2 !px-0 !mt-2 !mx-auto !min-w-[320px] !max-w-[550px]",children:(0,wc.jsx)(ss,{title:e.name.substring(0,1).toUpperCase()+e.name.substring(1),children:(0,wc.jsxs)("div",{className:"!p-0 !m-0 w-[120px] !m-auto",children:[(0,wc.jsxs)("div",{className:"pb-1",children:[(0,wc.jsx)(qs,{type:"circle",percent:e.percentCompleted}),e.percentCompleted," % Completed"]}),(0,wc.jsx)(kc,{disabled:i,type:"primary",onClick:function(){return window.location.href=r?"/#/category?c=".concat(e.name):"/#/question?category=".concat(t,"&topic=").concat(e.name)},children:"Start Learning!"})]})})})}))})}))]})}function Ec(e){var t=e.category,n=(e.user,[]);return"Mathematics"===t?n=[[{percentCompleted:0,name:"Addition"},{percentCompleted:0,name:"Subtraction"},{percentCompleted:0,name:"Multiplication"},{percentCompleted:0,name:"Division"},{percentCompleted:0,name:"Fractions"},{percentCompleted:0,name:"Measurement"},{percentCompleted:0,name:"Characteristics of Numbers"},{percentCompleted:0,name:"2D Shapes"},{percentCompleted:0,name:"Perimeter"},{percentCompleted:0,name:"Area"},{percentCompleted:0,name:"Decimal Numbers"},{percentCompleted:0,name:"Distance Calculations"},{percentCompleted:0,name:"Lines"},{percentCompleted:0,name:"Coordinate Plane"},{percentCompleted:0,name:"Linear Functions"},{percentCompleted:0,name:"Polynomial Functions"},{percentCompleted:0,name:"Transcendental Functions"},{percentCompleted:0,name:"Trigonometry"},{percentCompleted:0,name:"Derivatives"},{percentCompleted:0,name:"Integrals"},{percentCompleted:0,name:"Differential Equations"}]]:"Statistics"===t?n=[[{percentCompleted:0,name:"Average"},{percentCompleted:0,name:"Median"},{percentCompleted:0,name:"Mode"},{percentCompleted:0,name:"Range"},{percentCompleted:0,name:"Sampling"},{percentCompleted:0,name:"Variance"},{percentCompleted:0,name:"Standard Deviation"},{percentCompleted:0,name:"Z-score"},{percentCompleted:0,name:"Confidence Interval"},{percentCompleted:0,name:"T-test"},{percentCompleted:0,name:"Linear Regression"},{percentCompleted:0,name:"Basic Probability"},{percentCompleted:0,name:"Binomial Distribution"},{percentCompleted:0,name:"Intermediate Probability"},{percentCompleted:0,name:"Geometric Distribution"},{percentCompleted:0,name:"HyperGeometric Distribution"},{percentCompleted:0,name:"Poisson Distribution"},{percentCompleted:0,name:"Gamma Distribution"},{percentCompleted:0,name:"Beta Distribution"},{percentCompleted:0,name:"Chi-Squared Distribution"},{percentCompleted:0,name:"ANOVA"},{percentCompleted:0,name:"Probability Models"},{percentCompleted:0,name:"Advanced Probability"},{percentCompleted:0,name:"Machine Learning"},{percentCompleted:0,name:"Maximum Likelihood Estimation"}]]:"Economics"===t?n=[[{percentCompleted:0,name:"Production Possibilities Frontier"},{percentCompleted:0,name:"Supply Optimization"},{percentCompleted:0,name:"Supply & Demand"},{percentCompleted:0,name:"Price Elasticity"},{percentCompleted:0,name:"Utility Optimization"},{percentCompleted:0,name:"Cost Optimization"},{percentCompleted:0,name:"Market Efficiency"},{percentCompleted:0,name:"Budget Optimizations"},{percentCompleted:0,name:"Economics of Strategy"},{percentCompleted:0,name:"Game Theory"},{percentCompleted:0,name:"Behavioral Economics"},{percentCompleted:0,name:"Mathematical Economics"}]]:"Finance"===t?n=[[{percentCompleted:0,name:"Future Value"},{percentCompleted:0,name:"Present Value"},{percentCompleted:0,name:"Decision Making"},{percentCompleted:0,name:"Risk of an asset"},{percentCompleted:0,name:"Duration of an asset"},{percentCompleted:0,name:"Options"}]]:"Accounting"===t?n=[[{percentCompleted:0,name:"Income Statement"},{percentCompleted:0,name:"Balance Sheet"},{percentCompleted:0,name:"Cash Flow Statement"}]]:"Marketing"===t?n=[[{percentCompleted:0,name:"Customer Journey"},{percentCompleted:0,name:"Creative Asset Development"},{percentCompleted:0,name:"Advertisement"},{percentCompleted:0,name:"Public Relations"},{percentCompleted:0,name:"Brand Development"},{percentCompleted:0,name:"Media Planning"},{percentCompleted:0,name:"Marketing Research"},{percentCompleted:0,name:"Marketing Strategy"}]]:"Software"===t&&(n=[[{percentCompleted:0,name:"Variables"},{percentCompleted:0,name:"Primitive Data Types"},{percentCompleted:0,name:"Operations"},{percentCompleted:0,name:"Terminal Input"},{percentCompleted:0,name:"Functions"},{percentCompleted:0,name:"Loops"},{percentCompleted:0,name:"Logic"},{percentCompleted:0,name:"String Methods"},{percentCompleted:0,name:"Arrays"},{percentCompleted:0,name:"Classes"},{percentCompleted:0,name:"File System"},{percentCompleted:0,name:"HTTP Server"},{percentCompleted:0,name:"Unit Testing"},{percentCompleted:0,name:"Basic SQL"},{percentCompleted:0,name:"Intermediate SQL"},{percentCompleted:0,name:"Advanced SQL"},{percentCompleted:0,name:"Websocket Server"},{percentCompleted:0,name:"Pulsar Messaging"},{percentCompleted:0,name:"Integration Testing"},{percentCompleted:0,name:"HTML"},{percentCompleted:0,name:"CSS Design"}]]),(0,wc.jsx)(xc,{category:t,topics:n,home:!1,disabled:!1})}function Cc(){return(0,wc.jsx)("div",{children:"ConfirmAccount"})}function Ic(e){var t=e.user;console.log(t);return(0,wc.jsx)(xc,{title:"Home",topics:[[{percentCompleted:0,name:"Mathematics"},{percentCompleted:0,name:"Statistics"},{percentCompleted:0,name:"Economics"},{percentCompleted:0,name:"Finance"},{percentCompleted:0,name:"Accounting"},{percentCompleted:0,name:"Software"},{percentCompleted:0,name:"Marketing"}]],home:!0})}function _c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Sc(e,t,n){return Sc=Kn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Bn(i,n.prototype),i},Sc.apply(null,arguments)}function Tc(e){var t="function"===typeof Map?new Map:void 0;return Tc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Sc(e,arguments,Wn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bn(n,e)},Tc(e)}var Nc=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ac={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nc(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Oc=function(e){return function(e){var t=Nc(e);return Ac.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pc=function(e){try{return Ac.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Rc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Rc(e[n],t[n]));return e}var Dc=function(){function e(){var t=this;Vn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return zn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Mc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oc(JSON.stringify({alg:"none",type:"JWT"})),Oc(JSON.stringify(a)),""].join(".")}function Lc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fc(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lc())}function jc(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Vc(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Uc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zc(){var e=Lc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Bc(){return"object"===typeof indexedDB}var qc=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Hn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Hn(a),Wc.prototype.create),a}return zn(n)}(Tc(Error)),Wc=function(){function e(t,n,r){Vn(this,e),this.service=t,this.serviceName=n,this.errors=r}return zn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Kc(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new qc(n,a,t);return o}}]),e}();function Kc(e,t){return e.replace(Hc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Hc=/\{\$([^}]+)}/g;function Gc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if($c(u)&&$c(s)){if(!Qc(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function $c(e){return null!==e&&"object"===typeof e}function Yc(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Jc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Zc(e,t){var n=new el(e,t);return n.subscribe.bind(n)}var el=function(){function e(t,n){var r=this;Vn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return zn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_c(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=tl),void 0===r.error&&(r.error=tl),void 0===r.complete&&(r.complete=tl);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function tl(){}function nl(e){return e&&e._delegate?e._delegate:e}var rl=function(){function e(t,n,r){Vn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return zn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),il="[DEFAULT]",al=function(){function e(t,n){Vn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return zn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Dc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch(s){}var t,n=_c(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ot(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ot(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_c(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_c(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===il?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;return this.component?this.component.multipleInstances?e:il:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ol,ul,sl=function(){function e(t){Vn(this,e),this.name=t,this.providers=new Map}return zn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new al(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),cl=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ul||(ul={}));var ll={debug:ul.DEBUG,verbose:ul.VERBOSE,info:ul.INFO,warn:ul.WARN,error:ul.ERROR,silent:ul.SILENT},fl=ul.INFO,dl=(B(ol={},ul.DEBUG,"log"),B(ol,ul.VERBOSE,"log"),B(ol,ul.INFO,"info"),B(ol,ul.WARN,"warn"),B(ol,ul.ERROR,"error"),ol),hl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},pl=function(){function e(t){Vn(this,e),this.name=t,this._logLevel=fl,this._logHandler=hl,this._userLogHandler=null,cl.push(this)}return zn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ul))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ll[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ul.DEBUG].concat(t)),this._logHandler.apply(this,[this,ul.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ul.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ul.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ul.INFO].concat(t)),this._logHandler.apply(this,[this,ul.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ul.WARN].concat(t)),this._logHandler.apply(this,[this,ul.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ul.ERROR].concat(t)),this._logHandler.apply(this,[this,ul.ERROR].concat(t))}}]),e}();var vl,ml;var yl=new WeakMap,gl=new WeakMap,bl=new WeakMap,kl=new WeakMap,wl=new WeakMap;var xl={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Il(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function El(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ml||(ml=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_l(this),n),Il(yl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Il(e.apply(_l(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_l(this),t].concat(r));return bl.set(a,t.sort?t.sort():[t]),Il(a)}}function Cl(e){return"function"===typeof e?El(e):(e instanceof IDBTransaction&&function(e){if(!gl.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));gl.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,vl||(vl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xl):e)}function Il(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Il(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&yl.set(t,e)})).catch((function(){})),wl.set(t,e),t}(e);if(kl.has(e))return kl.get(e);var t=Cl(e);return t!==e&&(kl.set(e,t),wl.set(t,e)),t}var _l=function(e){return wl.get(e)};var Sl,Tl,Nl=["get","getKey","getAll","getAllKeys","count"],Al=["put","add","delete","clear"],Ol=new Map;function Pl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ol.get(t))return Ol.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Al.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Nl.includes(n))){var a=function(){var e=mo(po().mark((function e(t){var a,o,u,s,c,l,f=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ol.set(t,a),a}}}xl=function(e){return pe(pe({},e),{},{get:function(t,n,r){return Pl(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pl(t,n)||e.has(t,n)}})}(xl);var Rl=function(){function e(t){Vn(this,e),this.container=t}return zn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Dl="@firebase/app",Ml="0.7.32",Ll=new pl("@firebase/app"),Fl="[DEFAULT]",jl=(B(Sl={},Dl,"fire-core"),B(Sl,"@firebase/app-compat","fire-core-compat"),B(Sl,"@firebase/analytics","fire-analytics"),B(Sl,"@firebase/analytics-compat","fire-analytics-compat"),B(Sl,"@firebase/app-check","fire-app-check"),B(Sl,"@firebase/app-check-compat","fire-app-check-compat"),B(Sl,"@firebase/auth","fire-auth"),B(Sl,"@firebase/auth-compat","fire-auth-compat"),B(Sl,"@firebase/database","fire-rtdb"),B(Sl,"@firebase/database-compat","fire-rtdb-compat"),B(Sl,"@firebase/functions","fire-fn"),B(Sl,"@firebase/functions-compat","fire-fn-compat"),B(Sl,"@firebase/installations","fire-iid"),B(Sl,"@firebase/installations-compat","fire-iid-compat"),B(Sl,"@firebase/messaging","fire-fcm"),B(Sl,"@firebase/messaging-compat","fire-fcm-compat"),B(Sl,"@firebase/performance","fire-perf"),B(Sl,"@firebase/performance-compat","fire-perf-compat"),B(Sl,"@firebase/remote-config","fire-rc"),B(Sl,"@firebase/remote-config-compat","fire-rc-compat"),B(Sl,"@firebase/storage","fire-gcs"),B(Sl,"@firebase/storage-compat","fire-gcs-compat"),B(Sl,"@firebase/firestore","fire-fst"),B(Sl,"@firebase/firestore-compat","fire-fst-compat"),B(Sl,"fire-js","fire-js"),B(Sl,"firebase","fire-js-all"),Sl),Vl=new Map,Ul=new Map;function zl(e,t){try{e.container.addComponent(t)}catch(n){Ll.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Bl(e,t){e.container.addOrOverwriteComponent(t)}function ql(e){var t=e.name;if(Ul.has(t))return Ll.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ul.set(t,e);var n,r=_c(Vl.values());try{for(r.s();!(n=r.n()).done;){zl(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Wl(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fl;Wl(e,t).clearInstance(n)}function Hl(){Ul.clear()}var Gl=(B(Tl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),B(Tl,"bad-app-name","Illegal App name: '{$appName}"),B(Tl,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),B(Tl,"app-deleted","Firebase App named '{$appName}' already deleted"),B(Tl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),B(Tl,"invalid-log-argument","First argument to `onLog` must be null or a function."),B(Tl,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),B(Tl,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),B(Tl,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),B(Tl,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Tl),Ql=new Wc("app","Firebase",Gl),$l=function(){function e(t,n,r){var i=this;Vn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rl("app",(function(){return i}),"PUBLIC"))}return zn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ql.create("app-deleted",{appName:this._name})}}]),e}(),Yl="9.9.4";function Xl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Fl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ql.create("bad-app-name",{appName:String(i)});var a=Vl.get(i);if(a){if(Qc(e,a.options)&&Qc(r,a.config))return a;throw Ql.create("duplicate-app",{appName:i})}var o,u=new sl(i),s=_c(Ul.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new $l(e,r,u);return Vl.set(i,l),l}function Jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fl,t=Vl.get(e);if(!t)throw Ql.create("no-app",{appName:e});return t}function Zl(){return Array.from(Vl.values())}function ef(e){return tf.apply(this,arguments)}function tf(){return(tf=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Vl.has(n)){e.next=6;break}return Vl.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e,t,n){var r,i=null!==(r=jl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ll.warn(u.join(" "))}ql(new rl("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function rf(e,t){if(null!==e&&"function"!==typeof e)throw Ql.create("invalid-log-argument");!function(e,t){var n,r=_c(cl);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ll[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ul[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function af(e){var t;t=e,cl.forEach((function(e){e.setLogLevel(t)}))}var of="firebase-heartbeat-store",uf=null;function sf(){return uf||(uf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Il(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Il(u.result),e.oldVersion,e.newVersion,Il(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(of)}}).catch((function(e){throw Ql.create("idb-open",{originalErrorMessage:e.message})}))),uf}function cf(e){return lf.apply(this,arguments)}function lf(){return lf=mo(po().mark((function e(t){var n,r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sf();case 3:return r=e.sent,e.abrupt("return",r.transaction(of).objectStore(of).get(hf(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof qc?Ll.warn(e.t0.message):(i=Ql.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ll.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),lf.apply(this,arguments)}function ff(e,t){return df.apply(this,arguments)}function df(){return df=mo(po().mark((function e(t,n){var r,i,a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sf();case 3:return i=e.sent,a=i.transaction(of,"readwrite"),o=a.objectStore(of),e.next=8,o.put(n,hf(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof qc?Ll.warn(e.t0.message):(u=Ql.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ll.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),df.apply(this,arguments)}function hf(e){return"".concat(e.name,"!").concat(e.options.appId)}var pf=function(){function e(t){var n=this;Vn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new bf(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return zn(e,[{key:"triggerHeartbeat",value:function(){var e=mo(po().mark((function e(){var t,n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vf(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=mo(po().mark((function e(){var t,n,r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vf(),n=mf(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Oc(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vf(){return(new Date).toISOString().substring(0,10)}function mf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_c(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),kf(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),kf(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var yf,gf,bf=function(){function e(t){Vn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return zn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bc()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,cf(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ff(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ff(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ot(r.heartbeats),Ot(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function kf(e){return Oc(JSON.stringify({version:2,heartbeats:e})).length}yf="",ql(new rl("platform-logger",(function(e){return new Rl(e)}),"PRIVATE")),ql(new rl("heartbeat",(function(e){return new pf(e)}),"PRIVATE")),nf(Dl,Ml,yf),nf(Dl,Ml,"esm2017"),nf("fire-js","");var wf=function(){function e(t,n){var r=this;Vn(this,e),this._delegate=t,this.firebase=n,zl(t,new rl("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return zn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ef(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fl;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fl;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){zl(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Bl(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),xf=(B(gf={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),B(gf,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gf),Ef=new Wc("app-compat","Firebase",xf);var Cf=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Xl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Gc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:nf,setLogLevel:af,onLog:rf,apps:null,SDK_VERSION:Yl,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ql(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ef.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Rc(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Gc(n,e=e||Fl))throw Ef.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(wf);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Rc(n,e)},createSubscribe:Zc,ErrorFactory:Wc,deepExtend:Rc}),n}(),If=new pl("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){If.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _f=self.firebase.SDK_VERSION;_f&&_f.indexOf("LITE")>=0&&If.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Sf=Cf;!function(e){nf("@firebase/app-compat","0.1.33",e)}();function Tf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wn(e)););return e}function Nf(){return Nf="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Tf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nf.apply(this,arguments)}Sf.registerVersion("firebase","9.9.4","app-compat");var Af,Of="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pf={},Rf=Rf||{},Df=Of||self;function Mf(){}function Lf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ff(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jf="closure_uid_"+(1e9*Math.random()>>>0),Vf=0;function Uf(e,t,n){return e.call.apply(e.bind,arguments)}function zf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bf(e,t,n){return(Bf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uf:zf).apply(null,arguments)}function qf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Kf(){this.s=this.s,this.o=this.o}var Hf={};Kf.prototype.s=!1,Kf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,jf)&&e[jf]||(e[jf]=++Vf)}(this);delete Hf[e]}},Kf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Gf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function $f(e){return Array.prototype.concat.apply([],arguments)}function Yf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xf(e){return/^[\s\xa0]*$/.test(e)}var Jf,Zf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ed(e,t){return-1!=e.indexOf(t)}function td(e,t){return e<t?-1:e>t?1:0}e:{var nd=Df.navigator;if(nd){var rd=nd.userAgent;if(rd){Jf=rd;break e}}Jf=""}function id(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ad(e){var t={};for(var n in e)t[n]=e[n];return t}var od="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ud(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<od.length;a++)n=od[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sd(e){return sd[" "](e),e}sd[" "]=Mf;var cd,ld=ed(Jf,"Opera"),fd=ed(Jf,"Trident")||ed(Jf,"MSIE"),dd=ed(Jf,"Edge"),hd=dd||fd,pd=ed(Jf,"Gecko")&&!(ed(Jf.toLowerCase(),"webkit")&&!ed(Jf,"Edge"))&&!(ed(Jf,"Trident")||ed(Jf,"MSIE"))&&!ed(Jf,"Edge"),vd=ed(Jf.toLowerCase(),"webkit")&&!ed(Jf,"Edge");function md(){var e=Df.document;return e?e.documentMode:void 0}e:{var yd="",gd=function(){var e=Jf;return pd?/rv:([^\);]+)(\)|;)/.exec(e):dd?/Edge\/([\d\.]+)/.exec(e):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vd?/WebKit\/(\S+)/.exec(e):ld?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gd&&(yd=gd?gd[1]:""),fd){var bd=md();if(null!=bd&&bd>parseFloat(yd)){cd=String(bd);break e}}cd=yd}var kd,wd={};function xd(){return function(e){var t=wd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zf(String(cd)).split("."),n=Zf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=td(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||td(0==a[2].length,0==o[2].length)||td(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Df.document&&fd){var Ed=md();kd=Ed||(parseInt(cd,10)||void 0)}else kd=void 0;var Cd=kd,Id=function(){if(!Df.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Df.addEventListener("test",Mf,t),Df.removeEventListener("test",Mf,t)}catch(n){}return e}();function _d(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Sd(e,t){if(_d.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pd){e:{try{sd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Td[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sd.Z.h.call(this)}}_d.prototype.h=function(){this.defaultPrevented=!0},Wf(Sd,_d);var Td={2:"touch",3:"pen",4:"mouse"};Sd.prototype.h=function(){Sd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nd="closure_listenable_"+(1e6*Math.random()|0),Ad=0;function Od(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ad,this.ca=this.fa=!1}function Pd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Rd(e){this.src=e,this.g={},this.h=0}function Dd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Gf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Pd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Md(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Rd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Md(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Od(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ld="closure_lm_"+(1e6*Math.random()|0),Fd={};function jd(e,t,n,r,i){if(r&&r.once)return Ud(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jd(e,t[a],n,r,i);return null}return n=Gd(n),e&&e[Nd]?e.N(t,n,Ff(r)?!!r.capture:!!r,i):Vd(e,t,n,!1,r,i)}function Vd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ff(i)?!!i.capture:!!i,u=Kd(e);if(u||(e[Ld]=u=new Rd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Wd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Id||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ud(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ud(e,t[a],n,r,i);return null}return n=Gd(n),e&&e[Nd]?e.O(t,n,Ff(r)?!!r.capture:!!r,i):Vd(e,t,n,!0,r,i)}function zd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zd(e,t[a],n,r,i);else r=Ff(r)?!!r.capture:!!r,n=Gd(n),e&&e[Nd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Md(a=e.g[t],n,r,i))&&(Pd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Kd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Md(t,n,r,i)),(n=-1<e?t[e]:null)&&Bd(n))}function Bd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Nd])Dd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kd(t))?(Dd(n,e),0==n.h&&(n.src=null,t[Ld]=null)):Pd(e)}}}function qd(e){return e in Fd?Fd[e]:Fd[e]="on"+e}function Wd(e,t){if(e.ca)e=!0;else{t=new Sd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bd(e),e=n.call(r,t)}return e}function Kd(e){return(e=e[Ld])instanceof Rd?e:null}var Hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gd(e){return"function"===typeof e?e:(e[Hd]||(e[Hd]=function(t){return e.handleEvent(t)}),e[Hd])}function Qd(){Kf.call(this),this.i=new Rd(this),this.P=this,this.I=null}function $d(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _d(t,e);else if(t instanceof _d)t.target=t.target||e;else{var i=t;ud(t=new _d(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Yd(o,r,!0,t)&&i}if(i=Yd(o=t.g=e,r,!0,t)&&i,i=Yd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Yd(o=t.g=n[a],r,!1,t)&&i}function Yd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Dd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Wf(Qd,Kf),Qd.prototype[Nd]=!0,Qd.prototype.removeEventListener=function(e,t,n,r){zd(this,e,t,n,r)},Qd.prototype.M=function(){if(Qd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pd(n[r]);delete t.g[e],t.h--}}this.I=null},Qd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xd=Df.JSON.stringify;function Jd(){var e=oh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zd,eh=function(){function e(){Vn(this,e),this.h=this.g=null}return zn(e,[{key:"add",value:function(e,t){var n=th.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),th=new(function(){function e(t,n){Vn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return zn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new nh}),(function(e){return e.reset()})),nh=function(){function e(){Vn(this,e),this.next=this.g=this.h=null}return zn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rh(e){Df.setTimeout((function(){throw e}),0)}function ih(e,t){Zd||function(){var e=Df.Promise.resolve(void 0);Zd=function(){e.then(uh)}}(),ah||(Zd(),ah=!0),oh.add(e,t)}var ah=!1,oh=new eh;function uh(){for(var e;e=Jd();){try{e.h.call(e.g)}catch(n){rh(n)}var t=th;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ah=!1}function sh(e,t){Qd.call(this),this.h=e||1,this.g=t||Df,this.j=Bf(this.kb,this),this.l=Date.now()}function ch(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function lh(e,t,n){if("function"===typeof e)n&&(e=Bf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Df.setTimeout(e,t||0)}function fh(e){e.g=lh((function(){e.g=null,e.i&&(e.i=!1,fh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wf(sh,Qd),(Af=sh.prototype).da=!1,Af.S=null,Af.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$d(this,"tick"),this.da&&(ch(this),this.start()))}},Af.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Af.M=function(){sh.Z.M.call(this),ch(this),delete this.g};var dh=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return zn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fh(this)}},{key:"M",value:function(){Nf(Wn(n.prototype),"M",this).call(this),this.g&&(Df.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Kf);function hh(e){Kf.call(this),this.h=e,this.g={}}Wf(hh,Kf);var ph=[];function vh(e,t,n,r){Array.isArray(n)||(n&&(ph[0]=n.toString()),n=ph);for(var i=0;i<n.length;i++){var a=jd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function mh(e){id(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bd(e)}),e),e.g={}}function yh(){this.g=!0}function gh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}hh.prototype.M=function(){hh.Z.M.call(this),mh(this)},hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yh.prototype.Aa=function(){this.g=!1},yh.prototype.info=function(){};var bh={},kh=null;function wh(){return kh=kh||new Qd}function xh(e){_d.call(this,bh.Ma,e)}function Eh(e){var t=wh();$d(t,new xh(t,e))}function Ch(e,t){_d.call(this,bh.STAT_EVENT,e),this.stat=t}function Ih(e){var t=wh();$d(t,new Ch(t,e))}function _h(e,t){_d.call(this,bh.Na,e),this.size=t}function Sh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Df.setTimeout((function(){e()}),t)}bh.Ma="serverreachability",Wf(xh,_d),bh.STAT_EVENT="statevent",Wf(Ch,_d),bh.Na="timingevent",Wf(_h,_d);var Th={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ah(){}function Oh(e){return e.h||(e.h=e.i())}function Ph(){}Ah.prototype.h=null;var Rh,Dh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Mh(){_d.call(this,"d")}function Lh(){_d.call(this,"c")}function Fh(){}function jh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hh(this),this.P=Uh,e=hd?125:void 0,this.W=new sh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vh}function Vh(){this.i=null,this.g="",this.h=!1}Wf(Mh,_d),Wf(Lh,_d),Wf(Fh,Ah),Fh.prototype.g=function(){return new XMLHttpRequest},Fh.prototype.i=function(){return{}},Rh=new Fh;var Uh=45e3,zh={},Bh={};function qh(e,t,n){e.K=1,e.v=dp(op(t)),e.s=n,e.U=!0,Wh(e,null)}function Wh(e,t){e.F=Date.now(),Qh(e),e.A=op(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ip(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Vh,e.g=Sv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new dh(Bf(e.Ia,e,e.g),e.O)),vh(e.V,e.g,"readystatechange",e.gb),t=e.H?ad(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Eh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Kh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Hh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Gh(e,n))==Bh){4==t&&(e.o=4,Ih(14),i=!1),gh(e.j,e.m,null,"[Incomplete Response]");break}if(r==zh){e.o=4,Ih(15),gh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gh(e.j,e.m,r,null),Zh(e,r)}Kh(e)&&r!=Bh&&r!=zh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ih(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bv(t),t.L=!0,Ih(11))):(gh(e.j,e.m,n,"[Invalid Chunked Response]"),Jh(e),Xh(e))}function Gh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bh:(n=Number(t.substring(n,r)),isNaN(n)?zh:(r+=1)+n>t.length?Bh:(t=t.substr(r,n),e.C=r+n,t))}function Qh(e){e.Y=Date.now()+e.P,$h(e,e.P)}function $h(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sh(Bf(e.eb,e),t)}function Yh(e){e.B&&(Df.clearTimeout(e.B),e.B=null)}function Xh(e){0==e.l.G||e.I||xv(e.l,e)}function Jh(e){Yh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ch(e.W),mh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Rp(n.i,e)))if(n.I=e.N,!e.J&&Rp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wv(n),lv(n)}gv(n),Ih(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sh(Bf(n.ab,n),6e3));if(1>=Pp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Cv(n,11)}else if((e.J||n.g==e)&&wv(n),!Xf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ed(l,"spdy")||ed(l,"quic")||ed(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dp(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,fp(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=_v(r,r.H?r.la:null,r.W),h.J){Mp(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(Yh(p),Qh(p)),r.g=h}else yv(r);0<n.l.length&&hv(n)}else"stop"!=a[0]&&"close"!=a[0]||Cv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Cv(n,7):cv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Eh(4)}catch(a){}}function ep(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lf(e)||"string"===typeof e)Qf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Lf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Lf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function tp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof tp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function np(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];rp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)rp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function rp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Af=jh.prototype).setTimeout=function(e){this.P=e},Af.gb=function(e){e=e.target;var t=this.L;t&&3==iv(e)?t.l():this.Ia(e)},Af.Ia=function(e){try{if(e==this.g)e:{var t=iv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||hd||this.g&&(this.h.h||this.g.ga()||av(this.g)))){this.I||4!=t||7==n||Eh(8==n||0>=r?3:2),Yh(this);var i=this.g.ba();this.N=i;t:if(Kh(this)){var a=av(this.g);e="";var o=a.length,u=4==iv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jh(this),Xh(this);var s="";break t}this.h.i=new Df.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ih(12),Jh(this),Xh(this);break e}gh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zh(this,i)}this.U?(Hh(this,t,s),hd&&this.i&&3==t&&(vh(this.V,this.W,"tick",this.fb),this.W.start())):(gh(this.j,this.m,s,null),Zh(this,s)),4==t&&Jh(this),this.i&&!this.I&&(4==t?xv(this.l,this):(this.i=!1,Qh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ih(12)):(this.o=0,Ih(13)),Jh(this),Xh(this)}}}catch(t){}},Af.fb=function(){if(this.g){var e=iv(this.g),t=this.g.ga();this.C<t.length&&(Yh(this),Hh(this,e,t),this.i&&4!=e&&Qh(this))}},Af.cancel=function(){this.I=!0,Jh(this)},Af.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Eh(3),Ih(17)),Jh(this),this.o=2,Xh(this)):$h(this,this.Y-e)},(Af=tp.prototype).R=function(){np(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Af.T=function(){return np(this),this.g.concat()},Af.get=function(e,t){return rp(this.h,e)?this.h[e]:t},Af.set=function(e,t){rp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Af.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ip=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ap(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ap){this.g=void 0!==t?t:e.g,up(this,e.j),this.s=e.s,sp(this,e.i),cp(this,e.m),this.l=e.l,t=e.h;var n=new wp;n.i=t.i,t.g&&(n.g=new tp(t.g),n.h=t.h),lp(this,n),this.o=e.o}else e&&(n=String(e).match(ip))?(this.g=!!t,up(this,n[1]||"",!0),this.s=hp(n[2]||""),sp(this,n[3]||"",!0),cp(this,n[4]),this.l=hp(n[5]||"",!0),lp(this,n[6]||"",!0),this.o=hp(n[7]||"")):(this.g=!!t,this.h=new wp(null,this.g))}function op(e){return new ap(e)}function up(e,t,n){e.j=n?hp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sp(e,t,n){e.i=n?hp(t,!0):t}function cp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lp(e,t,n){t instanceof wp?(e.h=t,function(e,t){t&&!e.j&&(xp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ep(this,t),Ip(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=pp(t,bp)),e.h=new wp(t,e.g))}function fp(e,t,n){e.h.set(t,n)}function dp(e){return fp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ap.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pp(t,mp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pp(t,mp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pp(n,"/"==n.charAt(0)?gp:yp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pp(n,kp)),e.join("")};var mp=/[#\/\?@]/g,yp=/[#\?:]/g,gp=/[#\?]/g,bp=/[#\?@]/g,kp=/#/g;function wp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xp(e){e.g||(e.g=new tp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ep(e,t){xp(e),t=_p(e,t),rp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,rp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&np(e)))}function Cp(e,t){return xp(e),t=_p(e,t),rp(e.g.h,t)}function Ip(e,t,n){Ep(e,t),0<n.length&&(e.i=null,e.g.set(_p(e,t),Yf(n)),e.h+=n.length)}function _p(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Af=wp.prototype).add=function(e,t){xp(this),this.i=null,e=_p(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Af.forEach=function(e,t){xp(this),this.g.forEach((function(n,r){Qf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Af.T=function(){xp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Af.R=function(e){xp(this);var t=[];if("string"===typeof e)Cp(this,e)&&(t=$f(t,this.g.get(_p(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=$f(t,e[n])}return t},Af.set=function(e,t){return xp(this),this.i=null,Cp(this,e=_p(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Af.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Af.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Sp=zn((function e(t,n){Vn(this,e),this.h=t,this.g=n}));function Tp(e){this.l=e||Ap,Df.PerformanceNavigationTiming?e=0<(e=Df.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Df.g&&Df.g.Ea&&Df.g.Ea()&&Df.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Np,Ap=10;function Op(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Pp(e){return e.h?1:e.g?e.g.size:0}function Rp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dp(e,t){e.g?e.g.add(t):e.h=t}function Mp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Lp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_c(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Yf(e.i)}function Fp(){}function jp(){this.g=new Fp}function Vp(e,t,n){var r=n||"";try{ep(e,(function(e,n){var i=e;Ff(e)&&(i=Xd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Up(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function zp(e){this.l=e.$b||null,this.j=e.ib||!1}function Bp(e,t){Qd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tp.prototype.cancel=function(){if(this.i=Lp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_c(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fp.prototype.stringify=function(e){return Df.JSON.stringify(e,void 0)},Fp.prototype.parse=function(e){return Df.JSON.parse(e,void 0)},Wf(zp,Ah),zp.prototype.g=function(){return new Bp(this.l,this.j)},zp.prototype.i=(Np={},function(){return Np}),Wf(Bp,Qd);var qp=0;function Wp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Kp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hp(e)}function Hp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Af=Bp.prototype).open=function(e,t){if(this.readyState!=qp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hp(this)},Af.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Df).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Af.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kp(this)),this.readyState=qp},Af.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hp(this)),this.g&&(this.readyState=3,Hp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Df.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Af.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kp(this):Hp(this),3==this.readyState&&Wp(this)}},Af.Ua=function(e){this.g&&(this.response=this.responseText=e,Kp(this))},Af.Ta=function(e){this.g&&(this.response=e,Kp(this))},Af.ha=function(){this.g&&Kp(this)},Af.setRequestHeader=function(e,t){this.v.append(e,t)},Af.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Af.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gp=Df.JSON.parse;function Qp(e){Qd.call(this),this.headers=new tp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$p,this.K=this.L=!1}Wf(Qp,Qd);var $p="",Yp=/^https?$/i,Xp=["POST","PUT"];function Jp(e){return"content-type"==e.toLowerCase()}function Zp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ev(e),nv(e)}function ev(e){e.D||(e.D=!0,$d(e,"complete"),$d(e,"error"))}function tv(e){if(e.h&&"undefined"!=typeof Rf&&(!e.C[1]||4!=iv(e)||2!=e.ba()))if(e.v&&4==iv(e))lh(e.Fa,0,e);else if($d(e,"readystatechange"),4==iv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ip)[1]||null;if(!a&&Df.self&&Df.self.location){var o=Df.self.location.protocol;a=o.substr(0,o.length-1)}i=!Yp.test(a?a.toLowerCase():"")}t=i}if(t)$d(e,"complete"),$d(e,"success");else{e.m=6;try{var u=2<iv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",ev(e)}}finally{nv(e)}}}function nv(e,t){if(e.g){rv(e);var n=e.g,r=e.C[0]?Mf:null;e.g=null,e.C=null,t||$d(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function rv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Df.clearTimeout(e.A),e.A=null)}function iv(e){return e.g?e.g.readyState:0}function av(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $p:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ov(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return id(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fp(e,t,n))}function uv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sv(e){this.za=0,this.l=[],this.h=new yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uv("baseRetryDelayMs",5e3,e),this.$a=uv("retryDelaySeedMs",1e4,e),this.Ya=uv("forwardChannelMaxRetries",2,e),this.ra=uv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Tp(e&&e.concurrentRequestLimit),this.Ca=new jp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cv(e){if(fv(e),3==e.G){var t=e.V++,n=op(e.F);fp(n,"SID",e.J),fp(n,"RID",t),fp(n,"TYPE","terminate"),vv(e,n),(t=new jh(e,e.h,t,void 0)).K=2,t.v=dp(op(n)),n=!1,Df.navigator&&Df.navigator.sendBeacon&&(n=Df.navigator.sendBeacon(t.v.toString(),"")),!n&&Df.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qh(t)}Iv(e)}function lv(e){e.g&&(bv(e),e.g.cancel(),e.g=null)}function fv(e){lv(e),e.u&&(Df.clearTimeout(e.u),e.u=null),wv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Df.clearTimeout(e.m),e.m=null)}function dv(e,t){e.l.push(new Sp(e.Za++,t)),3==e.G&&hv(e)}function hv(e){Op(e.i)||e.m||(e.m=!0,ih(e.Ha,e),e.C=0)}function pv(e,t){var n;n=t?t.m:e.V++;var r=op(e.F);fp(r,"SID",e.J),fp(r,"RID",n),fp(r,"AID",e.U),vv(e,r),e.o&&e.s&&ov(r,e.o,e.s),n=new jh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=mv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dp(e.i,n),qh(n,r,t)}function vv(e,t){e.j&&ep({},(function(e,n){fp(t,n,e)}))}function mv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Bf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Vp(l,o,"req"+c+"_")}catch(tm){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yv(e){e.g||e.u||(e.Y=1,ih(e.Ga,e),e.A=0)}function gv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Sh(Bf(e.Ga,e),Ev(e,e.A)),e.A++,!0)}function bv(e){null!=e.B&&(Df.clearTimeout(e.B),e.B=null)}function kv(e){e.g=new jh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=op(e.oa);fp(t,"RID","rpc"),fp(t,"SID",e.J),fp(t,"CI",e.N?"0":"1"),fp(t,"AID",e.U),vv(e,t),fp(t,"TYPE","xmlhttp"),e.o&&e.s&&ov(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=dp(op(t)),n.s=null,n.U=!0,Wh(n,e)}function wv(e){null!=e.v&&(Df.clearTimeout(e.v),e.v=null)}function xv(e,t){var n=null;if(e.g==t){wv(e),bv(e),e.g=null;var r=2}else{if(!Rp(e.i,t))return;n=t.D,Mp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;$d(r=wh(),new _h(r,n,t,i)),hv(e)}else yv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Pp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Sh(Bf(e.Ha,e,t),Ev(e,e.C)),e.C++,!0))}(e,t)||2==r&&gv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Cv(e,5);break;case 4:Cv(e,10);break;case 3:Cv(e,6);break;default:Cv(e,2)}}function Ev(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Cv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Bf(e.jb,e);n||(n=new ap("//www.google.com/images/cleardot.gif"),Df.location&&"http"==Df.location.protocol||up(n,"https"),dp(n)),function(e,t){var n=new yh;if(Df.Image){var r=new Image;r.onload=qf(Up,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qf(Up,n,r,"TestLoadImage: error",!1,t),r.onabort=qf(Up,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qf(Up,n,r,"TestLoadImage: timeout",!1,t),Df.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ih(2);e.G=0,e.j&&e.j.va(t),Iv(e),fv(e)}function Iv(e){e.G=0,e.I=-1,e.j&&(0==Lp(e.i).length&&0==e.l.length||(e.i.i.length=0,Yf(e.l),e.l.length=0),e.j.ua())}function _v(e,t,n){var r=function(e){return e instanceof ap?op(e):new ap(e,void 0)}(n);if(""!=r.i)t&&sp(r,t+"."+r.i),cp(r,r.m);else{var i=Df.location;r=function(e,t,n,r){var i=new ap(null,void 0);return e&&up(i,e),t&&sp(i,t),n&&cp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&id(e.aa,(function(e,t){fp(r,t,e)})),t=e.D,n=e.sa,t&&n&&fp(r,t,n),fp(r,"VER",e.ma),vv(e,r),r}function Sv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qp(new zp({ib:!0})):new Qp(e.qa)).L=e.H,t}function Tv(){}function Nv(){if(fd&&!(10<=Number(Cd)))throw Error("Environmental error: no available transport.")}function Av(e,t){Qd.call(this),this.g=new sv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rv(this)}function Ov(e){Mh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pv(){Lh.call(this),this.status=1}function Rv(e){this.g=e}(Af=Qp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rh.g(),this.C=this.u?Oh(this.u):Oh(Rh),this.g.onreadystatechange=Bf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Zp(this,a)}e=n||"";var i=new tp(this.headers);r&&ep(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Jp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Df.FormData&&e instanceof Df.FormData,!(0<=Gf(Xp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rv(this),0<this.B&&((this.K=function(e){return fd&&xd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bf(this.pa,this)):this.A=lh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Zp(this,a)}},Af.pa=function(){"undefined"!=typeof Rf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$d(this,"timeout"),this.abort(8))},Af.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$d(this,"complete"),$d(this,"abort"),nv(this))},Af.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nv(this,!0)),Qp.Z.M.call(this)},Af.Fa=function(){this.s||(this.F||this.v||this.l?tv(this):this.cb())},Af.cb=function(){tv(this)},Af.ba=function(){try{return 2<iv(this)?this.g.status:-1}catch(Np){return-1}},Af.ga=function(){try{return this.g?this.g.responseText:""}catch(Np){return""}},Af.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gp(t)}},Af.Da=function(){return this.m},Af.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Af=sv.prototype).ma=8,Af.G=1,Af.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Af.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ud(n=ad(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=mv(this,t,r),fp(i=op(this.F),"RID",e),fp(i,"CVER",22),this.D&&fp(i,"X-HTTP-Session-Id",this.D),vv(this,i),this.o&&n&&ov(i,this.o,n),Dp(this.i,t),this.Ra&&fp(i,"TYPE","init"),this.ja?(fp(i,"$req",r),fp(i,"SID","null"),t.$=!0,qh(t,i,null)):qh(t,i,r),this.G=2}}else 3==this.G&&(e?pv(this,e):0==this.l.length||Op(this.i)||pv(this))},Af.Ga=function(){if(this.u=null,kv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sh(Bf(this.bb,this),e)}},Af.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ih(10),lv(this),kv(this))},Af.ab=function(){null!=this.v&&(this.v=null,lv(this),gv(this),Ih(19))},Af.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ih(2)):(this.h.info("Failed to ping google.com"),Ih(1))},(Af=Tv.prototype).xa=function(){},Af.wa=function(){},Af.va=function(){},Af.ua=function(){},Af.Oa=function(){},Nv.prototype.g=function(e,t){return new Av(e,t)},Wf(Av,Qd),Av.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ih(Bf(e.hb,e,t))),Ih(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_v(e,null,e.W),hv(e)},Av.prototype.close=function(){cv(this.g)},Av.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,dv(this.g,t)}else this.v?((t={}).__data__=Xd(e),dv(this.g,t)):dv(this.g,e)},Av.prototype.M=function(){this.g.j=null,delete this.j,cv(this.g),delete this.g,Av.Z.M.call(this)},Wf(Ov,Mh),Wf(Pv,Lh),Wf(Rv,Tv),Rv.prototype.xa=function(){$d(this.g,"a")},Rv.prototype.wa=function(e){$d(this.g,new Ov(e))},Rv.prototype.va=function(e){$d(this.g,new Pv(e))},Rv.prototype.ua=function(){$d(this.g,"b")},Nv.prototype.createWebChannel=Nv.prototype.g,Av.prototype.send=Av.prototype.u,Av.prototype.open=Av.prototype.m,Av.prototype.close=Av.prototype.close,Th.NO_ERROR=0,Th.TIMEOUT=8,Th.HTTP_ERROR=6,Nh.COMPLETE="complete",Ph.EventType=Dh,Dh.OPEN="a",Dh.CLOSE="b",Dh.ERROR="c",Dh.MESSAGE="d",Qd.prototype.listen=Qd.prototype.N,Qp.prototype.listenOnce=Qp.prototype.O,Qp.prototype.getLastError=Qp.prototype.La,Qp.prototype.getLastErrorCode=Qp.prototype.Da,Qp.prototype.getStatus=Qp.prototype.ba,Qp.prototype.getResponseJson=Qp.prototype.Qa,Qp.prototype.getResponseText=Qp.prototype.ga,Qp.prototype.send=Qp.prototype.ea;var Dv=Pf.createWebChannelTransport=function(){return new Nv},Mv=Pf.getStatEventTarget=function(){return wh()},Lv=Pf.ErrorCode=Th,Fv=Pf.EventType=Nh,jv=Pf.Event=bh,Vv=Pf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uv=Pf.FetchXmlHttpFactory=zp,zv=Pf.WebChannel=Ph,Bv=Pf.XhrIo=Qp,qv="@firebase/firestore",Wv=function(){function e(t){Vn(this,e),this.uid=t}return zn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Wv.UNAUTHENTICATED=new Wv(null),Wv.GOOGLE_CREDENTIALS=new Wv("google-credentials-uid"),Wv.FIRST_PARTY=new Wv("first-party-uid"),Wv.MOCK_USER=new Wv("mock-user");var Kv="9.9.4",Hv=new pl("@firebase/firestore");function Gv(){return Hv.logLevel}function Qv(e){if(Hv.logLevel<=ul.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xv);Hv.debug.apply(Hv,["Firestore (".concat(Kv,"): ").concat(e)].concat(Ot(i)))}}function $v(e){if(Hv.logLevel<=ul.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xv);Hv.error.apply(Hv,["Firestore (".concat(Kv,"): ").concat(e)].concat(Ot(i)))}}function Yv(e){if(Hv.logLevel<=ul.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xv);Hv.warn.apply(Hv,["Firestore (".concat(Kv,"): ").concat(e)].concat(Ot(i)))}}function Xv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Jv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Kv,") INTERNAL ASSERTION FAILED: ")+e;throw $v(t),new Error(t)}function Zv(e,t){e||Jv()}function em(e,t){return e}var tm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nm=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return zn(n)}(qc),rm=zn((function e(){var t=this;Vn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),im=zn((function e(t,n){Vn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),am=function(){function e(){Vn(this,e)}return zn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),om=function(){function e(t){Vn(this,e),this.token=t,this.changeListener=null}return zn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),um=function(){function e(t){Vn(this,e),this.t=t,this.currentUser=Wv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return zn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Qv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Qv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Zv("string"==typeof n.accessToken),new im(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Zv(null===e||"string"==typeof e),new Wv(e)}}]),e}(),sm=function(){function e(t,n,r,i){Vn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Wv.FIRST_PARTY,this.p=new Map}return zn(e,[{key:"I",value:function(){return this.g?this.g():(Zv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),cm=function(){function e(t,n,r,i){Vn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return zn(e,[{key:"getToken",value:function(){return Promise.resolve(new sm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),lm=zn((function e(t){Vn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fm=function(){function e(t){Vn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return zn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Qv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Qv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Qv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Qv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Zv("string"==typeof t.token),e.A=t.token,new lm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function dm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var hm=function(){function e(){Vn(this,e)}return zn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=dm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pm(e,t){return e<t?-1:e>t?1:0}function vm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mm(e){return e+"\0"}var ym=function(){function e(t,n){if(Vn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new nm(tm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nm(tm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new nm(tm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nm(tm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return zn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pm(this.nanoseconds,e.nanoseconds):pm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gm=function(){function e(t){Vn(this,e),this.timestamp=t}return zn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ym(0,0))}},{key:"max",value:function(){return new e(new ym(253402300799,999999999))}}]),e}(),bm=function(){function e(t,n,r){Vn(this,e),void 0===n?n=0:n>t.length&&Jv(),void 0===r?r=t.length-n:r>t.length-n&&Jv(),this.segments=t,this.offset=n,this.len=r}return zn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),km=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new nm(tm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ot(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bm),wm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xm=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return wm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new nm(tm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new nm(tm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new nm(tm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new nm(tm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bm),Em=function(){function e(t){Vn(this,e),this.path=t}return zn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===km.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(km.fromString(t))}},{key:"fromName",value:function(t){return new e(km.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(km.emptyPath())}},{key:"comparator",value:function(e,t){return km.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new km(t.slice()))}}]),e}(),Cm=zn((function e(t,n,r,i){Vn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Im(e){return e.fields.find((function(e){return 2===e.kind}))}function _m(e){return e.fields.filter((function(e){return 2!==e.kind}))}Cm.UNKNOWN_ID=-1;var Sm=zn((function e(t,n){Vn(this,e),this.fieldPath=t,this.kind=n}));var Tm=function(){function e(t,n){Vn(this,e),this.sequenceNumber=t,this.offset=n}return zn(e,null,[{key:"empty",value:function(){return new e(0,Om.min())}}]),e}();function Nm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gm.fromTimestamp(1e9===r?new ym(n+1,0):new ym(n,r));return new Om(i,Em.empty(),t)}function Am(e){return new Om(e.readTime,e.key,-1)}var Om=function(){function e(t,n,r){Vn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return zn(e,null,[{key:"min",value:function(){return new e(gm.min(),Em.empty(),-1)}},{key:"max",value:function(){return new e(gm.max(),Em.empty(),-1)}}]),e}();function Pm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Em.comparator(e.documentKey,t.documentKey))?n:pm(e.largestBatchId,t.largestBatchId)}var Rm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dm=function(){function e(){Vn(this,e),this.onCommittedListeners=[]}return zn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Mm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tm.FAILED_PRECONDITION&&t.message===Rm){e.next=2;break}throw t;case 2:Qv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}var Fm=function(){function e(t){var n=this;Vn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return zn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Jv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_c(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),jm=function(){function e(t,n){var r=this;Vn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new rm,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new zm(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Hm(e.target.error);r.P.reject(new zm(t,n))}}return zn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Qv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zm(n,t)}}}]),e}(),Vm=function(){function e(t,n,r){Vn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Lc())&&$v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return zn(e,[{key:"F",value:function(){var e=mo(po().mark((function e(t){var n=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new zm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new nm(tm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new nm(tm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new zm(t,n))},i.onupgradeneeded=function(e){Qv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Qv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=mo(po().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(po().mark((function e(){var n,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=jm.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Fm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Qv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qv("SimpleDb","Removing database:",e),Wm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Bc())return!1;if(e.N())return!0;var t=Lc(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Um=function(){function e(t){Vn(this,e),this.U=t,this.q=!1,this.K=null}return zn(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Wm(this.U.delete())}}]),e}(),zm=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,tm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return zn(n)}(nm);function Bm(e){return"IndexedDbTransactionError"===e.name}var qm=function(){function e(t){Vn(this,e),this.store=t}return zn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wm(n)}},{key:"add",value:function(e){return Qv("SimpleDb","ADD",this.store.name,e,e),Wm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Wm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qv("SimpleDb","DELETE",this.store.name,e),Wm(this.store.delete(e))}},{key:"count",value:function(){return Qv("SimpleDb","COUNT",this.store.name),Wm(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Fm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Fm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Qv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Fm((function(n,r){t.onerror=function(e){var t=Hm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Fm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Um(i),o=t(i.primaryKey,i.value,a);if(o instanceof Fm){var u=o.catch((function(e){return a.done(),Fm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Fm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Wm(e){return new Fm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Hm(e.target.error);n(t)}}))}var Km=!1;function Hm(e){var t=Vm.D(Lc());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new nm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Km||(Km=!0,setTimeout((function(){throw r}),0)),r}}return e}var Gm=function(){function e(t,n){Vn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return zn(e,[{key:"start",value:function(){this.nt(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Qv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Qv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Bm(e.t4)){e.next=17;break}Qv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Mm(e.t4);case 19:return e.next=21,t.nt(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Qm=function(){function e(t,n){Vn(this,e),this.localStore=t,this.persistence=n}return zn(e,[{key:"st",value:function(){var e=mo(po().mark((function e(){var t,n=this,r=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Fm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Qv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Qv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Am(t);Pm(r,n)>0&&(n=r)})),new Om(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),$m=function(){function e(t,n){var r=this;Vn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return zn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Ym(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}$m.at=-1;var Zm=function(){function e(t,n){Vn(this,e),this.comparator=t,this.root=n||ty.EMPTY}return zn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ty.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ty.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ey(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ey(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ey(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ey(this.root,e,this.comparator,!0)}}]),e}(),ey=function(){function e(t,n,r,i){Vn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return zn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ty=function(){function e(t,n,r,i,a){Vn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return zn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Jv();if(this.right.isRed())throw Jv();var e=this.left.check();if(e!==this.right.check())throw Jv();return e+(this.isRed()?0:1)}}]),e}();ty.EMPTY=null,ty.RED=!0,ty.BLACK=!1,ty.EMPTY=new(function(){function e(){Vn(this,e),this.size=0}return zn(e,[{key:"key",get:function(){throw Jv()}},{key:"value",get:function(){throw Jv()}},{key:"color",get:function(){throw Jv()}},{key:"left",get:function(){throw Jv()}},{key:"right",get:function(){throw Jv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ty(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ny=function(){function e(t){Vn(this,e),this.comparator=t,this.data=new Zm(this.comparator)}return zn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ry(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ry(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ry=function(){function e(t){Vn(this,e),this.iter=t}return zn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function iy(e){return e.hasNext()?e.getNext():void 0}var ay=function(){function e(t){Vn(this,e),this.fields=t,t.sort(xm.comparator)}return zn(e,[{key:"unionWith",value:function(t){var n,r=new ny(xm.comparator),i=_c(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=_c(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=_c(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var oy=function(e){function t(e){Vn(this,t),this.binaryString=e}return zn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();oy.EMPTY_BYTE_STRING=new oy("");var uy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sy(e){if(Zv(!!e),"string"==typeof e){var t=0,n=uy.exec(e);if(Zv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cy(e.seconds),nanos:cy(e.nanos)}}function cy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ly(e){return"string"==typeof e?oy.fromBase64String(e):oy.fromUint8Array(e)}function fy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dy(e){var t=e.mapValue.fields.__previous_value__;return fy(t)?dy(t):t}function hy(e){var t=sy(e.mapValue.fields.__local_write_time__.timestampValue);return new ym(t.seconds,t.nanos)}var py=zn((function e(t,n,r,i,a,o,u,s){Vn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),vy=function(){function e(t,n){Vn(this,e),this.projectId=t,this.database=n||"(default)"}return zn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function my(e){return null==e}function yy(e){return 0===e&&1/e==-1/0}function gy(e){return"number"==typeof e&&Number.isInteger(e)&&!yy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var by={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ky={nullValue:"NULL_VALUE"};function wy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fy(e)?4:My(e)?9007199254740991:10:Jv()}function xy(e,t){if(e===t)return!0;var n=wy(e);if(n!==wy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hy(e).isEqual(hy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sy(e.timestampValue),r=sy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ly(e.bytesValue).isEqual(ly(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cy(e.geoPointValue.latitude)===cy(t.geoPointValue.latitude)&&cy(e.geoPointValue.longitude)===cy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cy(e.integerValue)===cy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cy(e.doubleValue),r=cy(t.doubleValue);return n===r?yy(n)===yy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vm(e.arrayValue.values||[],t.arrayValue.values||[],xy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ym(n)!==Ym(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xy(n[i],r[i])))return!1;return!0}(e,t);default:return Jv()}}function Ey(e,t){return void 0!==(e.values||[]).find((function(e){return xy(e,t)}))}function Cy(e,t){if(e===t)return 0;var n=wy(e),r=wy(t);if(n!==r)return pm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cy(e.integerValue||e.doubleValue),r=cy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Iy(e.timestampValue,t.timestampValue);case 4:return Iy(hy(e),hy(t));case 5:return pm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ly(e),r=ly(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pm(n[i],r[i]);if(0!==a)return a}return pm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pm(cy(e.latitude),cy(t.latitude));return 0!==n?n:pm(cy(e.longitude),cy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cy(n[i],r[i]);if(a)return a}return pm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===by.mapValue&&t===by.mapValue)return 0;if(e===by.mapValue)return 1;if(t===by.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=pm(r[o],a[o]);if(0!==u)return u;var s=Cy(n[r[o]],i[a[o]]);if(0!==s)return s}return pm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Jv()}}function Iy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pm(e,t);var n=sy(e),r=sy(t),i=pm(n.seconds,r.seconds);return 0!==i?i:pm(n.nanos,r.nanos)}function _y(e){return Sy(e)}function Sy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ly(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Em.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_c(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Sy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_c(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Sy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Jv();var t,n}function Ty(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ny(e){return!!e&&"integerValue"in e}function Ay(e){return!!e&&"arrayValue"in e}function Oy(e){return!!e&&"nullValue"in e}function Py(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ry(e){return!!e&&"mapValue"in e}function Dy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Dy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function My(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ly(e){return"nullValue"in e?ky:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ty(vy.empty(),Em.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Jv()}function Fy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ty(vy.empty(),Em.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?by:Jv()}function jy(e,t){var n=Cy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Vy(e,t){var n=Cy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Uy=function(){function e(t){Vn(this,e),this.value=t}return zn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ry(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dy(t)}},{key:"setAll",value:function(e){var t=this,n=xm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Dy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ry(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ry(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Xm(t,(function(t,n){return e[t]=n}));var r,i=_c(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Dy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zy(e){var t=[];return Xm(e.fields,(function(e,n){var r=new xm([e]);if(Ry(n)){var i=zy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_c(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ay(t)}var By=function(){function e(t,n,r,i,a,o){Vn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return zn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Uy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Uy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=gm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gm.min(),gm.min(),Uy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,gm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,gm.min(),Uy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,gm.min(),Uy.empty(),2)}}]),e}(),qy=zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Vn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Wy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new qy(e,t,n,r,i,a,o)}function Ky(e){var t=em(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+_y(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),my(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return _y(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return _y(e)})).join(",")),t.ht=n}return t.ht}function Hy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!xy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lg(e.startAt,t.startAt)&&lg(e.endAt,t.endAt)}function Gy(e){return Em.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Qy(e,t){return e.filters.filter((function(e){return e instanceof Xy&&e.field.isEqual(t)}))}function $y(e,t,n){var r,i=ky,a=!0,o=_c(Qy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ky,c=!0;switch(u.op){case"<":case"<=":s=Ly(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ky}jy({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];jy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Yy(e,t,n){var r,i=by,a=!0,o=_c(Qy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=by,c=!0;switch(u.op){case">=":case">":s=Fy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=by}Vy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Vy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Xy=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Cy(t,this.value)):null!==t&&wy(this.value)===wy(t)&&this.ft(Cy(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jv()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Jy(e,t,r):"array-contains"===t?new ng(e,r):"in"===t?new rg(e,r):"not-in"===t?new ig(e,r):"array-contains-any"===t?new ag(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Zy(e,n):new eg(e,n)}}]),n}(function(){return zn((function e(){Vn(this,e)}))}()),Jy=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,e,r,i)).key=Em.fromName(i.referenceValue),a}return zn(n,[{key:"matches",value:function(e){var t=Em.comparator(e.key,this.key);return this.ft(t)}}]),n}(Xy),Zy=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,"in",r)).keys=tg("in",r),i}return zn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xy),eg=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,"not-in",r)).keys=tg("not-in",r),i}return zn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xy);function tg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Em.fromName(e.referenceValue)}))}var ng=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"array-contains",r)}return zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ay(t)&&Ey(t.arrayValue,this.value)}}]),n}(Xy),rg=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"in",r)}return zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ey(this.value.arrayValue,t)}}]),n}(Xy),ig=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"not-in",r)}return zn(n,[{key:"matches",value:function(e){if(Ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ey(this.value.arrayValue,t)}}]),n}(Xy),ag=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"array-contains-any",r)}return zn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ey(t.value.arrayValue,e)}))}}]),n}(Xy),og=zn((function e(t,n){Vn(this,e),this.position=t,this.inclusive=n})),ug=zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Vn(this,e),this.field=t,this.dir=n}));function sg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function cg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Em.comparator(Em.fromName(o.referenceValue),n.key):Cy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function lg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xy(e.position[n],t.position[n]))return!1;return!0}var fg=zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Vn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function dg(e,t,n,r,i,a,o,u){return new fg(e,t,n,r,i,a,o,u)}function hg(e){return new fg(e)}function pg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mg(e){var t,n=_c(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function yg(e){return null!==e.collectionGroup}function gg(e){var t=em(e);if(null===t._t){t._t=[];var n=mg(t),r=vg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new ug(n)),t._t.push(new ug(xm.keyField(),"asc"));else{var i,a=!1,o=_c(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ug(xm.keyField(),s))}}}return t._t}function bg(e){var t=em(e);if(!t.wt)if("F"===t.limitType)t.wt=Wy(t.path,t.collectionGroup,gg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_c(gg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ug(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new og(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new og(t.startAt.position,t.startAt.inclusive):null;t.wt=Wy(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function kg(e,t,n){return new fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wg(e,t){return Hy(bg(e),bg(t))&&e.limitType===t.limitType}function xg(e){return"".concat(Ky(bg(e)),"|lt:").concat(e.limitType)}function Eg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(_y(t.value));var t})).join(", "),"]")),my(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return _y(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return _y(e)})).join(",")),"Target(".concat(t,")")}(bg(e)),"; limitType=").concat(e.limitType,")")}function Cg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Em.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_c(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_c(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=cg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gg(e),t))&&!(e.endAt&&!function(e,t,n){var r=cg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gg(e),t))}(e,t)}function Ig(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _g(e){return function(t,n){var r,i=!1,a=_c(gg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Sg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Sg(e,t,n){var r=e.field.isKeyField()?Em.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cy(r,i):Jv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jv()}}function Tg(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yy(t)?"-0":t}}function Ng(e){return{integerValue:""+e}}function Ag(e,t){return gy(t)?Ng(t):Tg(e,t)}var Og=zn((function e(){Vn(this,e),this._=void 0}));function Pg(e,t,n){return e instanceof Mg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Lg?Fg(e,t):e instanceof jg?Vg(e,t):function(e,t){var n=Dg(e,t),r=zg(n)+zg(e.yt);return Ny(n)&&Ny(e.yt)?Ng(r):Tg(e.It,r)}(e,t)}function Rg(e,t,n){return e instanceof Lg?Fg(e,t):e instanceof jg?Vg(e,t):n}function Dg(e,t){return e instanceof Ug?Ny(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Mg=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n)}(Og),Lg=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).elements=e,r}return zn(n)}(Og);function Fg(e,t){var n,r=Bg(t),i=_c(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jg=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).elements=e,r}return zn(n)}(Og);function Vg(e,t){var n,r=Bg(t),i=_c(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ug=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return zn(n)}(Og);function zg(e){return cy(e.integerValue||e.doubleValue)}function Bg(e){return Ay(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var qg=zn((function e(t,n){Vn(this,e),this.field=t,this.transform=n}));var Wg=zn((function e(t,n){Vn(this,e),this.version=t,this.transformResults=n})),Kg=function(){function e(t,n){Vn(this,e),this.updateTime=t,this.exists=n}return zn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Hg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Gg=zn((function e(){Vn(this,e)}));function Qg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ob(e.key,Kg.none()):new Zg(e.key,e.data,Kg.none());var n,r=e.data,i=Uy.empty(),a=new ny(xm.comparator),o=_c(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new eb(e.key,i,new ay(a.toArray()),Kg.none())}function $g(e,t,n){e instanceof Zg?function(e,t,n){var r=e.value.clone(),i=nb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eb?function(e,t,n){if(Hg(e.precondition,t)){var r=nb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Yg(e,t,n,r){return e instanceof Zg?function(e,t,n,r){if(!Hg(e.precondition,t))return n;var i=e.value.clone(),a=rb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof eb?function(e,t,n,r){if(!Hg(e.precondition,t))return n;var i=rb(e.fieldTransforms,r,t),a=t.data;return a.setAll(tb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Hg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Xg(e,t){var n,r=null,i=_c(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Dg(a.transform,o||null);null!=u&&(null===r&&(r=Uy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Jg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lg&&t instanceof Lg||e instanceof jg&&t instanceof jg?vm(e.elements,t.elements,xy):e instanceof Ug&&t instanceof Ug?xy(e.yt,t.yt):e instanceof Mg&&t instanceof Mg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Zg=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Vn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return zn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gg),eb=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Vn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return zn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Gg);function tb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function nb(e,t,n){var r=new Map;Zv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Rg(o,u,n[i]))}return r}function rb(e,t,n){var r,i=new Map,a=_c(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Pg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ib,ab,ob=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return zn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gg),ub=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return zn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gg),sb=zn((function e(t){Vn(this,e),this.count=t}));function cb(e){switch(e){default:return Jv();case tm.CANCELLED:case tm.UNKNOWN:case tm.DEADLINE_EXCEEDED:case tm.RESOURCE_EXHAUSTED:case tm.INTERNAL:case tm.UNAVAILABLE:case tm.UNAUTHENTICATED:return!1;case tm.INVALID_ARGUMENT:case tm.NOT_FOUND:case tm.ALREADY_EXISTS:case tm.PERMISSION_DENIED:case tm.FAILED_PRECONDITION:case tm.ABORTED:case tm.OUT_OF_RANGE:case tm.UNIMPLEMENTED:case tm.DATA_LOSS:return!0}}function lb(e){if(void 0===e)return $v("GRPC error has no .code"),tm.UNKNOWN;switch(e){case ib.OK:return tm.OK;case ib.CANCELLED:return tm.CANCELLED;case ib.UNKNOWN:return tm.UNKNOWN;case ib.DEADLINE_EXCEEDED:return tm.DEADLINE_EXCEEDED;case ib.RESOURCE_EXHAUSTED:return tm.RESOURCE_EXHAUSTED;case ib.INTERNAL:return tm.INTERNAL;case ib.UNAVAILABLE:return tm.UNAVAILABLE;case ib.UNAUTHENTICATED:return tm.UNAUTHENTICATED;case ib.INVALID_ARGUMENT:return tm.INVALID_ARGUMENT;case ib.NOT_FOUND:return tm.NOT_FOUND;case ib.ALREADY_EXISTS:return tm.ALREADY_EXISTS;case ib.PERMISSION_DENIED:return tm.PERMISSION_DENIED;case ib.FAILED_PRECONDITION:return tm.FAILED_PRECONDITION;case ib.ABORTED:return tm.ABORTED;case ib.OUT_OF_RANGE:return tm.OUT_OF_RANGE;case ib.UNIMPLEMENTED:return tm.UNIMPLEMENTED;case ib.DATA_LOSS:return tm.DATA_LOSS;default:return Jv()}}(ab=ib||(ib={}))[ab.OK=0]="OK",ab[ab.CANCELLED=1]="CANCELLED",ab[ab.UNKNOWN=2]="UNKNOWN",ab[ab.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ab[ab.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ab[ab.NOT_FOUND=5]="NOT_FOUND",ab[ab.ALREADY_EXISTS=6]="ALREADY_EXISTS",ab[ab.PERMISSION_DENIED=7]="PERMISSION_DENIED",ab[ab.UNAUTHENTICATED=16]="UNAUTHENTICATED",ab[ab.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ab[ab.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ab[ab.ABORTED=10]="ABORTED",ab[ab.OUT_OF_RANGE=11]="OUT_OF_RANGE",ab[ab.UNIMPLEMENTED=12]="UNIMPLEMENTED",ab[ab.INTERNAL=13]="INTERNAL",ab[ab.UNAVAILABLE=14]="UNAVAILABLE",ab[ab.DATA_LOSS=15]="DATA_LOSS";var fb=function(){function e(t,n){Vn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return zn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_c(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Xm(this.inner,(function(t,n){var r,i=_c(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Jm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),db=new Zm(Em.comparator);function hb(){return db}var pb=new Zm(Em.comparator);function vb(){for(var e=pb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function mb(e){var t=pb;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function yb(){return bb()}function gb(){return bb()}function bb(){return new fb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kb=new Zm(Em.comparator),wb=new ny(Em.comparator);function xb(){for(var e=wb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Eb=new ny(pm);function Cb(){return Eb}var Ib=function(){function e(t,n,r,i,a){Vn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return zn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,_b.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gm.min(),r,Cb(),hb(),xb())}}]),e}(),_b=function(){function e(t,n,r,i,a){Vn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return zn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(oy.EMPTY_BYTE_STRING,n,xb(),xb(),xb())}}]),e}(),Sb=zn((function e(t,n,r,i){Vn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Tb=zn((function e(t,n){Vn(this,e),this.targetId=t,this.At=n})),Nb=zn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ab=function(){function e(){Vn(this,e),this.Rt=0,this.bt=Rb(),this.Pt=oy.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return zn(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=xb(),t=xb(),n=xb();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jv()}})),new _b(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Rb()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Ob=function(){function e(t){Vn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=hb(),this.qt=Pb(),this.Kt=new ny(pm)}return zn(e,[{key:"Gt",value:function(e){var t,n=_c(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=_c(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Jv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Gy(i))if(0===n){var a=new Em(i.path);this.jt(t,a,By.newNoDocument(a,gm.min()))}else Zv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Gy(a.target)){var o=new Em(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,By.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=xb();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ib(e,n,this.Kt,this.Ut,r);return this.Ut=hb(),this.qt=Pb(),this.Kt=new ny(pm),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Ab,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new ny(pm),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Qv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Ab),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Pb(){return new Zm(Em.comparator)}function Rb(){return new Zm(Em.comparator)}var Db={asc:"ASCENDING",desc:"DESCENDING"},Mb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lb=zn((function e(t,n){Vn(this,e),this.databaseId=t,this.gt=n}));function Fb(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jb(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Vb(e,t){return Fb(e,t.toTimestamp())}function Ub(e){return Zv(!!e),gm.fromTimestamp(function(e){var t=sy(e);return new ym(t.seconds,t.nanos)}(e))}function zb(e,t){return function(e){return new km(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bb(e){var t=km.fromString(e);return Zv(fk(t)),t}function qb(e,t){return zb(e.databaseId,t.path)}function Wb(e,t){var n=Bb(t);if(n.get(1)!==e.databaseId.projectId)throw new nm(tm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nm(tm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Em(Qb(n))}function Kb(e,t){return zb(e.databaseId,t)}function Hb(e){var t=Bb(e);return 4===t.length?km.emptyPath():Qb(t)}function Gb(e){return new km(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qb(e){return Zv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $b(e,t,n){return{name:qb(e,t),fields:n.value.mapValue.fields}}function Yb(e,t,n){var r=Wb(e,t.name),i=Ub(t.updateTime),a=new Uy({mapValue:{fields:t.fields}}),o=By.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Xb(e,t){return"found"in t?function(e,t){Zv(!!t.found),t.found.name,t.found.updateTime;var n=Wb(e,t.found.name),r=Ub(t.found.updateTime),i=new Uy({mapValue:{fields:t.found.fields}});return By.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Zv(!!t.missing),Zv(!!t.readTime);var n=Wb(e,t.missing),r=Ub(t.readTime);return By.newNoDocument(n,r)}(e,t):Jv()}function Jb(e,t){var n;if(t instanceof Zg)n={update:$b(e,t.key,t.value)};else if(t instanceof ob)n={delete:qb(e,t.key)};else if(t instanceof eb)n={update:$b(e,t.key,t.data),updateMask:lk(t.fieldMask)};else{if(!(t instanceof ub))return Jv();n={verify:qb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Mg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ug)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Jv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jv()}(e,t.precondition)),n}function Zb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Kg.updateTime(Ub(e.updateTime)):void 0!==e.exists?Kg.exists(e.exists):Kg.none()}(t.currentDocument):Kg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Zv("REQUEST_TIME"===t.setToServerValue),n=new Mg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Lg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jg(i)}else"increment"in t?n=new Ug(e,t.increment):Jv();var a=xm.fromServerFormat(t.fieldPath);return new qg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Wb(e,t.update.name),a=new Uy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ay(t.map((function(e){return xm.fromServerFormat(e)})))}(t.updateMask);return new eb(i,a,o,n,r)}return new Zg(i,a,n,r)}if(t.delete){var u=Wb(e,t.delete);return new ob(u,n)}if(t.verify){var s=Wb(e,t.verify);return new ub(s,n)}return Jv()}function ek(e,t){return{documents:[Kb(e,t.path)]}}function tk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Py(e.value))return{unaryFilter:{field:ok(e.field),op:"IS_NAN"}};if(Oy(e.value))return{unaryFilter:{field:ok(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Py(e.value))return{unaryFilter:{field:ok(e.field),op:"IS_NOT_NAN"}};if(Oy(e.value))return{unaryFilter:{field:ok(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ok(e.field),op:ak(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ok(e.field),direction:ik(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||my(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nk(e){var t=Hb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=rk(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ug(uk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return my(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new og(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new og(n,t)}(n.endAt)),dg(t,i,u,o,s,"F",c,l)}function rk(e){return e?void 0!==e.unaryFilter?[ck(e)]:void 0!==e.fieldFilter?[sk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rk(e)})).reduce((function(e,t){return e.concat(t)})):Jv():[]}function ik(e){return Db[e]}function ak(e){return Mb[e]}function ok(e){return{fieldPath:e.canonicalString()}}function uk(e){return xm.fromServerFormat(e.fieldPath)}function sk(e){return Xy.create(uk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jv()}}(e.fieldFilter.op),e.fieldFilter.value)}function ck(e){switch(e.unaryFilter.op){case"IS_NAN":var t=uk(e.unaryFilter.field);return Xy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=uk(e.unaryFilter.field);return Xy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=uk(e.unaryFilter.field);return Xy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=uk(e.unaryFilter.field);return Xy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jv()}}function lk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function fk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function dk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=pk(t)),t=hk(e.get(n),t);return pk(t)}function hk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function pk(e){return e+"\x01\x01"}function vk(e){var t=e.length;if(Zv(t>=2),2===t)return Zv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),km.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Jv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Jv()}a=o+2}return new km(r)}var mk=["userId","batchId"];function yk(e,t){return[e,dk(t)]}function gk(e,t,n){return[e,dk(t),n]}var bk={},kk=["prefixPath","collectionGroup","readTime","documentId"],wk=["prefixPath","collectionGroup","documentId"],xk=["collectionGroup","readTime","prefixPath","documentId"],Ek=["canonicalId","targetId"],Ck=["targetId","path"],Ik=["path","targetId"],_k=["collectionId","parent"],Sk=["indexId","uid"],Tk=["uid","sequenceNumber"],Nk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ak=["indexId","uid","orderedDocumentKey"],Ok=["userId","collectionPath","documentId"],Pk=["userId","collectionPath","largestBatchId"],Rk=["userId","collectionGroup","largestBatchId"],Dk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Mk=[].concat(Ot(Dk),["documentOverlays"]),Lk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fk=Lk,jk=[].concat(Fk,["indexConfiguration","indexState","indexEntries"]),Vk=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return zn(n)}(Dm);function Uk(e,t){var n=em(e);return Vm.O(n.ie,t)}var zk=function(){function e(t,n,r,i){Vn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return zn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$g(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=_c(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Yg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=_c(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Yg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=gb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Qg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(gm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vm(this.mutations,e.mutations,(function(e,t){return Jg(e,t)}))&&vm(this.baseMutations,e.baseMutations,(function(e,t){return Jg(e,t)}))}}]),e}(),Bk=function(){function e(t,n,r,i){Vn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return zn(e,null,[{key:"from",value:function(t,n,r){Zv(t.mutations.length===r.length);for(var i=kb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qk=function(){function e(t,n){Vn(this,e),this.largestBatchId=t,this.mutation=n}return zn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Wk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:oy.EMPTY_BYTE_STRING;Vn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return zn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Kk=zn((function e(t){Vn(this,e),this.re=t}));function Hk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:qb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fb(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Qk(t.version)};else{if(!t.isUnknownDocument())return Jv();r.unknownDocument={path:n.path.toArray(),version:Qk(t.version)}}return r}function Gk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $k(e){var t=new ym(e.seconds,e.nanoseconds);return gm.fromTimestamp(t)}function Yk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Zb(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Zb(e.re,t)})),u=ym.fromMillis(t.localWriteTimeMs);return new zk(t.batchId,u,n,o)}function Xk(e){var t,n,r=$k(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$k(e.lastLimboFreeSnapshotVersion):gm.min();return void 0!==e.query.documents?(Zv(1===(n=e.query).documents.length),t=bg(hg(Hb(n.documents[0])))):t=function(e){return bg(nk(e))}(e.query),new Wk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,oy.fromBase64String(e.resumeToken))}function Jk(e,t){var n,r=Qk(t.snapshotVersion),i=Qk(t.lastLimboFreeSnapshotVersion);n=Gy(t.target)?ek(e.re,t.target):tk(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ky(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Zk(e){var t=nk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kg(t,t.limit,"L"):t}function ew(e,t){return new qk(t.largestBatchId,Zb(e.re,t.overlayMutation))}function tw(e,t){var n=t.path.lastSegment();return[e,dk(t.path.popLast()),n]}function nw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Qk(r.readTime),documentKey:dk(r.documentKey.path),largestBatchId:r.largestBatchId}}var rw=function(){function e(){Vn(this,e)}return zn(e,[{key:"getBundleMetadata",value:function(e,t){return iw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:$k(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return iw(e).put({bundleId:(n=t).id,createTime:Qk(Ub(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return aw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Zk(t.bundledQuery),readTime:$k(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return aw(e).put(function(e){return{name:e.name,readTime:Qk(Ub(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function iw(e){return Uk(e,"bundles")}function aw(e){return Uk(e,"namedQueries")}var ow=function(){function e(t,n){Vn(this,e),this.It=t,this.userId=n}return zn(e,[{key:"getOverlay",value:function(e,t){var n=this;return uw(e).get(tw(this.userId,t)).next((function(e){return e?ew(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=yb();return Fm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new qk(t,a);i.push(r.ue(e,o))})),Fm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(dk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(uw(e).Y("collectionPathOverlayIndex",i))})),Fm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=yb(),a=dk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return uw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=_c(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ew(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=yb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return uw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=ew(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return uw(e).put(function(e,t,n){var r=c(tw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Jb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function uw(e){return Uk(e,"documentOverlays")}var sw=function(){function e(){Vn(this,e)}return zn(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(cy(e.integerValue));else if("doubleValue"in e){var n=cy(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),yy(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ly(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?My(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Jv()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=_c(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Em.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function cw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function lw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=cw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}sw.Te=new sw;var fw=function(){function e(){Vn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return zn(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=_c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=_c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=lw(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=lw(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),dw=function(){function e(t){Vn(this,e),this.Be=t}return zn(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),hw=function(){function e(t){Vn(this,e),this.Be=t}return zn(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),pw=function(){function e(){Vn(this,e),this.Be=new fw,this.Le=new dw(this.Be),this.Ue=new hw(this.Be)}return zn(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),vw=function(){function e(t,n,r,i){Vn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return zn(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function mw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=yw(e.arrayValue,t.arrayValue))?n:0!==(n=yw(e.directionalValue,t.directionalValue))?n:Em.comparator(e.documentKey,t.documentKey)}function yw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var gw=function(){function e(t){Vn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=_c(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return zn(e,[{key:"We",value:function(e){var t=Im(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=_m(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=_c(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),bw=function(){function e(){Vn(this,e),this.Ye=new kw}return zn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Fm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Fm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Fm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Fm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Fm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Fm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Fm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Fm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Fm.resolve(Om.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Fm.resolve(Om.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Fm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Fm.resolve()}}]),e}(),kw=function(){function e(){Vn(this,e),this.index={}}return zn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ny(km.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ny(km.comparator)).toArray()}}]),e}(),ww=new Uint8Array(0),xw=function(){function e(t,n){Vn(this,e),this.user=t,this.databaseId=n,this.Xe=new kw,this.Ze=new fb((function(e){return Ky(e)}),(function(e,t){return Hy(e,t)})),this.uid=t.uid||""}return zn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:dk(i)};return Ew(e).put(a)}return Fm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mm(t),""],!1,!0);return Ew(e).W(r).next((function(e){var r,i=_c(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(vk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Iw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=_w(e);return a.next((function(e){o.put(nw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Iw(e),r=_w(e),i=Cw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Cw(e),i=!0,a=new Map;return Fm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=xb(),o=[];return Fm.forEach(a,(function(i,a){var u;Qv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ky(t)));var s=function(e,t){var n=Im(t);if(void 0===n)return null;var r,i=_c(Qy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=_c(_m(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=_c(Qy(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=_c(_m(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?$y(e,o.fieldPath,e.startAt):Yy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new og(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=_c(_m(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Yy(e,o.fieldPath,e.endAt):$y(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new og(r,i)}(a,i),d=n.nn(i,a,l),h=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Fm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Em.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Fm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):ww,d=u.un(e,f,n[s%c],r),h=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Ot(u.createRange(d,h,p)))},d=0;d<s;++d)f(d);return l}},{key:"un",value:function(e,t,n,r){var i=new vw(e,Em.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new vw(e,Em.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new gw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=_c(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Fm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ny(xm.comparator),r=!1,i=_c(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=_c(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new pw,i=_c(_m(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);sw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new pw;return sw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new pw;return sw.Te.ce(Ty(this.databaseId,t),n.qe(function(e){var t=_m(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new pw);var i,a=0,o=_c(_m(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=_c(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Ay(c))r=this.fn(r,s,c);else{var d=f.qe(s.kind);sw.Te.ce(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Ot(e),a=[],o=_c(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=_c(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new pw;f.seed(l.$e()),sw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Xy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Iw(e),i=_w(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Fm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Tm(t.sequenceNumber,new Om($k(t.readTime),new Em(vk(t.documentKey)),t.largestBatchId)):Tm.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Sm(xm.fromServerFormat(n),r)}));return new Cm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:pm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Iw(e),a=_w(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Fm.forEach(t,(function(t){return a.put(nw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Fm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Fm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Fm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Fm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Cw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Cw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Cw(e),i=new ny(mw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new vw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new ny(mw),r=this.an(t,e);if(null==r)return n;var i=Im(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ay(a)){var o,u=_c(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new vw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new vw(t.indexId,e.key,ww,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Qv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=iy(a),s=iy(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=iy(o)):l?(i(u),u=iy(a)):(u=iy(a),s=iy(o))}}(r,i,mw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Fm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return _w(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return mw(e,t)})).filter((function(e,t,n){return!t||0!==mw(e,n[t-1])}));var r=[];r.push(e);var i,a=_c(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=mw(o,e),s=mw(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ww,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ww,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Sw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Fm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Jv()}))})).next(Sw)}}]),e}();function Ew(e){return Uk(e,"collectionParents")}function Cw(e){return Uk(e,"indexEntries")}function Iw(e){return Uk(e,"indexConfiguration")}function _w(e){return Uk(e,"indexState")}function Sw(e){Zv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Pm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Om(t.readTime,t.documentKey,n)}var Tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nw=function(){function e(t,n,r){Vn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return zn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Aw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Zv(1===u)})));var c,l=[],f=_c(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=gk(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Fm.waitFor(a).next((function(){return l}))}function Ow(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jv();t=e.noDocument}return JSON.stringify(t).length}Nw.DEFAULT_COLLECTION_PERCENTILE=10,Nw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nw.DEFAULT=new Nw(41943040,Nw.DEFAULT_COLLECTION_PERCENTILE,Nw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nw.DISABLED=new Nw(-1,0,0);var Pw=function(){function e(t,n,r,i){Vn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return zn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Mw(e),o=Dw(e);return o.add({}).next((function(u){Zv("number"==typeof u);var s,c=new zk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Jb(e.re,t)})),i=n.mutations.map((function(t){return Jb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],d=new ny((function(e,t){return pm(e.canonicalString(),t.canonicalString())})),h=_c(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=gk(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,bk))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Fm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Dw(e).get(t).next((function(e){return e?(Zv(e.userId===n.userId),Yk(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Fm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Dw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Zv(t.batchId>=r),a=Yk(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dw(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Yk(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=yk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Mw(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],d=vk(l);if(s===n.userId&&t.path.isEqual(d))return Dw(e).get(f).next((function(e){if(!e)throw Jv();Zv(e.userId===n.userId),a.push(Yk(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ny(pm),i=[];return t.forEach((function(t){var a=yk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Mw(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=vk(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Fm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=yk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new ny(pm);return Mw(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],d=vk(l);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Dw(e).get(t).next((function(e){if(null===e)throw Jv();Zv(e.userId===n.userId),r.push(Yk(n.It,e))})))})),Fm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Aw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Fm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Fm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Mw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=vk(e[1]);i.push(a)}else r.done()})).next((function(){Zv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Rw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Lw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Zv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Rw(e,t,n){var r=yk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Mw(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Dw(e){return Uk(e,"mutations")}function Mw(e){return Uk(e,"documentMutations")}function Lw(e){return Uk(e,"mutationQueues")}var Fw=function(){function e(t){Vn(this,e),this.bn=t}return zn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),jw=function(){function e(t,n){Vn(this,e),this.referenceDelegate=t,this.It=n}return zn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Fw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return gm.fromTimestamp(new ym(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Vw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Zv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Vw(e).Z((function(o,u){var s=Xk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Fm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Vw(e).Z((function(e,n){var r=Xk(n);t(r)}))}},{key:"Vn",value:function(e){return Uw(e).get("targetGlobalKey").next((function(e){return Zv(null!==e),e}))}},{key:"Sn",value:function(e,t){return Uw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Vw(e).put(Jk(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ky(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Xk(n);Hy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zw(e);return t.forEach((function(t){var o=dk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Fm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zw(e);return Fm.forEach(t,(function(t){var a=dk(t.path);return Fm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zw(e),i=xb();return r.Z({range:n,X:!0},(function(e,t,n){var r=vk(e[1]),a=new Em(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=dk(t.path),r=IDBKeyRange.bound([n],[mm(n)],!1,!0),i=0;return zw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Vw(e).get(t).next((function(e){return e?Xk(e):null}))}}]),e}();function Vw(e){return Uk(e,"targets")}function Uw(e){return Uk(e,"targetGlobal")}function zw(e){return Uk(e,"targetDocuments")}function Bw(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=pm(r,o);return 0===s?pm(i,u):s}var qw=function(){function e(t){Vn(this,e),this.xn=t,this.buffer=new ny(Bw),this.Nn=0}return zn(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ww=function(){function e(t,n,r){Vn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return zn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;Qv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Bm(e.t0)){e.next=12;break}Qv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Mm(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Kw=function(){function e(t,n){Vn(this,e),this.$n=t,this.params=n}return zn(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Fm.resolve($m.at);var r=new qw(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qv("LruGarbageCollector","Garbage collection skipped; disabled"),Fm.resolve(Tw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Tw):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Gv()<=ul.DEBUG&&Qv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Fm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Hw=function(){function e(t,n){Vn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Kw(e,t)}(this,n)}return zn(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Gw(e,n)}},{key:"removeReference",value:function(e,t,n){return Gw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Gw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Lw(e).tt((function(r){return Rw(e,r,t).next((function(e){return e&&(n=!0),Fm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,gm.min()),zw(e).delete([0,dk(o.path)])}))}));i.push(s)}})).next((function(){return Fm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Gw(e,t)}},{key:"Kn",value:function(e,t){var n,r=zw(e),i=$m.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==$m.at&&t(new Em(vk(n)),i),i=s,n=u):i=$m.at})).next((function(){i!==$m.at&&t(new Em(vk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Gw(e,t){return zw(e).put(function(e,t){return{targetId:0,path:dk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Qw=function(){function e(){Vn(this,e),this.changes=new fb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return zn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,By.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Fm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),$w=function(){function e(t){Vn(this,e),this.It=t}return zn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Zw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Zw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Gk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=By.newInvalidDocument(t);return Zw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ex(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:By.newInvalidDocument(t)};return Zw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ex(t))},(function(e,i){r={document:n.jn(t,i),size:Ow(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=hb();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=hb(),i=new Zm(Em.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Ow(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Fm.resolve();var r=new ny(nx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ex(r.first()),ex(r.last())),a=r.getIterator(),o=a.getNext();return Zw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Em.fromSegments([].concat(Ot(t.prefixPath),[t.collectionGroup,t.documentId]));o&&nx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(ex(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Gk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=hb(),i=_c(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Em.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=hb(),o=tx(t,n),u=tx(t,Om.max());return Zw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Em.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Xw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Jw(e).get("remoteDocumentGlobalKey").next((function(e){return Zv(!!e),e}))}},{key:"Qn",value:function(e,t){return Jw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Yb(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Em.fromSegments(t.noDocument.path),i=$k(t.noDocument.readTime);n=By.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jv();var a=Em.fromSegments(t.unknownDocument.path),o=$k(t.unknownDocument.version);n=By.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ym(e[0],e[1]);return gm.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(gm.min()))return n}return By.newInvalidDocument(e)}}]),e}();function Yw(e){return new $w(e)}var Xw=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new fb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return zn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ny((function(e,t){return pm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Hk(t.Yn.It,o);i=i.add(a.path.popLast());var c=Ow(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Hk(t.Yn.It,o.convertToNoDocument(gm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Fm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Qw);function Jw(e){return Uk(e,"remoteDocumentGlobal")}function Zw(e){return Uk(e,"remoteDocumentsV14")}function ex(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tx(e,t){var n=t.documentKey.path.toArray();return[e,Gk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=pm(n[a],r[a]))return i;return(i=pm(n.length,r.length))||((i=pm(n[n.length-2],r[r.length-2]))||pm(n[n.length-1],r[r.length-1]))}var rx=zn((function e(t,n){Vn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ix=function(){function e(t,n,r,i){Vn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return zn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Yg(r.mutation,e,ay.empty(),ym.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,xb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xb(),i=yb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=vb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=yb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,xb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hb(),a=bb(),o=bb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof eb)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Yg(o.mutation,t,o.mutation.getFieldMask(),ym.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new rx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=bb(),i=new Zm((function(e,t){return e-t})),a=xb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=_c(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ay.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||xb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=gb();c.forEach((function(e){if(!a.has(e)){var n=Qg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Fm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Em.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Fm.resolve(yb()),u=-1,s=a;return o.next((function(t){return Fm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Fm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,xb())})).next((function(e){return{batchId:u,changes:mb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Em(t)).next((function(e){var t=vb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vb();return this.indexManager.getCollectionParents(e,i).next((function(o){return Fm.forEach(o,(function(o){var u=function(e,t){return new fg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,By.newInvalidDocument(n)))}));var n=vb();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Yg(a.mutation,i,ay.empty(),ym.now()),Cg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Fm.resolve(By.newInvalidDocument(t))}}]),e}(),ax=function(){function e(t){Vn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return zn(e,[{key:"getBundleMetadata",value:function(e,t){return Fm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ub(n.createTime)}),Fm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Fm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Zk(e.bundledQuery),readTime:Ub(e.readTime)}}(t)),Fm.resolve()}}]),e}(),ox=function(){function e(){Vn(this,e),this.overlays=new Zm(Em.comparator),this.es=new Map}return zn(e,[{key:"getOverlay",value:function(e,t){return Fm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=yb();return Fm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Fm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Fm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=yb(),i=t.length+1,a=new Em(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Fm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Zm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=yb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=yb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Fm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qk(t,n));var a=this.es.get(t);void 0===a&&(a=xb(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),ux=function(){function e(){Vn(this,e),this.ns=new ny(sx.ss),this.rs=new ny(sx.os)}return zn(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new sx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new sx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Em(new km([])),r=new sx(n,e),i=new sx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Em(new km([])),n=new sx(t,e),r=new sx(t,e+1),i=xb();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new sx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),sx=function(){function e(t,n){Vn(this,e),this.key=t,this._s=n}return zn(e,null,[{key:"ss",value:function(e,t){return Em.comparator(e.key,t.key)||pm(e._s,t._s)}},{key:"os",value:function(e,t){return pm(e._s,t._s)||Em.comparator(e.key,t.key)}}]),e}(),cx=function(){function e(t,n){Vn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ny(sx.ss)}return zn(e,[{key:"checkEmpty",value:function(e){return Fm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new zk(i,t,n,r);this.mutationQueue.push(a);var o,u=_c(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new sx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Fm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Fm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Fm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Fm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Fm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new sx(t,0),i=new sx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Fm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ny(pm);return t.forEach((function(e){var t=new sx(e,0),i=new sx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Fm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Em.isDocumentKey(i)||(i=i.child(""));var a=new sx(new Em(i),0),o=new ny(pm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Fm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Zv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Fm.forEach(t.mutations,(function(i){var a=new sx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new sx(t,0),r=this.gs.firstAfterOrEqual(n);return Fm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Fm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lx=function(){function e(t){Vn(this,e),this.Es=t,this.docs=new Zm(Em.comparator),this.size=0}return zn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Fm.resolve(n?n.document.mutableCopy():By.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():By.newInvalidDocument(e))})),Fm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=hb(),i=new Em(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Pm(Am(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Fm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Jv()}},{key:"As",value:function(e,t){return Fm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new fx(this)}},{key:"getSize",value:function(e){return Fm.resolve(this.size)}}]),e}(),fx=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).Yn=e,r}return zn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Fm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Qw),dx=function(){function e(t){Vn(this,e),this.persistence=t,this.Rs=new fb((function(e){return Ky(e)}),Hy),this.lastRemoteSnapshotVersion=gm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ux,this.targetCount=0,this.vs=Fw.Pn()}return zn(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Fm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Fm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Fm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Fm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Fm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Fw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Fm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Fm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Fm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Fm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Fm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Fm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Fm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Fm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Fm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Fm.resolve(n)}},{key:"containsKey",value:function(e,t){return Fm.resolve(this.Ps.containsKey(t))}}]),e}(),hx=function(){function e(t,n){var r=this;Vn(this,e),this.Vs={},this.overlays={},this.Ss=new $m(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new dx(this),this.indexManager=new bw,this.remoteDocumentCache=new lx((function(e){return r.referenceDelegate.xs(e)})),this.It=new Kk(n),this.Ns=new ax(this.It)}return zn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ox,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new cx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Qv("MemoryPersistence","Starting transaction:",e);var i=new px(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Fm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),px=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return zn(n)}(Dm),vx=function(){function e(t){Vn(this,e),this.persistence=t,this.Fs=new ux,this.$s=null}return zn(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Jv()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Fm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Fm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Fm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fm.forEach(this.Ls,(function(r){var i=Em.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,gm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Fm.or([function(){return Fm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),mx=function(){function e(t){Vn(this,e),this.It=t}return zn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new jm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mk,{unique:!0}),e.createObjectStore("documentMutations")}(e),yx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Fm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),yx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Fm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ok});t.createIndex("collectionPathOverlayIndex",Pk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Rk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:kk});t.createIndex("documentKeyIndex",wk),t.createIndex("collectionGroupIndex",xk)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Sk}).createIndex("sequenceNumberIndex",Tk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Nk}).createIndex("documentKeyIndex",Ak,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Ow(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Fm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Fm.forEach(r,(function(r){Zv(r.userId===n.userId);var i=Yk(t.It,r);return Aw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new km(n),o=function(e){return[0,dk(e)]}(a);r.push(t.get(o).next((function(n){return n?Fm.resolve():function(n){return t.put({targetId:0,path:dk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Fm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:_k});var n=t.store("collectionParents"),r=new kw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:dk(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new km(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],vk(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Xk(r),a=Jk(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Em(km.fromString(i.document.name).popFirst(5)):i.noDocument?Em.fromSegments(i.noDocument.path):i.unknownDocument?Em.fromSegments(i.unknownDocument.path):Jv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Fm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Yw(this.It),a=new hx(vx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:xb();Yk(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Fm.forEach(r,(function(e,r){var o=new Wv(r),u=ow.oe(n.It,o),s=a.getIndexManager(o),c=Pw.oe(o,n.It,s,a.referenceDelegate);return new ix(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Vk(t,$m.at),e).next()}))}))}}]),e}();function yx(e){e.createObjectStore("targetDocuments",{keyPath:Ck}).createIndex("documentTargetsIndex",Ik,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ek,{unique:!0}),e.createObjectStore("targetGlobal")}var gx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Vn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new nm(tm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hw(this,i),this.ii=n+"main",this.It=new Kk(s),this.ri=new Vm(this.ii,this.Xs,new mx(this.It)),this.Cs=new jw(this.referenceDelegate,this.It),this.remoteDocumentCache=Yw(this.It),this.Ns=new rw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&$v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return zn(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new nm(tm.FAILED_PRECONDITION,gx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new $m(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=mo(po().mark((function n(r){return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=mo(po().mark((function t(n){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Bm(t))return Qv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return kx(e).get("owner").next((function(e){return Fm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return wx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=mo(po().mark((function e(){var t,n,r,i,a=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Uk(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Fm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=_c(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Fm.resolve(!0):kx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new nm(tm.FAILED_PRECONDITION,gx);return!1}}return!(!t.networkEnabled||!t.inForeground)||wx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=mo(po().mark((function e(){var t=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Vk(e,$m.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Pw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new xw(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ow.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Qv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?jk:14===i?Fk:13===i?Lk:12===i?Mk:11===i?Dk:void Jv();return this.ri.runTransaction(e,o,u,(function(i){return a=new Vk(i,r.Ss?r.Ss.next():$m.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw $v("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new nm(tm.FAILED_PRECONDITION,Rm);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return kx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new nm(tm.FAILED_PRECONDITION,gx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=kx(e);return n.get("owner").next((function(e){return t.mi(e)?(Qv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Fm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||($v("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!jc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Qv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return $v("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Wf){$v("Failed to set zombie client id.",Wf)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Wf){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Vm.C()}}]),e}();function kx(e){return Uk(e,"owner")}function wx(e){return Uk(e,"clientMetadata")}function xx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ex=function(){function e(t,n,r,i){Vn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return zn(e,null,[{key:"Ci",value:function(t,n){var r,i=xb(),a=xb(),o=_c(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Cx=function(){function e(){Vn(this,e),this.xi=!1}return zn(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(pg(t))return Fm.resolve(null);var r=bg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=kg(t,null,"F"),r=bg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=xb.apply(void 0,Ot(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,kg(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return pg(t)||r.isEqual(gm.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Gv()<=ul.DEBUG&&Qv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eg(t)),i.Bi(e,o,t,Nm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new ny(_g(e));return t.forEach((function(t,r){Cg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Gv()<=ul.DEBUG&&Qv("QueryEngine","Using full collection scan to execute query:",Eg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Om.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ix=function(){function e(t,n,r,i){Vn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Zm(pm),this.qi=new fb((function(e){return Ky(e)}),Hy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return zn(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ix(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function _x(e,t,n,r){return new Ix(e,t,n,r)}function Sx(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=xb(),s=_c(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=_c(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=_c(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=_c(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Nx(e,t){var n=em(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Fm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Zv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=xb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ax(e){var t=em(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Ox(e,t){var n=em(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(oy.EMPTY_BYTE_STRING,gm.min()).withLastLimboFreeSnapshotVersion(gm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=hb(),s=xb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Px(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(gm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Fm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Px(e,t,n){var r=xb(),i=xb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hb();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(gm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Qv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Rx(e,t){var n=em(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Dx(e,t){var n=em(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Fm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Wk(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Mx(e,t,n){return Lx.apply(this,arguments)}function Lx(){return Lx=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=em(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bm(e.t1)){e.next=12;break}throw e.t1;case 12:Qv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Lx.apply(this,arguments)}function Fx(e,t,n){var r=em(e),i=gm.min(),a=xb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=em(e),i=r.qi.get(n);return void 0!==i?Fm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,bg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:gm.min(),n?a:xb())})).next((function(e){return Ux(r,Ig(t),e),{documents:e,Hi:a}}))}))}function jx(e,t){var n=em(e),r=em(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Vx(e,t){var n=em(e),r=n.Ki.get(t)||gm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Nm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ux(n,t,e),e}))}function Ux(e,t,n){var r=gm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function zx(e,t,n,r){return Bx.apply(this,arguments)}function Bx(){return Bx=mo(po().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=em(t),o=xb(),u=hb(),s=_c(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Dx(a,function(e){return bg(hg(km.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Px(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function qx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=mo(po().mark((function e(t,n){var r,i,a,o=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:xb(),e.next=3,Dx(t,bg(Zk(n.bundledQuery)));case 3:return i=e.sent,a=em(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ub(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(oy.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Hx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Gx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Qx=function(){function e(t,n,r,i){Vn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return zn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new nm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):($v("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$x=function(){function e(t,n,r){Vn(this,e),this.targetId=t,this.state=n,this.error=r}return zn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new nm(i.error.code,i.error.message))),a?new e(t,i.state,r):($v("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Yx=function(){function e(t,n){Vn(this,e),this.clientId=t,this.activeTargetIds=n}return zn(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Cb(),o=0;i&&o<r.activeTargetIds.length;++o)i=gy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):($v("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Xx=function(){function e(t,n){Vn(this,e),this.clientId=t,this.onlineState=n}return zn(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):($v("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Jx=function(){function e(){Vn(this,e),this.activeTargetIds=Cb()}return zn(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Zx=function(){function e(t,n,r,i,a){Vn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Zm(pm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Kx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Jx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return zn(e,[{key:"start",value:function(){var e=mo(po().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=_c(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Kx(this.persistenceKey,i)))&&(o=Yx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=_c(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Gx(this.persistenceKey,e));if(n){var r=$x.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Gx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void $v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(mo(po().mark((function e(){var r,i,a,o,u,s,c;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=$m.at;if(null!=e)try{var n=JSON.parse(e);Zv("number"==typeof n),t=n}catch(e){$v("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==$m.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Qx(this.currentUser,e,t,n),i=Hx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Hx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Gx(this.persistenceKey,e),i=new $x(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Yx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qx.Zi(new Wv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return $x.Zi(r,t)}},{key:"yr",value:function(e){return Xx.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Qv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Cb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),eE=function(){function e(){Vn(this,e),this.Lr=new Jx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return zn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Jx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tE=function(){function e(){Vn(this,e)}return zn(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nE=function(){function e(){var t=this;Vn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return zn(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Qv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_c(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Qv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_c(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iE=function(){function e(t){Vn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return zn(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),aE=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return zn(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Bv;o.listenOnce(Fv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Lv.NO_ERROR:var t=o.getResponseJson();Qv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Lv.TIMEOUT:Qv("Connection",'RPC "'+e+'" timed out'),a(new nm(tm.DEADLINE_EXCEEDED,"Request time out"));break;case Lv.HTTP_ERROR:var n=o.getStatus();if(Qv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tm).indexOf(t)>=0?t:tm.UNKNOWN}(r.status);a(new nm(u,r.message))}else a(new nm(tm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new nm(tm.UNAVAILABLE,"Connection failed."));break;default:Jv()}}finally{Qv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Dv(),a=Mv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Uv({})),this.ho(o.initMessageHeaders,t,n),Fc()||Uc()||Lc().indexOf("Electron/")>=0||zc()||Lc().indexOf("MSAppHost/")>=0||Vc()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Qv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new iE({Hr:function(e){l?Qv("Connection","Not sending because WebChannel is closed:",e):(c||(Qv("Connection","Opening WebChannel transport."),s.open(),c=!0),Qv("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,zv.EventType.OPEN,(function(){l||Qv("Connection","WebChannel transport opened.")})),d(s,zv.EventType.CLOSE,(function(){l||(l=!0,Qv("Connection","WebChannel transport closed"),f.io())})),d(s,zv.EventType.ERROR,(function(e){l||(l=!0,Yv("Connection","WebChannel transport errored:",e),f.io(new nm(tm.UNAVAILABLE,"The operation could not be completed")))})),d(s,zv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Zv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ib[e];if(void 0!==t)return lb(t)}(a),u=i.message;void 0===o&&(o=tm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new nm(o,u)),s.close()}else Qv("Connection","WebChannel received:",n),f.ro(n)}})),d(a,jv.STAT_EVENT,(function(e){e.stat===Vv.PROXY?Qv("Connection","Detected buffering proxy"):e.stat===Vv.NOPROXY&&Qv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Vn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return zn(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Qv("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Qv("RestConnection","Received: ",e),e}),(function(t){throw Yv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=rE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function oE(){return"undefined"!=typeof window?window:null}function uE(){return"undefined"!=typeof document?document:null}function sE(e){return new Lb(e,!0)}var cE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Vn(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return zn(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Qv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),lE=function(){function e(t,n,r,i,a,o,u,s){Vn(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new cE(t,n)}return zn(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===tm.RESOURCE_EXHAUSTED?($v(n.toString()),$v("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===tm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new nm(tm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Qv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Qv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),fE=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return zn(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Zv(void 0===t||"string"==typeof t),oy.fromBase64String(t||"")):(Zv(void 0===t||t instanceof Uint8Array),oy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?tm.UNKNOWN:lb(e.code);return new nm(t,e.message||"")}(o);n=new Nb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Wb(e,s.document.name),l=Ub(s.document.updateTime),f=new Uy({mapValue:{fields:s.document.fields}}),d=By.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Sb(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Wb(e,v.document),y=v.readTime?Ub(v.readTime):gm.min(),g=By.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Sb([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Wb(e,k.document),x=k.removedTargetIds||[];n=new Sb([],x,w,null)}else{if(!("filter"in t))return Jv();t.filter;var E=t.filter;E.targetId;var C=E.count||0,I=new sb(C),_=E.targetId;n=new Tb(_,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return gm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gm.min():t.readTime?Ub(t.readTime):gm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Gb(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Gy(r)?{documents:ek(e,r)}:{query:tk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=jb(e,t.resumeToken):t.snapshotVersion.compareTo(gm.min())>0&&(n.readTime=Fb(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Gb(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(lE),dE=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return zn(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Nf(Wn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Zv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Zv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ub(e.updateTime):Ub(t);return n.isEqual(gm.min())&&(n=Ub(t)),new Wg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ub(e.commitTime);return this.listener.Zo(n,t)}return Zv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Gb(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Jb(t.It,e)}))};this.Bo(n)}}]),n}(lE),hE=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return zn(n,[{key:"su",value:function(){if(this.nu)throw new nm(tm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nm(tm.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new nm(tm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return zn((function e(){Vn(this,e)}))}()),pE=function(){function e(t,n){Vn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return zn(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?($v(t),this.ou=!1):Qv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),vE=zn((function e(t,n,r,i,a){var o=this;Vn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=_E(o),!e.t0){e.next=5;break}return Qv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=em(t))._u.add(4),e.next=4,gE(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,mE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new pE(r,i)}));function mE(e){return yE.apply(this,arguments)}function yE(){return yE=mo(po().mark((function e(t){var n,r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_E(t)){e.next=18;break}n=_c(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),yE.apply(this,arguments)}function gE(e){return bE.apply(this,arguments)}function bE(){return bE=mo(po().mark((function e(t){var n,r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_c(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),bE.apply(this,arguments)}function kE(e,t){var n=em(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),IE(n)?CE(n):tC(n).ko()&&xE(n,t))}function wE(e,t){var n=em(e),r=tC(n);n.du.delete(t),r.ko()&&EE(n,t),0===n.du.size&&(r.ko()?r.Fo():_E(n)&&n.gu.set("Unknown"))}function xE(e,t){e.yu.Ot(t.targetId),tC(e).zo(t)}function EE(e,t){e.yu.Ot(t),tC(e).Ho(t)}function CE(e){e.yu=new Ob({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),tC(e).start(),e.gu.uu()}function IE(e){return _E(e)&&!tC(e).No()&&e.du.size>0}function _E(e){return 0===em(e)._u.size}function SE(e){e.yu=void 0}function TE(e){return NE.apply(this,arguments)}function NE(){return NE=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){xE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function AE(e,t){return OE.apply(this,arguments)}function OE(){return OE=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SE(t),IE(t)?(t.gu.hu(n),CE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(e,t,n){return RE.apply(this,arguments)}function RE(){return RE=mo(po().mark((function e(t,n,r){var i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Nb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_c(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,DE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Sb?t.yu.Gt(n):n instanceof Tb?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(gm.min())){e.next=29;break}return e.prev=14,e.next=17,Ax(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(oy.EMPTY_BYTE_STRING,n.snapshotVersion)),EE(e,t);var r=new Wk(n.target,t,1,n.sequenceNumber);xE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,DE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),RE.apply(this,arguments)}function DE(e,t,n){return ME.apply(this,arguments)}function ME(){return ME=mo(po().mark((function e(t,n,r){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,gE(t);case 5:t.gu.set("Offline"),r||(r=function(){return Ax(t.localStore)}),t.asyncQueue.enqueueRetryable(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,mE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function LE(e,t){return t().catch((function(n){return DE(e,n,t)}))}function FE(e){return jE.apply(this,arguments)}function jE(){return jE=mo(po().mark((function e(t){var n,r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=em(t),r=nC(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!VE(n)){e.next=19;break}return e.prev=3,e.next=6,Rx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,UE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,DE(n,e.t0);case 17:e.next=2;break;case 19:zE(n)&&BE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),jE.apply(this,arguments)}function VE(e){return _E(e)&&e.fu.length<10}function UE(e,t){e.fu.push(t);var n=nC(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function zE(e){return _E(e)&&!nC(e).No()&&e.fu.length>0}function BE(e){nC(e).start()}function qE(e){return WE.apply(this,arguments)}function WE(){return WE=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nC(t).eu();case 1:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e){return HE.apply(this,arguments)}function HE(){return HE=mo(po().mark((function e(t){var n,r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nC(t),r=_c(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function GE(e,t,n){return QE.apply(this,arguments)}function QE(){return QE=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Bk.from(i,n,r),e.next=3,LE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,FE(t);case 5:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function $E(e,t){return YE.apply(this,arguments)}function YE(){return YE=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&nC(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cb(i=n.code)||i===tm.ABORTED){e.next=7;break}return r=t.fu.shift(),nC(t).Oo(),e.next=5,LE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,FE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zE(t)&&BE(t);case 5:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function XE(e,t){return JE.apply(this,arguments)}function JE(){return JE=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=em(t)).asyncQueue.verifyOperationInProgress(),Qv("RemoteStore","RemoteStore received new credentials"),i=_E(r),r._u.add(3),e.next=6,gE(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,mE(r);case 12:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function ZE(e,t){return eC.apply(this,arguments)}function eC(){return eC=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,mE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,gE(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e){return e.pu||(e.pu=function(e,t,n){var r=em(e);return r.su(),new fE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:TE.bind(null,e),Zr:AE.bind(null,e),Wo:PE.bind(null,e)}),e.wu.push(function(){var t=mo(po().mark((function t(n){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),IE(e)?CE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:SE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function nC(e){return e.Iu||(e.Iu=function(e,t,n){var r=em(e);return r.su(),new dE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:qE.bind(null,e),Zr:$E.bind(null,e),tu:KE.bind(null,e),Zo:GE.bind(null,e)}),e.wu.push(function(){var t=mo(po().mark((function t(n){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,FE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Qv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var rC=function(){function e(t,n,r,i,a){Vn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return zn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nm(tm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function iC(e,t){if($v("AsyncQueue","".concat(t,": ").concat(e)),Bm(e))return new nm(tm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var aC=function(){function e(t){Vn(this,e),this.comparator=t?function(e,n){return t(e,n)||Em.comparator(e.key,n.key)}:function(e,t){return Em.comparator(e.key,t.key)},this.keyedMap=vb(),this.sortedSet=new Zm(this.comparator)}return zn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),oC=function(){function e(){Vn(this,e),this.Tu=new Zm(Em.comparator)}return zn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Jv():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),uC=function(){function e(t,n,r,i,a,o,u,s){Vn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return zn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,aC.emptySet(n),a,r,i,!0,!1)}}]),e}(),sC=zn((function e(){Vn(this,e),this.Au=void 0,this.listeners=[]})),cC=zn((function e(){Vn(this,e),this.queries=new fb((function(e){return xg(e)}),wg),this.onlineState="Unknown",this.Ru=new Set}));function lC(e,t){return fC.apply(this,arguments)}function fC(){return fC=mo(po().mark((function e(t,n){var r,i,a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new sC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=iC(e.t0,"Initialization of query '".concat(Eg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&mC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),fC.apply(this,arguments)}function dC(e,t){return hC.apply(this,arguments)}function hC(){return hC=mo(po().mark((function e(t,n){var r,i,a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function pC(e,t){var n,r=em(e),i=!1,a=_c(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=_c(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&mC(r)}function vC(e,t,n){var r=em(e),i=r.queries.get(t);if(i){var a,o=_c(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function mC(e){e.Ru.forEach((function(e){e.next()}))}var yC=function(){function e(t,n,r){Vn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return zn(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_c(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new uC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=uC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),gC=function(){function e(t,n){Vn(this,e),this.payload=t,this.byteLength=n}return zn(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),bC=function(){function e(t){Vn(this,e),this.It=t}return zn(e,[{key:"Ji",value:function(e){return Wb(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Yb(this.It,e.document,!1):By.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Ub(e)}}]),e}(),kC=function(){function e(t,n,r){Vn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wC(t)}return zn(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=km.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new bC(this.It),i=_c(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=_c(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||xb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=mo(po().mark((function e(){var t,n,r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zx(this.localStore,new bC(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=_c(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function wC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xC=zn((function e(t){Vn(this,e),this.key=t})),EC=zn((function e(t){Vn(this,e),this.key=t})),CC=function(){function e(t,n){Vn(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=xb(),this.mutatedKeys=xb(),this.Ku=_g(t),this.Gu=new aC(this.Ku)}return zn(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new oC,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Cg(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jv()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new uC(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new oC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=xb(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new EC(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new xC(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=xb();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return uC.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),IC=zn((function e(t,n,r){Vn(this,e),this.query=t,this.targetId=n,this.view=r})),_C=zn((function e(t){Vn(this,e),this.key=t,this.ec=!1})),SC=function(){function e(t,n,r,i,a,o){Vn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new fb((function(e){return xg(e)}),wg),this.ic=new Map,this.rc=new Set,this.oc=new Zm(Em.comparator),this.uc=new Map,this.cc=new ux,this.ac={},this.hc=new Map,this.lc=Fw.vn(),this.onlineState="Unknown",this.fc=void 0}return zn(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function TC(e,t){return NC.apply(this,arguments)}function NC(){return NC=mo(po().mark((function e(t,n){var r,i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wI(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Dx(r.localStore,bg(n));case 8:return u=e.sent,r.isPrimaryClient&&kE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,AC(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function AC(e,t,n,r){return OC.apply(this,arguments)}function OC(){return OC=mo(po().mark((function e(t,n,r,i){var a,o,u,s,c,l;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=mo(po().mark((function e(t,n,r,i){var a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Fx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(XC(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Fx(t.localStore,n,!0);case 3:return a=e.sent,o=new CC(n,a.Hi),u=o.ju(a.documents),s=_b.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),XC(t,r,c.Yu),l=new IC(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function PC(e,t){return RC.apply(this,arguments)}function RC(){return RC=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!wg(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Mx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),wE(r.remoteStore,i.targetId),$C(r,i.targetId)})).catch(Mm);case 9:e.next=14;break;case 11:return $C(r,i.targetId),e.next=14,Mx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function DC(e,t,n){return MC.apply(this,arguments)}function MC(){return MC=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=em(e),a=ym.now(),o=t.reduce((function(e,t){return e.add(t.key)}),xb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=hb(),s=xb();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=_c(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Xg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new eb(c.key,l,zy(l.value.mapValue),Kg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:mb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Zm(pm)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,eI(i,a.changes);case 9:return e.next=11,FE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=iC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),MC.apply(this,arguments)}function LC(e,t){return FC.apply(this,arguments)}function FC(){return FC=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.prev=1,e.next=4,Ox(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Zv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Zv(n.ec):e.removedDocuments.size>0&&(Zv(n.ec),n.ec=!1))})),e.next=8,eI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Mm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),FC.apply(this,arguments)}function jC(e,t,n){var r=em(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=em(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_c(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&mC(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function VC(e,t,n){return UC.apply(this,arguments)}function UC(){return UC=mo(po().mark((function e(t,n,r){var i,a,o,u,s,c;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=em(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Zm(Em.comparator)).insert(o,By.newNoDocument(o,gm.min())),s=xb().add(o),c=new Ib(gm.min(),new Map,new ny(pm),u,s),e.next=9,LC(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),ZC(i),e.next=16;break;case 14:return e.next=16,Mx(i.localStore,n,!1).then((function(){return $C(i,n,r)})).catch(Mm);case 16:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function zC(e,t){return BC.apply(this,arguments)}function BC(){return BC=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=n.batch.batchId,e.prev=1,e.next=4,Nx(r.localStore,n);case 4:return a=e.sent,QC(r,i,null),GC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,eI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Mm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),BC.apply(this,arguments)}function qC(e,t,n){return WC.apply(this,arguments)}function WC(){return WC=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=em(t),e.prev=1,e.next=4,function(e,t){var n=em(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Zv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,QC(i,n,r),GC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,eI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Mm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),WC.apply(this,arguments)}function KC(e,t){return HC.apply(this,arguments)}function HC(){return HC=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _E((r=em(t)).remoteStore)||Qv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=em(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=iC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),HC.apply(this,arguments)}function GC(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function QC(e,t,n){var r=em(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function $C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_c(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||YC(e,t)}))}function YC(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(wE(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),ZC(e))}function XC(e,t,n){var r,i=_c(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof xC?(e.cc.addReference(a.key,t),JC(e,a)):a instanceof EC?(Qv("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||YC(e,a.key)):Jv()}}catch(o){i.e(o)}finally{i.f()}}function JC(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Qv("SyncEngine","New document in limbo: "+n),e.rc.add(r),ZC(e))}function ZC(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Em(km.fromString(t)),r=e.lc.next();e.uc.set(r,new _C(n)),e.oc=e.oc.insert(n,r),kE(e.remoteStore,new Wk(bg(hg(n.path)),r,2,$m.at))}}function eI(e,t,n){return tI.apply(this,arguments)}function tI(){return tI=mo(po().mark((function e(t,n,r){var i,a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=em(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ex.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=mo(po().mark((function e(t,n){var r,i,a,o,u,s,c,l;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fm.forEach(n,(function(t){return Fm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Fm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bm(e.t0)){e.next=10;break}throw e.t0;case 10:Qv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_c(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=em(t)).currentUser.isEqual(n)){e.next=11;break}return Qv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Sx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new nm(tm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,eI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){var n=em(e),r=n.uc.get(t);if(r&&r.ec)return xb().add(r.key);var i=xb(),a=n.ic.get(t);if(!a)return i;var o,u=_c(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function aI(e,t){return oI.apply(this,arguments)}function oI(){return oI=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.next=3,Fx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&XC(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e,t){return sI.apply(this,arguments)}function sI(){return sI=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.abrupt("return",Vx(r.localStore,n).then((function(e){return eI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e,t,n,r){return lI.apply(this,arguments)}function lI(){return lI=mo(po().mark((function e(t,n,r,i){var a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=em(t),e.next=3,function(e,t){var n=em(e),r=em(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Fm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,FE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(QC(a,n,i||null),GC(a,n),function(e,t){em(em(e).mutationQueue).An(t)}(a.localStore,n)):Jv();case 11:return e.next=13,eI(a,o);case 13:e.next=16;break;case 15:Qv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t){return dI.apply(this,arguments)}function dI(){return dI=mo(po().mark((function e(t,n){var r,i,a,o,u,s,c,l;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wI(r=em(t)),xI(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,hI(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,ZE(r.remoteStore,!0);case 9:o=_c(a);try{for(o.s();!(u=o.n()).done;)s=u.value,kE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $C(r,t),Mx(r.localStore,t,!0)})),wE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,hI(r,c);case 21:return function(e){var t=em(e);t.uc.forEach((function(e,n){wE(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Zm(Em.comparator)}(r),r.fc=!1,e.next=25,ZE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function hI(e,t,n){return pI.apply(this,arguments)}function pI(){return pI=mo(po().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=em(t),a=[],o=[],u=_c(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Dx(i.localStore,bg(f[0]));case 11:l=e.sent,d=_c(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.sc.get(p),e.next=20,aI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,jx(i.localStore,c);case 36:return y=e.sent,e.next=39,Dx(i.localStore,y);case 39:return l=e.sent,e.next=42,AC(i,vI(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),pI.apply(this,arguments)}function vI(e){return dg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mI(e){var t=em(e);return em(em(t.localStore).persistence).vi()}function yI(e,t,n,r){return gI.apply(this,arguments)}function gI(){return gI=mo(po().mark((function e(t,n,r,i){var a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=em(t)).fc){e.next=3;break}return e.abrupt("return",void Qv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Vx(a.localStore,Ig(o[0]));case 10:return u=e.sent,s=Ib.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,eI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Mx(a.localStore,n,!0);case 17:return $C(a,n,i),e.abrupt("break",20);case 19:Jv();case 20:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function bI(e,t,n){return kI.apply(this,arguments)}function kI(){return kI=mo(po().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=wI(t)).fc){e.next=45;break}a=_c(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return Qv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,jx(i.localStore,u);case 12:return s=e.sent,e.next=15,Dx(i.localStore,s);case 15:return c=e.sent,e.next=18,AC(i,vI(s),c.targetId,!1);case 18:kE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=_c(r),e.prev=30,d=po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Mx(i.localStore,t,!1).then((function(){wE(i.remoteStore,t),$C(i,t)})).catch(Mm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),kI.apply(this,arguments)}function wI(e){var t=em(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VC.bind(null,t),t.nc.Wo=pC.bind(null,t.eventManager),t.nc._c=vC.bind(null,t.eventManager),t}function xI(e){var t=em(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qC.bind(null,t),t}function EI(e,t,n){var r=em(e);(function(){var e=mo(po().mark((function e(t,n,r){var i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=em(e),r=Ub(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(wC(i)),a=new kC(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,eI(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=em(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Yv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var CI=function(){function e(){Vn(this,e),this.synchronizeTabs=!1}return zn(e,[{key:"initialize",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=sE(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return _x(this.persistence,new Cx,e.initialUser,this.It)}},{key:"gc",value:function(e){return new hx(vx.Bs,this.It)}},{key:"mc",value:function(e){return new eE}},{key:"terminate",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),II=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return zn(n,[{key:"initialize",value:function(){var e=mo(po().mark((function e(t){var r=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(Wn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,xI(this.Ec.syncEngine);case 6:return e.next=8,FE(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return _x(this.persistence,new Cx,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Ww(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Qm(t,this.persistence);return new Gm(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nw.withCacheSize(this.cacheSizeBytes):Nw.DEFAULT;return new bx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,oE(),uE(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new eE}}]),n}(CI),_I=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return zn(n,[{key:"initialize",value:function(){var e=mo(po().mark((function e(t){var r,i=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(Wn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof Zx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:cI.bind(null,r),$r:yI.bind(null,r),Br:bI.bind(null,r),vi:mI.bind(null,r),Or:uI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fI(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=oE();if(!Zx.C(t))throw new nm(tm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(II),SI=function(){function e(){Vn(this,e)}return zn(e,[{key:"initialize",value:function(){var e=mo(po().mark((function e(t,n){var r=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),e.next=12,ZE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new cC}},{key:"createDatastore",value:function(e){var t,n=sE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new aE(t));return function(e,t,n,r){return new hE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jC(o.syncEngine,e,0)},a=nE.C()?new nE:new tE,new vE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new SC(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=em(t),Qv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,gE(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function TI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return mo(po().mark((function r(){var i;return po().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var NI=function(){function e(t){Vn(this,e),this.observer=t,this.muted=!1}return zn(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):$v("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),AI=function(){function e(t,n){var r=this;Vn(this,e),this.bc=t,this.It=n,this.metadata=new rm,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return zn(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=mo(po().mark((function e(){var t,n,r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new gC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=mo(po().mark((function e(){var t,n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=mo(po().mark((function e(){var t,n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OI=function(){function e(t){Vn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return zn(e,[{key:"lookup",value:function(){var e=mo(po().mark((function e(t){var n,r=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new nm(tm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=mo(po().mark((function e(t,n){var r,i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=Gb(r.It)+"/documents",a={documents:n.map((function(e){return qb(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Xb(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Zv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ob(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=mo(po().mark((function e(){var t,n=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Em.fromPath(t);n.mutations.push(new ub(r,n.precondition(r)))})),e.next=7,function(){var e=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=Gb(r.It)+"/documents",a={writes:n.map((function(e){return Jb(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jv();t=gm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new nm(tm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gm.min())?Kg.exists(!1):Kg.updateTime(t):Kg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gm.min()))throw new nm(tm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kg.updateTime(t)}return Kg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),PI=function(){function e(t,n,r,i,a){Vn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new cE(this.asyncQueue,"transaction_retry")}return zn(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(mo(po().mark((function t(){var n,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new OI(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!my(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!cb(t)}return!1}}]),e}(),RI=function(){function e(t,n,r,i){var a=this;Vn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wv.UNAUTHENTICATED,this.clientId=hm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return zn(e,[{key:"getConfiguration",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new nm(tm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(mo(po().mark((function n(){var r;return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=iC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function DI(e,t){return MI.apply(this,arguments)}function MI(){return MI=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Sx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function LI(e,t){return FI.apply(this,arguments)}function FI(){return FI=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jI(t);case 3:return r=e.sent,Qv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return XE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return XE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e){return VI.apply(this,arguments)}function VI(){return VI=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,DI(t,new CI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function UI(e){return zI.apply(this,arguments)}function zI(){return zI=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,LI(t,new SI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function BI(e){return jI(e).then((function(e){return e.persistence}))}function qI(e){return jI(e).then((function(e){return e.localStore}))}function WI(e){return UI(e).then((function(e){return e.remoteStore}))}function KI(e){return UI(e).then((function(e){return e.syncEngine}))}function HI(e){return GI.apply(this,arguments)}function GI(){return GI=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=TC.bind(null,n.syncEngine),r.onUnlisten=PC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function QI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function i(){return po().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new NI({next:function(a){t.enqueueAndForget((function(){return dC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new nm(tm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new nm(tm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new yC(hg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return lC(e,o)},i.next=3,HI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function i(){return po().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new NI({next:function(n){t.enqueueAndForget((function(){return dC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new nm(tm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new yC(n,a,{includeMetadataChanges:!0,Nu:!0});return lC(e,o)},i.next=3,HI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var YI=new Map;function XI(e,t,n){if(!n)throw new nm(tm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function JI(e,t,n,r){if(!0===t&&!0===r)throw new nm(tm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ZI(e){if(!Em.isDocumentKey(e))throw new nm(tm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function e_(e){if(Em.isDocumentKey(e))throw new nm(tm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function t_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Jv()}function n_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nm(tm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=t_(e);throw new nm(tm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function r_(e,t){if(t<=0)throw new nm(tm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var i_=function(){function e(t){var n;if(Vn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new nm(tm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nm(tm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,JI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return zn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),a_=function(){function e(t,n,r,i){Vn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1}return zn(e,[{key:"app",get:function(){if(!this._app)throw new nm(tm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new nm(tm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new am;switch(e.type){case"gapi":var t=e.client;return new cm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new nm(tm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YI.get(e);t&&(Qv("ComponentProvider","Removing Datastore"),YI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function o_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=n_(e,a_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Yv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Wv.MOCK_USER;else{o=Mc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new nm(tm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wv(s)}e._authCredentials=new om(new im(o,u))}}var u_=function(){function e(t,n,r){Vn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return zn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new c_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),s_=function(){function e(t,n,r){Vn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return zn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),c_=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,e,r,hg(i)))._path=i,a.type="collection",a}return zn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new u_(this.firestore,null,new Em(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(s_);function l_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nl(e),XI("collection","path",t),e instanceof a_){var a=km.fromString.apply(km,[t].concat(r));return e_(a),new c_(e,null,a)}if(!(e instanceof u_||e instanceof c_))throw new nm(tm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(km.fromString.apply(km,[t].concat(r)));return e_(o),new c_(e.firestore,null,o)}function f_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nl(e),1===arguments.length&&(t=hm.R()),XI("doc","path",t),e instanceof a_){var a=km.fromString.apply(km,[t].concat(r));return ZI(a),new u_(e,null,new Em(a))}if(!(e instanceof u_||e instanceof c_))throw new nm(tm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(km.fromString.apply(km,[t].concat(r)));return ZI(o),new u_(e.firestore,e instanceof c_?e.converter:null,new Em(o))}function d_(e,t){return e=nl(e),t=nl(t),(e instanceof u_||e instanceof c_)&&(t instanceof u_||t instanceof c_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function h_(e,t){return e=nl(e),t=nl(t),e instanceof s_&&t instanceof s_&&e.firestore===t.firestore&&wg(e._query,t._query)&&e.converter===t.converter}var p_=function(){function e(){var t=this;Vn(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new cE(this,"async_queue_retry"),this.jc=function(){var e=uE();e&&Qv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=uE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return zn(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=uE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new rm;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=mo(po().mark((function e(){var t=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bm(e.t0)){e.next=12;break}throw e.t0;case 12:Qv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $v("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=rC.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Jv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=_c(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_c(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function v_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=_c(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var m_=function(){function e(){Vn(this,e),this._progressObserver={},this._taskCompletionResolver=new rm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return zn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),y_=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new p_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return zn(n,[{key:"_terminate",value:function(){return this._firestoreClient||b_(this),this._firestoreClient.terminate()}}]),n}(a_);function g_(e){return e._firestoreClient||b_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function b_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new py(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new RI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function k_(e,t,n){var r=new rm;return e.asyncQueue.enqueue(mo(po().mark((function i(){var a;return po().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,DI(e,n);case 3:return i.next=5,LI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===tm.FAILED_PRECONDITION||e.code===tm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Yv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function w_(e){return function(e){return e.asyncQueue.enqueue(mo(po().mark((function t(){var n,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BI(e);case 2:return n=t.sent,t.next=5,WI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=em(e);return t._u.delete(0),mE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(g_(e=n_(e,y_)))}function x_(e){return function(e){return e.asyncQueue.enqueue(mo(po().mark((function t(){var n,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BI(e);case 2:return n=t.sent,t.next=5,WI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=em(t))._u.add(0),e.next=4,gE(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(g_(e=n_(e,y_)))}function E_(e,t){var n=g_(e=n_(e,y_)),r=new m_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new AI(e,t)}(function(e,t){if(e instanceof Uint8Array)return TI(e,t);if(e instanceof ArrayBuffer)return TI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,sE(t));e.asyncQueue.enqueueAndForget(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EI,t.next=3,KI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function C_(e,t){return function(e,t){return e.asyncQueue.enqueue(mo(po().mark((function n(){return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=em(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,qI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(g_(e=n_(e,y_)),t).then((function(t){return t?new s_(e,null,t.query):null}))}function I_(e){if(e._initialized||e._terminated)throw new nm(tm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var __=function(){function e(){Vn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new nm(tm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xm(n)}return zn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var S_=function(){function e(t){Vn(this,e),this._byteString=t}return zn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(oy.fromBase64String(t))}catch(t){throw new nm(tm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(oy.fromUint8Array(t))}}]),e}(),T_=zn((function e(t){Vn(this,e),this._methodName=t})),N_=function(){function e(t,n){if(Vn(this,e),!isFinite(t)||t<-90||t>90)throw new nm(tm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nm(tm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return zn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pm(this._lat,e._lat)||pm(this._long,e._long)}}]),e}(),A_=/^__.*__$/,O_=function(){function e(t,n,r){Vn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return zn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new eb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zg(e,this.data,t,this.fieldTransforms)}}]),e}(),P_=function(){function e(t,n,r){Vn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return zn(e,[{key:"toMutation",value:function(e,t){return new eb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function R_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jv()}}var D_=function(){function e(t,n,r,i,a,o){Vn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return zn(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return eS(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(R_(this.na)&&A_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),M_=function(){function e(t,n,r){Vn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||sE(t)}return zn(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new D_({na:e,methodName:t,la:n,path:xm.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function L_(e){var t=e._freezeSettings(),n=sE(e._databaseId);return new M_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function F_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);Y_("Data must be an object, but it was:",o,r);var u,s,c=Q_(r,o);if(a.merge)u=new ay(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=_c(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=X_(t,h,n);if(!o.contains(p))throw new nm(tm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));tS(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new ay(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new O_(new Uy(c),u,s)}var j_=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(T_);function V_(e,t,n){return new D_({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var U_=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"_toFieldTransform",value:function(e){return new qg(e.path,new Mg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(T_),z_=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e)).da=r,i}return zn(n,[{key:"_toFieldTransform",value:function(e){var t=V_(this,e,!0),n=this.da.map((function(e){return G_(e,t)})),r=new Lg(n);return new qg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_),B_=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e)).da=r,i}return zn(n,[{key:"_toFieldTransform",value:function(e){var t=V_(this,e,!0),n=this.da.map((function(e){return G_(e,t)})),r=new jg(n);return new qg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_),q_=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e))._a=r,i}return zn(n,[{key:"_toFieldTransform",value:function(e){var t=new Ug(e.It,Ag(e.It,this._a));return new qg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_);function W_(e,t,n,r){var i=e.fa(1,t,n);Y_("Data must be an object, but it was:",i,r);var a=[],o=Uy.empty();Xm(r,(function(e,r){var u=Z_(t,e,n);r=nl(r);var s=i.ua(u);if(r instanceof j_)a.push(u);else{var c=G_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ay(a);return new P_(o,u,i.fieldTransforms)}function K_(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[X_(t,r,n)],s=[i];if(a.length%2!=0)throw new nm(tm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(X_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Uy.empty(),d=u.length-1;d>=0;--d)if(!tS(l,u[d])){var h=u[d],p=s[d];p=nl(p);var v=o.ua(h);if(p instanceof j_)l.push(h);else{var m=G_(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new ay(l);return new P_(f,y,o.fieldTransforms)}function H_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return G_(n,e.fa(r?4:3,t))}function G_(e,t){if($_(e=nl(e)))return Y_("Unsupported field value:",t,e),Q_(e,t);if(e instanceof T_)return function(e,t){if(!R_(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_c(e);try{for(a.s();!(n=a.n()).done;){var o=G_(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=nl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ag(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ym.fromDate(e);return{timestampValue:Fb(t.It,n)}}if(e instanceof ym){var r=new ym(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fb(t.It,r)}}if(e instanceof N_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof S_)return{bytesValue:jb(t.It,e._byteString)};if(e instanceof u_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(t_(e)))}(e,t)}function Q_(e,t){var n={};return Jm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xm(e,(function(e,r){var i=G_(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ym||e instanceof N_||e instanceof S_||e instanceof u_||e instanceof T_)}function Y_(e,t,n){if(!$_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=t_(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function X_(e,t,n){if((t=nl(t))instanceof __)return t._internalPath;if("string"==typeof t)return Z_(e,t);throw eS("Field path arguments must be of type string or ",e,!1,void 0,n)}var J_=new RegExp("[~\\*/\\[\\]]");function Z_(e,t,n){if(t.search(J_)>=0)throw eS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Sc(__,Ot(t.split(".")))._internalPath}catch(r){throw eS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function eS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new nm(tm.INVALID_ARGUMENT,u+e+s)}function tS(e,t){return e.some((function(e){return e.isEqual(t)}))}var nS=function(){function e(t,n,r,i,a){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return zn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new u_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(iS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rS=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"data",value:function(){return Nf(Wn(n.prototype),"data",this).call(this)}}]),n}(nS);function iS(e,t){return"string"==typeof t?Z_(e,t):t instanceof __?t._internalPath:t._delegate._internalPath}var aS=function(){function e(t,n){Vn(this,e),this.hasPendingWrites=t,this.fromCache=n}return zn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),oS=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return zn(n,[{key:"exists",value:function(){return Nf(Wn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new uS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(iS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nS),uS=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nf(Wn(n.prototype),"data",this).call(this,e)}}]),n}(oS),sS=function(){function e(t,n,r,i){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new aS(i.hasPendingWrites,i.fromCache),this.query=r}return zn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new uS(n._firestore,n._userDataWriter,r.key,r,new aS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nm(tm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new uS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new uS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:cS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function cS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jv()}}function lS(e,t){return e instanceof oS&&t instanceof oS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof sS&&t instanceof sS&&e._firestore===t._firestore&&h_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function fS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new nm(tm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dS=zn((function e(){Vn(this,e)}));function hS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var pS=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return zn(n,[{key:"_apply",value:function(e){var t=L_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new nm(tm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){IS(o,a);var s,c=[],l=_c(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(CS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=CS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||IS(o,a),u=H_(n,"where",o,"in"===a||"not-in"===a);var d=Xy.create(i,a,u);return function(e,t){if(t.dt()){var n=mg(e);if(null!==n&&!n.isEqual(t.field))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=vg(e);null!==r&&_S(e,t.field,r)}var i=function(e,t){var n,r=_c(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new nm(tm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new nm(tm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new s_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(dS);var vS=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return zn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ug(t,n);return function(e,t){if(null===vg(e)){var n=mg(e);null!==n&&_S(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new s_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new fg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(dS);var mS=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return zn(n,[{key:"_apply",value:function(e){return new s_(e.firestore,e.converter,kg(e._query,this.pa,this.Ia))}}]),n}(dS);var yS=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return zn(n,[{key:"_apply",value:function(e){var t=ES(e,this.type,this.Ta,this.Ea);return new s_(e.firestore,e.converter,function(e,t){return new fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(dS);function gS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("startAt",t,!0)}function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("startAfter",t,!1)}var kS=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return zn(n,[{key:"_apply",value:function(e){var t=ES(e,this.type,this.Ta,this.Ea);return new s_(e.firestore,e.converter,function(e,t){return new fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(dS);function wS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kS("endBefore",t,!1)}function xS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kS("endAt",t,!0)}function ES(e,t,n,r){if(n[0]=nl(n[0]),n[0]instanceof nS)return function(e,t,n,r,i){if(!r)throw new nm(tm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=_c(gg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ty(t,r.key));else{var c=r.data.field(s.field);if(fy(c))throw new nm(tm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new og(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=L_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new nm(tm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!yg(e)&&-1!==c.indexOf("/"))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(km.fromString(c));if(!Em.isDocumentKey(l))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Em(l);u.push(Ty(t,f))}else{var d=H_(n,r,c);u.push(d)}}return new og(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function CS(e,t,n){if("string"==typeof(n=nl(n))){if(""===n)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yg(t)&&-1!==n.indexOf("/"))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(km.fromString(n));if(!Em.isDocumentKey(r))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ty(e,new Em(r))}if(n instanceof u_)return Ty(e,n._key);throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(t_(n),"."))}function IS(e,t){if(!Array.isArray(e)||0===e.length)throw new nm(tm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new nm(tm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function _S(e,t,n){if(!n.isEqual(t))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var SS={maxAttempts:5},TS=function(){function e(){Vn(this,e)}return zn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ly(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Xm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new N_(cy(e.latitude),cy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=dy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sy(e);return new ym(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=km.fromString(e);Zv(fk(n));var r=new vy(n.get(1),n.get(3)),i=new Em(n.popFirst(5));return r.isEqual(t)||$v("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function NS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AS=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return zn(n,[{key:"convertBytes",value:function(e){return new S_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new u_(this.firestore,null,t)}}]),n}(TS),OS=function(){function e(t,n){Vn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=L_(t)}return zn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=PS(e,this._firestore),i=NS(r.converter,t,n),a=F_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Kg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=PS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=nl(t))||t instanceof __?K_(this._dataReader,"WriteBatch.update",i._key,t,n,o):W_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Kg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=PS(e,this._firestore);return this._mutations=this._mutations.concat(new ob(t._key,Kg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new nm(tm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function PS(e,t){if((e=nl(e)).firestore!==t)throw new nm(tm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var RS=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return zn(n,[{key:"convertBytes",value:function(e){return new S_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new u_(this.firestore,null,t)}}]),n}(TS);function DS(e){e=n_(e,u_);var t=n_(e.firestore,y_),n=g_(t),r=new RS(t);return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function r(){return po().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=em(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new nm(tm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=iC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new oS(t,r,e._key,n,new aS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function MS(e){e=n_(e,s_);var t=n_(e.firestore,y_),n=g_(t),r=new RS(t);return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function r(){return po().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=mo(po().mark((function e(t,n,r){var i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fx(t,n,!0);case 3:i=e.sent,a=new CC(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=iC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new sS(t,r,e,n)}))}function LS(e,t,n){e=n_(e,u_);var r=n_(e.firestore,y_),i=NS(e.converter,t,n);return US(r,[F_(L_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Kg.none())])}function FS(e,t,n){e=n_(e,u_);for(var r=n_(e.firestore,y_),i=L_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return US(r,[("string"==typeof(t=nl(t))||t instanceof __?K_(i,"updateDoc",e._key,t,n,o):W_(i,"updateDoc",e._key,t)).toMutation(e._key,Kg.exists(!0))])}function jS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=nl(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||v_(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(v_(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof u_)l=n_(e.firestore,y_),f=hg(e._key.path),c={next:function(t){n[s]&&n[s](zS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=n_(e,s_);l=n_(p.firestore,y_),f=p._query;var v=new RS(l);c={next:function(e){n[s]&&n[s](new sS(l,v,p,e))},error:n[s+1],complete:n[s+2]},fS(e._query)}return function(e,t,n,r){var i=new NI(r),a=new yC(t,i,n);return e.asyncQueue.enqueueAndForget(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lC,t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dC,t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(g_(l),f,d,c)}function VS(e,t){return function(e,t){var n=new NI(t);return e.asyncQueue.enqueueAndForget(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){em(e).Ru.add(t),t.next()},t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){em(e).Ru.delete(t)},t.next=3,HI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(g_(e=n_(e,y_)),v_(t)?t:{next:t})}function US(e,t){return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function r(){return po().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=DC,r.next=3,KI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(g_(e),t)}function zS(e,t,n){var r=n.docs.get(t._key),i=new RS(e);return new oS(e,i,t._key,r,new aS(n.hasPendingWrites,n.fromCache),t.converter)}var BS=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r))._firestore=e,i}return zn(n,[{key:"get",value:function(e){var t=this,r=PS(e,this._firestore),i=new RS(this._firestore);return Nf(Wn(n.prototype),"get",this).call(this,e).then((function(e){return new oS(t._firestore,i,r._key,e._document,new aS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Vn(this,e),this._firestore=t,this._transaction=n,this._dataReader=L_(t)}return zn(e,[{key:"get",value:function(e){var t=this,n=PS(e,this._firestore),r=new AS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Jv();var i=e[0];if(i.isFoundDocument())return new nS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nS(t._firestore,r,n._key,null,n.converter);throw Jv()}))}},{key:"set",value:function(e,t,n){var r=PS(e,this._firestore),i=NS(r.converter,t,n),a=F_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=PS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=nl(t))||t instanceof __?K_(this._dataReader,"Transaction.update",i._key,t,n,o):W_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=PS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function qS(e,t,n){e=n_(e,y_);var r=Object.assign(Object.assign({},SS),n);return function(e){if(e.maxAttempts<1)throw new nm(tm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function i(){var a;return po().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return UI(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new PI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(g_(e),(function(n){return t(new BS(e,n))}),r)}function WS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new z_("arrayUnion",t)}function KS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new B_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kv=e}(Yl),ql(new rl("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new y_(new um(e.getProvider("auth-internal")),new fm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nm(tm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),nf(qv,"3.4.15",e),nf(qv,"3.4.15","esm2017")}();function HS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GS(){if("undefined"===typeof Uint8Array)throw new nm("unimplemented","Uint8Arrays are not available in this environment.")}function QS(){if("undefined"==typeof atob)throw new nm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $S=function(){function e(t){Vn(this,e),this._delegate=t}return zn(e,[{key:"toBase64",value:function(){return QS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return GS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QS(),new e(S_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return GS(),new e(S_.fromUint8Array(t))}}]),e}();function YS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=_c(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var XS=function(){function e(){Vn(this,e)}return zn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){I_(e=n_(e,y_));var n=g_(e),r=e._freezeSettings(),i=new SI;return k_(n,i,new II(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){I_(e=n_(e,y_));var t=g_(e),n=e._freezeSettings(),r=new SI;return k_(t,r,new _I(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new nm(tm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new rm;return e._queue.enqueueAndForgetEvenWhileRestricted(mo(po().mark((function n(){return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),JS=function(){function e(t,n,r){var i=this;Vn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof vy||(this._appCompat=t)}return zn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Yv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return w_(this._delegate)}},{key:"disableNetwork",value:function(){return x_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&JI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new rm;return e.asyncQueue.enqueueAndForget(mo(po().mark((function n(){return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=KC,n.next=3,KI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(g_(e=n_(e,y_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return VS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new nm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dT(this,l_(this._delegate,e))}catch(t){throw iT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rT(this,f_(this._delegate,e))}catch(t){throw iT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cT(this,function(e,t){if(e=n_(e,a_),XI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nm(tm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new s_(e,null,function(e){return new fg(km.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw iT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return qS(this._delegate,(function(n){return e(new eT(t,n))}))}},{key:"batch",value:function(){var e=this;return g_(this._delegate),new tT(new OS(this._delegate,(function(t){return US(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return E_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return C_(this._delegate,e).then((function(e){return e?new cT(t,e):null}))}}]),e}(),ZS=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return zn(n,[{key:"convertBytes",value:function(e){return new $S(new S_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rT.forKey(t,this.firestore,null)}}]),n}(TS);var eT=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZS(t)}return zn(e,[{key:"get",value:function(e){var t=this,n=hT(e);return this._delegate.get(n).then((function(e){return new uT(t._firestore,new oS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hT(e);return n?(HS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hT(e);return this._delegate.delete(t),this}}]),e}(),tT=function(){function e(t){Vn(this,e),this._delegate=t}return zn(e,[{key:"set",value:function(e,t,n){var r=hT(e);return n?(HS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nT=function(){function e(t,n,r){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return zn(e,[{key:"fromFirestore",value:function(e,t){var n=new uS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZS(t),n),i.set(n,a)),a}}]),e}();nT.INSTANCES=new WeakMap;var rT=function(){function e(t,n){Vn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZS(t)}return zn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dT(this.firestore,l_(this._delegate,e))}catch(t){throw iT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=nl(e))instanceof u_&&d_(this._delegate,e)}},{key:"set",value:function(e,t){t=HS("DocumentReference.set",t);try{return t?LS(this._delegate,e,t):LS(this._delegate,e)}catch(n){throw iT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?FS(this._delegate,e):FS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw iT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return US(n_(e.firestore,y_),[new ob(e._key,Kg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aT(n),a=oT(n,(function(t){return new uT(e.firestore,new oS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return jS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?DS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=n_(e,u_);var t=n_(e.firestore,y_);return QI(g_(t),e._key,{source:"server"}).then((function(n){return zS(t,e,n)}))}(this._delegate):function(e){e=n_(e,u_);var t=n_(e.firestore,y_);return QI(g_(t),e._key).then((function(n){return zS(t,e,n)}))}(this._delegate),t.then((function(e){return new uT(n.firestore,new oS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new nm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new u_(n._delegate,r,new Em(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new u_(n._delegate,r,t))}}]),e}();function iT(e,t,n){return e.message=e.message.replace(t,n),e}function aT(e){var t,n=_c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!YS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=YS(e[0])?e[0]:YS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uT=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return zn(e,[{key:"ref",get:function(){return new rT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return lS(this._delegate,e._delegate)}}]),e}(),sT=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Jv()}(void 0!==t),t}}]),n}(uT),cT=function(){function e(t,n){Vn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZS(t)}return zn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,hS(this._delegate,function(e,t,n){var r=t,i=iS("where",e);return new pS(i,r,n)}(t,n,r)))}catch(i){throw iT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,hS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=iS("orderBy",e);return new vS(n,t)}(t,n)))}catch(r){throw iT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,hS(this._delegate,function(e){return r_("limit",e),new mS("limit",e,"F")}(t)))}catch(n){throw iT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,hS(this._delegate,function(e){return r_("limitToLast",e),new mS("limitToLast",e,"L")}(t)))}catch(n){throw iT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,hS(this._delegate,gS.apply(void 0,arguments)))}catch(t){throw iT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,hS(this._delegate,bS.apply(void 0,arguments)))}catch(t){throw iT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,hS(this._delegate,wS.apply(void 0,arguments)))}catch(t){throw iT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,hS(this._delegate,xS.apply(void 0,arguments)))}catch(t){throw iT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return h_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=n_(e,s_);var t=n_(e.firestore,y_),n=g_(t),r=new RS(t);return $I(n,e._query,{source:"server"}).then((function(n){return new sS(t,r,e,n)}))}(this._delegate):function(e){e=n_(e,s_);var t=n_(e.firestore,y_),n=g_(t),r=new RS(t);return fS(e._query),$I(n,e._query).then((function(n){return new sS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fT(n.firestore,new sS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aT(n),a=oT(n,(function(t){return new fT(e.firestore,new sS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return jS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lT=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return zn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new sT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fT=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return zn(e,[{key:"query",get:function(){return new cT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new sT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new sT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return lS(this._delegate,e._delegate)}}]),e}(),dT=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return zn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rT(this.firestore,void 0===e?f_(this._delegate):f_(this._delegate,e))}catch(t){throw iT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=n_(e.firestore,y_),r=f_(e),i=NS(e.converter,t);return US(n,[F_(L_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Kg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return d_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cT);function hT(e){return n_(e,u_)}var pT,vT=function(){function e(){Vn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Sc(__,n)}return zn(e,[{key:"isEqual",value:function(e){return(e=nl(e))instanceof __&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(xm.keyField().canonicalString())}}]),e}(),mT=function(){function e(t){Vn(this,e),this._delegate=t}return zn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new U_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new j_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=WS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new q_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),yT={Firestore:JS,GeoPoint:N_,Timestamp:ym,Blob:$S,Transaction:eT,WriteBatch:tT,DocumentReference:rT,DocumentSnapshot:uT,Query:cT,QueryDocumentSnapshot:sT,QuerySnapshot:fT,CollectionReference:dT,FieldPath:vT,FieldValue:mT,setLogLevel:function(e){!function(e){Hv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function gT(e){return a(e)||At(e)||u(e)||s()}(function(e,t){e.INTERNAL.registerComponent(new rl("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yT)))})(pT=Sf,(function(e,t){return new JS(e,t,new XS)})),pT.registerVersion("@firebase/firestore-compat","0.1.24");function bT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var kT;Object.create;var wT="facebook.com",xT="github.com",ET="google.com",CT="password",IT="twitter.com",_T="EMAIL_SIGNIN",ST="PASSWORD_RESET",TT="RECOVER_EMAIL",NT="REVERT_SECOND_FACTOR_ADDITION",AT="VERIFY_AND_CHANGE_EMAIL",OT="VERIFY_EMAIL";function PT(){return B({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var RT=function(){var e;return B(e={},"admin-restricted-operation","This operation is restricted to administrators only."),B(e,"argument-error",""),B(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),B(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),B(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),B(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),B(e,"cordova-not-ready","Cordova framework is not ready."),B(e,"cors-unsupported","This browser is not supported."),B(e,"credential-already-in-use","This credential is already associated with a different user account."),B(e,"custom-token-mismatch","The custom token corresponds to a different audience."),B(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),B(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),B(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),B(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),B(e,"email-already-in-use","The email address is already in use by another account."),B(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),B(e,"expired-action-code","The action code has expired."),B(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),B(e,"internal-error","An internal AuthError has occurred."),B(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),B(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),B(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),B(e,"invalid-auth-event","An internal AuthError has occurred."),B(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),B(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),B(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),B(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),B(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),B(e,"invalid-email","The email address is badly formatted."),B(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),B(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),B(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),B(e,"invalid-credential","The supplied auth credential is malformed or has expired."),B(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),B(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),B(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),B(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),B(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),B(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),B(e,"wrong-password","The password is invalid or the user does not have a password."),B(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),B(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),B(e,"invalid-provider-id","The specified provider ID is invalid."),B(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),B(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),B(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),B(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),B(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),B(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),B(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),B(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),B(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),B(e,"missing-continue-uri","A continue URL must be provided in the request."),B(e,"missing-iframe-start","An internal AuthError has occurred."),B(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),B(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),B(e,"missing-multi-factor-info","No second factor identifier is provided."),B(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),B(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),B(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),B(e,"app-deleted","This instance of FirebaseApp has been deleted."),B(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),B(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),B(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),B(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),B(e,"no-auth-event","An internal AuthError has occurred."),B(e,"no-such-provider","User was not linked to an account with the given provider."),B(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),B(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),B(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),B(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),B(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),B(e,"provider-already-linked","User can only be linked to one identity for the given provider."),B(e,"quota-exceeded","The project's quota for this operation has been exceeded."),B(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),B(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),B(e,"rejected-credential","The request contains malformed or mismatching credentials."),B(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),B(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),B(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),B(e,"timeout","The operation has timed out."),B(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),B(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),B(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),B(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),B(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),B(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),B(e,"unverified-email","The operation requires a verified email."),B(e,"user-cancelled","The user did not grant your application the permissions it requested."),B(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),B(e,"user-disabled","The user account has been disabled by an administrator."),B(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),B(e,"user-signed-out",""),B(e,"weak-password","The password must be 6 characters long or more."),B(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),B(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},DT=PT,MT=new Wc("auth","Firebase",PT()),LT=new pl("@firebase/auth");function FT(e){if(LT.logLevel<=ul.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];LT.error.apply(LT,["Auth (".concat(Yl,"): ").concat(e)].concat(n))}}function jT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw BT.apply(void 0,[e].concat(n))}function VT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return BT.apply(void 0,[e].concat(n))}function UT(e,t,n){var r=Object.assign(Object.assign({},DT()),B({},t,n));return new Wc("auth","Firebase",r).create(t,{appName:e.name})}function zT(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&jT(e,"argument-error"),UT(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function BT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ot(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ot(o)))}return MT.create.apply(MT,[e].concat(n))}function qT(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw BT.apply(void 0,[t].concat(r))}}function WT(e){var t="INTERNAL ASSERTION FAILED: "+e;throw FT(t),new Error(t)}function KT(e,t){e||WT(t)}var HT=new Map;function GT(e){KT(e instanceof Function,"Expected a class definition");var t=HT.get(e);return t?(KT(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,HT.set(e,t),t)}function QT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $T(){return"http:"===YT()||"https:"===YT()}function YT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var XT=function(){function e(t,n){Vn(this,e),this.shortDelay=t,this.longDelay=n,KT(n>t,"Short delay should be less than long delay!"),this.isMobile=Fc()||Uc()}return zn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($T()||Vc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function JT(e,t){KT(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ZT=function(){function e(){Vn(this,e)}return zn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void WT("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void WT("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void WT("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),eN=(B(kT={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),B(kT,"MISSING_CUSTOM_TOKEN","internal-error"),B(kT,"INVALID_IDENTIFIER","invalid-email"),B(kT,"MISSING_CONTINUE_URI","internal-error"),B(kT,"INVALID_PASSWORD","wrong-password"),B(kT,"MISSING_PASSWORD","internal-error"),B(kT,"EMAIL_EXISTS","email-already-in-use"),B(kT,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),B(kT,"INVALID_IDP_RESPONSE","invalid-credential"),B(kT,"INVALID_PENDING_TOKEN","invalid-credential"),B(kT,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),B(kT,"MISSING_REQ_TYPE","internal-error"),B(kT,"EMAIL_NOT_FOUND","user-not-found"),B(kT,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),B(kT,"EXPIRED_OOB_CODE","expired-action-code"),B(kT,"INVALID_OOB_CODE","invalid-action-code"),B(kT,"MISSING_OOB_CODE","internal-error"),B(kT,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),B(kT,"INVALID_ID_TOKEN","invalid-user-token"),B(kT,"TOKEN_EXPIRED","user-token-expired"),B(kT,"USER_NOT_FOUND","user-token-expired"),B(kT,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),B(kT,"INVALID_CODE","invalid-verification-code"),B(kT,"INVALID_SESSION_INFO","invalid-verification-id"),B(kT,"INVALID_TEMPORARY_PROOF","invalid-credential"),B(kT,"MISSING_SESSION_INFO","missing-verification-id"),B(kT,"SESSION_EXPIRED","code-expired"),B(kT,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),B(kT,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),B(kT,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),B(kT,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),B(kT,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),B(kT,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),B(kT,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),B(kT,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),B(kT,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),B(kT,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),B(kT,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),kT),tN=new XT(3e4,6e4);function nN(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function rN(e,t,n,r){return iN.apply(this,arguments)}function iN(){return iN=mo(po().mark((function e(t,n,r,i){var a,o=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",aN(t,a,mo(po().mark((function e(){var a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Yc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ZT.fetch()(cN(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t,n){return oN.apply(this,arguments)}function oN(){return oN=mo(po().mark((function e(t,n,r){var i,a,o,u,s,l,f,d,h,p;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},eN),n),e.prev=2,a=new lN(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw fN(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw fN(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw fN(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw fN(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw UT(t,p,h);case 34:jT(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof qc)){e.next=41;break}throw e.t0;case 41:jT(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),oN.apply(this,arguments)}function uN(e,t,n,r){return sN.apply(this,arguments)}function sN(){return sN=mo(po().mark((function e(t,n,r,i){var a,o,u=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,rN(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&jT(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),sN.apply(this,arguments)}function cN(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?JT(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var lN=function(){function e(t){var n=this;Vn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(VT(n.auth,"network-request-failed"))}),tN.get())}))}return zn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function fN(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=VT(e,t,r);return i.customData._tokenResponse=n,i}function dN(e,t){return hN.apply(this,arguments)}function hN(){return hN=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function mN(e,t){return yN.apply(this,arguments)}function yN(){return yN=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function gN(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function bN(){return bN=mo(po().mark((function e(t){var n,r,i,a,o,u,s=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=nl(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,qT((a=wN(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:gN(kN(a.auth_time)),issuedAtTime:gN(kN(a.iat)),expirationTime:gN(kN(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bN.apply(this,arguments)}function kN(e){return 1e3*Number(e)}function wN(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return FT("JWT malformed, contained fewer than 3 sections"),null;try{var o=Pc(i);return o?JSON.parse(o):(FT("Failed to decode base64 JWT payload"),null)}catch(u){return FT("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function xN(e,t){return EN.apply(this,arguments)}function EN(){return EN=mo(po().mark((function e(t,n){var r=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof qc&&CN(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),EN.apply(this,arguments)}function CN(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var IN=function(){function e(t){Vn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return zn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),_N=function(){function e(t,n){Vn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return zn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=gN(this.lastLoginAt),this.creationTime=gN(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function SN(e){return TN.apply(this,arguments)}function TN(){return TN=mo(po().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,xN(t,mN(r,{idToken:i}));case 6:qT(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ON(o.providerUserInfo):[],s=AN(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new _N(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}function NN(){return(NN=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nl(t),e.next=3,SN(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AN(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ot(n),Ot(t))}function ON(e){return e.map((function(e){var t=e.providerId,n=bT(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function PN(e,t){return RN.apply(this,arguments)}function RN(){return RN=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aN(t,{},mo(po().mark((function e(){var r,i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=cN(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ZT.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}var DN=function(){function e(){Vn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return zn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){qT(e.idToken,"internal-error"),qT("undefined"!==typeof e.idToken,"internal-error"),qT("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=wN(e);return qT(t,"internal-error"),qT("undefined"!==typeof t.exp,"internal-error"),qT("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=mo(po().mark((function e(t){var n,r=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],qT(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PN(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return WT("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(qT("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(qT("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(qT("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function MN(e,t){qT("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var LN=function(){function e(t){Vn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bT(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ot(a.providerData):[],this.metadata=new _N(a.createdAt||void 0,a.lastLoginAt||void 0)}return zn(e,[{key:"getIdToken",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xN(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(qT(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bN.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return NN.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(qT(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){qT(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=mo(po().mark((function e(t){var n,r,i=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,SN(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,xN(this,dN(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;qT(b&&E,t,"internal-error");var C=DN.fromJSON(this.name,E);qT("string"===typeof b,t,"internal-error"),MN(f,t.name),MN(d,t.name),qT("boolean"===typeof k,t,"internal-error"),qT("boolean"===typeof w,t,"internal-error"),MN(h,t.name),MN(p,t.name),MN(v,t.name),MN(m,t.name),MN(y,t.name),MN(g,t.name);var I=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=mo(po().mark((function t(n,r){var i,a,o,u=arguments;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new DN).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,SN(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),FN=function(){function e(){Vn(this,e),this.type="NONE",this.storage={}}return zn(e,[{key:"_isAvailable",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();FN.type="NONE";var jN=FN;function VN(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var UN=function(){function e(t,n,r){Vn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=VN(this.userKey,a.apiKey,o),this.fullPersistenceKey=VN("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return zn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?LN._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=mo(po().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(GT(jN),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||GT(jN),u=VN(i,n.config.apiKey,n.name),s=null,c=_c(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=LN._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function zN(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GN(t))return"Blackberry";if(QN(t))return"Webos";if(qN(t))return"Safari";if((t.includes("chrome/")||WN(t))&&!t.includes("edge/"))return"Chrome";if(HN(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function BN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/firefox\//i.test(e)}function qN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/crios\//i.test(e)}function KN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/iemobile/i.test(e)}function HN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/android/i.test(e)}function GN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/blackberry/i.test(e)}function QN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/webos/i.test(e)}function $N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YN(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return $N(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function XN(){return zc()&&10===document.documentMode}function JN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return $N(e)||HN(e)||QN(e)||GN(e)||/windows phone/i.test(e)||KN(e)}function ZN(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zN(Lc());break;case"Worker":t="".concat(zN(Lc()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yl,"/").concat(r)}var eA=function(){function e(t){Vn(this,e),this.auth=t,this.queue=[]}return zn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=mo(po().mark((function e(t){var n,r,i,a,o,u,s,c;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=_c(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=_c(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),tA=function(){function e(t,n,r){Vn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rA(this),this.idTokenSubscription=new rA(this),this.beforeStateQueue=new eA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return zn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=GT(t)),this._initializationPromise=this.queue(mo(po().mark((function r(){var i,a;return po().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,UN.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=mo(po().mark((function e(t){var n,r,i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return qT(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SN(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?nl(t):null)&&qT(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=mo(po().mark((function e(t){var n,r=this,i=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&qT(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(mo(po().mark((function n(){return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(GT(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Wc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return qT(n=t&&GT(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,UN.create(this,[GT(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=mo(po().mark((function e(t){var n=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qT(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return qT(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZN(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=mo(po().mark((function e(){var t,n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nA(e){return nl(e)}var rA=function(){function e(t){var n=this;Vn(this,e),this.auth=t,this.observer=null,this.addObserver=Zc((function(e){return n.observer=e}))}return zn(e,[{key:"next",get:function(){return qT(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function iA(e,t,n){var r=nA(e);qT(r._canInitEmulator,r,"emulator-config-failed"),qT(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=aA(t),o=function(e){var t=aA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:oA(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:oA(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function aA(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oA(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var uA=function(){function e(t,n){Vn(this,e),this.providerId=t,this.signInMethod=n}return zn(e,[{key:"toJSON",value:function(){return WT("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return WT("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return WT("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return WT("not implemented")}}]),e}();function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:resetPassword",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function dA(e,t){return hA.apply(this,arguments)}function hA(){return hA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:update",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithPassword",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:sendOobCode",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){return bA.apply(this,arguments)}function bA(){return bA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mA(t,n));case 1:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function kA(e,t){return wA.apply(this,arguments)}function wA(){return wA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mA(t,n));case 1:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t){return EA.apply(this,arguments)}function EA(){return EA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mA(t,n));case 1:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function CA(e,t){return IA.apply(this,arguments)}function IA(){return IA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mA(t,n));case 1:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}function _A(e,t){return SA.apply(this,arguments)}function SA(){return SA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithEmailLink",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function TA(e,t){return NA.apply(this,arguments)}function NA(){return NA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithEmailLink",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}var AA=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Vn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return zn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",pA(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_A(t,{email:this._email,oobCode:this._password}));case 5:jT(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lA(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",TA(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:jT(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(uA);function OA(e,t){return PA.apply(this,arguments)}function PA(){return PA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithIdp",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}var RA=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return zn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return OA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,OA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,OA(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jT("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bT(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(uA);function DA(e,t){return MA.apply(this,arguments)}function MA(){return MA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:sendVerificationCode",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function LA(){return LA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithPhoneNumber",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function FA(){return FA=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uN(t,"POST","/v1/accounts:signInWithPhoneNumber",nN(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw fN(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}var jA=B({},"USER_NOT_FOUND","user-not-found");function VA(){return VA=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithPhoneNumber",nN(t,r),jA));case 2:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}var UA=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return zn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return LA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return FA.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return VA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(uA);var zA=function(){function e(t){var n,r,i,a,o,u;Vn(this,e);var s=Xc(Jc(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);qT(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return zn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xc(Jc(e)).link,n=t?Xc(Jc(t)).deep_link_id:null,r=Xc(Jc(e)).deep_link_id;return(r?Xc(Jc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var BA=function(){function e(){Vn(this,e),this.providerId=e.PROVIDER_ID}return zn(e,null,[{key:"credential",value:function(e,t){return AA._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=zA.parseLink(t);return qT(n,"argument-error"),AA._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();BA.PROVIDER_ID="password",BA.EMAIL_PASSWORD_SIGN_IN_METHOD="password",BA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var qA=function(){function e(t){Vn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return zn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),WA=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return zn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ot(this.scopes)}}]),n}(qA),KA=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return qT(e.idToken||e.accessToken,"argument-error"),RA._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return qT("providerId"in t&&"signInMethod"in t,"argument-error"),RA._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(WA),HA=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.call(this,"facebook.com")}return zn(n,null,[{key:"credential",value:function(e){return RA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(WA);HA.FACEBOOK_SIGN_IN_METHOD="facebook.com",HA.PROVIDER_ID="facebook.com";var GA=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return zn(n,null,[{key:"credential",value:function(e,t){return RA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(WA);GA.GOOGLE_SIGN_IN_METHOD="google.com",GA.PROVIDER_ID="google.com";var QA=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.call(this,"github.com")}return zn(n,null,[{key:"credential",value:function(e){return RA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(WA);QA.GITHUB_SIGN_IN_METHOD="github.com",QA.PROVIDER_ID="github.com";var $A=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return zn(n,[{key:"_getIdTokenResponse",value:function(e){return OA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,OA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,OA(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uA),YA=function(e){qn(n,e);var t=Qn(n);function n(e){return Vn(this,n),qT(e.startsWith("saml."),"argument-error"),t.call(this,e)}return zn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=$A.fromJSON(e);return qT(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return $A._create(r,n)}catch(i){return null}}}]),n}(qA),XA=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.call(this,"twitter.com")}return zn(n,null,[{key:"credential",value:function(e,t){return RA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(WA);function JA(e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signUp",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}XA.TWITTER_SIGN_IN_METHOD="twitter.com",XA.PROVIDER_ID="twitter.com";var eO=function(){function e(t){Vn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return zn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=mo(po().mark((function t(n,r,i){var a,o,u,s,c=arguments;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,LN._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=tO(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=mo(po().mark((function t(n,r,i){var a;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tO(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tO(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function nO(){return nO=mo(po().mark((function e(t){var n,r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nA(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new eO({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,JA(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,eO._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),nO.apply(this,arguments)}var rO=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a){var o,u;return Vn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Hn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return zn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(qc);function iO(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw rO._fromErrorAndOperation(e,n,t,r);throw n}))}function aO(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function oO(e,t){return uO.apply(this,arguments)}function uO(){return uO=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.next=3,lO(!0,r,n);case 3:return e.t0=pN,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=aO(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),uO.apply(this,arguments)}function sO(e,t){return cO.apply(this,arguments)}function cO(){return cO=mo(po().mark((function e(t,n){var r,i,a=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=xN,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",eO._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),cO.apply(this,arguments)}function lO(e,t,n){return fO.apply(this,arguments)}function fO(){return(fO=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SN(n);case 2:i=aO(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",qT(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dO(e,t){return hO.apply(this,arguments)}function hO(){return hO=mo(po().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,xN(t,iO(a,o,n,t),r);case 6:return qT((u=e.sent).idToken,a,"internal-error"),qT(s=wN(u.idToken),a,"internal-error"),c=s.sub,qT(t.uid===c,a,"user-mismatch"),e.abrupt("return",eO._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&jT(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),hO.apply(this,arguments)}function pO(e,t){return vO.apply(this,arguments)}function vO(){return vO=mo(po().mark((function e(t,n){var r,i,a,o,u=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,iO(t,i,n);case 4:return a=e.sent,e.next=7,eO._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vO.apply(this,arguments)}function mO(e,t){return yO.apply(this,arguments)}function yO(){return yO=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pO(nA(t),n));case 1:case"end":return e.stop()}}),e)}))),yO.apply(this,arguments)}function gO(e,t){return bO.apply(this,arguments)}function bO(){return(bO=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.next=3,lO(!1,r,n.providerId);case 3:return e.abrupt("return",sO(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kO(e,t){return wO.apply(this,arguments)}function wO(){return(wO=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dO(nl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xO(e,t){return EO.apply(this,arguments)}function EO(){return EO=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uN(t,"POST","/v1/accounts:signInWithCustomToken",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),EO.apply(this,arguments)}function CO(){return CO=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nA(t),e.next=3,xO(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,eO._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}var IO=function(){function e(t,n){Vn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return zn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?_O._fromServerResponse(e,t):jT(e,"internal-error")}}]),e}(),_O=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return zn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(IO);function SO(e,t,n){var r;qT((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),qT("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(qT(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(qT(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function TO(){return TO=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),a={requestType:"PASSWORD_RESET",email:n},r&&SO(i,a,r),e.next=5,kA(i,a);case 5:case"end":return e.stop()}}),e)}))),TO.apply(this,arguments)}function NO(){return NO=mo(po().mark((function e(t,n,r){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sA(nl(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function AO(){return AO=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dA(nl(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function OO(e,t){return PO.apply(this,arguments)}function PO(){return PO=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.next=3,sA(r,{oobCode:n});case 3:i=e.sent,qT(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return qT(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:qT(i.mfaInfo,r,"internal-error");case 13:qT(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=IO._fromServerResponse(nA(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function RO(){return RO=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OO(nl(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),RO.apply(this,arguments)}function DO(e,t,n){return MO.apply(this,arguments)}function MO(){return MO=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nA(t),e.next=3,JA(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,eO._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),MO.apply(this,arguments)}function LO(){return LO=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),a={requestType:"EMAIL_SIGNIN",email:n},qT(r.handleCodeInApp,i,"argument-error"),r&&SO(i,a,r),e.next=6,xA(i,a);case 6:case"end":return e.stop()}}),e)}))),LO.apply(this,arguments)}function FO(){return FO=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),qT((a=BA.credentialWithLink(n,r||QT()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",mO(i,a));case 4:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function jO(e,t){return VO.apply(this,arguments)}function VO(){return VO=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:createAuthUri",nN(t,n)));case 1:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}function UO(){return UO=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$T()?QT():"http://localhost",i={identifier:n,continueUri:r},e.next=4,jO(nl(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),UO.apply(this,arguments)}function zO(){return(zO=mo(po().mark((function e(t,n){var r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&SO(r.auth,a,n),e.next=8,gA(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BO(){return(BO=mo(po().mark((function e(t,n,r){var i,a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&SO(i.auth,o,r),e.next=8,CA(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qO(e,t){return WO.apply(this,arguments)}function WO(){return WO=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}function KO(){return(KO=mo(po().mark((function e(t,n){var r,i,a,o,u,s,c;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=nl(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,xN(a,qO(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HO(e,t,n){return GO.apply(this,arguments)}function GO(){return GO=mo(po().mark((function e(t,n,r){var i,a,o,u;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,xN(t,lA(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),GO.apply(this,arguments)}var QO=zn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),$O=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this,e,r,i)).username=a,o}return zn(n)}(QO),YO=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"facebook.com",r)}return zn(n)}(QO),XO=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return zn(n)}($O),JO=function(e){qn(n,e);var t=Qn(n);function n(e,r){return Vn(this,n),t.call(this,e,"google.com",r)}return zn(n)}(QO),ZO=function(e){qn(n,e);var t=Qn(n);function n(e,r,i){return Vn(this,n),t.call(this,e,"twitter.com",r,i)}return zn(n)}($O);function eP(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=wN(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new QO(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new YO(a,i);case"github.com":return new XO(a,i);case"google.com":return new JO(a,i);case"twitter.com":return new ZO(a,i,e.screenName||null);case"custom":case"anonymous":return new QO(a,null);default:return new QO(a,r,i)}}(n)}var tP=function(){function e(t,n){Vn(this,e),this.type=t,this.credential=n}return zn(e,[{key:"toJSON",value:function(){return{multiFactorSession:B({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),nP=function(){function e(t,n,r){Vn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return zn(e,[{key:"resolveSignIn",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=nA(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return IO._fromServerResponse(r,e)}));qT(i.mfaPendingCredential,r,"internal-error");var o=tP._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=mo(po().mark((function e(t){var a,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,eO._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return qT(n.user,r,"internal-error"),e.abrupt("return",eO._forOperation(n.user,n.operationType,u));case 17:jT(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function rP(e,t){return rN(e,"POST","/v2/accounts/mfaEnrollment:start",nN(e,t))}function iP(e,t){return rN(e,"POST","/v2/accounts/mfaEnrollment:withdraw",nN(e,t))}var aP=function(){function e(t){var n=this;Vn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return IO._fromServerResponse(t.auth,e)})))}))}return zn(e,[{key:"getSession",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tP,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,xN(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=mo(po().mark((function e(t){var n,r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,xN(this.user,iP(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),oP=new WeakMap;var uP="__sak",sP=function(){function e(t,n){Vn(this,e),this.storageRetriever=t,this.type=n}return zn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(uP,"1"),this.storage.removeItem(uP),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cP=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Lc();return qN(e)||$N(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=JN(),e._shouldAllowMigration=!0,e}return zn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);XN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=mo(po().mark((function e(t,r){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(Wn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=mo(po().mark((function e(t){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(Wn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(Wn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(sP);cP.type="LOCAL";var lP=cP,fP=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return zn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(sP);fP.type="SESSION";var dP=fP;function hP(e){return Promise.all(e.map(function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pP=function(){function e(t){Vn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return zn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=mo(po().mark((function e(t){var n,r,i,a,o,u,s,c;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,hP(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vP(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pP.receivers=[];var mP=function(){function e(t){Vn(this,e),this.target=t,this.handlers=new Set}return zn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=mo(po().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=vP("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yP(){return window}function gP(){return"undefined"!==typeof yP().WorkerGlobalScope&&"function"===typeof yP().importScripts}function bP(){return kP.apply(this,arguments)}function kP(){return(kP=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wP(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xP="firebaseLocalStorageDb",EP="firebaseLocalStorage",CP="fbase_key",IP=function(){function e(t){Vn(this,e),this.request=t}return zn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function _P(e,t){return e.transaction([EP],t?"readwrite":"readonly").objectStore(EP)}function SP(){var e=indexedDB.deleteDatabase(xP);return new IP(e).toPromise()}function TP(){var e=indexedDB.open(xP,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(EP,{keyPath:CP})}catch(r){n(r)}})),e.addEventListener("success",mo(po().mark((function n(){var r;return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(EP)){n.next=12;break}return r.close(),n.next=5,SP();case 5:return n.t0=t,n.next=8,TP();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function NP(e,t,n){return AP.apply(this,arguments)}function AP(){return AP=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_P(t,!0).put((B(i={},CP,n),B(i,"value",r),i)),e.abrupt("return",new IP(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),AP.apply(this,arguments)}function OP(e,t){return PP.apply(this,arguments)}function PP(){return PP=mo(po().mark((function e(t,n){var r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_P(t,!1).get(n),e.next=3,new IP(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),PP.apply(this,arguments)}function RP(e,t){var n=_P(e,!0).delete(t);return new IP(n).toPromise()}var DP=function(){function e(){Vn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return zn(e,[{key:"_openDb",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,TP();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gP()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=mo(po().mark((function e(){var t=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pP._getInstance(gP()?self:null),this.receiver._subscribe("keyChanged",function(){var e=mo(po().mark((function e(n,r){var i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=mo(po().mark((function e(){var t,n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bP();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mP(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wP()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,TP();case 5:return t=e.sent,e.next=8,NP(t,uP,"1");case 8:return e.next=10,RP(t,uP);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=mo(po().mark((function e(t,n){var r=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return NP(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return OP(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=mo(po().mark((function e(t){var n=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return RP(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=mo(po().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=_P(e,!1).getAll();return new IP(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_c(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(mo(po().mark((function t(){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();DP.type="LOCAL";var MP=DP;function LP(e,t){return rN(e,"POST","/v2/accounts/mfaSignIn:start",nN(e,t))}function FP(e){return jP.apply(this,arguments)}function jP(){return jP=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rN(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),jP.apply(this,arguments)}function VP(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=VT("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function UP(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zP=1e12,BP=function(){function e(t){Vn(this,e),this.auth=t,this.counter=zP,this._widgets=new Map}return zn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qP(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||zP;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||zP;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||zP,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qP=function(){function e(t,n,r){var i=this;Vn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;qT(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return zn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var WP=UP("rcb"),KP=new XT(3e4,6e4),HP="https://www.google.com/recaptcha/api.js?",GP=function(){function e(){var t;Vn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=yP().grecaptcha)||void 0===t?void 0:t.render)}return zn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return qT(QP(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(yP().grecaptcha):new Promise((function(r,i){var a=yP().setTimeout((function(){i(VT(e,"network-request-failed"))}),KP.get());yP()[WP]=function(){yP().clearTimeout(a),delete yP()[WP];var o=yP().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(VT(e,"internal-error"))},VP("".concat(HP,"?").concat(Yc({onload:WP,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(VT(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=yP().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function QP(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var $P=function(){function e(){Vn(this,e)}return zn(e,[{key:"load",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new BP(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),YP="recaptcha",XP={theme:"light",type:"image"},JP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},XP),r=arguments.length>2?arguments[2]:void 0;Vn(this,e),this.parameters=n,this.type=YP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nA(r),this.isInvisible="invisible"===this.parameters.size,qT("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;qT(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $P:new GP,this.validateStartingState()}return zn(e,[{key:"verify",value:function(){var e=mo(po().mark((function e(){var t,n,r,i=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){qT(!this.parameters.sitekey,this.auth,"argument-error"),qT(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qT("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=yP()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){qT(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=mo(po().mark((function e(){var t,n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qT($T()&&!gP(),this.auth,"internal-error"),e.next=3,ZP();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,FP(this.auth);case 8:qT(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return qT(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ZP(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var eR=function(){function e(t,n){Vn(this,e),this.verificationId=t,this.onConfirmation=n}return zn(e,[{key:"confirm",value:function(e){var t=UA._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function tR(){return tR=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nA(t),e.next=3,aR(i,n,nl(r));case 3:return a=e.sent,e.abrupt("return",new eR(a,(function(e){return mO(i,e)})));case 5:case"end":return e.stop()}}),e)}))),tR.apply(this,arguments)}function nR(e,t,n){return rR.apply(this,arguments)}function rR(){return(rR=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),e.next=3,lO(!1,i,"phone");case 3:return e.next=5,aR(i.auth,n,nl(r));case 5:return a=e.sent,e.abrupt("return",new eR(a,(function(e){return gO(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iR(){return(iR=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),e.next=3,aR(i.auth,n,nl(r));case 3:return a=e.sent,e.abrupt("return",new eR(a,(function(e){return kO(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aR(e,t,n){return oR.apply(this,arguments)}function oR(){return oR=mo(po().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,qT("string"===typeof a,t,"argument-error"),qT(r.type===YP,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return qT("enroll"===u.type,t,"internal-error"),e.next=13,rP(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return qT("signin"===u.type,t,"internal-error"),qT(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,LP(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,DA(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),oR.apply(this,arguments)}function uR(){return(uR=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sO(nl(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sR=function(){function e(t){Vn(this,e),this.providerId=e.PROVIDER_ID,this.auth=nA(t)}return zn(e,[{key:"verifyPhoneNumber",value:function(e,t){return aR(this.auth,e,nl(t))}}],[{key:"credential",value:function(e,t){return UA._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?UA._fromTokenResponse(n,r):null}}]),e}();function cR(e,t){return t?GT(t):(qT(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sR.PROVIDER_ID="phone",sR.PHONE_SIGN_IN_METHOD="phone";var lR=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return zn(n,[{key:"_getIdTokenResponse",value:function(e){return OA(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return OA(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return OA(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(uA);function fR(e){return pO(e.auth,new lR(e),e.bypassAuthState)}function dR(e){var t=e.auth,n=e.user;return qT(n,t,"internal-error"),dO(n,new lR(e),e.bypassAuthState)}function hR(e){return pR.apply(this,arguments)}function pR(){return pR=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,qT(r=t.user,n,"internal-error"),e.abrupt("return",sO(r,new lR(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),pR.apply(this,arguments)}var vR=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Vn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return zn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=mo(po().mark((function t(n,r){return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=mo(po().mark((function e(t){var n,r,i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return hR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:jT(this.auth,"internal-error")}}},{key:"resolve",value:function(e){KT(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){KT(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),mR=new XT(2e3,1e4);function yR(e,t,n){return gR.apply(this,arguments)}function gR(){return gR=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nA(t),zT(t,n,qA),a=cR(i,r),o=new xR(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),gR.apply(this,arguments)}function bR(){return(bR=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zT((i=nl(t)).auth,n,qA),a=cR(i.auth,r),o=new xR(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kR(e,t,n){return wR.apply(this,arguments)}function wR(){return(wR=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zT((i=nl(t)).auth,n,qA),a=cR(i.auth,r),o=new xR(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xR=function(e){qn(n,e);var t=Qn(n);function n(e,r,i,a,o){var u;return Vn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Hn(u),u}return zn(n,[{key:"executeNotNull",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return qT(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=mo(po().mark((function e(){var t,n=this;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KT(1===this.filter.length,"Popup operations only handle one event"),t=vP(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(VT(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(VT(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(VT(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,mR.get())}()}}]),n}(vR);xR.currentPopupAction=null;var ER=new Map,CR=function(e){qn(n,e);var t=Qn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return zn(n,[{key:"execute",value:function(){var e=mo(po().mark((function e(){var t,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ER.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,IR(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Nf(Wn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ER.set(this.auth._key(),t);case 21:return this.bypassAuthState||ER.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=mo(po().mark((function e(t){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Nf(Wn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Nf(Wn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(vR);function IR(e,t){return _R.apply(this,arguments)}function _R(){return _R=mo(po().mark((function e(t,n){var r,i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=OR(n),i=AR(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),_R.apply(this,arguments)}function SR(e,t){return TR.apply(this,arguments)}function TR(){return TR=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AR(t)._set(OR(n),"true"));case 1:case"end":return e.stop()}}),e)}))),TR.apply(this,arguments)}function NR(e,t){ER.set(e._key(),t)}function AR(e){return GT(e._redirectPersistence)}function OR(e){return VN("pendingRedirect",e.config.apiKey,e.name)}function PR(e,t,n){return function(e,t,n){return RR.apply(this,arguments)}(e,t,n)}function RR(){return RR=mo(po().mark((function e(t,n,r){var i,a;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nA(t),zT(t,n,qA),a=cR(i,r),e.next=5,SR(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function DR(e,t,n){return function(e,t,n){return MR.apply(this,arguments)}(e,t,n)}function MR(){return(MR=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zT((i=nl(t)).auth,n,qA),a=cR(i.auth,r),e.next=5,SR(a,i.auth);case 5:return e.next=7,BR(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LR(e,t,n){return function(e,t,n){return FR.apply(this,arguments)}(e,t,n)}function FR(){return(FR=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zT((i=nl(t)).auth,n,qA),a=cR(i.auth,r),e.next=5,lO(!1,i,n.providerId);case 5:return e.next=7,SR(a,i.auth);case 7:return e.next=9,BR(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jR(e,t){return VR.apply(this,arguments)}function VR(){return VR=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nA(t)._initializationPromise;case 2:return e.abrupt("return",UR(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),VR.apply(this,arguments)}function UR(e,t){return zR.apply(this,arguments)}function zR(){return zR=mo(po().mark((function e(t,n){var r,i,a,o,u,s=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=nA(t),a=cR(i,n),o=new CR(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),zR.apply(this,arguments)}function BR(e){return qR.apply(this,arguments)}function qR(){return(qR=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vP("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var WR=function(){function e(t){Vn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return zn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HR(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!HR(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(VT(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KR(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(KR(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function KR(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function HR(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function GR(e){return QR.apply(this,arguments)}function QR(){return QR=mo(po().mark((function e(t){var n,r=arguments;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",rN(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),QR.apply(this,arguments)}var $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;function XR(){return XR=mo(po().mark((function e(t){var n,r,i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,GR(t);case 4:n=e.sent,r=n.authorizedDomains,i=_c(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!JR(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:jT(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),XR.apply(this,arguments)}function JR(e){var t=QT(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!YR.test(r))return!1;if($R.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ZR=new XT(3e4,6e4);function eD(){var e=yP().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ot(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var tD=null;function nD(e){return tD=tD||function(e){return new Promise((function(t,n){var r,i,a;function o(){eD(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){eD(),n(VT(e,"network-request-failed"))},timeout:ZR.get()})}if(null===(i=null===(r=yP().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yP().gapi)||void 0===a?void 0:a.load)){var u=UP("iframefcb");return yP()[u]=function(){gapi.load?o():n(VT(e,"network-request-failed"))},VP("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw tD=null,e}))}(e),tD}var rD=new XT(5e3,15e3),iD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(e){var t=e.config;qT(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?JT(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yl},i=aD.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Yc(r).slice(1))}function uD(e){return sD.apply(this,arguments)}function sD(){return sD=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nD(t);case 2:return n=e.sent,qT(r=yP().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:oD(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iD,dontclear:!0},(function(e){return new Promise(function(){var n=mo(po().mark((function n(r,i){var a,o,u;return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){yP().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=VT(t,"network-request-failed"),o=yP().setTimeout((function(){i(a)}),rD.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),sD.apply(this,arguments)}var cD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lD="_blank",fD="http://localhost",dD=function(){function e(t){Vn(this,e),this.window=t,this.associatedEvent=null}return zn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},cD),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Lc().toLowerCase();n&&(u=WN(l)?lD:n),BN(l)&&(t=t||fD,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(YN(l)&&"_self"!==u)return pD(t||"",u),new dD(null);var d=window.open(t||"",u,f);qT(d,e,"popup-blocked");try{d.focus()}catch(h){}return new dD(d)}function pD(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var vD="__/auth/handler",mD="emulator/auth/handler";function yD(e,t,n,r,i,a){qT(e.config.authDomain,e,"auth-domain-config-required"),qT(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yl,eventId:i};if(t instanceof qA){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],d=l[1];o[f]=d}}if(t instanceof WA){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vD);return JT(t,mD)}(e),"?").concat(Yc(p).slice(1))}var gD="webStorageSupport",bD=function(){function e(){Vn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dP,this._completeRedirectFn=UR,this._overrideRedirectResult=NR}return zn(e,[{key:"_openPopup",value:function(){var e=mo(po().mark((function e(t,n,r,i){var a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KT(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=yD(t,n,r,QT(),i),e.abrupt("return",hD(t,o,vP()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=mo(po().mark((function e(t,n,r,i){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=yD(t,n,r,QT(),i),yP().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(KT(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uD(t);case 2:return n=e.sent,r=new WR(t),n.register("authEvent",(function(e){return qT(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(gD,{type:gD},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),jT(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return XR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return JN()||qN()||$N()}}]),e}(),kD=bD,wD=function(){function e(t){Vn(this,e),this.factorId=t}return zn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return WT("unexpected MultiFactorSessionType")}}}]),e}(),xD=function(e){qn(n,e);var t=Qn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone")).credential=e,r}return zn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return rN(e,"POST","/v2/accounts/mfaEnrollment:finalize",nN(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return rN(e,"POST","/v2/accounts/mfaSignIn:finalize",nN(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(wD),ED=function(){function e(){Vn(this,e)}return zn(e,null,[{key:"assertion",value:function(e){return xD._fromCredential(e)}}]),e}();ED.FACTOR_ID="phone";var CD,ID="@firebase/auth",_D="0.20.6",SD=function(){function e(t){Vn(this,e),this.auth=t,this.internalListeners=new Map}return zn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){qT(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function TD(){return window}CD="Browser",ql(new rl("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){qT(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),qT(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:CD,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZN(CD)},i=new tA(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(GT);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ql(new rl("auth-internal",(function(e){return function(e){return new SD(e)}(nA(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),nf(ID,_D,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(CD)),nf(ID,_D,"esm2017");function ND(e,t,n){return AD.apply(this,arguments)}function AD(){return AD=mo(po().mark((function e(t,n,r){var i,a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=TD(),o=a.BuildInfo,KT(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,LD(n.sessionId);case 4:return u=e.sent,s={},$N()?s.ibi=o.packageName:HN()?s.apn=o.packageName:jT(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",yD(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),AD.apply(this,arguments)}function OD(){return OD=mo(po().mark((function e(t){var n,r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=TD(),r=n.BuildInfo,i={},$N()?i.iosBundleId=r.packageName:HN()?i.androidPackageName=r.packageName:jT(t,"operation-not-supported-in-this-environment"),e.next=5,GR(t,i);case 5:case"end":return e.stop()}}),e)}))),OD.apply(this,arguments)}function PD(e){var t=TD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function RD(e,t,n){return DD.apply(this,arguments)}function DD(){return DD=mo(po().mark((function e(t,n,r){var i,a,o;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(VT(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),HN()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),DD.apply(this,arguments)}function MD(e){var t,n,r,i,a,o,u,s,c,l,f=TD();qT("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qT("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qT("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qT("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qT("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function LD(e){return FD.apply(this,arguments)}function FD(){return(FD=mo(po().mark((function e(t){var n,r,i;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jD(e){if(KT(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var VD=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return zn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Nf(Wn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(WR);function UD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:KD(),postBody:null,tenantId:e.tenantId,error:VT(e,"no-auth-event")}}function zD(e,t){return HD()._set(GD(e),t)}function BD(e){return qD.apply(this,arguments)}function qD(){return qD=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HD()._get(GD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,HD()._remove(GD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),qD.apply(this,arguments)}function WD(e,t){var n,r,i=function(e){var t=QD(e),n=t.link?decodeURIComponent(t.link):void 0,r=QD(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return QD(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=QD(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?VT(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function KD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function HD(){return GT(lP)}function GD(e){return VN("authEvent",e.config.apiKey,e.name)}function QD(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=gT(e.split("?"));t[0];return Xc(t.slice(1).join("?"))}var $D=function(){function e(){Vn(this,e),this._redirectPersistence=dP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=UR,this._overrideRedirectResult=NR}return zn(e,[{key:"_initialize",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new VD(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){jT(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=mo(po().mark((function e(t,n,r,i){var a,o,u,s;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ER.clear(),e.next=10,this._originValidation(t);case 10:return o=UD(t,r,i),e.next=13,zD(t,o);case 13:return e.next=15,ND(t,o,n);case 15:return u=e.sent,e.next=18,PD(u);case 18:return s=e.sent,e.abrupt("return",RD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return OD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=TD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(mo(po().mark((function n(){return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,BD(e);case 2:t.onEvent(XD());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=mo(po().mark((function n(r){var i,a;return po().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,BD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=WD(i,r.url)),t.onEvent(a||XD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");TD().handleOpenURL=function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),YD=$D;function XD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:VT("no-auth-event")}}function JD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ZD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return!("file:"!==JD()&&"ionic:"!==JD()&&"capacitor:"!==JD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function eM(){return zc()&&11===(null===document||void 0===document?void 0:document.documentMode)}function tM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return/Edge\/\d+/.test(e)}function nM(){try{var e=self.localStorage,t=vP();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc();return eM()||tM(e)}()||Bc()}catch(n){return rM()&&Bc()}return!1}function rM(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function iM(){return("http:"===JD()||"https:"===JD()||Vc()||ZD())&&!(Uc()||jc())&&nM()&&!rM()}function aM(){return ZD()&&"undefined"!==typeof document}function oM(){return uM.apply(this,arguments)}function uM(){return(uM=mo(po().mark((function e(){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aM()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sM={LOCAL:"local",NONE:"none",SESSION:"session"},cM=qT,lM="persistence";function fM(e,t){cM(Object.values(sM).includes(t),e,"invalid-persistence-type"),Uc()?cM(t!==sM.SESSION,e,"unsupported-persistence-type"):jc()?cM(t===sM.NONE,e,"unsupported-persistence-type"):rM()?cM(t===sM.NONE||t===sM.LOCAL&&Bc(),e,"unsupported-persistence-type"):cM(t===sM.NONE||nM(),e,"unsupported-persistence-type")}function dM(e){return hM.apply(this,arguments)}function hM(){return hM=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=pM(),r=VN(lM,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),hM.apply(this,arguments)}function pM(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var vM=qT,mM=function(){function e(){Vn(this,e),this.browserResolver=GT(kD),this.cordovaResolver=GT(YD),this.underlyingResolver=null,this._redirectPersistence=dP,this._completeRedirectFn=UR,this._overrideRedirectResult=NR}return zn(e,[{key:"_initialize",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=mo(po().mark((function e(t,n,r,i){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=mo(po().mark((function e(t,n,r,i){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return aM()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return vM(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oM();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yM(e){return e.unwrap()}function gM(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new EM(e,function(e,t){var n,r=nl(e),i=t;return qT(t.customData.operationType,r,"argument-error"),qT(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),nP._fromError(r,i)}(e,t));else if(i){var a=bM(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function bM(e){var t=(e instanceof qc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof qc)&&"temporaryProof"in t&&"phoneNumber"in t)return sR.credentialFromResult(e);var n,r=t.providerId;if(!r||r===CT)return null;switch(r){case ET:n=GA;break;case wT:n=HA;break;case xT:n=QA;break;case IT:n=XA;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?$A._create(r,u):RA._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new KA(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof qc?n.credentialFromError(e):n.credentialFromResult(e)}function kM(e,t){return t.catch((function(t){throw t instanceof qc&&gM(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,bM(t)),additionalUserInfo:eP(e),user:CM.getOrCreate(r)}}))}function wM(e,t){return xM.apply(this,arguments)}function xM(){return xM=mo(po().mark((function e(t,n){var r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return kM(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),xM.apply(this,arguments)}var EM=function(){function e(t,n){Vn(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return zn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return kM(yM(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),CM=function(){function e(t){Vn(this,e),this._delegate=t,this.multiFactor=function(e){var t=nl(e);return oP.has(t)||oP.set(t,aP._fromUser(t)),oP.get(t)}(t)}return zn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kM(this.auth,gO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wM(this.auth,nR(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kM(this.auth,kR(this._delegate,t,mM)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dM(nA(this.auth));case 2:return e.abrupt("return",LR(this._delegate,t,mM));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kM(this.auth,kO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return wM(this.auth,function(e,t,n){return iR.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return kM(this.auth,function(e,t,n){return bR.apply(this,arguments)}(this._delegate,e,mM))}},{key:"reauthenticateWithRedirect",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dM(nA(this.auth));case 2:return e.abrupt("return",DR(this._delegate,t,mM));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return zO.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oO(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return HO(nl(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return HO(nl(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return uR.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return KO.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return BO.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();CM.USER_MAP=new WeakMap;var IM=qT,_M=function(){function e(t,n){if(Vn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;IM(r,"invalid-api-key",{appName:t.name}),IM(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mM:void 0;this._delegate=n.initialize({options:{persistence:TM(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(RT),this.linkUnderlyingAuth()}return zn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?CM.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){iA(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return AO.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return OO(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return NO.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=mo(po().mark((function e(t,n){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kM(this._delegate,DO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return UO.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=zA.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=mo(po().mark((function e(){var t;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IM(iM(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jR(this._delegate,mM);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",kM(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){nA(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=SM(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=SM(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return LO.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return TO.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=mo(po().mark((function e(t){var n,r;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fM(this._delegate,t),e.t0=t,e.next=e.t0===sM.SESSION?4:e.t0===sM.LOCAL?6:e.t0===sM.NONE?11:13;break;case 4:return n=dP,e.abrupt("break",14);case 6:return e.next=8,GT(MP)._isAvailable();case 8:return r=e.sent,n=r?MP:lP,e.abrupt("break",14);case 11:return n=jN,e.abrupt("break",14);case 13:return e.abrupt("return",jT("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return kM(this._delegate,function(e){return nO.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return kM(this._delegate,mO(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return kM(this._delegate,function(e,t){return CO.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return kM(this._delegate,function(e,t,n){return mO(nl(e),BA.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return kM(this._delegate,function(e,t,n){return FO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return wM(this._delegate,function(e,t,n){return tR.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IM(iM(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",kM(this._delegate,yR(this._delegate,t,mM)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IM(iM(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dM(this._delegate);case 3:return e.abrupt("return",PR(this._delegate,t,mM));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return RO.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function SM(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&CM.getOrCreate(e))},error:t,complete:n}}function TM(e,t){var n=function(e,t){var n=pM();if(!n)return[];var r=VN(lM,e,t);switch(n.getItem(r)){case sM.NONE:return[jN];case sM.LOCAL:return[MP,dP];case sM.SESSION:return[dP];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(MP)||n.push(MP),"undefined"!==typeof window)for(var r=0,i=[lP,dP];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(jN)||n.push(jN),n}_M.Persistence=sM;var NM=function(){function e(){Vn(this,e),this.providerId="phone",this._delegate=new sR(yM(Sf.auth()))}return zn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return sR.credential(e,t)}}]),e}();NM.PHONE_SIGN_IN_METHOD=sR.PHONE_SIGN_IN_METHOD,NM.PROVIDER_ID=sR.PROVIDER_ID;var AM=qT,OM=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sf.app();Vn(this,e),AM(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new JP(t,n,i.auth()),this.type=this._delegate.type}return zn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new rl("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _M(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_T,PASSWORD_RESET:ST,RECOVER_EMAIL:TT,REVERT_SECOND_FACTOR_ADDITION:NT,VERIFY_AND_CHANGE_EMAIL:AT,VERIFY_EMAIL:OT}},EmailAuthProvider:BA,FacebookAuthProvider:HA,GithubAuthProvider:QA,GoogleAuthProvider:GA,OAuthProvider:KA,SAMLAuthProvider:YA,PhoneAuthProvider:NM,PhoneMultiFactorGenerator:ED,RecaptchaVerifier:OM,TwitterAuthProvider:XA,Auth:_M,AuthCredential:uA,Error:qc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.19")}(Sf);var PM=function(e){var t=e.user,n=e.auth;t&&(window.location.href="/#/home");return(0,wc.jsxs)(ss,{title:"Login",className:"p-3 mt-5",children:[(0,wc.jsx)("div",{className:"pt-3",children:(0,wc.jsx)(kc,{onClick:function(e){var t=new Sf.auth.GoogleAuthProvider;n.signInWithPopup(t)},children:"Sign in with Google"})}),(0,wc.jsx)("div",{className:"pt-3",children:(0,wc.jsx)(kc,{onClick:function(e){var t=new Sf.auth.FacebookAuthProvider;n.signInWithPopup(t)},children:"Sign in with Facebook"})})]})};function RM(){return(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("div",{children:"Privacy Policy"}),(0,wc.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function DM(){return(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("div",{children:"Terms"}),(0,wc.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function MM(){return(0,wc.jsx)("div",{children:"ResetPassword"})}function LM(){return(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("div",{className:"text-xl pb-0 pt-1",children:"Wombol Alpha 0.1.021 is where you can learn for free."}),(0,wc.jsx)("div",{className:"h-full",children:(0,wc.jsx)("div",{className:"flyingObject"})})]})}var FM={adjustX:1,adjustY:1},jM=[0,0],VM={left:{points:["cr","cl"],overflow:FM,offset:[-4,0],targetOffset:jM},right:{points:["cl","cr"],overflow:FM,offset:[4,0],targetOffset:jM},top:{points:["bc","tc"],overflow:FM,offset:[0,-4],targetOffset:jM},bottom:{points:["tc","bc"],overflow:FM,offset:[0,4],targetOffset:jM},topLeft:{points:["bl","tl"],overflow:FM,offset:[0,-4],targetOffset:jM},leftTop:{points:["tr","tl"],overflow:FM,offset:[-4,0],targetOffset:jM},topRight:{points:["br","tr"],overflow:FM,offset:[0,-4],targetOffset:jM},rightTop:{points:["tl","tr"],overflow:FM,offset:[4,0],targetOffset:jM},bottomRight:{points:["tr","br"],overflow:FM,offset:[0,4],targetOffset:jM},rightBottom:{points:["bl","br"],overflow:FM,offset:[4,0],targetOffset:jM},bottomLeft:{points:["tl","bl"],overflow:FM,offset:[0,4],targetOffset:jM},leftBottom:{points:["br","bl"],overflow:FM,offset:[-4,0],targetOffset:jM}};function UM(e){var t=e.showArrow,n=e.arrowContent,i=e.children,a=e.prefixCls,o=e.id,u=e.overlayInnerStyle,s=e.className,c=e.style;return r.createElement("div",{className:K()("".concat(a,"-content"),s),style:c},!1!==t&&r.createElement("div",{className:"".concat(a,"-arrow"),key:"arrow"},n),r.createElement("div",{className:"".concat(a,"-inner"),id:o,role:"tooltip",style:u},"function"===typeof i?i():i))}var zM=function(e,t){var n=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,u=void 0===o?0:o,s=e.mouseLeaveDelay,c=void 0===s?.1:s,f=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,p=e.children,v=e.onVisibleChange,m=e.afterVisibleChange,y=e.transitionName,g=e.animation,b=e.motion,k=e.placement,w=void 0===k?"right":k,x=e.align,E=void 0===x?{}:x,C=e.destroyTooltipOnHide,I=void 0!==C&&C,_=e.defaultVisible,S=e.getTooltipContainer,T=e.overlayInnerStyle,N=e.arrowContent,A=e.overlay,O=e.id,P=e.showArrow,R=Ce(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),D=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return D.current}));var M=pe({},R);"visible"in e&&(M.popupVisible=e.visible);var L=!1,F=!1;if("boolean"===typeof I)L=I;else if(I&&"object"===q(I)){var j=I.keepParent;L=!0===j,F=!1===j}return r.createElement(Ao,l({popupClassName:n,prefixCls:h,popup:function(){return r.createElement(UM,{showArrow:P,arrowContent:N,key:"content",prefixCls:h,id:O,overlayInnerStyle:T},A)},action:a,builtinPlacements:VM,popupPlacement:w,ref:D,popupAlign:E,getPopupContainer:S,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:y,popupAnimation:g,popupMotion:b,defaultPopupVisible:_,destroyPopupOnHide:L,autoDestroy:F,mouseLeaveDelay:c,popupStyle:f,mouseEnterDelay:u},M),p)},BM=(0,r.forwardRef)(zM),qM=(ie("success","processing","error","default","warning"),ie("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),WM={adjustX:1,adjustY:1},KM={adjustX:0,adjustY:0},HM=[0,0];function GM(e){return"boolean"===typeof e?e?WM:KM:l(l({},KM),e)}var QM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$M=new RegExp("^(".concat(qM.join("|"),")(-inverse)?$"));function YM(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=l({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,u=l(l({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Qs(e,{style:l(l({},o),{pointerEvents:"none"}),className:null});return r.createElement("span",{style:u,className:K()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var XM=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPopupContainer,o=i.getPrefixCls,u=i.direction;var s=c(Zt(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),f=s[0],d=s[1],h=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},p=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,u=e.autoAdjustOverflow,s=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=s?l(l({},c[e]),{overflow:GM(u),targetOffset:HM}):l(l({},VM[e]),{overflow:GM(u)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},v=e.getPopupContainer,m=QM(e,["getPopupContainer"]),y=e.prefixCls,g=e.openClassName,b=e.getTooltipContainer,k=e.overlayClassName,w=e.color,x=e.overlayInnerStyle,E=e.children,C=o("tooltip",y),I=o(),_=f;"open"in e||"visible"in e||!h()||(_=!1);var S,T=YM(Hs(E)&&!function(e){return e&&e.type===r.Fragment}(E)?E:r.createElement("span",null,E),C),N=T.props,A=K()(N.className,B({},g||"".concat(C,"-open"),!0)),O=K()(k,(B(n={},"".concat(C,"-rtl"),"rtl"===u),B(n,"".concat(C,"-").concat(w),w&&$M.test(w)),n)),P=x;return w&&!$M.test(w)&&(P=l(l({},x),{background:w}),S={"--antd-arrow-background-color":w}),r.createElement(BM,l({},m,{prefixCls:C,overlayClassName:O,getTooltipContainer:v||b||a,ref:t,builtinPlacements:p(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:_,onVisibleChange:function(t){var n,r;d(!h()&&t),h()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=p(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:P,arrowContent:r.createElement("span",{className:"".concat(C,"-arrow-content"),style:S}),motion:{motionName:Gu(I,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),_?Qs(T,{className:A}):T)}));XM.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var JM=XM,ZM=function(e){return e?"function"===typeof e?e():e:null},eL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tL=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,a=e.content,o=e._overlay,u=eL(e,["prefixCls","title","content","_overlay"]),s=r.useContext(H).getPrefixCls,c=s("popover",n),f=s();return r.createElement(JM,l({},u,{prefixCls:c,ref:t,overlay:o||function(e){if(i||a)return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(e,"-title")},ZM(i)),r.createElement("div",{className:"".concat(e,"-inner-content")},ZM(a)))}(c),transitionName:Gu(f,"zoom-big",u.transitionName)}))}));tL.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var nL=tL,rL="RC_FORM_INTERNAL_HOOKS",iL=function(){Ze(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},aL=r.createContext({getFieldValue:iL,getFieldsValue:iL,getFieldError:iL,getFieldWarning:iL,getFieldsError:iL,isFieldsTouched:iL,isFieldTouched:iL,isFieldValidating:iL,isFieldsValidating:iL,resetFields:iL,setFields:iL,setFieldValue:iL,setFieldsValue:iL,validateFields:iL,submit:iL,getInternalHooks:function(){return iL(),{dispatch:iL,initEntityValue:iL,registerField:iL,useSubscribe:iL,setInitialValues:iL,destroyForm:iL,setCallbacks:iL,registerWatch:iL,getFields:iL,setValidateMessages:iL,setPreserve:iL,getInitialValue:iL}}});function oL(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uL.apply(this,arguments)}function sL(e){return sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sL(e)}function cL(e,t){return cL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cL(e,t)}function lL(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fL(e,t,n){return fL=lL()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&cL(i,n.prototype),i},fL.apply(null,arguments)}function dL(e){var t="function"===typeof Map?new Map:void 0;return dL=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fL(e,arguments,sL(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cL(n,e)},dL(e)}var hL=/%[sdj%]/g;function pL(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function vL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(hL,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function mL(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function yL(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var gL=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,cL(t,n),r}(dL(Error));function bL(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);yL(o,n,(function(e){return r(e),e.length?a(new gL(e,pL(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new gL(l,pL(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?yL(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function kL(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function wL(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=uL({},e[n],r):e[n]=r}return e}var xL,EL=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!mL(t,a||e.type)||r.push(vL(i.messages.required,e.fullField))},CL=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,IL=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,_L={integer:function(e){return _L.number(e)&&parseInt(e,10)===e},float:function(e){return _L.number(e)&&!_L.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!_L.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(CL)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(xL)return xL;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),u=new RegExp("^"+i+"$"),s=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};s.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},s.v6=function(e){return e&&e.exact?u:new RegExp(""+t(e)+i+t(e),"g")};var c=s.v4().source,l=s.v6().source;return xL=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(IL)}},SL={required:EL,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(vL(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)EL(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?_L[a](t)||r.push(vL(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(vL(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(l?c="number":f?c="string":d&&(c="array"),!c)return!1;d&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(vL(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(vL(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(vL(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(vL(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(vL(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(vL(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(vL(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},TL=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t,a)&&!e.required)return n();SL.required(e,t,r,o,i,a),mL(t,a)||SL.type(e,t,r,o,i)}n(o)},NL={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t,"string")&&!e.required)return n();SL.required(e,t,r,a,i,"string"),mL(t,"string")||(SL.type(e,t,r,a,i),SL.range(e,t,r,a,i),SL.pattern(e,t,r,a,i),!0===e.whitespace&&SL.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&SL.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&(SL.type(e,t,r,a,i),SL.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&SL.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),mL(t)||SL.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&(SL.type(e,t,r,a,i),SL.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&(SL.type(e,t,r,a,i),SL.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();SL.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(SL.type(e,t,r,a,i),SL.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&SL.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i),void 0!==t&&SL.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t,"string")&&!e.required)return n();SL.required(e,t,r,a,i),mL(t,"string")||SL.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t,"date")&&!e.required)return n();var o;if(SL.required(e,t,r,a,i),!mL(t,"date"))o=t instanceof Date?t:new Date(t),SL.type(e,o,r,a,i),o&&SL.range(e,o.getTime(),r,a,i)}n(a)},url:TL,hex:TL,email:TL,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;SL.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mL(t)&&!e.required)return n();SL.required(e,t,r,a,i)}n(a)}};function AL(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var OL=AL(),PL=function(){function e(e){this.rules=null,this._messages=OL,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=wL(AL(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===OL&&(s=AL()),wL(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=uL({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:uL({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return bL(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return uL({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(kL(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(kL(i,a)):o.error&&(f=[o.error(i,vL(o.messages.required,i.field))]),n(f);var d={};i.defaultField&&Object.keys(t.value).map((function(e){d[e]=i.defaultField})),d=uL({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(s.bind(null,e))}));var p=new e(h);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(f){null==console.error||console.error(f),o.suppressValidatorError||setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=pL(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!NL.hasOwnProperty(e.type))throw new Error(vL("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?NL.required:NL[this.getType(e)]||void 0},e}();PL.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");NL[e]=t},PL.warning=function(){},PL.messages=OL,PL.validators=NL;var RL="'${name}' is not a valid ${type}",DL={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:RL,method:RL,array:RL,object:RL,number:RL,date:RL,boolean:RL,integer:RL,float:RL,regexp:RL,email:RL,url:RL,hex:RL},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function ML(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function LL(e,t,n,r){if(!t.length)return n;var i,a=gT(t),o=a[0],u=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?Ot(e):pe({},e):[],r&&void 0===n&&1===u.length?delete i[o][u[0]]:i[o]=LL(i[o],u,n,r),i}function FL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!ML(e,t.slice(0,-1))?e:LL(e,t,n,r)}function jL(e){return Array.isArray(e)?function(e){return e.map((function(e){return jL(e)}))}(e):"object"===q(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=jL(e[n]);return t}return e}(e):e}var VL=jL;function UL(e){return oL(e)}function zL(e,t){return ML(e,t)}function BL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=FL(e,t,n,r);return i}function qL(e,t){var n={};return t.forEach((function(t){var r=zL(e,t);n=BL(n,t,r)})),n}function WL(e,t){return e&&e.some((function(e){return QL(e,t)}))}function KL(e){return"object"===q(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function HL(e,t){var n=Array.isArray(e)?Ot(e):pe({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=KL(r)&&KL(i);n[e]=a?HL(r,i||{}):VL(i)})),n):n}function GL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return HL(e,t)}),e)}function QL(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function $L(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===q(t.target)&&e in t.target?t.target[e]:t}function YL(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Ot(e.slice(0,n)),[i],Ot(e.slice(n,t)),Ot(e.slice(t+1,r))):a<0?[].concat(Ot(e.slice(0,t)),Ot(e.slice(t+1,n+1)),[i],Ot(e.slice(n+1,r))):e}var XL=PL;function JL(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var ZL="CODE_LOGIC_ERROR";function eF(e,t,n,r,i){return tF.apply(this,arguments)}function tF(){return tF=mo(po().mark((function e(t,n,i,a,o){var u,s,c,l,f,d,h,p,v;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=pe({},i)).ruleIndex,u.validator&&(s=u.validator,u.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(ZL)}}),c=null,u&&"array"===u.type&&u.defaultField&&(c=u.defaultField,delete u.defaultField),l=new XL(B({},t,[u])),f=GL({},DL,a.validateMessages),l.messages(f),d=[],e.prev=9,e.next=12,Promise.resolve(l.validate(B({},t,n),pe({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(d=e.t0.errors.map((function(e,t){var n=e.message,i=n===ZL?f.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(d.length||!c){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return eF("".concat(t,".").concat(n),e,c,a,o)})));case 20:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat(Ot(e),Ot(t))}),[]));case 22:return p=pe(pe({},i),{},{name:t,enum:(i.enum||[]).join(", ")},o),v=d.map((function(e){return"string"===typeof e?JL(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),tF.apply(this,arguments)}function nF(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=pe(pe({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Ze(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Ze(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=mo(po().mark((function e(n,i){var o,c,l;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,eF(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return eF(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return iF.apply(this,arguments)}(c):function(e){return rF.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function rF(){return(rF=mo(po().mark((function e(t){return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Ot(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iF(){return(iF=mo(po().mark((function e(t){var n;return po().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aF=["name"],oF=[];function uF(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var sF=function(e){qn(n,e);var t=Qn(n);function n(e){var i;(Vn(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=oF,i.warnings=oF,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,UL(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Ot(void 0===n?[]:n),Ot(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(pe(pe({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),d=i.getValue(c),h=t&&WL(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=oF,i.warnings=oF,i.triggerMetaEvent()),n.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=oF,i.warnings=oF,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||oF),"warnings"in p&&(i.warnings=p.warnings||oF),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&uF(a,e,c,f,d,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(UL).some((function(e){return WL(n.relatedFields,e)})))return void i.reRender();break;default:if(h||(!u.length||l.length||a)&&uF(a,e,c,f,d,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,s=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||oL(t).includes(c)})));var f=nF(t,n,l,e,u,s);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oF;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?oF:r;t?a.push.apply(a,Ot(i)):n.push.apply(n,Ot(i))})),i.errors=n,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=oF,i.warnings=oF,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(rL).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return pe(pe({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=pr(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return zL(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),d=c.getInternalHooks,h=c.getFieldsValue,p=d(rL),v=p.dispatch,m=i.getValue(),y=s||function(e){return B({},u,e)},g=e[n],b=pe(pe({},e),y(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):$L.apply(void 0,[u].concat(n)),o&&(e=o(e,m,h(!0))),v({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var k=oL(l||[]);return k.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(rL).initEntityValue)(Hn(i));return i}return zn(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(rL).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):(Ze(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);sF.contextType=aL,sF.defaultProps={trigger:"onChange",valuePropName:"value"};var cF=function(e){var t=e.name,n=Ce(e,aF),i=r.useContext(aL),a=void 0!==t?UL(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),r.createElement(sF,l({key:o,name:a},n,{fieldContext:i}))},lF=r.createContext(null),fF=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=r.useContext(aL),s=r.useRef({keys:[],id:0}).current,c=r.useMemo((function(){var e=UL(u.prefixName)||[];return[].concat(Ot(e),Ot(UL(t)))}),[u.prefixName,t]),l=r.useMemo((function(){return pe(pe({},u),{},{prefixName:c})}),[u,c]),f=r.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return Ze(!1,"Form.List only accepts function as children."),null;return r.createElement(lF.Provider,{value:f},r.createElement(aL.Provider,{value:l},r.createElement(cF,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,l=function(){return o(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat(Ot(s.keys.slice(0,t)),[s.id],Ot(s.keys.slice(t))),a([].concat(Ot(n.slice(0,t)),[e],Ot(n.slice(t))))):(s.keys=[].concat(Ot(s.keys),[s.id]),a([].concat(Ot(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=YL(s.keys,e,t),a(YL(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),i(d.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var dF="__@field_split__";function hF(e){return e.map((function(e){return"".concat(q(e),":").concat(e)})).join(dF)}var pF=function(){function e(){Vn(this,e),this.kvs=new Map}return zn(e,[{key:"set",value:function(e,t){this.kvs.set(hF(e),t)}},{key:"get",value:function(e){return this.kvs.get(hF(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(hF(e))}},{key:"map",value:function(e){return Ot(this.kvs.entries()).map((function(t){var n=c(t,2),r=n[0],i=n[1],a=r.split(dF);return e({key:a.map((function(e){var t=c(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),vF=pF,mF=["name","errors"],yF=zn((function e(t){var n=this;Vn(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===rL?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ze(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=GL({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=BL(i,n,zL(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new vF;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=zL(n.initialValues,e);return e.length?VL(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new vF;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=UL(e);return t.get(n)||{INVALIDATE_NAME_PATH:UL(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),qL(n.store,i.map(UL))},this.getFieldValue=function(e){n.warningUnhooked();var t=UL(e);return zL(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:UL(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=UL(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=UL(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(UL),u=!1):(i=null,u=a):(i=a.map(UL),u=o);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?s.every(c):s.some(c);var l=new vF;i.forEach((function(e){l.set(e,[])})),s.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(Ot(t),[e])}))}))}));var f=function(e){return e.some(c)},d=l.map((function(e){return e.value}));return u?d.every(f):d.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(UL);return t.some((function(e){var t=e.getNamePath();return WL(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new vF,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Ze(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)Ze(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(BL(n.store,i,Ot(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Ot(Ot(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(GL({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(UL);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(BL(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,Ce(e,mF)),o=UL(i);r.push(o),"value"in a&&n.updateStore(BL(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=pe(pe({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===zL(n.store,r)&&n.updateStore(BL(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!QL(e.getNamePath(),t)}))){var u=n.store;n.updateStore(BL(u,t,o,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=pe(pe({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Ot(r))}),r},this.updateValue=function(e,t){var r=UL(e),i=n.store;n.updateStore(BL(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(qL(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Ot(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=GL(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new vF;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=UL(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new vF;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return WL(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(UL):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var s=o.getNamePath();if(!r||WL(i,s)){var c=o.validateRules(pe({validateMessages:pe(pe({},DL),n.validateMessages)},t));a.push(c.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,Ot(i)):n.push.apply(n,Ot(i))})),n.length?Promise.reject({name:s,errors:n,warnings:r}):{name:s,errors:n,warnings:r}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var gF=function(e){var t=r.useRef(),n=c(r.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var i=new yF((function(){n({})}));t.current=i.getForm()}return[t.current]},bF=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),kF=bF,wF=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],xF=function(e,t){var n=e.name,i=e.initialValues,a=e.fields,o=e.form,u=e.preserve,s=e.children,f=e.component,d=void 0===f?"form":f,h=e.validateMessages,p=e.validateTrigger,v=void 0===p?"onChange":p,m=e.onValuesChange,y=e.onFieldsChange,g=e.onFinish,b=e.onFinishFailed,k=Ce(e,wF),w=r.useContext(kF),x=c(gF(o),1)[0],E=x.getInternalHooks(rL),C=E.useSubscribe,I=E.setInitialValues,_=E.setCallbacks,S=E.setValidateMessages,T=E.setPreserve,N=E.destroyForm;r.useImperativeHandle(t,(function(){return x})),r.useEffect((function(){return w.registerForm(n,x),function(){w.unregisterForm(n)}}),[w,x,n]),S(pe(pe({},w.validateMessages),h)),_({onValuesChange:m,onFieldsChange:function(e){if(w.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];y.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:b}),T(u);var A,O=r.useRef(null);I(i,!O.current),O.current||(O.current=!0),r.useEffect((function(){return N}),[]);var P="function"===typeof s;P?A=s(x.getFieldsValue(!0),x):A=s;C(!P);var R=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==q(e)||"object"!==q(t))return!1;var n=Object.keys(e),r=Object.keys(t);return Ot(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(R.current||[],a||[])||x.setFields(a||[]),R.current=a}),[a,x]);var D=r.useMemo((function(){return pe(pe({},x),{},{validateTrigger:v})}),[x,v]),M=r.createElement(aL.Provider,{value:D},A);return!1===d?M:r.createElement(d,l({},k,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x.submit()},onReset:function(e){var t;e.preventDefault(),x.resetFields(),null===(t=k.onReset)||void 0===t||t.call(k,e)}}),M)};function EF(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var CF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),i=c(n,2),a=i[0],o=i[1],u=(0,r.useMemo)((function(){return EF(a)}),[a]),s=(0,r.useRef)(u);s.current=u;var l=(0,r.useContext)(aL),f=t||l,d=f&&f._init,h=UL(e),p=(0,r.useRef)(h);return p.current=h,(0,r.useEffect)((function(){if(d){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(rL).registerWatch)((function(e){var t=zL(e,p.current),n=EF(t);s.current!==n&&(s.current=n,o(t))})),n=zL(e(),p.current);return o(n),t}}),[]),a},IF=r.forwardRef(xF);IF.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,o=r.useContext(bF),u=r.useRef({});return r.createElement(bF.Provider,{value:pe(pe({},o),{},{validateMessages:pe(pe({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=pe(pe({},u.current),{},B({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=pe({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},IF.Field=cF,IF.List=fF,IF.useForm=gF,IF.useWatch=CF;var _F=r.createContext({}),SF=function(e){var t=e.children,n=e.status,i=e.override,a=(0,r.useContext)(_F),o=(0,r.useMemo)((function(){var e=l({},a);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,a]);return r.createElement(_F.Provider,{value:o},t)},TF=function(e){var t,n=(0,r.useContext)(H),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,u=e.className,s=void 0===u?"":u,c=i("input-group",o),f=K()(c,(B(t={},"".concat(c,"-lg"),"large"===e.size),B(t,"".concat(c,"-sm"),"small"===e.size),B(t,"".concat(c,"-compact"),e.compact),B(t,"".concat(c,"-rtl"),"rtl"===a),t),s),d=(0,r.useContext)(_F),h=(0,r.useMemo)((function(){return l(l({},d),{isFormItemInput:!1})}),[d]);return r.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(_F.Provider,{value:h},e.children))};function NF(e){return!(!e.addonBefore&&!e.addonAfter)}function AF(e){return!!(e.prefix||e.suffix||e.allowClear)}function OF(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function PF(e){return"undefined"===typeof e||null===e?"":String(e)}var RF=function(e){var t=e.inputElement,n=e.prefixCls,i=e.prefix,a=e.suffix,o=e.addonBefore,u=e.addonAfter,s=e.className,c=e.style,l=e.affixWrapperClassName,f=e.groupClassName,d=e.wrapperClassName,h=e.disabled,p=e.readOnly,v=e.focused,m=e.triggerFocus,y=e.allowClear,g=e.value,b=e.handleReset,k=e.hidden,w=(0,r.useRef)(null),x=(0,r.cloneElement)(t,{value:g,hidden:k});if(AF(e)){var E,C="".concat(n,"-affix-wrapper"),I=K()(C,(B(E={},"".concat(C,"-disabled"),h),B(E,"".concat(C,"-focused"),v),B(E,"".concat(C,"-readonly"),p),B(E,"".concat(C,"-input-with-clear-btn"),a&&y&&g),E),!NF(e)&&s,l),_=(a||y)&&r.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!y)return null;var t=!h&&!p&&g,i="".concat(n,"-clear-icon"),o="object"===q(y)&&(null===y||void 0===y?void 0:y.clearIcon)?y.clearIcon:"\u2716";return r.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:K()(i,(e={},B(e,"".concat(i,"-hidden"),!t),B(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);x=r.createElement("span",{className:I,style:c,hidden:!NF(e)&&k,onMouseDown:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===m||void 0===m||m())},ref:w},i&&r.createElement("span",{className:"".concat(n,"-prefix")},i),(0,r.cloneElement)(t,{style:null,value:g,hidden:null}),_)}if(NF(e)){var S="".concat(n,"-group"),T="".concat(S,"-addon"),N=K()("".concat(n,"-wrapper"),S,d),A=K()("".concat(n,"-group-wrapper"),s,f);return r.createElement("span",{className:A,style:c,hidden:k},r.createElement("span",{className:N},o&&r.createElement("span",{className:T},o),(0,r.cloneElement)(x,{style:null,hidden:null}),u&&r.createElement("span",{className:T},u)))}return x},DF=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],MF=(0,r.forwardRef)((function(e,t){var n=e.autoComplete,i=e.onChange,a=e.onFocus,o=e.onBlur,u=e.onPressEnter,s=e.onKeyDown,l=e.prefixCls,f=void 0===l?"rc-input":l,d=e.disabled,h=e.htmlSize,p=e.className,v=e.maxLength,m=e.suffix,y=e.showCount,g=e.type,b=void 0===g?"text":g,k=e.inputClassName,w=Ce(e,DF),x=c(Zt(e.defaultValue,{value:e.value}),2),E=x[0],C=x[1],I=c((0,r.useState)(!1),2),_=I[0],S=I[1],T=(0,r.useRef)(null),N=function(e){T.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(T.current,e)};(0,r.useImperativeHandle)(t,(function(){return{focus:N,blur:function(){var e;null===(e=T.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=T.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=T.current)||void 0===e||e.select()},input:T.current}})),(0,r.useEffect)((function(){S((function(e){return(!e||!d)&&e}))}),[d]);var A=function(t){void 0===e.value&&C(t.target.value),T.current&&OF(T.current,t,i)},O=function(e){u&&"Enter"===e.key&&u(e),null===s||void 0===s||s(e)},P=function(e){S(!0),null===a||void 0===a||a(e)},R=function(e){S(!1),null===o||void 0===o||o(e)};return r.createElement(RF,pe(pe({},w),{},{prefixCls:f,className:p,inputElement:function(){var t=ve(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return r.createElement("input",pe(pe({autoComplete:n},t),{},{onChange:A,onFocus:P,onBlur:R,onKeyDown:O,className:K()(f,B({},"".concat(f,"-disabled"),d),k,!NF(e)&&!AF(e)&&p),ref:T,size:h,type:b}))}(),handleReset:function(e){C(""),N(),T.current&&OF(T.current,e,i)},value:PF(E),focused:_,triggerFocus:N,suffix:function(){var e=Number(v)>0;if(m||y){var t=PF(E),n=Ot(t).length,i="object"===q(y)?y.formatter({value:t,count:n,maxLength:v}):"".concat(n).concat(e?" / ".concat(v):"");return r.createElement(r.Fragment,null,!!y&&r.createElement("span",{className:K()("".concat(f,"-show-count-suffix"),B({},"".concat(f,"-show-count-has-suffix"),!!m))},i),m)}return null}(),disabled:d}))})),LF=MF;ie("warning","error","");function FF(e,t,n){var r;return K()((B(r={},"".concat(e,"-status-success"),"success"===t),B(r,"".concat(e,"-status-warning"),"warning"===t),B(r,"".concat(e,"-status-error"),"error"===t),B(r,"".concat(e,"-status-validating"),"validating"===t),B(r,"".concat(e,"-has-feedback"),n),r))}var jF=function(e,t){return t||e};var VF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function UF(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var zF=(0,r.forwardRef)((function(e,t){var n,i,a,o=e.prefixCls,u=e.bordered,s=void 0===u||u,c=e.status,f=e.size,d=e.disabled,h=e.onBlur,p=e.onFocus,v=e.suffix,m=e.allowClear,y=e.addonAfter,g=e.addonBefore,b=VF(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),k=r.useContext(H),w=k.getPrefixCls,x=k.direction,E=k.input,C=w("input",o),I=(0,r.useRef)(null),_=r.useContext(ye),S=f||_,T=r.useContext(Ks),N=d||T,A=(0,r.useContext)(_F),O=A.status,P=A.hasFeedback,R=A.feedbackIcon,D=jF(O,c),M=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!P,L=(0,r.useRef)(M);(0,r.useEffect)((function(){M&&L.current,L.current=M}),[M]);var F=(0,r.useRef)([]),j=function(){F.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=I.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=I.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=I.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=I.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,r.useEffect)((function(){return j(),function(){return F.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var V,U=(P||v)&&r.createElement(r.Fragment,null,v,P&&R);return"object"===q(m)&&(null===m||void 0===m?void 0:m.clearIcon)?V=m:m&&(V={clearIcon:r.createElement(ys,null)}),r.createElement(LF,l({ref:an(t,I),prefixCls:C,autoComplete:null===E||void 0===E?void 0:E.autoComplete},b,{disabled:N||void 0,onBlur:function(e){j(),null===h||void 0===h||h(e)},onFocus:function(e){j(),null===p||void 0===p||p(e)},suffix:U,allowClear:V,addonAfter:y&&r.createElement(SF,{override:!0,status:!0},y),addonBefore:g&&r.createElement(SF,{override:!0,status:!0},g),inputClassName:K()((n={},B(n,"".concat(C,"-sm"),"small"===S),B(n,"".concat(C,"-lg"),"large"===S),B(n,"".concat(C,"-rtl"),"rtl"===x),B(n,"".concat(C,"-borderless"),!s),n),!M&&FF(C,D)),affixWrapperClassName:K()((i={},B(i,"".concat(C,"-affix-wrapper-sm"),"small"===S),B(i,"".concat(C,"-affix-wrapper-lg"),"large"===S),B(i,"".concat(C,"-affix-wrapper-rtl"),"rtl"===x),B(i,"".concat(C,"-affix-wrapper-borderless"),!s),i),FF("".concat(C,"-affix-wrapper"),D,P)),wrapperClassName:K()(B({},"".concat(C,"-group-rtl"),"rtl"===x)),groupClassName:K()((a={},B(a,"".concat(C,"-group-wrapper-sm"),"small"===S),B(a,"".concat(C,"-group-wrapper-lg"),"large"===S),B(a,"".concat(C,"-group-wrapper-rtl"),"rtl"===x),a),FF("".concat(C,"-group-wrapper"),D,P))}))})),BF=zF,qF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},WF=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:qF}))};WF.displayName="EyeInvisibleOutlined";var KF=r.forwardRef(WF),HF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},GF=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:HF}))};GF.displayName="EyeOutlined";var QF=r.forwardRef(GF),$F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},YF={click:"onClick",hover:"onMouseOver"},XF=r.forwardRef((function(e,t){var n=c((0,r.useState)(!1),2),i=n[0],a=n[1],o=function(){e.disabled||a(!i)},u=function(n){var a=n.getPrefixCls,u=e.className,s=e.prefixCls,c=e.inputPrefixCls,f=e.size,d=e.visibilityToggle,h=$F(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),p=a("input",c),v=a("input-password",s),m=d&&function(t){var n,a=e.action,u=e.iconRender,s=YF[a]||"",c=(void 0===u?function(){return null}:u)(i),l=(B(n={},s,o),B(n,"className","".concat(t,"-icon")),B(n,"key","passwordIcon"),B(n,"onMouseDown",(function(e){e.preventDefault()})),B(n,"onMouseUp",(function(e){e.preventDefault()})),n);return r.cloneElement(r.isValidElement(c)?c:r.createElement("span",null,c),l)}(v),y=K()(v,u,B({},"".concat(v,"-").concat(f),!!f)),g=l(l({},ve(h,["suffix","iconRender"])),{type:i?"text":"password",className:y,prefixCls:p,suffix:m});return f&&(g.size=f),r.createElement(BF,l({ref:t},g))};return r.createElement(G,null,u)}));XF.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?r.createElement(QF,null):r.createElement(KF,null)}};var JF=XF,ZF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ej=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:ZF}))};ej.displayName="SearchOutlined";var tj=r.forwardRef(ej),nj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rj=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=e.inputPrefixCls,u=e.className,s=e.size,c=e.suffix,f=e.enterButton,d=void 0!==f&&f,h=e.addonAfter,p=e.loading,v=e.disabled,m=e.onSearch,y=e.onChange,g=e.onCompositionStart,b=e.onCompositionEnd,k=nj(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),w=r.useContext(H),x=w.getPrefixCls,E=w.direction,C=r.useContext(ye),I=r.useRef(!1),_=s||C,S=r.useRef(null),T=function(e){var t;document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input)&&e.preventDefault()},N=function(e){var t,n;m&&m(null===(n=null===(t=S.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},A=x("input-search",a),O=x("input",o),P="boolean"===typeof d?r.createElement(tj,null):null,R="".concat(A,"-button"),D=d||{},M=D.type&&!0===D.type.__ANT_BUTTON;i=M||"button"===D.type?Qs(D,l({onMouseDown:T,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),N(e)},key:"enterButton"},M?{className:R,size:_}:{})):r.createElement(kc,{className:R,type:d?"primary":void 0,size:_,disabled:v,key:"enterButton",onMouseDown:T,onClick:N,loading:p,icon:P},d),h&&(i=[i,Qs(h,{key:"addonAfter"})]);var L=K()(A,(B(n={},"".concat(A,"-rtl"),"rtl"===E),B(n,"".concat(A,"-").concat(_),!!_),B(n,"".concat(A,"-with-button"),!!d),n),u);return r.createElement(BF,l({ref:an(S,t),onPressEnter:function(e){I.current||N(e)}},k,{size:_,onCompositionStart:function(e){I.current=!0,null===g||void 0===g||g(e)},onCompositionEnd:function(e){I.current=!1,null===b||void 0===b||b(e)},prefixCls:O,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),y&&y(e)},className:L,disabled:v}))}));var ij,aj,oj=rj,uj="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",sj=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],cj={};function lj(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&cj[n])return cj[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u=sj.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),s={sizingStyle:u,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(cj[n]=s),s}!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(aj||(aj={}));var fj=function(e){qn(n,e);var t=Qn(n);function n(e){var i;return Vn(this,n),(i=t.call(this,e)).nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=i.props,r=n.autoSize,a=n.onResize;t===aj.NONE&&("function"===typeof a&&a(e),r&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e=i.props.autoSize;if(e&&i.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ij||((ij=document.createElement("textarea")).setAttribute("tab-index","-1"),ij.setAttribute("aria-hidden","true"),document.body.appendChild(ij)),e.getAttribute("wrap")?ij.setAttribute("wrap",e.getAttribute("wrap")):ij.removeAttribute("wrap");var i=lj(e,t),a=i.paddingSize,o=i.borderSize,u=i.boxSizing,s=i.sizingStyle;ij.setAttribute("style","".concat(s,";").concat(uj)),ij.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=ij.scrollHeight;if("border-box"===u?d+=o:"content-box"===u&&(d-=a),null!==n||null!==r){ij.value=" ";var h=ij.scrollHeight-a;null!==n&&(l=h*n,"border-box"===u&&(l=l+a+o),d=Math.max(l,d)),null!==r&&(f=h*r,"border-box"===u&&(f=f+a+o),c=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(i.textArea,!1,t,n);i.setState({textareaStyles:r,resizeStatus:aj.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:aj.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:aj.NONE}),i.fixFirefoxAutoScroll()}))}))}))}))}},i.renderTextArea=function(){var e=i.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,a=e.autoSize,o=e.onResize,u=e.className,s=e.disabled,c=i.state,f=c.textareaStyles,d=c.resizeStatus,h=ve(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),p=K()(n,u,B({},"".concat(n,"-disabled"),s));"value"in h&&(h.value=h.value||"");var v=pe(pe(pe({},i.props.style),f),d===aj.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return r.createElement(qr,{onResize:i.handleResize,disabled:!(a||o)},r.createElement("textarea",l({},h,{className:p,style:v,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:aj.NONE},i}return zn(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&Jr()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(r.Component),dj=fj,hj=function(e){qn(n,e);var t=Qn(n);function n(e){var r;Vn(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return zn(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return r.createElement(dj,l({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(r.Component),pj=hj,vj=ie("text","input");var mj=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,i=n.value,a=n.disabled,o=n.readOnly,u=n.handleReset,s=n.suffix,c=!a&&!o&&i,l="".concat(e,"-clear-icon");return r.createElement(ys,{onClick:u,onMouseDown:function(e){return e.preventDefault()},className:K()((t={},B(t,"".concat(l,"-hidden"),!c),B(t,"".concat(l,"-has-suffix"),!!s),t),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var i,a=this.props,o=a.value,u=a.allowClear,s=a.className,c=a.style,l=a.direction,f=a.bordered,d=a.hidden,h=a.status,p=n.status,v=n.hasFeedback;if(!u)return Qs(t,{value:o});var m,y=K()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),FF("".concat(e,"-affix-wrapper"),jF(p,h),v),(B(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===l),B(i,"".concat(e,"-affix-wrapper-borderless"),!f),B(i,"".concat(s),!((m=this.props).addonBefore||m.addonAfter)&&s),i));return r.createElement("span",{className:y,style:c,hidden:d},Qs(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return r.createElement(_F.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,a=n.element;if(i===vj[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),n}(r.Component),yj=mj,gj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bj(e,t){return Ot(e||"").slice(0,t).join("")}function kj(e,t,n,r){var i=n;return e?i=bj(n,r):Ot(t||"").length<n.length&&Ot(n||"").length>r&&(i=t),i}var wj=r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.bordered,o=void 0===a||a,u=e.showCount,s=void 0!==u&&u,f=e.maxLength,d=e.className,h=e.style,p=e.size,v=e.disabled,m=e.onCompositionStart,y=e.onCompositionEnd,g=e.onChange,b=e.status,k=gj(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),w=r.useContext(H),x=w.getPrefixCls,E=w.direction,C=r.useContext(ye),I=r.useContext(Ks),_=v||I,S=r.useContext(_F),T=S.status,N=S.hasFeedback,A=S.isFormItemInput,O=S.feedbackIcon,P=jF(T,b),R=r.useRef(null),D=r.useRef(null),M=c(r.useState(!1),2),L=M[0],F=M[1],j=r.useRef(),V=r.useRef(0),U=c(Zt(k.defaultValue,{value:k.value}),2),z=U[0],W=U[1],G=k.hidden,Q=function(e,t){void 0===k.value&&(W(e),null===t||void 0===t||t())},$=Number(f)>0,Y=x("input",i);r.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=R.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=R.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.blur()}}}));var X=r.createElement(pj,l({},ve(k,["allowClear"]),{disabled:_,className:K()((n={},B(n,"".concat(Y,"-borderless"),!o),B(n,d,d&&!s),B(n,"".concat(Y,"-sm"),"small"===C||"small"===p),B(n,"".concat(Y,"-lg"),"large"===C||"large"===p),n),FF(Y,P)),style:s?void 0:h,prefixCls:Y,onCompositionStart:function(e){F(!0),j.current=z,V.current=e.currentTarget.selectionStart,null===m||void 0===m||m(e)},onChange:function(e){var t=e.target.value;!L&&$&&(t=kj(e.target.selectionStart>=f+1||e.target.selectionStart===t.length||!e.target.selectionStart,z,t,f));Q(t),UF(e.currentTarget,e,g,t)},onCompositionEnd:function(e){var t;F(!1);var n=e.currentTarget.value;$&&(n=kj(V.current>=f+1||V.current===(null===(t=j.current)||void 0===t?void 0:t.length),j.current,n,f));n!==z&&(Q(n),UF(e.currentTarget,e,g,n)),null===y||void 0===y||y(e)},ref:R})),J=function(e){return"undefined"===typeof e||null===e?"":String(e)}(z);L||!$||null!==k.value&&void 0!==k.value||(J=bj(J,f));var Z=r.createElement(yj,l({disabled:_},k,{prefixCls:Y,direction:E,inputType:"text",value:J,element:X,handleReset:function(e){var t,n,r;Q(""),null===(t=R.current)||void 0===t||t.focus(),UF(null===(r=null===(n=R.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,g)},ref:D,bordered:o,status:b,style:s?void 0:h}));if(s||N){var ee,te=Ot(J).length,ne="";return ne="object"===q(s)?s.formatter({value:J,count:te,maxLength:f}):"".concat(te).concat($?" / ".concat(f):""),r.createElement("div",{hidden:G,className:K()("".concat(Y,"-textarea"),(ee={},B(ee,"".concat(Y,"-textarea-rtl"),"rtl"===E),B(ee,"".concat(Y,"-textarea-show-count"),s),B(ee,"".concat(Y,"-textarea-in-form-item"),A),ee),FF("".concat(Y,"-textarea"),P,N),d),style:h,"data-count":ne},Z,N&&r.createElement("span",{className:"".concat(Y,"-textarea-suffix")},O))}return Z})),xj=wj,Ej=BF;Ej.Group=TF,Ej.Search=oj,Ej.TextArea=xj,Ej.Password=JF;var Cj=Ej;function Ij(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}var _j=r.createContext(null),Sj=_j.Provider,Tj=_j,Nj=r.createContext(null),Aj=Nj.Provider,Oj=function(e){qn(n,e);var t=Qn(n);function n(e){var r;Vn(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:pe(pe({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return zn(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,a=t.style,o=t.name,u=t.id,s=t.type,c=t.disabled,f=t.readOnly,d=t.tabIndex,h=t.onClick,p=t.onFocus,v=t.onBlur,m=t.onKeyDown,y=t.onKeyPress,g=t.onKeyUp,b=t.autoFocus,k=t.value,w=t.required,x=Ce(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(x).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=x[t]),e}),{}),C=this.state.checked,I=K()(n,i,(B(e={},"".concat(n,"-checked"),C),B(e,"".concat(n,"-disabled"),c),e));return r.createElement("span",{className:I,style:a},r.createElement("input",l({name:o,id:u,type:s,required:w,readOnly:f,disabled:c,tabIndex:d,className:"".concat(n,"-input"),checked:!!C,onClick:h,onFocus:p,onBlur:v,onKeyUp:g,onKeyDown:m,onKeyPress:y,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:k},E)),r.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?pe(pe({},t),{},{checked:e.checked}):null}}]),n}(r.Component);Oj.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var Pj=Oj,Rj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Dj=function(e,t){var n,i=r.useContext(Tj),a=r.useContext(Nj),o=r.useContext(H),u=o.getPrefixCls,s=o.direction,c=an(t,r.useRef()),f=(0,r.useContext)(_F).isFormItemInput,d=e.prefixCls,h=e.className,p=e.children,v=e.style,m=e.disabled,y=Rj(e,["prefixCls","className","children","style","disabled"]),g=u("radio",d),b="button"===((null===i||void 0===i?void 0:i.optionType)||a)?"".concat(g,"-button"):g,k=l({},y),w=r.useContext(Ks);k.disabled=m||w,i&&(k.name=i.name,k.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===i||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,t)},k.checked=e.value===i.value,k.disabled=k.disabled||i.disabled);var x=K()("".concat(b,"-wrapper"),(B(n={},"".concat(b,"-wrapper-checked"),k.checked),B(n,"".concat(b,"-wrapper-disabled"),k.disabled),B(n,"".concat(b,"-wrapper-rtl"),"rtl"===s),B(n,"".concat(b,"-wrapper-in-form-item"),f),n),h);return r.createElement("label",{className:x,style:v,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(Pj,l({},k,{type:"radio",prefixCls:b,ref:c})),void 0!==p?r.createElement("span",null,p):null)};var Mj=r.forwardRef(Dj),Lj=r.forwardRef((function(e,t){var n,i=r.useContext(H),a=i.getPrefixCls,o=i.direction,u=r.useContext(ye),s=c(Zt(e.defaultValue,{value:e.value}),2),f=s[0],d=s[1],h=e.prefixCls,p=e.className,v=void 0===p?"":p,m=e.options,y=e.buttonStyle,g=void 0===y?"outline":y,b=e.disabled,k=e.children,w=e.size,x=e.style,E=e.id,C=e.onMouseEnter,I=e.onMouseLeave,_=e.onFocus,S=e.onBlur,T=a("radio",h),N="".concat(T,"-group"),A=k;m&&m.length>0&&(A=m.map((function(e){return"string"===typeof e||"number"===typeof e?r.createElement(Mj,{key:e.toString(),prefixCls:T,disabled:b,value:e,checked:f===e},e):r.createElement(Mj,{key:"radio-group-value-options-".concat(e.value),prefixCls:T,disabled:e.disabled||b,value:e.value,checked:f===e.value,style:e.style},e.label)})));var O=w||u,P=K()(N,"".concat(N,"-").concat(g),(B(n={},"".concat(N,"-").concat(O),O),B(n,"".concat(N,"-rtl"),"rtl"===o),n),v);return r.createElement("div",l({},Ij(e),{className:P,style:x,onMouseEnter:C,onMouseLeave:I,onFocus:_,onBlur:S,id:E,ref:t}),r.createElement(Sj,{value:{onChange:function(t){var n=f,r=t.target.value;"value"in e||d(r);var i=e.onChange;i&&r!==n&&i(t)},value:f,disabled:e.disabled,name:e.name,optionType:e.optionType}},A))})),Fj=r.memo(Lj),jj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vj=function(e,t){var n=r.useContext(H).getPrefixCls,i=e.prefixCls,a=jj(e,["prefixCls"]),o=n("radio",i);return r.createElement(Aj,{value:"button"},r.createElement(Mj,l({prefixCls:o},a,{type:"radio",ref:t})))},Uj=r.forwardRef(Vj),zj=Mj;zj.Button=Uj,zj.Group=Fj,zj.__ANT_RADIO=!0;var Bj=zj,qj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Wj=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:qj}))};Wj.displayName="ExclamationCircleFilled";var Kj=r.forwardRef(Wj);function Hj(e){return!(!e||!e.then)}var Gj=function(e){var t=r.useRef(!1),n=r.useRef(),i=c(Xt(!1),2),a=i[0],o=i[1],u=e.close,s=function(){null===u||void 0===u||u.apply(void 0,arguments)};r.useEffect((function(){var t;if(e.autoFocus){var r=n.current;t=setTimeout((function(){return r.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var f=e.type,d=e.children,h=e.prefixCls,p=e.buttonProps;return r.createElement(kc,l({},yc(f),{onClick:function(n){var r=e.actionFn;if(!t.current)if(t.current=!0,r){var i;if(e.emitEvent){if(i=r(n),e.quitOnNullishReturnValue&&!Hj(i))return t.current=!1,void s(n)}else if(r.length)i=r(u),t.current=!1;else if(!(i=r()))return void s();!function(e){Hj(e)&&(o(!0),e.then((function(){o(!1,!0),s.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),o(!1,!0),t.current=!1})))}(i)}else s()},loading:a,prefixCls:h},p,{ref:n}),d)},Qj=(0,r.createContext)(void 0),$j={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Yj={lang:l({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:l({},$j)},Xj="${label} is not a valid ${type}",Jj={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:Yj,TimePicker:$j,Calendar:Yj,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Xj,method:Xj,array:Xj,object:Xj,number:Xj,date:Xj,boolean:Xj,integer:Xj,float:Xj,regexp:Xj,email:Xj,url:Xj,hex:Xj},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Zj=Jj,eV=function(e){qn(n,e);var t=Qn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return zn(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||Zj[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return l(l({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?Zj.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(r.Component);function tV(e){var t=e.prefixCls,n=e.okButtonProps,i=e.cancelButtonProps,a=e.title,o=e.cancelText,u=e.okText,s=e.okType,c=e.icon,f=e.showCancel,d=void 0===f||f,h=e.close,p=e.onConfirm,v=e.onCancel,m=r.useContext(H).getPrefixCls;return r.createElement(eV,{componentName:"Popconfirm",defaultLocale:Jj.Popconfirm},(function(e){return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},c,r.createElement("div",{className:"".concat(t,"-message-title")},ZM(a))),r.createElement("div",{className:"".concat(t,"-buttons")},d&&r.createElement(kc,l({onClick:v,size:"small"},i),o||e.cancelText),r.createElement(Gj,{buttonProps:l(l({size:"small"},yc(s)),n),actionFn:p,close:h,prefixCls:m("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},u||e.okText)))}))}eV.defaultProps={componentName:"global"},eV.contextType=Qj;var nV=void 0,rV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},iV=r.forwardRef((function(e,t){var n=r.useContext(H).getPrefixCls,i=c(Zt(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),a=i[0],o=i[1],u=function(t,n){var r,i;o(t,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t,n),null===(i=e.onOpenChange)||void 0===i||i.call(e,t,n)},s=e.prefixCls,f=e.placement,d=e.children,h=e.overlayClassName,p=rV(e,["prefixCls","placement","children","overlayClassName"]),v=n("popover",s),m=n("popconfirm",s),y=K()(m,h);return r.createElement(nL,l({},p,{prefixCls:v,placement:f,onOpenChange:function(t){e.disabled||u(t)},open:a,_overlay:r.createElement(tV,l({},e,{prefixCls:v,close:function(e){u(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(nV,t)},onCancel:function(t){var n;u(!1,t),null===(n=e.onCancel)||void 0===n||n.call(nV,t)}})),overlayClassName:y,ref:t}),Qs(d,{onKeyDown:function(e){var t,n;r.isValidElement(d)&&(null===(n=null===d||void 0===d?void 0:(t=d.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===Hr.ESC&&a&&u(!1,e)}(e)}}))}));iV.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:r.createElement(Kj,null),disabled:!1};var aV=iV,oV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},uV=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:oV}))};uV.displayName="RightOutlined";var sV=r.forwardRef(uV),cV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},lV=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:cV}))};lV.displayName="CheckCircleOutlined";var fV=r.forwardRef(lV),dV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},hV=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:dV}))};hV.displayName="CloseCircleOutlined";var pV=r.forwardRef(hV),vV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},mV=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:vV}))};mV.displayName="ExclamationCircleOutlined";var yV=r.forwardRef(mV),gV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},bV=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:gV}))};bV.displayName="InfoCircleFilled";var kV=r.forwardRef(bV),wV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},xV=function(e,t){return r.createElement(Et,pe(pe({},e),{},{ref:t,icon:wV}))};xV.displayName="InfoCircleOutlined";var EV=r.forwardRef(xV),CV=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return zn(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,i=e.children,a=this.state,o=a.error,u=a.info,s=u&&u.componentStack?u.componentStack:null,c="undefined"===typeof t?(o||"").toString():t,l="undefined"===typeof n?s:n;return o?r.createElement(OV,{type:"error",message:c,description:r.createElement("pre",null,l)}):i}}]),n}(r.Component),IV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_V={success:fs,info:kV,error:ys,warning:Kj},SV={success:fV,info:EV,error:pV,warning:yV},TV=function(e){var t=e.description,n=e.icon,i=e.prefixCls,a=e.type,o=(t?SV:_V)[a]||null;return n?Gs(n,r.createElement("span",{className:"".concat(i,"-icon")},n),(function(){return{className:K()("".concat(i,"-icon"),B({},n.props.className,n.props.className))}})):r.createElement(o,{className:"".concat(i,"-icon")})},NV=function(e){var t=e.isClosable,n=e.closeText,i=e.prefixCls,a=e.closeIcon,o=e.handleClose;return t?r.createElement("button",{type:"button",onClick:o,className:"".concat(i,"-close-icon"),tabIndex:0},n?r.createElement("span",{className:"".concat(i,"-close-text")},n):a):null},AV=function(e){var t,n=e.description,i=e.prefixCls,a=e.message,o=e.banner,u=e.className,s=void 0===u?"":u,f=e.style,d=e.onMouseEnter,h=e.onMouseLeave,p=e.onClick,v=e.afterClose,m=e.showIcon,y=e.closable,g=e.closeText,b=e.closeIcon,k=void 0===b?r.createElement(Vt,null):b,w=e.action,x=IV(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),E=c(r.useState(!1),2),C=E[0],I=E[1],_=r.useRef(),S=r.useContext(H),T=S.getPrefixCls,N=S.direction,A=T("alert",i),O=function(e){var t;I(!0),null===(t=x.onClose)||void 0===t||t.call(x,e)},P=!!g||y,R=function(){var e=x.type;return void 0!==e?e:o?"warning":"info"}(),D=!(!o||void 0!==m)||m,M=K()(A,"".concat(A,"-").concat(R),(B(t={},"".concat(A,"-with-description"),!!n),B(t,"".concat(A,"-no-icon"),!D),B(t,"".concat(A,"-banner"),!!o),B(t,"".concat(A,"-rtl"),"rtl"===N),t),s),L=Ij(x);return r.createElement(sr,{visible:!C,motionName:"".concat(A,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:v},(function(e){var t=e.className,i=e.style;return r.createElement("div",l({ref:_,"data-show":!C,className:K()(M,t),style:l(l({},f),i),onMouseEnter:d,onMouseLeave:h,onClick:p,role:"alert"},L),D?r.createElement(TV,{description:n,icon:x.icon,prefixCls:A,type:R}):null,r.createElement("div",{className:"".concat(A,"-content")},a?r.createElement("div",{className:"".concat(A,"-message")},a):null,n?r.createElement("div",{className:"".concat(A,"-description")},n):null),w?r.createElement("div",{className:"".concat(A,"-action")},w):null,r.createElement(NV,{isClosable:!!P,closeText:g,prefixCls:A,closeIcon:k,handleClose:O}))}))};AV.ErrorBoundary=CV;var OV=AV;function PV(e){try{for(var t=window.location.toString().split("?")[1].split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}}catch(i){if("category"===e)return"test-category";if("topic"===e)return"test-topic"}}function RV(e){var t=e.width,n=e.user;n||(window.location.href="https://wombol.com");var i=t<400,a=c((0,r.useState)({}),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){fetch("https://wombollearning.pythonanywhere.com/question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:PV("category"),topic:PV("topic")})}).then((function(e){return e.json()})).then((function(e){u({uid:n.uid,qid:e.data.qid,question:e.data.question,category:e.data.category,topic:e.data.topic})})).catch((function(e){console.log(e)})).finally((function(){console.log("QUESTION FETCHED")}))}),[]),(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsxs)(se,{className:"flex flex-wrap pt-5",children:[(0,wc.jsx)(de,{span:6}),(0,wc.jsx)(de,{span:i?24:12,className:"max-w-[444px] min-w-[320px]",children:(0,wc.jsx)(ss,{className:"absolute pt-1 h-[75px] w-full",style:{backgroundColor:"#1B8EF2"},children:(0,wc.jsx)(ss,{className:"absolute bg-white pt-2 h-[150px] w-full",hoverable:!0,children:(0,wc.jsxs)("h1",{className:"text-left",children:[o.category," ",(0,wc.jsx)(sV,{style:{fontSize:"10px",paddingTop:"0px"}})," ",o.topic]})})})}),(0,wc.jsx)(de,{span:6})]}),(0,wc.jsxs)(se,{className:"flex flex-wrap pt-5",children:[(0,wc.jsx)(de,{span:6}),(0,wc.jsxs)(de,{span:i?24:12,className:"h-[75px] min-w-[75px] pl-0 ml-0",children:["Progress",(0,wc.jsxs)(se,{className:"bg-sky pt-5 h-[15px]",children:[(0,wc.jsx)(de,{span:2,className:"bg-white h-[15px]"}),(0,wc.jsx)(nL,{content:"0% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#1B8EF2"}})}),(0,wc.jsx)(nL,{content:"10% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"20% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"30% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"40% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"50% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"60% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"70% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"80% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(nL,{content:"90% Completed",children:(0,wc.jsx)(de,{span:2,className:"border",style:{backgroundColor:"#FFF"}})}),(0,wc.jsx)(de,{span:2,className:"bg-white"})]})]}),(0,wc.jsx)(de,{span:6})]}),(0,wc.jsxs)(se,{className:"pt-10",children:[(0,wc.jsx)(de,{span:6}),(0,wc.jsx)(de,{span:i?24:12,className:"max-w-[444px] min-w-[320px]",children:(0,wc.jsx)(ss,{className:"absolute pt-1 pl-1 h-[444px] w-full",style:{backgroundColor:"#1B8EF2"},children:(0,wc.jsxs)(ss,{className:"absolute bg-white pt-2 pl-2 h-[444px] w-full",hoverable:!0,children:[(0,wc.jsx)("h1",{className:"text-center pt-5 text-2xl",children:o.question}),o.isMultipleChoice?(0,wc.jsx)("div",{className:"pt-14",children:(0,wc.jsx)(Bj.Group,{onChange:function(){},defaultValue:"a",id:"answer",children:!!o.answers>0&&o.answers.map((function(e){return(0,wc.jsx)(Bj.Button,{value:e,children:e})}))})}):(0,wc.jsx)("div",{className:"pt-5",children:(0,wc.jsx)(Cj,{className:"!w-1/2",id:"answer"})}),(0,wc.jsx)(aV,{title:"Are you sure you want to respond with ".concat(document.getElementById("answer").value,"?"),onConfirm:function(){return function(e,t,n){var r=parseInt(document.getElementById("answer").value,10).toFixed(1).toString();console.log(r),fetch("https://wombollearning.pythonanywhere.com/answer-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.uid,qid:t.qid,answer:r})}).then((function(e){return e.json()})).then((function(e){n(e.status)})).catch((function(e){console.log(e)}))}((function(e,t,n){n?(document.getElementById("correct_message").style.display="block",document.getElementById("incorrect_message").style.display="none"):(document.getElementById("incorrect_message").style.display="block",document.getElementById("correct_message").style.display="none");var r=0;setInterval((function(){r++,document.getElementById("incorrect_message").message="You answered correctly!\n New Question in ".concat(r),3===r&&(window.location.href="https://wombol.com/#/question?category=".concat(PV("category"),"&topic=").concat(PV("topic")))}),1)}))},okText:"Yes",cancelText:"No",children:(0,wc.jsx)(kc,{disabled:!(o.qid&&o.uid),className:"mt-3",children:"Answer"})})]})})}),(0,wc.jsx)(de,{span:6})]}),(0,wc.jsx)(OV,{message:"You answered correctly!",type:"success",id:"correct_message",style:{display:"none"}}),(0,wc.jsx)(OV,{message:"You answered incorrectly!",type:"error",id:"incorrect_message",style:{display:"none"}})]})}var DV=r.createContext({});!function(){var e=0}();var MV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},LV=function(e){var t=e.prefixCls,n=e.className,i=e.dashed,a=MV(e,["prefixCls","className","dashed"]),o=(0,r.useContext(H).getPrefixCls)("menu",t),u=K()(B({},"".concat(o,"-item-divider-dashed"),!!i),n);return r.createElement(vu,l({className:u},a))},FV=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),jV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VV=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,i,a=t.siderCollapsed,o=e.context,u=o.prefixCls,s=o.firstLevel,c=o.inlineCollapsed,f=o.direction,d=o.disableMenuItemTitleTooltip,h=e.props,p=h.className,v=h.children,m=e.props,y=m.title,g=m.icon,b=m.danger,k=jV(m,["title","icon","danger"]),w=y;"undefined"===typeof y?w=s?v:"":!1===y&&(w="");var x={title:w};a||c||(x.title=null,x.open=!1);var E=pr(v).length,C=r.createElement(zi,l({},k,{className:K()((n={},B(n,"".concat(u,"-item-danger"),b),B(n,"".concat(u,"-item-only-child"),1===(g?E+1:E)),n),p),title:"string"===typeof y?y:void 0}),Qs(g,{className:K()(Hs(g)?null===(i=g.props)||void 0===i?void 0:i.className:"","".concat(u,"-item-icon"))}),e.renderItemChildren(c));return d||(C=r.createElement(JM,l({},x,{placement:"rtl"===f?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),C)),C},e}return zn(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,i=t.firstLevel,a=this.props,o=a.icon,u=a.children,s=r.createElement("span",{className:"".concat(n,"-title-content")},u);return(!o||Hs(u)&&"span"===u.type)&&u&&e&&i&&"string"===typeof u?r.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},u.charAt(0)):s}},{key:"render",value:function(){return r.createElement(DV.Consumer,null,this.renderItem)}}]),n}(r.Component);VV.contextType=FV;var UV=function(e){var t,n,i=e.popupClassName,a=e.icon,o=e.title,u=e.theme,s=r.useContext(FV),c=s.prefixCls,f=s.inlineCollapsed,d=s.antdMenuTheme,h=mu();if(a){var p=Hs(o)&&"span"===o.type;n=r.createElement(r.Fragment,null,Qs(a,{className:K()(Hs(a)?null===(t=a.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),p?o:r.createElement("span",{className:"".concat(c,"-title-content")},o))}else n=f&&!h.length&&o&&"string"===typeof o?r.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(c,"-title-content")},o);var v=r.useMemo((function(){return l(l({},s),{firstLevel:!1})}),[s]);return r.createElement(FV.Provider,{value:v},r.createElement(zo,l({},ve(e,["icon"]),{title:n,popupClassName:K()(c,"".concat(c,"-").concat(u||d),i)})))},zV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function BV(e){return(e||[]).map((function(e,t){if(e&&"object"===q(e)){var n=e,i=n.label,a=n.children,o=n.key,u=n.type,s=zV(n,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===u?"group"===u?r.createElement(pu,l({key:c},s,{title:i}),BV(a)):r.createElement(UV,l({key:c},s,{title:i}),BV(a)):"divider"===u?r.createElement(LV,l({key:c},s)):r.createElement(VV,l({key:c},s),i)}return null})).filter((function(e){return e}))}function qV(e){return r.useMemo((function(){return e?BV(e):e}),[e])}var WV=r.createContext(null),KV=WV,HV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},GV=(0,r.forwardRef)((function(e,t){var n,i=r.useContext(KV)||{},a=r.useContext(H),o=a.getPrefixCls,u=a.getPopupContainer,s=a.direction,c=o(),f=e.prefixCls,d=e.className,h=e.theme,p=void 0===h?"light":h,v=e.expandIcon,m=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,g=e.siderCollapsed,b=e.items,k=e.children,w=e.mode,x=e.selectable,E=e.onClick,C=ve(HV(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),["collapsedWidth"]),I=qV(b)||k;null===(n=i.validator)||void 0===n||n.call(i,{mode:w});var _,S=Gt((function(){var e;null===E||void 0===E||E.apply(void 0,arguments),null===(e=null===i||void 0===i?void 0:i.onClick)||void 0===e||e.call(i)})),T=i.mode||w,N=null!==x&&void 0!==x?x:i.selectable,A=r.useMemo((function(){return void 0!==g?g:y}),[y,g]),O={horizontal:{motionName:"".concat(c,"-slide-up")},inline:Qu,other:{motionName:"".concat(c,"-zoom-big")}},P=o("menu",f||i.prefixCls),R=K()("".concat(P,"-").concat(p),d);_="function"===typeof v?v:Qs(v||i.expandIcon,{className:"".concat(P,"-submenu-expand-icon")});var D=r.useMemo((function(){return{prefixCls:P,inlineCollapsed:A||!1,antdMenuTheme:p,direction:s,firstLevel:!0,disableMenuItemTitleTooltip:m}}),[P,A,p,s,m]);return r.createElement(KV.Provider,{value:null},r.createElement(FV.Provider,{value:D},r.createElement(gu,l({getPopupContainer:u,overflowedIndicator:r.createElement(Bt,null),overflowedIndicatorPopupClassName:"".concat(P,"-").concat(p),mode:T,selectable:N,onClick:S},C,{inlineCollapsed:A,className:R,prefixCls:P,direction:s,defaultMotions:O,expandIcon:_,ref:t}),I)))})),QV=function(e){qn(n,e);var t=Qn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).focus=function(t){var n;null===(n=e.menu)||void 0===n||n.focus(t)},e}return zn(n,[{key:"render",value:function(){var e=this;return r.createElement(DV.Consumer,null,(function(t){return r.createElement(GV,l({ref:function(t){e.menu=t}},e.props,t))}))}}]),n}(r.Component);QV.Divider=LV,QV.Item=VV,QV.SubMenu=UV,QV.ItemGroup=pu;var $V=QV,YV=[{label:"Mathematics",key:"/category?c=Mathematics"},{label:"Statistics",key:"/category?c=Statistics"},{label:"Marketing",key:"/category?c=Marketing"}],XV=function(e){var t=e.key;return window.location.href="/#"+t},JV=function(){var e="";return YV.forEach((function(t){-1!==window.location.pathname.indexOf(t.label)&&(e=t.label)})),e},ZV=Navigator=function(){return(0,wc.jsx)($V,{mode:"horizontal",align:"center",items:YV,onClick:XV,selectedKeys:[JV]})},eU=[{label:"Home",key:"home"},{label:"Login",key:"login"}],tU=[{label:"Home",key:"home"},{label:"Logout",key:"logout"}],nU=Navigator=function(e){var t=e.user,n=e.auth;return(0,wc.jsx)($V,{mode:"horizontal",items:t?tU:eU,onClick:function(e){var t=e.key;"logout"===t?(console.log("LOGGING OUT"),n.signOut(),window.location.href="/"):window.location.href="/#/"+t},selectedKeys:[window.location.pathname.replace("/","").toLowerCase()]})};function rU(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function iU(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var aU=function(){return aU=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aU.apply(this,arguments)},oU=function(e){return{loading:void 0===e||null===e,value:e}},uU=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return aU(aU({},e),{error:t.error,loading:!1,value:void 0});case"reset":return oU(t.defaultValue);case"value":return aU(aU({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),oU(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},sU=function(e,t){var n=uU((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return nl(e).onAuthStateChanged(t,n,r)}(e,(function(e){return rU(void 0,void 0,void 0,(function(){var n;return iU(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)};Sf.initializeApp({apiKey:"AIzaSyDLZtN_iioKBgGTrjzIF8DWp-zNksYS7TQ",authDomain:"wombol-df415.firebaseapp.com",projectId:"wombol-df415",storageBucket:"wombol-df415.appspot.com",messagingSenderId:"211219277241",appId:"1:211219277241:web:946571b670da366d87c268",measurementId:"G-MLWY4LNEZ0"});var cU=Sf.auth();function lU(){var e=window;return{innerWidth:e.innerWidth,innerHeight:e.innerHeight}}var fU=function(){var e=c(sU(cU),1)[0],t=c((0,r.useState)(lU()),2),n=t[0],i=t[1],a=c((0,r.useState)("Home"),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){function e(){i(lU())}function t(){u(window.location.hash.replace("#/category?c=",""))}return window.addEventListener("resize",e),window.addEventListener("hashchange",t),function(){window.removeEventListener("resize",e),window.removeEventListener("hashchange",t)}}),[]),(0,wc.jsxs)("div",{className:"App",children:[(0,wc.jsx)("div",{className:"text-4xl italic font-bold",children:(0,wc.jsx)("a",{href:"/",children:"Wombol"})}),(0,wc.jsx)(nU,{user:e,auth:cU}),(0,wc.jsx)(ZV,{}),(0,wc.jsx)(z,{basename:"",children:(0,wc.jsxs)(V,{children:[(0,wc.jsx)(F,{path:"/",element:(0,wc.jsx)(LM,{})}),(0,wc.jsx)(F,{path:"/login",element:(0,wc.jsx)(PM,{user:e,auth:cU})}),(0,wc.jsx)(F,{path:"/resetPassword",element:(0,wc.jsx)(MM,{})}),(0,wc.jsx)(F,{path:"/confirmAccount",element:(0,wc.jsx)(Cc,{})}),(0,wc.jsx)(F,{path:"/home",element:(0,wc.jsx)(Ic,{user:e})}),(0,wc.jsx)(F,{path:"/category",element:(0,wc.jsx)(Ec,{category:o,user:e})}),(0,wc.jsx)(F,{path:"/question",element:(0,wc.jsx)(RV,{width:n.innerWidth,user:e})}),(0,wc.jsx)(F,{path:"/privacy",element:(0,wc.jsx)(RM,{})}),(0,wc.jsx)(F,{path:"/terms",element:(0,wc.jsx)(DM,{})})]})})]})},dU=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,wc.jsx)(r.StrictMode,{children:(0,wc.jsx)(fU,{})})),dU()}()}();
//# sourceMappingURL=main.d6e50af3.js.map