/*! For license information please see main.f0935abf.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),k=s(t),b=g?h:u(e),w=k?h:u(t),x=(b=b==f?d:b)==d,E=(w=w==f?d:w)==d,_=b==w;if(_&&c(e)){if(!c(t))return!1;g=!0,x=!1}if(_&&!x)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,b,n,v,m,y);if(!(1&n)){var I=x&&p.call(e,"__wrapped__"),S=E&&p.call(t,"__wrapped__");if(I||S){var T=I?e.value():e,C=S?t.value():t;return y||(y=new r),m(T,C,n,v,y)}}return!!_&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var k=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==k){if(k)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[h=c[f]],g=t[h];if(a)var k=s?a(g,y,h,t,e,u):a(y,g,h,e,t,u);if(!(void 0===k?y===g||o(y,g,n,a,u):k)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),k=c(u),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=l||a&&b(a.resolve())!=f||o&&b(new o)!=h||u&&b(new u)!=d)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return h;case k:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){St=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Ot.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return _n}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Rn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Si(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Vi=null,Ui=!1,ji=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,ji=!1}}return null}var qi=[],Ki=0,Hi=null,Wi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(_a(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,_s=Math.ceil,Is=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ps=0,Ds=_i(0),Rs=0,Ms=null,Ls=0,Fs=0,Vs=0,Us=null,js=null,Bs=0,zs=1/0,qs=null,Ks=!1,Hs=null,Ws=null,Gs=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ps=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Os=Ps=t,Rs=0,Ms=null,Vs=Fs=Ls=0,js=Us=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Rs=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Rs}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Ye();)kc(As)}function kc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Rs=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Xe()-Bs?hc(e,0):Vs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,_a(t,n),qa(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(_=!1,I=null)}}else _=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function D(e){I=e,_||(_=!0,E())}function R(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d1d4a2c2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ur},SDK_VERSION:function(){return ki},_DEFAULT_ENTRY_NAME:function(){return oi},_addComponent:function(){return li},_addOrOverwriteComponent:function(){return fi},_apps:function(){return si},_clearComponents:function(){return vi},_components:function(){return ci},_getProvider:function(){return di},_registerComponent:function(){return hi},_removeServiceInstance:function(){return pi},deleteApp:function(){return Ei},getApp:function(){return wi},getApps:function(){return xi},initializeApp:function(){return bi},onLog:function(){return Si},registerVersion:function(){return Ii},setLogLevel:function(){return Ti}});var t,r=n(2791),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=p-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(d,u),r.addEventListener("hashchange",(function(){g(a()[1])!==g(b)&&u()}));var s=t.Pop,c=a(),p=c[0],b=c[1],w=m(),x=m();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:g(e))}function _(e,t){return void 0===t&&(t=null),f(l({pathname:b.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:y()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function S(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();p=t[0],b=t[1],w.call({action:s,location:b})}function C(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var N={get action(){return s},get location(){return b},createHref:E,push:function e(n,a){var o=t.Push,u=_(n,a);if(S(o,u,(function(){e(n,a)}))){var s=I(u,p+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(S(a,o,(function(){e(n,r)}))){var u=I(o,p),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(h,v),function(){t(),x.length||r.removeEventListener(h,v)}}};return N}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,r.createContext)(null);var w=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=N(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||E(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&E(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,T=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function N(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:D(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function R(){return null!=(0,r.useContext)(w)}function M(){return R()||E(!1),(0,r.useContext)(w).location}function L(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function F(e){E(!1)}function V(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;R()&&E(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,x=void 0===g?"":g,_=v.hash,I=void 0===_?"":_,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=O(y,d);return null==e?null:{pathname:e,search:x,hash:I,state:T,key:N}}),[d,y,x,I,T,N]);return null==A?null:(0,r.createElement)(b.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:A,navigationType:c}}))}function U(e){var t=e.children,n=e.location;return function(e,t){R()||E(!1);var n,i=(0,r.useContext)(x).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,M());if(t){var c,l="string"===typeof t?k(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||E(!1),n=l}else n=s;var f=n.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return L(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,e.pathnameBase])})})),i)}(j(t),n)}function j(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==F&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=j(e.props.children)),t.push(n)}else t.push.apply(t,j(e.props.children))})),t}function B(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,u=c((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],l=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(V,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var z=n(184);function q(){return(0,z.jsx)("div",{children:"Category"})}function K(){return(0,z.jsx)("div",{children:"ConfirmAccount"})}function H(e){var t=e.user;return t||(window.location.href="/"),console.log(t),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{children:["Welcome Home ",t.email,"!"]}),(0,z.jsx)("div",{children:"Thanks for joining us, but we have yet to do all the work inside the app yet lmao!"})]})}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var Q=n(1694),Y=n.n(Q);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){var n=X({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var Z=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),ee=Z.Consumer;var te=r.createContext(!1),ne=te,re=r.createContext(void 0),ie=re,ae=r.isValidElement;function oe(e,t){return function(e,t,n){return ae(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var ue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}function de(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function me(e,t){if(t&&("object"===G(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function ye(e){var t=ve();return function(){var n,r=pe(e);if(t){var i=pe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return me(this,n)}}function ge(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var ke="data-rc-order",be="rc-util-key",we=new Map;function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):be}function Ee(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function _e(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function Ie(e){return Array.from((we.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ge())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(ke,_e(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var a=Ee(t),o=a.firstChild;if(r){if("queue"===r){var u=Ie(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(ke))}));if(u.length)return a.insertBefore(i,u[u.length-1].nextSibling),i}a.insertBefore(i,o)}else a.appendChild(i);return i}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ee(t);return Ie(n).find((function(n){return n.getAttribute(xe(t))===e}))}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ee(n);if(!we.has(r)){var i=Se("",n),a=i.parentNode;we.set(r,a),a.removeChild(i)}var o=Te(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=Se(e,n);return l.setAttribute(xe(n),t),l}var Ne=n(3873);function Ae(e,t){"function"===typeof e?e(t):"object"===G(e)&&e&&"current"in e&&(e.current=t)}function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Ae(t,e)}))}}function Pe(e){var t,n,r=(0,Ne.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var De=function(e){return+setTimeout(e,16)},Re=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(De=function(e){return window.requestAnimationFrame(e)},Re=function(e){return window.cancelAnimationFrame(e)});var Me=0,Le=new Map;function Fe(e){Le.delete(e)}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Me+=1;function r(t){if(0===t)Fe(n),e();else{var i=De((function(){r(t-1)}));Le.set(n,i)}}return r(t),n}Ve.cancel=function(e){var t=Le.get(e);return Fe(t),Re(t)};var Ue,je=0,Be={};function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=je++,r=t;function i(){(r-=1)<=0?(e(),delete Be[n]):Be[n]=Ve(i)}return Be[n]=Ve(i),n}function qe(e){return!e||null===e.offsetParent||e.hidden}function Ke(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}ze.cancel=function(e){void 0!==e&&(Ve.cancel(Be[e]),delete Be[e])},ze.ids=Be;var He=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.apply(this,arguments)).containerRef=r.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||qe(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=fe(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Ke(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;Ue=Ce("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!qe(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),ze.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=ze((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,i=e.props.children;if(e.csp=n,!r.isValidElement(i))return i;var a=e.containerRef;return Pe(i)&&(a=Oe(i.ref,e.containerRef)),oe(i,{ref:a})},e}return le(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Ue&&(Ue.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return r.createElement(ee,null,this.renderWave)}}]),n}(r.Component);He.contextType=Z;var We=(0,r.forwardRef)((function(e,t){return r.createElement(He,l({ref:t},e))})),Ge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Qe=r.createContext(void 0),Ye=function(e){var t,n=r.useContext(Z),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,u=e.size,s=e.className,c=Ge(e,["prefixCls","size","className"]),f=i("btn-group",o),h="";switch(u){case"large":h="lg";break;case"small":h="sm"}var d=Y()(f,(W(t={},"".concat(f,"-").concat(h),h),W(t,"".concat(f,"-rtl"),"rtl"===a),t),s);return r.createElement(Qe.Provider,{value:u},r.createElement("div",l({},c,{className:d})))},$e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function Xe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Je=(0,r.createContext)({});function Ze(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function et(e){return e<=1?"".concat(100*Number(e),"%"):e}function tt(e){return 1===e.length?"0"+e:String(e)}function nt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rt(e){return it(e)/255}function it(e){return parseInt(e,16)}var at={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ot(e){var t,n,r,i={r:0,g:0,b:0},a=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(at[e])e=at[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=lt.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=lt.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=lt.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=lt.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=lt.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=lt.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=lt.hex8.exec(e))return{r:it(n[1]),g:it(n[2]),b:it(n[3]),a:rt(n[4]),format:t?"name":"hex8"};if(n=lt.hex6.exec(e))return{r:it(n[1]),g:it(n[2]),b:it(n[3]),format:t?"name":"hex"};if(n=lt.hex4.exec(e))return{r:it(n[1]+n[1]),g:it(n[2]+n[2]),b:it(n[3]+n[3]),a:rt(n[4]+n[4]),format:t?"name":"hex8"};if(n=lt.hex3.exec(e))return{r:it(n[1]+n[1]),g:it(n[2]+n[2]),b:it(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(ft(e.r)&&ft(e.g)&&ft(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*Ze(t,255),g:255*Ze(n,255),b:255*Ze(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):ft(e.h)&&ft(e.s)&&ft(e.v)?(o=et(e.s),u=et(e.v),i=function(e,t,n){e=6*Ze(e,360),t=Ze(t,100),n=Ze(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):ft(e.h)&&ft(e.s)&&ft(e.l)&&(o=et(e.s),s=et(e.l),i=function(e,t,n){var r,i,a;if(e=Ze(e,360),t=Ze(t,100),n=Ze(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=nt(u,o,e+1/3),i=nt(u,o,e),a=nt(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(a),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var ut="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),st="[\\s|\\(]+(".concat(ut,")[,|\\s]+(").concat(ut,")[,|\\s]+(").concat(ut,")\\s*\\)?"),ct="[\\s|\\(]+(".concat(ut,")[,|\\s]+(").concat(ut,")[,|\\s]+(").concat(ut,")[,|\\s]+(").concat(ut,")\\s*\\)?"),lt={CSS_UNIT:new RegExp(ut),rgb:new RegExp("rgb"+st),rgba:new RegExp("rgba"+ct),hsl:new RegExp("hsl"+st),hsla:new RegExp("hsla"+ct),hsv:new RegExp("hsv"+st),hsva:new RegExp("hsva"+ct),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ft(e){return Boolean(lt.CSS_UNIT.exec(String(e)))}var ht=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function dt(e){var t=function(e,t,n){e=Ze(e,255),t=Ze(t,255),n=Ze(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function pt(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[tt(Math.round(e).toString(16)),tt(Math.round(t).toString(16)),tt(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function vt(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function mt(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function yt(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function gt(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function kt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=ot(e),i=5;i>0;i-=1){var a=dt(r),o=pt(ot({h:mt(a,i,!0),s:yt(a,i,!0),v:gt(a,i,!0)}));n.push(o)}n.push(pt(r));for(var u=1;u<=4;u+=1){var s=dt(r),c=pt(ot({h:mt(s,u),s:yt(s,u),v:gt(s,u)}));n.push(c)}return"dark"===t.theme?ht.map((function(e){var r=e.index,i=e.opacity;return pt(vt(ot(t.backgroundColor||"#141414"),ot(n[r]),100*i))})):n}var bt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},wt={},xt={};Object.keys(bt).forEach((function(e){wt[e]=kt(bt[e]),wt[e].primary=wt[e][5],xt[e]=kt(bt[e],{theme:"dark",backgroundColor:"#141414"}),xt[e].primary=xt[e][5]}));wt.red,wt.volcano,wt.gold,wt.orange,wt.yellow,wt.lime,wt.green,wt.cyan,wt.blue,wt.geekblue,wt.purple,wt.magenta,wt.grey;var Et={};function _t(e,t){0}function It(e,t,n){t||Et[n]||(e(!1,n),Et[n]=!0)}var St=function(e,t){It(_t,e,t)};function Tt(e){return"object"===G(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===G(e.icon)||"function"===typeof e.icon)}function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Nt(e,t,n){return n?r.createElement(e.tag,X(X({key:t},Ct(e.attrs)),n),(e.children||[]).map((function(n,r){return Nt(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,X({key:t},Ct(e.attrs)),(e.children||[]).map((function(n,r){return Nt(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function At(e){return kt(e)[0]}function Ot(e){return e?Array.isArray(e)?e:[e]:[]}var Pt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Dt=["icon","className","onClick","style","primaryColor","secondaryColor"],Rt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Mt=function(e){var t,n,i=e.icon,a=e.className,o=e.onClick,u=e.style,s=e.primaryColor,c=e.secondaryColor,l=Xe(e,Dt),f=Rt;if(s&&(f={primaryColor:s,secondaryColor:c||At(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=(0,r.useContext)(Je).csp;(0,r.useEffect)((function(){Ce(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=Tt(i),n="icon should be icon definiton, but got ".concat(i),St(t,"[@ant-design/icons] ".concat(n)),!Tt(i))return null;var h=i;return h&&"function"===typeof h.icon&&(h=X(X({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),Nt(h.icon,"svg-".concat(h.name),X({className:a,onClick:o,style:u,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};Mt.displayName="IconReact",Mt.getTwoToneColors=function(){return X({},Rt)},Mt.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Rt.primaryColor=t,Rt.secondaryColor=n||At(t),Rt.calculated=!!n};var Lt=Mt;function Ft(e){var t=c(Ot(e),2),n=t[0],r=t[1];return Lt.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Vt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ft("#1890ff");var Ut=r.forwardRef((function(e,t){var n,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,l=e.onClick,f=e.twoToneColor,h=Xe(e,Vt),d=r.useContext(Je).prefixCls,p=void 0===d?"anticon":d,v=Y()(p,(W(n={},"".concat(p,"-").concat(a.name),!!a.name),W(n,"".concat(p,"-spin"),!!o||"loading"===a.name),n),i),m=s;void 0===m&&l&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=c(Ot(f),2),k=g[0],b=g[1];return r.createElement("span",X(X({role:"img","aria-label":a.name},h),{},{ref:t,tabIndex:m,onClick:l,className:v}),r.createElement(Lt,{icon:a,primaryColor:k,secondaryColor:b,style:y}))}));Ut.displayName="AntdIcon",Ut.getTwoToneColor=function(){var e=Lt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Ut.setTwoToneColor=Ft;var jt=Ut,Bt=function(e,t){return r.createElement(jt,X(X({},e),{},{ref:t,icon:$e}))};Bt.displayName="LoadingOutlined";var zt=r.forwardRef(Bt),qt=n(4164);function Kt(e){return e instanceof HTMLElement?e:qt.findDOMNode(e)}function Ht(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Wt=function(e,t){var n={animationend:Ht("Animation","AnimationEnd"),transitionend:Ht("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(ge(),"undefined"!==typeof window?window:{}),Gt={};if(ge()){var Qt=document.createElement("div");Gt=Qt.style}var Yt={};function $t(e){if(Yt[e])return Yt[e];var t=Wt[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Gt)return Yt[e]=t[a],Yt[e]}return""}var Xt=$t("animationend"),Jt=$t("transitionend"),Zt=!(!Xt||!Jt),en=Xt||"animationend",tn=Jt||"transitionend";function nn(e,t){return e?"object"===G(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var rn="none",an="appear",on="enter",un="leave",sn="none",cn="prepare",ln="start",fn="active",hn="end";function dn(e){var t=r.useRef(!1),n=c(r.useState(e),2),i=n[0],a=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||a(e)}]}var pn=ge()?r.useLayoutEffect:r.useEffect,vn=[cn,ln,fn,hn];function mn(e){return e===fn||e===hn}var yn=function(e,t){var n=c(dn(sn),2),i=n[0],a=n[1],o=function(){var e=r.useRef(null);function t(){Ve.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Ve((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),u=c(o,2),s=u[0],l=u[1];return pn((function(){if(i!==sn&&i!==hn){var e=vn.indexOf(i),n=vn[e+1],r=t(i);false===r?a(n,!0):s((function(e){function t(){e.isCanceled()||a(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),r.useEffect((function(){return function(){l()}}),[]),[function(){a(cn,!0)},i]};function gn(e,t,n,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,l=i.motionLeave,f=void 0===l||l,h=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,k=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,E=i.onAppearEnd,_=i.onEnterEnd,I=i.onLeaveEnd,S=i.onVisibleChanged,T=c(dn(),2),C=T[0],N=T[1],A=c(dn(rn),2),O=A[0],P=A[1],D=c(dn(null),2),R=D[0],M=D[1],L=(0,r.useRef)(!1),F=(0,r.useRef)(null);function V(){return n()}var U=(0,r.useRef)(!1);function j(e){var t=V();if(!e||e.deadline||e.target===t){var n,r=U.current;O===an&&r?n=null===E||void 0===E?void 0:E(t,e):O===on&&r?n=null===_||void 0===_?void 0:_(t,e):O===un&&r&&(n=null===I||void 0===I?void 0:I(t,e)),O!==rn&&r&&!1!==n&&(P(rn,!0),M(null,!0))}}var B=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(tn,i),e.removeEventListener(en,i))}return r.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(tn,i),e.addEventListener(en,i),t.current=e)},a]}(j),z=c(B,1)[0],q=r.useMemo((function(){var e,t,n;switch(O){case an:return W(e={},cn,p),W(e,ln,y),W(e,fn,b),e;case on:return W(t={},cn,v),W(t,ln,g),W(t,fn,w),t;case un:return W(n={},cn,m),W(n,ln,k),W(n,fn,x),n;default:return{}}}),[O]),K=c(yn(O,(function(e){if(e===cn){var t=q.prepare;return!!t&&t(V())}var n;G in q&&M((null===(n=q[G])||void 0===n?void 0:n.call(q,V(),null))||null);return G===fn&&(z(V()),h>0&&(clearTimeout(F.current),F.current=setTimeout((function(){j({deadline:!0})}),h))),true})),2),H=K[0],G=K[1],Q=mn(G);U.current=Q,pn((function(){N(t);var n,r=L.current;(L.current=!0,e)&&(!r&&t&&s&&(n=an),r&&t&&o&&(n=on),(r&&!t&&f||!r&&d&&!t&&f)&&(n=un),n&&(P(n),H()))}),[t]),(0,r.useEffect)((function(){(O===an&&!s||O===on&&!o||O===un&&!f)&&P(rn)}),[s,o,f]),(0,r.useEffect)((function(){return function(){L.current=!1,clearTimeout(F.current)}}),[]);var Y=r.useRef(!1);(0,r.useEffect)((function(){C&&(Y.current=!0),void 0!==C&&O===rn&&((Y.current||C)&&(null===S||void 0===S||S(C)),Y.current=!0)}),[C,O]);var $=R;return q.prepare&&G===ln&&($=X({transition:"none"},$)),[O,G,$,null!==C&&void 0!==C?C:t]}var kn=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),bn=kn;var wn=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===G(e)&&(t=e.transitionSupport);var i=r.forwardRef((function(e,t){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,s=e.forceRender,l=e.children,f=e.motionName,h=e.leavedClassName,d=e.eventProps,p=n(e),v=(0,r.useRef)(),m=(0,r.useRef)();var y=c(gn(p,a,(function(){try{return v.current instanceof HTMLElement?v.current:Kt(m.current)}catch(e){return null}}),e),4),g=y[0],k=y[1],b=y[2],w=y[3],x=r.useRef(w);w&&(x.current=!0);var E,_=r.useCallback((function(e){v.current=e,Ae(t,e)}),[t]),I=X(X({},d),{},{visible:a});if(l)if(g!==rn&&n(e)){var S,T;k===cn?T="prepare":mn(k)?T="active":k===ln&&(T="start"),E=l(X(X({},I),{},{className:Y()(nn(f,g),(S={},W(S,nn(f,"".concat(g,"-").concat(T)),T),W(S,f,"string"===typeof f),S)),style:b}),_)}else E=w?l(X({},I),_):!u&&x.current?l(X(X({},I),{},{className:h}),_):s?l(X(X({},I),{},{style:{display:"none"}}),_):null;else E=null;r.isValidElement(E)&&Pe(E)&&(E.ref||(E=r.cloneElement(E,{ref:_})));return r.createElement(bn,{ref:m},E)}));return i.displayName="CSSMotion",i}(Zt),xn="add",En="keep",_n="remove",In="removed";function Sn(e){var t;return X(X({},t=e&&"object"===G(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Sn)}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=Tn(e),o=Tn(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return X(X({},e),{},{status:xn})}))),r=a),n.push(X(X({},u),{},{status:En})),r+=1,t=!0;break}}t||n.push(X(X({},e),{},{status:_n}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return X(X({},e),{},{status:xn})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==_n}))).forEach((function(t){t.key===e&&(t.status=En)}))})),n}var Nn=["component","children","onVisibleChanged","onAllRemoved"],An=["status"],On=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn,n=function(e){de(i,e);var n=ye(i);function i(){var e;se(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:X(X({},e),{},{status:In})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==In})).length},e}return le(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=Xe(i,Nn),f=a||r.Fragment,h={};return On.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,r.createElement(f,c,n.map((function(n){var i=n.status,a=Xe(n,An),c=i===xn||i===En;return r.createElement(t,l({},h,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Tn(n);return{keyEntities:Cn(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==In||e.status!==_n}))}}}]),i}(r.Component);n.defaultProps={component:"div"}}(Zt);var Pn=wn,Dn=function(){return{width:0,opacity:0,transform:"scale(0)"}},Rn=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Mn=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(zt,null)):r.createElement(Pn,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Dn,onAppearActive:Rn,onEnterStart:Dn,onEnterActive:Rn,onLeaveStart:Rn,onLeaveActive:Dn},(function(e,n){var i=e.className,a=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:a,ref:n},r.createElement(zt,{className:i}))}))},Ln=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fn=/^[\u4e00-\u9fa5]{2}$/,Vn=Fn.test.bind(Fn);function Un(e){return"text"===e||"link"===e}function jn(e,t){if(null!==e&&void 0!==e){var n,i=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&Vn(e.props.children)?oe(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?Vn(e)?r.createElement("span",null,e.split("").join(i)):r.createElement("span",null,e):(n=e,r.isValidElement(n)&&n.type===r.Fragment?r.createElement("span",null,e):e)}}ue("default","primary","ghost","dashed","link","text"),ue("default","circle","round"),ue("submit","button","reset");var Bn=function(e,t){var n,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,s=void 0===u?"default":u,f=e.danger,h=e.shape,d=void 0===h?"default":h,p=e.size,v=e.disabled,m=e.className,y=e.children,g=e.icon,k=e.ghost,b=void 0!==k&&k,w=e.block,x=void 0!==w&&w,E=e.htmlType,_=void 0===E?"button":E,I=Ln(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),S=r.useContext(ie),T=r.useContext(ne),C=v||T,N=r.useContext(Qe),A=c(r.useState(!!a),2),O=A[0],P=A[1],D=c(r.useState(!1),2),R=D[0],M=D[1],L=r.useContext(Z),F=L.getPrefixCls,V=L.autoInsertSpaceInButton,U=L.direction,j=t||r.createRef(),B=function(){return 1===r.Children.count(y)&&!g&&!Un(s)},z="boolean"===typeof a?a:(null===a||void 0===a?void 0:a.delay)||!0;r.useEffect((function(){var e=null;return"number"===typeof z?e=window.setTimeout((function(){e=null,P(z)}),z):P(z),function(){e&&(window.clearTimeout(e),e=null)}}),[z]),r.useEffect((function(){if(j&&j.current&&!1!==V){var e=j.current.textContent;B()&&Vn(e)?R||M(!0):R&&M(!1)}}),[j]);var q=function(t){var n=e.onClick;O||C?t.preventDefault():null===n||void 0===n||n(t)},K=F("btn",o),H=!1!==V,Q=N||p||S,$=Q&&{large:"lg",small:"sm",middle:void 0}[Q]||"",X=O?"loading":g,ee=J(I,["navigate"]),te=Y()(K,(W(n={},"".concat(K,"-").concat(d),"default"!==d&&d),W(n,"".concat(K,"-").concat(s),s),W(n,"".concat(K,"-").concat($),$),W(n,"".concat(K,"-icon-only"),!y&&0!==y&&!!X),W(n,"".concat(K,"-background-ghost"),b&&!Un(s)),W(n,"".concat(K,"-loading"),O),W(n,"".concat(K,"-two-chinese-chars"),R&&H&&!O),W(n,"".concat(K,"-block"),x),W(n,"".concat(K,"-dangerous"),!!f),W(n,"".concat(K,"-rtl"),"rtl"===U),W(n,"".concat(K,"-disabled"),void 0!==ee.href&&C),n),m),re=g&&!O?g:r.createElement(Mn,{existIcon:!!g,prefixCls:K,loading:!!O}),ae=y||0===y?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t=G(e),r="string"===t||"number"===t;if(n&&r){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);n=r})),r.Children.map(i,(function(e){return jn(e,t)}))}(y,B()&&H):null;if(void 0!==ee.href)return r.createElement("a",l({},ee,{className:te,onClick:q,ref:j}),re,ae);var oe=r.createElement("button",l({},I,{type:_,className:te,onClick:q,disabled:C,ref:j}),re,ae);return Un(s)?oe:r.createElement(We,{disabled:!!O},oe)},zn=r.forwardRef(Bn);zn.Group=Ye,zn.__ANT_BUTTON=!0;var qn=zn;function Kn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Hn(e,t,n){return Hn=ve()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&he(i,n.prototype),i},Hn.apply(null,arguments)}function Wn(e){var t="function"===typeof Map?new Map:void 0;return Wn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Hn(e,arguments,pe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),he(n,e)},Wn(e)}var Gn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Qn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Yn=function(e){return function(e){var t=Gn(e);return Qn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$n=function(e){try{return Qn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Xn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Xn(e[n],t[n]));return e}var Jn=function(){function e(){var t=this;se(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return le(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Zn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yn(JSON.stringify({alg:"none",type:"JWT"})),Yn(JSON.stringify(a)),""].join(".")}function er(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function tr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function nr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function rr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ir(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ar(){var e=er();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function or(){return"object"===typeof indexedDB}var ur=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(fe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(fe(a),sr.prototype.create),a}return le(n)}(Wn(Error)),sr=function(){function e(t,n,r){se(this,e),this.service=t,this.serviceName=n,this.errors=r}return le(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?cr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ur(n,a,t);return o}}]),e}();function cr(e,t){return e.replace(lr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var lr=/\{\$([^}]+)}/g;function fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(dr(u)&&dr(s)){if(!hr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function dr(e){return null!==e&&"object"===typeof e}function pr(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function vr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function mr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function yr(e,t){var n=new gr(e,t);return n.subscribe.bind(n)}var gr=function(){function e(t,n){var r=this;se(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return le(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Kn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=kr),void 0===r.error&&(r.error=kr),void 0===r.complete&&(r.complete=kr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function kr(){}function br(e){return e&&e._delegate?e._delegate:e}function wr(){wr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==G(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function xr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Er(e){return function(e){if(Array.isArray(e))return o(e)}(e)||xr(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ir(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_r(a,r,i,o,u,"next",e)}function u(e){_r(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Sr=function(){function e(t,n,r){se(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return le(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Tr="[DEFAULT]",Cr=function(){function e(t,n){se(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return le(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Jn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch(s){}var t,n=Kn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Er(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Er(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Kn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Tr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;return this.component?this.component.multipleInstances?e:Tr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Nr,Ar,Or=function(){function e(t){se(this,e),this.name=t,this.providers=new Map}return le(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Cr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ar||(Ar={}));var Dr={debug:Ar.DEBUG,verbose:Ar.VERBOSE,info:Ar.INFO,warn:Ar.WARN,error:Ar.ERROR,silent:Ar.SILENT},Rr=Ar.INFO,Mr=(W(Nr={},Ar.DEBUG,"log"),W(Nr,Ar.VERBOSE,"log"),W(Nr,Ar.INFO,"info"),W(Nr,Ar.WARN,"warn"),W(Nr,Ar.ERROR,"error"),Nr),Lr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Mr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Fr=function(){function e(t){se(this,e),this.name=t,this._logLevel=Rr,this._logHandler=Lr,this._userLogHandler=null,Pr.push(this)}return le(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ar))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Dr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ar.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ar.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.INFO].concat(t)),this._logHandler.apply(this,[this,Ar.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.WARN].concat(t)),this._logHandler.apply(this,[this,Ar.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.ERROR].concat(t)),this._logHandler.apply(this,[this,Ar.ERROR].concat(t))}}]),e}();var Vr,Ur;var jr=new WeakMap,Br=new WeakMap,zr=new WeakMap,qr=new WeakMap,Kr=new WeakMap;var Hr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Br.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Wr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ur||(Ur=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yr(this),n),Qr(jr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qr(e.apply(Yr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Yr(this),t].concat(r));return zr.set(a,t.sort?t.sort():[t]),Qr(a)}}function Gr(e){return"function"===typeof e?Wr(e):(e instanceof IDBTransaction&&function(e){if(!Br.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Br.set(e,t)}}(e),t=e,(Vr||(Vr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Hr):e);var t}function Qr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Qr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&jr.set(t,e)})).catch((function(){})),Kr.set(t,e),t}(e);if(qr.has(e))return qr.get(e);var t=Gr(e);return t!==e&&(qr.set(e,t),Kr.set(t,e)),t}var Yr=function(e){return Kr.get(e)};var $r,Xr,Jr=["get","getKey","getAll","getAllKeys","count"],Zr=["put","add","delete","clear"],ei=new Map;function ti(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ei.get(t))return ei.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Zr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Jr.includes(n))){var a=function(){var e=Ir(wr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ei.set(t,a),a}}}Hr=function(e){return X(X({},e),{},{get:function(t,n,r){return ti(t,n)||e.get(t,n,r)},has:function(t,n){return!!ti(t,n)||e.has(t,n)}})}(Hr);var ni=function(){function e(t){se(this,e),this.container=t}return le(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ri="@firebase/app",ii="0.7.32",ai=new Fr("@firebase/app"),oi="[DEFAULT]",ui=(W($r={},ri,"fire-core"),W($r,"@firebase/app-compat","fire-core-compat"),W($r,"@firebase/analytics","fire-analytics"),W($r,"@firebase/analytics-compat","fire-analytics-compat"),W($r,"@firebase/app-check","fire-app-check"),W($r,"@firebase/app-check-compat","fire-app-check-compat"),W($r,"@firebase/auth","fire-auth"),W($r,"@firebase/auth-compat","fire-auth-compat"),W($r,"@firebase/database","fire-rtdb"),W($r,"@firebase/database-compat","fire-rtdb-compat"),W($r,"@firebase/functions","fire-fn"),W($r,"@firebase/functions-compat","fire-fn-compat"),W($r,"@firebase/installations","fire-iid"),W($r,"@firebase/installations-compat","fire-iid-compat"),W($r,"@firebase/messaging","fire-fcm"),W($r,"@firebase/messaging-compat","fire-fcm-compat"),W($r,"@firebase/performance","fire-perf"),W($r,"@firebase/performance-compat","fire-perf-compat"),W($r,"@firebase/remote-config","fire-rc"),W($r,"@firebase/remote-config-compat","fire-rc-compat"),W($r,"@firebase/storage","fire-gcs"),W($r,"@firebase/storage-compat","fire-gcs-compat"),W($r,"@firebase/firestore","fire-fst"),W($r,"@firebase/firestore-compat","fire-fst-compat"),W($r,"fire-js","fire-js"),W($r,"firebase","fire-js-all"),$r),si=new Map,ci=new Map;function li(e,t){try{e.container.addComponent(t)}catch(n){ai.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function fi(e,t){e.container.addOrOverwriteComponent(t)}function hi(e){var t=e.name;if(ci.has(t))return ai.debug("There were multiple attempts to register component ".concat(t,".")),!1;ci.set(t,e);var n,r=Kn(si.values());try{for(r.s();!(n=r.n()).done;){li(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function di(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oi;di(e,t).clearInstance(n)}function vi(){ci.clear()}var mi=(W(Xr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),W(Xr,"bad-app-name","Illegal App name: '{$appName}"),W(Xr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),W(Xr,"app-deleted","Firebase App named '{$appName}' already deleted"),W(Xr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),W(Xr,"invalid-log-argument","First argument to `onLog` must be null or a function."),W(Xr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),W(Xr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),W(Xr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),W(Xr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Xr),yi=new sr("app","Firebase",mi),gi=function(){function e(t,n,r){var i=this;se(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",(function(){return i}),"PUBLIC"))}return le(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}]),e}(),ki="9.9.4";function bi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:oi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw yi.create("bad-app-name",{appName:String(i)});var a=si.get(i);if(a){if(hr(e,a.options)&&hr(r,a.config))return a;throw yi.create("duplicate-app",{appName:i})}var o,u=new Or(i),s=Kn(ci.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new gi(e,r,u);return si.set(i,l),l}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi,t=si.get(e);if(!t)throw yi.create("no-app",{appName:e});return t}function xi(){return Array.from(si.values())}function Ei(e){return _i.apply(this,arguments)}function _i(){return(_i=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!si.has(n)){e.next=6;break}return si.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t,n){var r,i=null!==(r=ui[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ai.warn(u.join(" "))}hi(new Sr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Si(e,t){if(null!==e&&"function"!==typeof e)throw yi.create("invalid-log-argument");!function(e,t){var n,r=Kn(Pr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Dr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ar[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ti(e){var t;t=e,Pr.forEach((function(e){e.setLogLevel(t)}))}var Ci="firebase-heartbeat-store",Ni=null;function Ai(){return Ni||(Ni=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Qr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Qr(u.result),e.oldVersion,e.newVersion,Qr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ci)}}).catch((function(e){throw yi.create("idb-open",{originalErrorMessage:e.message})}))),Ni}function Oi(e){return Pi.apply(this,arguments)}function Pi(){return Pi=Ir(wr().mark((function e(t){var n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ai();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ci).objectStore(Ci).get(Mi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ur?ai.warn(e.t0.message):(i=yi.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),ai.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pi.apply(this,arguments)}function Di(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=Ir(wr().mark((function e(t,n){var r,i,a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ai();case 3:return i=e.sent,a=i.transaction(Ci,"readwrite"),o=a.objectStore(Ci),e.next=8,o.put(n,Mi(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ur?ai.warn(e.t0.message):(u=yi.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),ai.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ri.apply(this,arguments)}function Mi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Li=function(){function e(t){var n=this;se(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return le(e,[{key:"triggerHeartbeat",value:function(){var e=Ir(wr().mark((function e(){var t,n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Fi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Fi(),n=Vi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Yn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fi(){return(new Date).toISOString().substring(0,10)}function Vi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Kn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),zi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),zi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ui,ji,Bi=function(){function e(t){se(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return le(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(or()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Oi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Di(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Di(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Er(r.heartbeats),Er(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function zi(e){return Yn(JSON.stringify({version:2,heartbeats:e})).length}Ui="",hi(new Sr("platform-logger",(function(e){return new ni(e)}),"PRIVATE")),hi(new Sr("heartbeat",(function(e){return new Li(e)}),"PRIVATE")),Ii(ri,ii,Ui),Ii(ri,ii,"esm2017"),Ii("fire-js","");var qi=function(){function e(t,n){var r=this;se(this,e),this._delegate=t,this.firebase=n,li(t,new Sr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return le(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ei(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){li(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){fi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ki=(W(ji={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),W(ji,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ji),Hi=new sr("app-compat","Firebase",Ki);var Wi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=bi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(fr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ii,setLogLevel:Ti,onLog:Si,apps:null,SDK_VERSION:ki,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(hi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Hi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Xn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fr(n,e=e||oi))throw Hi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(qi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Xn(n,e)},createSubscribe:yr,ErrorFactory:sr,deepExtend:Xn}),n}(),Gi=new Fr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Gi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qi=self.firebase.SDK_VERSION;Qi&&Qi.indexOf("LITE")>=0&&Gi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Yi=Wi;!function(e){Ii("@firebase/app-compat","0.1.33",e)}();function $i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}function Xi(){return Xi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=$i(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xi.apply(this,arguments)}Yi.registerVersion("firebase","9.9.4","app-compat");var Ji,Zi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ea={},ta=ta||{},na=Zi||self;function ra(){}function ia(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function aa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oa="closure_uid_"+(1e9*Math.random()>>>0),ua=0;function sa(e,t,n){return e.call.apply(e.bind,arguments)}function ca(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function la(e,t,n){return(la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ca).apply(null,arguments)}function fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ha(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function da(){this.s=this.s,this.o=this.o}var pa={};da.prototype.s=!1,da.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,oa)&&e[oa]||(e[oa]=++ua)}(this);delete pa[e]}},da.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var va=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ma=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ya(e){return Array.prototype.concat.apply([],arguments)}function ga(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ka(e){return/^[\s\xa0]*$/.test(e)}var ba,wa=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xa(e,t){return-1!=e.indexOf(t)}function Ea(e,t){return e<t?-1:e>t?1:0}e:{var _a=na.navigator;if(_a){var Ia=_a.userAgent;if(Ia){ba=Ia;break e}}ba=""}function Sa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ta(e){var t={};for(var n in e)t[n]=e[n];return t}var Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ca.length;a++)n=Ca[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Aa(e){return Aa[" "](e),e}Aa[" "]=ra;var Oa,Pa=xa(ba,"Opera"),Da=xa(ba,"Trident")||xa(ba,"MSIE"),Ra=xa(ba,"Edge"),Ma=Ra||Da,La=xa(ba,"Gecko")&&!(xa(ba.toLowerCase(),"webkit")&&!xa(ba,"Edge"))&&!(xa(ba,"Trident")||xa(ba,"MSIE"))&&!xa(ba,"Edge"),Fa=xa(ba.toLowerCase(),"webkit")&&!xa(ba,"Edge");function Va(){var e=na.document;return e?e.documentMode:void 0}e:{var Ua="",ja=function(){var e=ba;return La?/rv:([^\);]+)(\)|;)/.exec(e):Ra?/Edge\/([\d\.]+)/.exec(e):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fa?/WebKit\/(\S+)/.exec(e):Pa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ja&&(Ua=ja?ja[1]:""),Da){var Ba=Va();if(null!=Ba&&Ba>parseFloat(Ua)){Oa=String(Ba);break e}}Oa=Ua}var za,qa={};function Ka(){return function(e){var t=qa;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=wa(String(Oa)).split("."),n=wa("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ea(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ea(0==a[2].length,0==o[2].length)||Ea(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(na.document&&Da){var Ha=Va();za=Ha||(parseInt(Oa,10)||void 0)}else za=void 0;var Wa=za,Ga=function(){if(!na.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{na.addEventListener("test",ra,t),na.removeEventListener("test",ra,t)}catch(n){}return e}();function Qa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ya(e,t){if(Qa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(La){e:{try{Aa(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$a[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ya.Z.h.call(this)}}Qa.prototype.h=function(){this.defaultPrevented=!0},ha(Ya,Qa);var $a={2:"touch",3:"pen",4:"mouse"};Ya.prototype.h=function(){Ya.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xa="closure_listenable_"+(1e6*Math.random()|0),Ja=0;function Za(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ja,this.ca=this.fa=!1}function eo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function to(e){this.src=e,this.g={},this.h=0}function no(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=va(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(eo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ro(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}to.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ro(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Za(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var io="closure_lm_"+(1e6*Math.random()|0),ao={};function oo(e,t,n,r,i){if(r&&r.once)return so(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)oo(e,t[a],n,r,i);return null}return n=mo(n),e&&e[Xa]?e.N(t,n,aa(r)?!!r.capture:!!r,i):uo(e,t,n,!1,r,i)}function uo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=aa(i)?!!i.capture:!!i,u=po(e);if(u||(e[io]=u=new to(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ho;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ga||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function so(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)so(e,t[a],n,r,i);return null}return n=mo(n),e&&e[Xa]?e.O(t,n,aa(r)?!!r.capture:!!r,i):uo(e,t,n,!0,r,i)}function co(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)co(e,t[a],n,r,i);else r=aa(r)?!!r.capture:!!r,n=mo(n),e&&e[Xa]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ro(a=e.g[t],n,r,i))&&(eo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=po(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ro(t,n,r,i)),(n=-1<e?t[e]:null)&&lo(n))}function lo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Xa])no(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=po(t))?(no(n,e),0==n.h&&(n.src=null,t[io]=null)):eo(e)}}}function fo(e){return e in ao?ao[e]:ao[e]="on"+e}function ho(e,t){if(e.ca)e=!0;else{t=new Ya(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&lo(e),e=n.call(r,t)}return e}function po(e){return(e=e[io])instanceof to?e:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(e){return"function"===typeof e?e:(e[vo]||(e[vo]=function(t){return e.handleEvent(t)}),e[vo])}function yo(){da.call(this),this.i=new to(this),this.P=this,this.I=null}function go(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Qa(t,e);else if(t instanceof Qa)t.target=t.target||e;else{var i=t;Na(t=new Qa(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ko(o,r,!0,t)&&i}if(i=ko(o=t.g=e,r,!0,t)&&i,i=ko(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ko(o=t.g=n[a],r,!1,t)&&i}function ko(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&no(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ha(yo,da),yo.prototype[Xa]=!0,yo.prototype.removeEventListener=function(e,t,n,r){co(this,e,t,n,r)},yo.prototype.M=function(){if(yo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eo(n[r]);delete t.g[e],t.h--}}this.I=null},yo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bo=na.JSON.stringify;function wo(){var e=No,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xo,Eo=function(){function e(){se(this,e),this.h=this.g=null}return le(e,[{key:"add",value:function(e,t){var n=_o.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_o=new(function(){function e(t,n){se(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return le(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Io}),(function(e){return e.reset()})),Io=function(){function e(){se(this,e),this.next=this.g=this.h=null}return le(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function So(e){na.setTimeout((function(){throw e}),0)}function To(e,t){xo||function(){var e=na.Promise.resolve(void 0);xo=function(){e.then(Ao)}}(),Co||(xo(),Co=!0),No.add(e,t)}var Co=!1,No=new Eo;function Ao(){for(var e;e=wo();){try{e.h.call(e.g)}catch(n){So(n)}var t=_o;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Co=!1}function Oo(e,t){yo.call(this),this.h=e||1,this.g=t||na,this.j=la(this.kb,this),this.l=Date.now()}function Po(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Do(e,t,n){if("function"===typeof e)n&&(e=la(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=la(e.handleEvent,e)}return 2147483647<Number(t)?-1:na.setTimeout(e,t||0)}function Ro(e){e.g=Do((function(){e.g=null,e.i&&(e.i=!1,Ro(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ha(Oo,yo),(Ji=Oo.prototype).da=!1,Ji.S=null,Ji.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),go(this,"tick"),this.da&&(Po(this),this.start()))}},Ji.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ji.M=function(){Oo.Z.M.call(this),Po(this),delete this.g};var Mo=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return le(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ro(this)}},{key:"M",value:function(){Xi(pe(n.prototype),"M",this).call(this),this.g&&(na.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(da);function Lo(e){da.call(this),this.h=e,this.g={}}ha(Lo,da);var Fo=[];function Vo(e,t,n,r){Array.isArray(n)||(n&&(Fo[0]=n.toString()),n=Fo);for(var i=0;i<n.length;i++){var a=oo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Uo(e){Sa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&lo(e)}),e),e.g={}}function jo(){this.g=!0}function Bo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return bo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Lo.prototype.M=function(){Lo.Z.M.call(this),Uo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jo.prototype.Aa=function(){this.g=!1},jo.prototype.info=function(){};var zo={},qo=null;function Ko(){return qo=qo||new yo}function Ho(e){Qa.call(this,zo.Ma,e)}function Wo(e){var t=Ko();go(t,new Ho(t,e))}function Go(e,t){Qa.call(this,zo.STAT_EVENT,e),this.stat=t}function Qo(e){var t=Ko();go(t,new Go(t,e))}function Yo(e,t){Qa.call(this,zo.Na,e),this.size=t}function $o(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return na.setTimeout((function(){e()}),t)}zo.Ma="serverreachability",ha(Ho,Qa),zo.STAT_EVENT="statevent",ha(Go,Qa),zo.Na="timingevent",ha(Yo,Qa);var Xo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zo(){}function eu(e){return e.h||(e.h=e.i())}function tu(){}Zo.prototype.h=null;var nu,ru={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function iu(){Qa.call(this,"d")}function au(){Qa.call(this,"c")}function ou(){}function uu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Lo(this),this.P=cu,e=Ma?125:void 0,this.W=new Oo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}ha(iu,Qa),ha(au,Qa),ha(ou,Zo),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},nu=new ou;var cu=45e3,lu={},fu={};function hu(e,t,n){e.K=1,e.v=Mu(Nu(t)),e.s=n,e.U=!0,du(e,null)}function du(e,t){e.F=Date.now(),yu(e),e.A=Nu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Qu(n.h,"t",r),e.C=0,n=e.l.H,e.h=new su,e.g=$s(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Mo(la(e.Ia,e,e.g),e.O)),Vo(e.V,e.g,"readystatechange",e.gb),t=e.H?Ta(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Wo(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function pu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function vu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mu(e,n))==fu){4==t&&(e.o=4,Qo(14),i=!1),Bo(e.j,e.m,null,"[Incomplete Response]");break}if(r==lu){e.o=4,Qo(15),Bo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bo(e.j,e.m,r,null),xu(e,r)}pu(e)&&r!=fu&&r!=lu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zs(t),t.L=!0,Qo(11))):(Bo(e.j,e.m,n,"[Invalid Chunked Response]"),wu(e),bu(e))}function mu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fu:(n=Number(t.substring(n,r)),isNaN(n)?lu:(r+=1)+n>t.length?fu:(t=t.substr(r,n),e.C=r+n,t))}function yu(e){e.Y=Date.now()+e.P,gu(e,e.P)}function gu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$o(la(e.eb,e),t)}function ku(e){e.B&&(na.clearTimeout(e.B),e.B=null)}function bu(e){0==e.l.G||e.I||Hs(e.l,e)}function wu(e){ku(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Po(e.W),Uo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ns(n.i,e)))if(n.I=e.N,!e.J&&ns(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ks(n),Ds(n)}Bs(n),Qo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=$o(la(n.ab,n),6e3));if(1>=ts(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Gs(n,11)}else if((e.J||n.g==e)&&Ks(n),!ka(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(xa(l,"spdy")||xa(l,"quic")||xa(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(rs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ru(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ys(r,r.H?r.la:null,r.W),d.J){is(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ku(p),yu(p)),r.g=d}else js(r);0<n.l.length&&Ls(n)}else"stop"!=a[0]&&"close"!=a[0]||Gs(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gs(n,7):Ps(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Wo(4)}catch(a){}}function Eu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ia(e)||"string"===typeof e)ma(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ia(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ia(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function _u(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _u)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Iu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Su(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Su(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Su(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ji=uu.prototype).setTimeout=function(e){this.P=e},Ji.gb=function(e){e=e.target;var t=this.L;t&&3==Ts(e)?t.l():this.Ia(e)},Ji.Ia=function(e){try{if(e==this.g)e:{var t=Ts(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ma||this.g&&(this.h.h||this.g.ga()||Cs(this.g)))){this.I||4!=t||7==n||Wo(8==n||0>=r?3:2),ku(this);var i=this.g.ba();this.N=i;t:if(pu(this)){var a=Cs(this.g);e="";var o=a.length,u=4==Ts(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wu(this),bu(this);var s="";break t}this.h.i=new na.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ka(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Qo(12),wu(this),bu(this);break e}Bo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xu(this,i)}this.U?(vu(this,t,s),Ma&&this.i&&3==t&&(Vo(this.V,this.W,"tick",this.fb),this.W.start())):(Bo(this.j,this.m,s,null),xu(this,s)),4==t&&wu(this),this.i&&!this.I&&(4==t?Hs(this.l,this):(this.i=!1,yu(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Qo(12)):(this.o=0,Qo(13)),wu(this),bu(this)}}}catch(t){}},Ji.fb=function(){if(this.g){var e=Ts(this.g),t=this.g.ga();this.C<t.length&&(ku(this),vu(this,e,t),this.i&&4!=e&&yu(this))}},Ji.cancel=function(){this.I=!0,wu(this)},Ji.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Wo(3),Qo(17)),wu(this),this.o=2,bu(this)):gu(this,this.Y-e)},(Ji=_u.prototype).R=function(){Iu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ji.T=function(){return Iu(this),this.g.concat()},Ji.get=function(e,t){return Su(this.h,e)?this.h[e]:t},Ji.set=function(e,t){Su(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ji.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Tu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Cu){this.g=void 0!==t?t:e.g,Au(this,e.j),this.s=e.s,Ou(this,e.i),Pu(this,e.m),this.l=e.l,t=e.h;var n=new Ku;n.i=t.i,t.g&&(n.g=new _u(t.g),n.h=t.h),Du(this,n),this.o=e.o}else e&&(n=String(e).match(Tu))?(this.g=!!t,Au(this,n[1]||"",!0),this.s=Lu(n[2]||""),Ou(this,n[3]||"",!0),Pu(this,n[4]),this.l=Lu(n[5]||"",!0),Du(this,n[6]||"",!0),this.o=Lu(n[7]||"")):(this.g=!!t,this.h=new Ku(null,this.g))}function Nu(e){return new Cu(e)}function Au(e,t,n){e.j=n?Lu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ou(e,t,n){e.i=n?Lu(t,!0):t}function Pu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Du(e,t,n){t instanceof Ku?(e.h=t,function(e,t){t&&!e.j&&(Hu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wu(this,t),Qu(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Fu(t,zu)),e.h=new Ku(t,e.g))}function Ru(e,t,n){e.h.set(t,n)}function Mu(e){return Ru(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fu(t,Uu,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Fu(t,Uu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fu(n,"/"==n.charAt(0)?Bu:ju,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fu(n,qu)),e.join("")};var Uu=/[#\/\?@]/g,ju=/[#\?:]/g,Bu=/[#\?]/g,zu=/[#\?@]/g,qu=/#/g;function Ku(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hu(e){e.g||(e.g=new _u,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wu(e,t){Hu(e),t=Yu(e,t),Su(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Su((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Iu(e)))}function Gu(e,t){return Hu(e),t=Yu(e,t),Su(e.g.h,t)}function Qu(e,t,n){Wu(e,t),0<n.length&&(e.i=null,e.g.set(Yu(e,t),ga(n)),e.h+=n.length)}function Yu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ji=Ku.prototype).add=function(e,t){Hu(this),this.i=null,e=Yu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ji.forEach=function(e,t){Hu(this),this.g.forEach((function(n,r){ma(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ji.T=function(){Hu(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ji.R=function(e){Hu(this);var t=[];if("string"===typeof e)Gu(this,e)&&(t=ya(t,this.g.get(Yu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ya(t,e[n])}return t},Ji.set=function(e,t){return Hu(this),this.i=null,Gu(this,e=Yu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ji.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ji.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var $u=le((function e(t,n){se(this,e),this.h=t,this.g=n}));function Xu(e){this.l=e||Zu,na.PerformanceNavigationTiming?e=0<(e=na.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(na.g&&na.g.Ea&&na.g.Ea()&&na.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ju,Zu=10;function es(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ts(e){return e.h?1:e.g?e.g.size:0}function ns(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rs(e,t){e.g?e.g.add(t):e.h=t}function is(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function as(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Kn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ga(e.i)}function os(){}function us(){this.g=new os}function ss(e,t,n){var r=n||"";try{Eu(e,(function(e,n){var i=e;aa(e)&&(i=bo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ls(e){this.l=e.$b||null,this.j=e.ib||!1}function fs(e,t){yo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xu.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Kn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},os.prototype.stringify=function(e){return na.JSON.stringify(e,void 0)},os.prototype.parse=function(e){return na.JSON.parse(e,void 0)},ha(ls,Zo),ls.prototype.g=function(){return new fs(this.l,this.j)},ls.prototype.i=(Ju={},function(){return Ju}),ha(fs,yo);var hs=0;function ds(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ps(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vs(e)}function vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ji=fs.prototype).open=function(e,t){if(this.readyState!=hs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vs(this)},Ji.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||na).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ji.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ps(this)),this.readyState=hs},Ji.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof na.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ds(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ji.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ps(this):vs(this),3==this.readyState&&ds(this)}},Ji.Ua=function(e){this.g&&(this.response=this.responseText=e,ps(this))},Ji.Ta=function(e){this.g&&(this.response=e,ps(this))},Ji.ha=function(){this.g&&ps(this)},Ji.setRequestHeader=function(e,t){this.v.append(e,t)},Ji.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ji.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ms=na.JSON.parse;function ys(e){yo.call(this),this.headers=new _u,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gs,this.K=this.L=!1}ha(ys,yo);var gs="",ks=/^https?$/i,bs=["POST","PUT"];function ws(e){return"content-type"==e.toLowerCase()}function xs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Es(e),Is(e)}function Es(e){e.D||(e.D=!0,go(e,"complete"),go(e,"error"))}function _s(e){if(e.h&&"undefined"!=typeof ta&&(!e.C[1]||4!=Ts(e)||2!=e.ba()))if(e.v&&4==Ts(e))Do(e.Fa,0,e);else if(go(e,"readystatechange"),4==Ts(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Tu)[1]||null;if(!a&&na.self&&na.self.location){var o=na.self.location.protocol;a=o.substr(0,o.length-1)}i=!ks.test(a?a.toLowerCase():"")}t=i}if(t)go(e,"complete"),go(e,"success");else{e.m=6;try{var u=2<Ts(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Es(e)}}finally{Is(e)}}}function Is(e,t){if(e.g){Ss(e);var n=e.g,r=e.C[0]?ra:null;e.g=null,e.C=null,t||go(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ss(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(na.clearTimeout(e.A),e.A=null)}function Ts(e){return e.g?e.g.readyState:0}function Cs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case gs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ns(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Sa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ru(e,t,n))}function As(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Os(e){this.za=0,this.l=[],this.h=new jo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=As("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=As("baseRetryDelayMs",5e3,e),this.$a=As("retryDelaySeedMs",1e4,e),this.Ya=As("forwardChannelMaxRetries",2,e),this.ra=As("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Xu(e&&e.concurrentRequestLimit),this.Ca=new us,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ps(e){if(Rs(e),3==e.G){var t=e.V++,n=Nu(e.F);Ru(n,"SID",e.J),Ru(n,"RID",t),Ru(n,"TYPE","terminate"),Vs(e,n),(t=new uu(e,e.h,t,void 0)).K=2,t.v=Mu(Nu(n)),n=!1,na.navigator&&na.navigator.sendBeacon&&(n=na.navigator.sendBeacon(t.v.toString(),"")),!n&&na.Image&&((new Image).src=t.v,n=!0),n||(t.g=$s(t.l,null),t.g.ea(t.v)),t.F=Date.now(),yu(t)}Qs(e)}function Ds(e){e.g&&(zs(e),e.g.cancel(),e.g=null)}function Rs(e){Ds(e),e.u&&(na.clearTimeout(e.u),e.u=null),Ks(e),e.i.cancel(),e.m&&("number"===typeof e.m&&na.clearTimeout(e.m),e.m=null)}function Ms(e,t){e.l.push(new $u(e.Za++,t)),3==e.G&&Ls(e)}function Ls(e){es(e.i)||e.m||(e.m=!0,To(e.Ha,e),e.C=0)}function Fs(e,t){var n;n=t?t.m:e.V++;var r=Nu(e.F);Ru(r,"SID",e.J),Ru(r,"RID",n),Ru(r,"AID",e.U),Vs(e,r),e.o&&e.s&&Ns(r,e.o,e.s),n=new uu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Us(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),rs(e.i,n),hu(n,r,t)}function Vs(e,t){e.j&&Eu({},(function(e,n){Ru(t,n,e)}))}function Us(e,t,n){n=Math.min(e.l.length,n);var r=e.j?la(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ss(l,o,"req"+c+"_")}catch(_c){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function js(e){e.g||e.u||(e.Y=1,To(e.Ga,e),e.A=0)}function Bs(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=$o(la(e.Ga,e),Ws(e,e.A)),e.A++,!0)}function zs(e){null!=e.B&&(na.clearTimeout(e.B),e.B=null)}function qs(e){e.g=new uu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Nu(e.oa);Ru(t,"RID","rpc"),Ru(t,"SID",e.J),Ru(t,"CI",e.N?"0":"1"),Ru(t,"AID",e.U),Vs(e,t),Ru(t,"TYPE","xmlhttp"),e.o&&e.s&&Ns(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Mu(Nu(t)),n.s=null,n.U=!0,du(n,e)}function Ks(e){null!=e.v&&(na.clearTimeout(e.v),e.v=null)}function Hs(e,t){var n=null;if(e.g==t){Ks(e),zs(e),e.g=null;var r=2}else{if(!ns(e.i,t))return;n=t.D,is(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;go(r=Ko(),new Yo(r,n,t,i)),Ls(e)}else js(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ts(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=$o(la(e.Ha,e,t),Ws(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gs(e,5);break;case 4:Gs(e,10);break;case 3:Gs(e,6);break;default:Gs(e,2)}}function Ws(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Gs(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=la(e.jb,e);n||(n=new Cu("//www.google.com/images/cleardot.gif"),na.location&&"http"==na.location.protocol||Au(n,"https"),Mu(n)),function(e,t){var n=new jo;if(na.Image){var r=new Image;r.onload=fa(cs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fa(cs,n,r,"TestLoadImage: error",!1,t),r.onabort=fa(cs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fa(cs,n,r,"TestLoadImage: timeout",!1,t),na.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qo(2);e.G=0,e.j&&e.j.va(t),Qs(e),Rs(e)}function Qs(e){e.G=0,e.I=-1,e.j&&(0==as(e.i).length&&0==e.l.length||(e.i.i.length=0,ga(e.l),e.l.length=0),e.j.ua())}function Ys(e,t,n){var r=function(e){return e instanceof Cu?Nu(e):new Cu(e,void 0)}(n);if(""!=r.i)t&&Ou(r,t+"."+r.i),Pu(r,r.m);else{var i=na.location;r=function(e,t,n,r){var i=new Cu(null,void 0);return e&&Au(i,e),t&&Ou(i,t),n&&Pu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Sa(e.aa,(function(e,t){Ru(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ru(r,t,n),Ru(r,"VER",e.ma),Vs(e,r),r}function $s(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ys(new ls({ib:!0})):new ys(e.qa)).L=e.H,t}function Xs(){}function Js(){if(Da&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function Zs(e,t){yo.call(this),this.g=new Os(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ka(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ka(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nc(this)}function ec(e){iu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tc(){au.call(this),this.status=1}function nc(e){this.g=e}(Ji=ys.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nu.g(),this.C=this.u?eu(this.u):eu(nu),this.g.onreadystatechange=la(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void xs(this,a)}e=n||"";var i=new _u(this.headers);r&&Eu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ws,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=na.FormData&&e instanceof na.FormData,!(0<=va(bs,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ss(this),0<this.B&&((this.K=function(e){return Da&&Ka()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=la(this.pa,this)):this.A=Do(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){xs(this,a)}},Ji.pa=function(){"undefined"!=typeof ta&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,go(this,"timeout"),this.abort(8))},Ji.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,go(this,"complete"),go(this,"abort"),Is(this))},Ji.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Is(this,!0)),ys.Z.M.call(this)},Ji.Fa=function(){this.s||(this.F||this.v||this.l?_s(this):this.cb())},Ji.cb=function(){_s(this)},Ji.ba=function(){try{return 2<Ts(this)?this.g.status:-1}catch(Ju){return-1}},Ji.ga=function(){try{return this.g?this.g.responseText:""}catch(Ju){return""}},Ji.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ms(t)}},Ji.Da=function(){return this.m},Ji.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ji=Os.prototype).ma=8,Ji.G=1,Ji.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ji.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new uu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Na(n=Ta(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Us(this,t,r),Ru(i=Nu(this.F),"RID",e),Ru(i,"CVER",22),this.D&&Ru(i,"X-HTTP-Session-Id",this.D),Vs(this,i),this.o&&n&&Ns(i,this.o,n),rs(this.i,t),this.Ra&&Ru(i,"TYPE","init"),this.ja?(Ru(i,"$req",r),Ru(i,"SID","null"),t.$=!0,hu(t,i,null)):hu(t,i,r),this.G=2}}else 3==this.G&&(e?Fs(this,e):0==this.l.length||es(this.i)||Fs(this))},Ji.Ga=function(){if(this.u=null,qs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=$o(la(this.bb,this),e)}},Ji.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qo(10),Ds(this),qs(this))},Ji.ab=function(){null!=this.v&&(this.v=null,Ds(this),Bs(this),Qo(19))},Ji.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Qo(2)):(this.h.info("Failed to ping google.com"),Qo(1))},(Ji=Xs.prototype).xa=function(){},Ji.wa=function(){},Ji.va=function(){},Ji.ua=function(){},Ji.Oa=function(){},Js.prototype.g=function(e,t){return new Zs(e,t)},ha(Zs,yo),Zs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),To(la(e.hb,e,t))),Qo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ys(e,null,e.W),Ls(e)},Zs.prototype.close=function(){Ps(this.g)},Zs.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ms(this.g,t)}else this.v?((t={}).__data__=bo(e),Ms(this.g,t)):Ms(this.g,e)},Zs.prototype.M=function(){this.g.j=null,delete this.j,Ps(this.g),delete this.g,Zs.Z.M.call(this)},ha(ec,iu),ha(tc,au),ha(nc,Xs),nc.prototype.xa=function(){go(this.g,"a")},nc.prototype.wa=function(e){go(this.g,new ec(e))},nc.prototype.va=function(e){go(this.g,new tc(e))},nc.prototype.ua=function(){go(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,Jo.COMPLETE="complete",tu.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",yo.prototype.listen=yo.prototype.N,ys.prototype.listenOnce=ys.prototype.O,ys.prototype.getLastError=ys.prototype.La,ys.prototype.getLastErrorCode=ys.prototype.Da,ys.prototype.getStatus=ys.prototype.ba,ys.prototype.getResponseJson=ys.prototype.Qa,ys.prototype.getResponseText=ys.prototype.ga,ys.prototype.send=ys.prototype.ea;var rc=ea.createWebChannelTransport=function(){return new Js},ic=ea.getStatEventTarget=function(){return Ko()},ac=ea.ErrorCode=Xo,oc=ea.EventType=Jo,uc=ea.Event=zo,sc=ea.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cc=ea.FetchXmlHttpFactory=ls,lc=ea.WebChannel=tu,fc=ea.XhrIo=ys,hc="@firebase/firestore",dc=function(){function e(t){se(this,e),this.uid=t}return le(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();dc.UNAUTHENTICATED=new dc(null),dc.GOOGLE_CREDENTIALS=new dc("google-credentials-uid"),dc.FIRST_PARTY=new dc("first-party-uid"),dc.MOCK_USER=new dc("mock-user");var pc="9.9.4",vc=new Fr("@firebase/firestore");function mc(){return vc.logLevel}function yc(e){if(vc.logLevel<=Ar.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bc);vc.debug.apply(vc,["Firestore (".concat(pc,"): ").concat(e)].concat(Er(i)))}}function gc(e){if(vc.logLevel<=Ar.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bc);vc.error.apply(vc,["Firestore (".concat(pc,"): ").concat(e)].concat(Er(i)))}}function kc(e){if(vc.logLevel<=Ar.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bc);vc.warn.apply(vc,["Firestore (".concat(pc,"): ").concat(e)].concat(Er(i)))}}function bc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(pc,") INTERNAL ASSERTION FAILED: ")+e;throw gc(t),new Error(t)}function xc(e,t){e||wc()}function Ec(e,t){return e}var _c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ic=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return le(n)}(ur),Sc=le((function e(){var t=this;se(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Tc=le((function e(t,n){se(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cc=function(){function e(){se(this,e)}return le(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Nc=function(){function e(t){se(this,e),this.token=t,this.changeListener=null}return le(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ac=function(){function e(t){se(this,e),this.t=t,this.currentUser=dc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return le(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Sc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Sc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){yc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(yc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(yc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xc("string"==typeof n.accessToken),new Tc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xc(null===e||"string"==typeof e),new dc(e)}}]),e}(),Oc=function(){function e(t,n,r,i){se(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=dc.FIRST_PARTY,this.p=new Map}return le(e,[{key:"I",value:function(){return this.g?this.g():(xc(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Pc=function(){function e(t,n,r,i){se(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return le(e,[{key:"getToken",value:function(){return Promise.resolve(new Oc(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Dc=le((function e(t){se(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Rc=function(){function e(t){se(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return le(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&yc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,yc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){yc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):yc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xc("string"==typeof t.token),e.A=t.token,new Dc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Mc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Lc=function(){function e(){se(this,e)}return le(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Mc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fc(e,t){return e<t?-1:e>t?1:0}function Vc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Uc(e){return e+"\0"}var jc=function(){function e(t,n){if(se(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ic(_c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ic(_c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ic(_c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ic(_c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return le(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fc(this.nanoseconds,e.nanoseconds):Fc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Bc=function(){function e(t){se(this,e),this.timestamp=t}return le(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new jc(0,0))}},{key:"max",value:function(){return new e(new jc(253402300799,999999999))}}]),e}(),zc=function(){function e(t,n,r){se(this,e),void 0===n?n=0:n>t.length&&wc(),void 0===r?r=t.length-n:r>t.length-n&&wc(),this.segments=t,this.offset=n,this.len=r}return le(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qc=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ic(_c.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Er(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zc),Kc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hc=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Kc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ic(_c.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ic(_c.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ic(_c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ic(_c.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zc),Wc=function(){function e(t){se(this,e),this.path=t}return le(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qc.fromString(t))}},{key:"fromName",value:function(t){return new e(qc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qc.emptyPath())}},{key:"comparator",value:function(e,t){return qc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qc(t.slice()))}}]),e}(),Gc=le((function e(t,n,r,i){se(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Qc(e){return e.fields.find((function(e){return 2===e.kind}))}function Yc(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gc.UNKNOWN_ID=-1;var $c=le((function e(t,n){se(this,e),this.fieldPath=t,this.kind=n}));var Xc=function(){function e(t,n){se(this,e),this.sequenceNumber=t,this.offset=n}return le(e,null,[{key:"empty",value:function(){return new e(0,el.min())}}]),e}();function Jc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bc.fromTimestamp(1e9===r?new jc(n+1,0):new jc(n,r));return new el(i,Wc.empty(),t)}function Zc(e){return new el(e.readTime,e.key,-1)}var el=function(){function e(t,n,r){se(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return le(e,null,[{key:"min",value:function(){return new e(Bc.min(),Wc.empty(),-1)}},{key:"max",value:function(){return new e(Bc.max(),Wc.empty(),-1)}}]),e}();function tl(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wc.comparator(e.documentKey,t.documentKey))?n:Fc(e.largestBatchId,t.largestBatchId)}var nl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rl=function(){function e(){se(this,e),this.onCommittedListeners=[]}return le(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function il(e){return al.apply(this,arguments)}function al(){return al=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_c.FAILED_PRECONDITION&&t.message===nl){e.next=2;break}throw t;case 2:yc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}var ol=function(){function e(t){var n=this;se(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return le(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&wc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Kn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ul=function(){function e(t,n){var r=this;se(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Sc,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new ll(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=vl(e.target.error);r.P.reject(new ll(t,n))}}return le(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(yc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new hl(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ll(n,t)}}}]),e}(),sl=function(){function e(t,n,r){se(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(er())&&gc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return le(e,[{key:"F",value:function(){var e=Ir(wr().mark((function e(t){var n=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return yc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ll(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ic(_c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ic(_c.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ll(t,n))},i.onupgradeneeded=function(e){yc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){yc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ir(wr().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(wr().mark((function e(){var n,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=ul.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ol.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,yc("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return yc("SimpleDb","Removing database:",e),dl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!or())return!1;if(e.N())return!0;var t=er(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),cl=function(){function e(t){se(this,e),this.U=t,this.q=!1,this.K=null}return le(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return dl(this.U.delete())}}]),e}(),ll=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,_c.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return le(n)}(Ic);function fl(e){return"IndexedDbTransactionError"===e.name}var hl=function(){function e(t){se(this,e),this.store=t}return le(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(yc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dl(n)}},{key:"add",value:function(e){return yc("SimpleDb","ADD",this.store.name,e,e),dl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return yc("SimpleDb","DELETE",this.store.name,e),dl(this.store.delete(e))}},{key:"count",value:function(){return yc("SimpleDb","COUNT",this.store.name),dl(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ol((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ol((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){yc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ol((function(n,r){t.onerror=function(e){var t=vl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ol((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new cl(i),o=t(i.primaryKey,i.value,a);if(o instanceof ol){var u=o.catch((function(e){return a.done(),ol.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ol.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dl(e){return new ol((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vl(e.target.error);n(t)}}))}var pl=!1;function vl(e){var t=sl.D(er());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ic("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return pl||(pl=!0,setTimeout((function(){throw r}),0)),r}}return e}var ml=function(){function e(t,n){se(this,e),this.asyncQueue=t,this.et=n,this.task=null}return le(e,[{key:"start",value:function(){this.nt(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;yc("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=yc,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!fl(e.t4)){e.next=17;break}yc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,il(e.t4);case 19:return e.next=21,t.nt(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),yl=function(){function e(t,n){se(this,e),this.localStore=t,this.persistence=n}return le(e,[{key:"st",value:function(){var e=Ir(wr().mark((function e(){var t,n=this,r=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ol.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return yc("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return yc("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Zc(t);tl(r,n)>0&&(n=r)})),new el(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),gl=function(){function e(t,n){var r=this;se(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return le(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function kl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}gl.at=-1;var xl=function(){function e(t,n){se(this,e),this.comparator=t,this.root=n||_l.EMPTY}return le(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_l.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_l.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new El(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new El(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new El(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new El(this.root,e,this.comparator,!0)}}]),e}(),El=function(){function e(t,n,r,i){se(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return le(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_l=function(){function e(t,n,r,i,a){se(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return le(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw wc();if(this.right.isRed())throw wc();var e=this.left.check();if(e!==this.right.check())throw wc();return e+(this.isRed()?0:1)}}]),e}();_l.EMPTY=null,_l.RED=!0,_l.BLACK=!1,_l.EMPTY=new(function(){function e(){se(this,e),this.size=0}return le(e,[{key:"key",get:function(){throw wc()}},{key:"value",get:function(){throw wc()}},{key:"color",get:function(){throw wc()}},{key:"left",get:function(){throw wc()}},{key:"right",get:function(){throw wc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _l(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Il=function(){function e(t){se(this,e),this.comparator=t,this.data=new xl(this.comparator)}return le(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sl=function(){function e(t){se(this,e),this.iter=t}return le(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Tl(e){return e.hasNext()?e.getNext():void 0}var Cl=function(){function e(t){se(this,e),this.fields=t,t.sort(Hc.comparator)}return le(e,[{key:"unionWith",value:function(t){var n,r=new Il(Hc.comparator),i=Kn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Kn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Kn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Vc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Nl=function(e){function t(e){se(this,t),this.binaryString=e}return le(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nl.EMPTY_BYTE_STRING=new Nl("");var Al=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ol(e){if(xc(!!e),"string"==typeof e){var t=0,n=Al.exec(e);if(xc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pl(e.seconds),nanos:Pl(e.nanos)}}function Pl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dl(e){return"string"==typeof e?Nl.fromBase64String(e):Nl.fromUint8Array(e)}function Rl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ml(e){var t=e.mapValue.fields.__previous_value__;return Rl(t)?Ml(t):t}function Ll(e){var t=Ol(e.mapValue.fields.__local_write_time__.timestampValue);return new jc(t.seconds,t.nanos)}var Fl=le((function e(t,n,r,i,a,o,u,s){se(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Vl=function(){function e(t,n){se(this,e),this.projectId=t,this.database=n||"(default)"}return le(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ul(e){return null==e}function jl(e){return 0===e&&1/e==-1/0}function Bl(e){return"number"==typeof e&&Number.isInteger(e)&&!jl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ql={nullValue:"NULL_VALUE"};function Kl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rl(e)?4:af(e)?9007199254740991:10:wc()}function Hl(e,t){if(e===t)return!0;var n=Kl(e);if(n!==Kl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ll(e).isEqual(Ll(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ol(e.timestampValue),r=Ol(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dl(e.bytesValue).isEqual(Dl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pl(e.geoPointValue.latitude)===Pl(t.geoPointValue.latitude)&&Pl(e.geoPointValue.longitude)===Pl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pl(e.integerValue)===Pl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Pl(e.doubleValue),r=Pl(t.doubleValue);return n===r?jl(n)===jl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vc(e.arrayValue.values||[],t.arrayValue.values||[],Hl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kl(n)!==kl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hl(n[i],r[i])))return!1;return!0}(e,t);default:return wc()}}function Wl(e,t){return void 0!==(e.values||[]).find((function(e){return Hl(e,t)}))}function Gl(e,t){if(e===t)return 0;var n=Kl(e),r=Kl(t);if(n!==r)return Fc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Pl(e.integerValue||e.doubleValue),r=Pl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ql(e.timestampValue,t.timestampValue);case 4:return Ql(Ll(e),Ll(t));case 5:return Fc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Dl(e),r=Dl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fc(n[i],r[i]);if(0!==a)return a}return Fc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fc(Pl(e.latitude),Pl(t.latitude));return 0!==n?n:Fc(Pl(e.longitude),Pl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Gl(n[i],r[i]);if(a)return a}return Fc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zl.mapValue&&t===zl.mapValue)return 0;if(e===zl.mapValue)return 1;if(t===zl.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Fc(r[o],a[o]);if(0!==u)return u;var s=Gl(n[r[o]],i[a[o]]);if(0!==s)return s}return Fc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw wc()}}function Ql(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fc(e,t);var n=Ol(e),r=Ol(t),i=Fc(n.seconds,r.seconds);return 0!==i?i:Fc(n.nanos,r.nanos)}function Yl(e){return $l(e)}function $l(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ol(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Kn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=$l(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Kn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat($l(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):wc();var t,n}function Xl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Jl(e){return!!e&&"integerValue"in e}function Zl(e){return!!e&&"arrayValue"in e}function ef(e){return!!e&&"nullValue"in e}function tf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nf(e){return!!e&&"mapValue"in e}function rf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=rf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function af(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function of(e){return"nullValue"in e?ql:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Xl(Vl.empty(),Wc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:wc()}function uf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Xl(Vl.empty(),Wc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?zl:wc()}function sf(e,t){var n=Gl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function cf(e,t){var n=Gl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var lf=function(){function e(t){se(this,e),this.value=t}return le(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!nf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(t)}},{key:"setAll",value:function(e){var t=this,n=Hc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=rf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Hl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];nf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bl(t,(function(t,n){return e[t]=n}));var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(rf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ff(e){var t=[];return bl(e.fields,(function(e,n){var r=new Hc([e]);if(nf(n)){var i=ff(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Kn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Cl(t)}var hf=function(){function e(t,n,r,i,a,o){se(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return le(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Bc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Bc.min(),Bc.min(),lf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Bc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bc.min(),lf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bc.min(),lf.empty(),2)}}]),e}(),df=le((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;se(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function pf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new df(e,t,n,r,i,a,o)}function vf(e){var t=Ec(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Yl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ul(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Yl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Yl(e)})).join(",")),t.ht=n}return t.ht}function mf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Pf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Hl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rf(e.startAt,t.startAt)&&Rf(e.endAt,t.endAt)}function yf(e){return Wc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gf(e,t){return e.filters.filter((function(e){return e instanceof wf&&e.field.isEqual(t)}))}function kf(e,t,n){var r,i=ql,a=!0,o=Kn(gf(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ql,c=!0;switch(u.op){case"<":case"<=":s=of(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ql}sf({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];sf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function bf(e,t,n){var r,i=zl,a=!0,o=Kn(gf(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=zl,c=!0;switch(u.op){case">=":case">":s=uf(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=zl}cf({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];cf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var wf=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return le(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Gl(t,this.value)):null!==t&&Kl(this.value)===Kl(t)&&this.ft(Gl(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wc()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new xf(e,t,r):"array-contains"===t?new Sf(e,r):"in"===t?new Tf(e,r):"not-in"===t?new Cf(e,r):"array-contains-any"===t?new Nf(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Ef(e,n):new _f(e,n)}}]),n}(function(){return le((function e(){se(this,e)}))}()),xf=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,e,r,i)).key=Wc.fromName(i.referenceValue),a}return le(n,[{key:"matches",value:function(e){var t=Wc.comparator(e.key,this.key);return this.ft(t)}}]),n}(wf),Ef=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,"in",r)).keys=If("in",r),i}return le(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wf),_f=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,"not-in",r)).keys=If("not-in",r),i}return le(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wf);function If(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wc.fromName(e.referenceValue)}))}var Sf=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"array-contains",r)}return le(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Zl(t)&&Wl(t.arrayValue,this.value)}}]),n}(wf),Tf=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"in",r)}return le(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Wl(this.value.arrayValue,t)}}]),n}(wf),Cf=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"not-in",r)}return le(n,[{key:"matches",value:function(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wl(this.value.arrayValue,t)}}]),n}(wf),Nf=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"array-contains-any",r)}return le(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Zl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Wl(t.value.arrayValue,e)}))}}]),n}(wf),Af=le((function e(t,n){se(this,e),this.position=t,this.inclusive=n})),Of=le((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";se(this,e),this.field=t,this.dir=n}));function Pf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Df(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wc.comparator(Wc.fromName(o.referenceValue),n.key):Gl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Rf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Hl(e.position[n],t.position[n]))return!1;return!0}var Mf=le((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;se(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Lf(e,t,n,r,i,a,o,u){return new Mf(e,t,n,r,i,a,o,u)}function Ff(e){return new Mf(e)}function Vf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Uf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jf(e){var t,n=Kn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Bf(e){return null!==e.collectionGroup}function zf(e){var t=Ec(e);if(null===t._t){t._t=[];var n=jf(t),r=Uf(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Of(n)),t._t.push(new Of(Hc.keyField(),"asc"));else{var i,a=!1,o=Kn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Of(Hc.keyField(),s))}}}return t._t}function qf(e){var t=Ec(e);if(!t.wt)if("F"===t.limitType)t.wt=pf(t.path,t.collectionGroup,zf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Kn(zf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Of(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;t.wt=pf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Kf(e,t,n){return new Mf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hf(e,t){return mf(qf(e),qf(t))&&e.limitType===t.limitType}function Wf(e){return"".concat(vf(qf(e)),"|lt:").concat(e.limitType)}function Gf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Yl(t.value));var t})).join(", "),"]")),Ul(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Yl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Yl(e)})).join(",")),"Target(".concat(t,")")}(qf(e)),"; limitType=").concat(e.limitType,")")}function Qf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Kn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Kn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Df(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Df(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zf(e),t))}(e,t)}function Yf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $f(e){return function(t,n){var r,i=!1,a=Kn(zf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Xf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Xf(e,t,n){var r=e.field.isKeyField()?Wc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gl(r,i):wc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wc()}}function Jf(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(t)?"-0":t}}function Zf(e){return{integerValue:""+e}}function eh(e,t){return Bl(t)?Zf(t):Jf(e,t)}var th=le((function e(){se(this,e),this._=void 0}));function nh(e,t,n){return e instanceof ah?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oh?uh(e,t):e instanceof sh?ch(e,t):function(e,t){var n=ih(e,t),r=fh(n)+fh(e.yt);return Jl(n)&&Jl(e.yt)?Zf(r):Jf(e.It,r)}(e,t)}function rh(e,t,n){return e instanceof oh?uh(e,t):e instanceof sh?ch(e,t):n}function ih(e,t){return e instanceof lh?Jl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ah=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n)}(th),oh=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).elements=e,r}return le(n)}(th);function uh(e,t){var n,r=hh(t),i=Kn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Hl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sh=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).elements=e,r}return le(n)}(th);function ch(e,t){var n,r=hh(t),i=Kn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Hl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lh=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).It=e,i.yt=r,i}return le(n)}(th);function fh(e){return Pl(e.integerValue||e.doubleValue)}function hh(e){return Zl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dh=le((function e(t,n){se(this,e),this.field=t,this.transform=n}));var ph=le((function e(t,n){se(this,e),this.version=t,this.transformResults=n})),vh=function(){function e(t,n){se(this,e),this.updateTime=t,this.exists=n}return le(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function mh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var yh=le((function e(){se(this,e)}));function gh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ah(e.key,vh.none()):new Eh(e.key,e.data,vh.none());var n,r=e.data,i=lf.empty(),a=new Il(Hc.comparator),o=Kn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new _h(e.key,i,new Cl(a.toArray()),vh.none())}function kh(e,t,n){e instanceof Eh?function(e,t,n){var r=e.value.clone(),i=Sh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _h?function(e,t,n){if(mh(e.precondition,t)){var r=Sh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ih(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bh(e,t,n,r){return e instanceof Eh?function(e,t,n,r){if(!mh(e.precondition,t))return n;var i=e.value.clone(),a=Th(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _h?function(e,t,n,r){if(!mh(e.precondition,t))return n;var i=Th(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ih(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return mh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wh(e,t){var n,r=null,i=Kn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ih(a.transform,o||null);null!=u&&(null===r&&(r=lf.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function xh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oh&&t instanceof oh||e instanceof sh&&t instanceof sh?Vc(e.elements,t.elements,Hl):e instanceof lh&&t instanceof lh?Hl(e.yt,t.yt):e instanceof ah&&t instanceof ah}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Eh=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return se(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return le(n,[{key:"getFieldMask",value:function(){return null}}]),n}(yh),_h=function(e){de(n,e);var t=ye(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return se(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return le(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(yh);function Ih(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Sh(e,t,n){var r=new Map;xc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,rh(o,u,n[i]))}return r}function Th(e,t,n){var r,i=new Map,a=Kn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,nh(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ch,Nh,Ah=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return le(n,[{key:"getFieldMask",value:function(){return null}}]),n}(yh),Oh=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return le(n,[{key:"getFieldMask",value:function(){return null}}]),n}(yh),Ph=le((function e(t){se(this,e),this.count=t}));function Dh(e){switch(e){default:return wc();case _c.CANCELLED:case _c.UNKNOWN:case _c.DEADLINE_EXCEEDED:case _c.RESOURCE_EXHAUSTED:case _c.INTERNAL:case _c.UNAVAILABLE:case _c.UNAUTHENTICATED:return!1;case _c.INVALID_ARGUMENT:case _c.NOT_FOUND:case _c.ALREADY_EXISTS:case _c.PERMISSION_DENIED:case _c.FAILED_PRECONDITION:case _c.ABORTED:case _c.OUT_OF_RANGE:case _c.UNIMPLEMENTED:case _c.DATA_LOSS:return!0}}function Rh(e){if(void 0===e)return gc("GRPC error has no .code"),_c.UNKNOWN;switch(e){case Ch.OK:return _c.OK;case Ch.CANCELLED:return _c.CANCELLED;case Ch.UNKNOWN:return _c.UNKNOWN;case Ch.DEADLINE_EXCEEDED:return _c.DEADLINE_EXCEEDED;case Ch.RESOURCE_EXHAUSTED:return _c.RESOURCE_EXHAUSTED;case Ch.INTERNAL:return _c.INTERNAL;case Ch.UNAVAILABLE:return _c.UNAVAILABLE;case Ch.UNAUTHENTICATED:return _c.UNAUTHENTICATED;case Ch.INVALID_ARGUMENT:return _c.INVALID_ARGUMENT;case Ch.NOT_FOUND:return _c.NOT_FOUND;case Ch.ALREADY_EXISTS:return _c.ALREADY_EXISTS;case Ch.PERMISSION_DENIED:return _c.PERMISSION_DENIED;case Ch.FAILED_PRECONDITION:return _c.FAILED_PRECONDITION;case Ch.ABORTED:return _c.ABORTED;case Ch.OUT_OF_RANGE:return _c.OUT_OF_RANGE;case Ch.UNIMPLEMENTED:return _c.UNIMPLEMENTED;case Ch.DATA_LOSS:return _c.DATA_LOSS;default:return wc()}}(Nh=Ch||(Ch={}))[Nh.OK=0]="OK",Nh[Nh.CANCELLED=1]="CANCELLED",Nh[Nh.UNKNOWN=2]="UNKNOWN",Nh[Nh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nh[Nh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nh[Nh.NOT_FOUND=5]="NOT_FOUND",Nh[Nh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nh[Nh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nh[Nh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nh[Nh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nh[Nh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nh[Nh.ABORTED=10]="ABORTED",Nh[Nh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nh[Nh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nh[Nh.INTERNAL=13]="INTERNAL",Nh[Nh.UNAVAILABLE=14]="UNAVAILABLE",Nh[Nh.DATA_LOSS=15]="DATA_LOSS";var Mh=function(){function e(t,n){se(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return le(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bl(this.inner,(function(t,n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Lh=new xl(Wc.comparator);function Fh(){return Lh}var Vh=new xl(Wc.comparator);function Uh(){for(var e=Vh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function jh(e){var t=Vh;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Bh(){return qh()}function zh(){return qh()}function qh(){return new Mh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Kh=new xl(Wc.comparator),Hh=new Il(Wc.comparator);function Wh(){for(var e=Hh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gh=new Il(Fc);function Qh(){return Gh}var Yh=function(){function e(t,n,r,i,a){se(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return le(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,$h.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Bc.min(),r,Qh(),Fh(),Wh())}}]),e}(),$h=function(){function e(t,n,r,i,a){se(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return le(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Nl.EMPTY_BYTE_STRING,n,Wh(),Wh(),Wh())}}]),e}(),Xh=le((function e(t,n,r,i){se(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Jh=le((function e(t,n){se(this,e),this.targetId=t,this.At=n})),Zh=le((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;se(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ed=function(){function e(){se(this,e),this.Rt=0,this.bt=rd(),this.Pt=Nl.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return le(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Wh(),t=Wh(),n=Wh();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wc()}})),new $h(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=rd()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),td=function(){function e(t){se(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Fh(),this.qt=nd(),this.Kt=new Il(Fc)}return le(e,[{key:"Gt",value:function(e){var t,n=Kn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Kn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:wc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(yf(i))if(0===n){var a=new Wc(i.path);this.jt(t,a,hf.newNoDocument(a,Bc.min()))}else xc(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&yf(a.target)){var o=new Wc(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,hf.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Wh();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Yh(e,n,this.Kt,this.Ut,r);return this.Ut=Fh(),this.qt=nd(),this.Kt=new Il(Fc),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new ed,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Il(Fc),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||yc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new ed),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function nd(){return new xl(Wc.comparator)}function rd(){return new xl(Wc.comparator)}var id={asc:"ASCENDING",desc:"DESCENDING"},ad={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},od=le((function e(t,n){se(this,e),this.databaseId=t,this.gt=n}));function ud(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sd(e,t){return e.gt?t.toBase64():t.toUint8Array()}function cd(e,t){return ud(e,t.toTimestamp())}function ld(e){return xc(!!e),Bc.fromTimestamp(function(e){var t=Ol(e);return new jc(t.seconds,t.nanos)}(e))}function fd(e,t){return function(e){return new qc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function hd(e){var t=qc.fromString(e);return xc(Md(t)),t}function dd(e,t){return fd(e.databaseId,t.path)}function pd(e,t){var n=hd(t);if(n.get(1)!==e.databaseId.projectId)throw new Ic(_c.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ic(_c.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wc(gd(n))}function vd(e,t){return fd(e.databaseId,t)}function md(e){var t=hd(e);return 4===t.length?qc.emptyPath():gd(t)}function yd(e){return new qc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gd(e){return xc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kd(e,t,n){return{name:dd(e,t),fields:n.value.mapValue.fields}}function bd(e,t,n){var r=pd(e,t.name),i=ld(t.updateTime),a=new lf({mapValue:{fields:t.fields}}),o=hf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function wd(e,t){return"found"in t?function(e,t){xc(!!t.found),t.found.name,t.found.updateTime;var n=pd(e,t.found.name),r=ld(t.found.updateTime),i=new lf({mapValue:{fields:t.found.fields}});return hf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){xc(!!t.missing),xc(!!t.readTime);var n=pd(e,t.missing),r=ld(t.readTime);return hf.newNoDocument(n,r)}(e,t):wc()}function xd(e,t){var n;if(t instanceof Eh)n={update:kd(e,t.key,t.value)};else if(t instanceof Ah)n={delete:dd(e,t.key)};else if(t instanceof _h)n={update:kd(e,t.key,t.data),updateMask:Rd(t.fieldMask)};else{if(!(t instanceof Oh))return wc();n={verify:dd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ah)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lh)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw wc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wc()}(e,t.precondition)),n}function Ed(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?vh.updateTime(ld(e.updateTime)):void 0!==e.exists?vh.exists(e.exists):vh.none()}(t.currentDocument):vh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xc("REQUEST_TIME"===t.setToServerValue),n=new ah;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new oh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new sh(i)}else"increment"in t?n=new lh(e,t.increment):wc();var a=Hc.fromServerFormat(t.fieldPath);return new dh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=pd(e,t.update.name),a=new lf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cl(t.map((function(e){return Hc.fromServerFormat(e)})))}(t.updateMask);return new _h(i,a,o,n,r)}return new Eh(i,a,n,r)}if(t.delete){var u=pd(e,t.delete);return new Ah(u,n)}if(t.verify){var s=pd(e,t.verify);return new Oh(s,n)}return wc()}function _d(e,t){return{documents:[vd(e,t.path)]}}function Id(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=vd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(tf(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NAN"}};if(ef(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tf(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NOT_NAN"}};if(ef(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ad(e.field),op:Nd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ad(e.field),direction:Cd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Ul(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Sd(e){var t=md(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Td(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Of(Od(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ul(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Af(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Af(n,t)}(n.endAt)),Lf(t,i,u,o,s,"F",c,l)}function Td(e){return e?void 0!==e.unaryFilter?[Dd(e)]:void 0!==e.fieldFilter?[Pd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Td(e)})).reduce((function(e,t){return e.concat(t)})):wc():[]}function Cd(e){return id[e]}function Nd(e){return ad[e]}function Ad(e){return{fieldPath:e.canonicalString()}}function Od(e){return Hc.fromServerFormat(e.fieldPath)}function Pd(e){return wf.create(Od(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Dd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Od(e.unaryFilter.field);return wf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Od(e.unaryFilter.field);return wf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Od(e.unaryFilter.field);return wf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Od(e.unaryFilter.field);return wf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wc()}}function Rd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Md(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ld(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Vd(t)),t=Fd(e.get(n),t);return Vd(t)}function Fd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Vd(e){return e+"\x01\x01"}function Ud(e){var t=e.length;if(xc(t>=2),2===t)return xc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&wc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:wc()}a=o+2}return new qc(r)}var jd=["userId","batchId"];function Bd(e,t){return[e,Ld(t)]}function zd(e,t,n){return[e,Ld(t),n]}var qd={},Kd=["prefixPath","collectionGroup","readTime","documentId"],Hd=["prefixPath","collectionGroup","documentId"],Wd=["collectionGroup","readTime","prefixPath","documentId"],Gd=["canonicalId","targetId"],Qd=["targetId","path"],Yd=["path","targetId"],$d=["collectionId","parent"],Xd=["indexId","uid"],Jd=["uid","sequenceNumber"],Zd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ep=["indexId","uid","orderedDocumentKey"],tp=["userId","collectionPath","documentId"],np=["userId","collectionPath","largestBatchId"],rp=["userId","collectionGroup","largestBatchId"],ip=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ap=[].concat(Er(ip),["documentOverlays"]),op=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],up=op,sp=[].concat(up,["indexConfiguration","indexState","indexEntries"]),cp=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return le(n)}(rl);function lp(e,t){var n=Ec(e);return sl.O(n.ie,t)}var fp=function(){function e(t,n,r,i){se(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return le(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&kh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Kn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=bh(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Kn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=bh(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=zh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=gh(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Bc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Wh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Vc(this.mutations,e.mutations,(function(e,t){return xh(e,t)}))&&Vc(this.baseMutations,e.baseMutations,(function(e,t){return xh(e,t)}))}}]),e}(),hp=function(){function e(t,n,r,i){se(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return le(e,null,[{key:"from",value:function(t,n,r){xc(t.mutations.length===r.length);for(var i=Kh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),dp=function(){function e(t,n){se(this,e),this.largestBatchId=t,this.mutation=n}return le(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bc.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nl.EMPTY_BYTE_STRING;se(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return le(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),vp=le((function e(t){se(this,e),this.re=t}));function mp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:dd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ud(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gp(t.version)};else{if(!t.isUnknownDocument())return wc();r.unknownDocument={path:n.path.toArray(),version:gp(t.version)}}return r}function yp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kp(e){var t=new jc(e.seconds,e.nanoseconds);return Bc.fromTimestamp(t)}function bp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ed(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ed(e.re,t)})),u=jc.fromMillis(t.localWriteTimeMs);return new fp(t.batchId,u,n,o)}function wp(e){var t,n,r=kp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?kp(e.lastLimboFreeSnapshotVersion):Bc.min();return void 0!==e.query.documents?(xc(1===(n=e.query).documents.length),t=qf(Ff(md(n.documents[0])))):t=function(e){return qf(Sd(e))}(e.query),new pp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nl.fromBase64String(e.resumeToken))}function xp(e,t){var n,r=gp(t.snapshotVersion),i=gp(t.lastLimboFreeSnapshotVersion);n=yf(t.target)?_d(e.re,t.target):Id(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ep(e){var t=Sd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kf(t,t.limit,"L"):t}function _p(e,t){return new dp(t.largestBatchId,Ed(e.re,t.overlayMutation))}function Ip(e,t){var n=t.path.lastSegment();return[e,Ld(t.path.popLast()),n]}function Sp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gp(r.readTime),documentKey:Ld(r.documentKey.path),largestBatchId:r.largestBatchId}}var Tp=function(){function e(){se(this,e)}return le(e,[{key:"getBundleMetadata",value:function(e,t){return Cp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:kp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Cp(e).put({bundleId:(n=t).id,createTime:gp(ld(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Np(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ep(t.bundledQuery),readTime:kp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Np(e).put(function(e){return{name:e.name,readTime:gp(ld(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Cp(e){return lp(e,"bundles")}function Np(e){return lp(e,"namedQueries")}var Ap=function(){function e(t,n){se(this,e),this.It=t,this.userId=n}return le(e,[{key:"getOverlay",value:function(e,t){var n=this;return Op(e).get(Ip(this.userId,t)).next((function(e){return e?_p(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Bh();return ol.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new dp(t,a);i.push(r.ue(e,o))})),ol.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ld(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Op(e).Y("collectionPathOverlayIndex",i))})),ol.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Bh(),a=Ld(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Op(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=_p(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Bh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Op(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=_p(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Op(e).put(function(e,t,n){var r=c(Ip(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:xd(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Op(e){return lp(e,"documentOverlays")}var Pp=function(){function e(){se(this,e)}return le(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Pl(e.integerValue));else if("doubleValue"in e){var n=Pl(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),jl(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Dl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?af(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):wc()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Wc.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Dp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Rp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Dp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Pp.Te=new Pp;var Mp=function(){function e(){se(this,e),this.buffer=new Uint8Array(1024),this.position=0}return le(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Rp(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Rp(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Lp=function(){function e(t){se(this,e),this.Be=t}return le(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Fp=function(){function e(t){se(this,e),this.Be=t}return le(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),Vp=function(){function e(){se(this,e),this.Be=new Mp,this.Le=new Lp(this.Be),this.Ue=new Fp(this.Be)}return le(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Up=function(){function e(t,n,r,i){se(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return le(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function jp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Bp(e.arrayValue,t.arrayValue))?n:0!==(n=Bp(e.directionalValue,t.directionalValue))?n:Wc.comparator(e.documentKey,t.documentKey)}function Bp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var zp=function(){function e(t){se(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Kn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return le(e,[{key:"We",value:function(e){var t=Qc(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Yc(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Kn(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),qp=function(){function e(){se(this,e),this.Ye=new Kp}return le(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),ol.resolve()}},{key:"getCollectionParents",value:function(e,t){return ol.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ol.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ol.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ol.resolve(null)}},{key:"getIndexType",value:function(e,t){return ol.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ol.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ol.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ol.resolve(el.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ol.resolve(el.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ol.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ol.resolve()}}]),e}(),Kp=function(){function e(){se(this,e),this.index={}}return le(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Il(qc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Il(qc.comparator)).toArray()}}]),e}(),Hp=new Uint8Array(0),Wp=function(){function e(t,n){se(this,e),this.user=t,this.databaseId=n,this.Xe=new Kp,this.Ze=new Mh((function(e){return vf(e)}),(function(e,t){return mf(e,t)})),this.uid=t.uid||""}return le(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Ld(i)};return Gp(e).put(a)}return ol.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Uc(t),""],!1,!0);return Gp(e).W(r).next((function(e){var r,i=Kn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ud(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Yp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=$p(e);return a.next((function(e){o.put(Sp(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Yp(e),r=$p(e),i=Qp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Qp(e),i=!0,a=new Map;return ol.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Wh(),o=[];return ol.forEach(a,(function(i,a){var u;yc("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(vf(t)));var s=function(e,t){var n=Qc(t);if(void 0===n)return null;var r,i=Kn(gf(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Kn(Yc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Kn(gf(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Kn(Yc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?kf(e,o.fieldPath,e.startAt):bf(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Af(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Kn(Yc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?bf(e,o.fieldPath,e.endAt):kf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Af(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ol.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Wc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ol.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Hp,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Er(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new Up(e,Wc.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Up(e,Wc.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new zp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ol.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Il(Hc.comparator),r=!1,i=Kn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Kn(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Vp,i=Kn(Yc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Pp.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Vp;return Pp.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Vp;return Pp.Te.ce(Xl(this.databaseId,t),n.qe(function(e){var t=Yc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Vp);var i,a=0,o=Kn(Yc(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Kn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Zl(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Pp.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Er(e),a=[],o=Kn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Kn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Vp;f.seed(l.$e()),Pp.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof wf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Yp(e),i=$p(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ol.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xc(t.sequenceNumber,new el(kp(t.readTime),new Wc(Ud(t.documentKey)),t.largestBatchId)):Xc.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new $c(Hc.fromServerFormat(n),r)}));return new Gc(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Fc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Yp(e),a=$p(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ol.forEach(t,(function(t){return a.put(Sp(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ol.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ol.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ol.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?ol.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Qp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Qp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Qp(e),i=new Il(jp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Up(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Il(jp),r=this.an(t,e);if(null==r)return n;var i=Qc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Zl(a)){var o,u=Kn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Up(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Up(t.indexId,e.key,Hp,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;yc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Tl(a),s=Tl(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Tl(o)):l?(i(u),u=Tl(a)):(u=Tl(a),s=Tl(o))}}(r,i,jp,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),ol.waitFor(o)}},{key:"_n",value:function(e){var t=1;return $p(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return jp(e,t)})).filter((function(e,t,n){return!t||0!==jp(e,n[t-1])}));var r=[];r.push(e);var i,a=Kn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=jp(o,e),s=jp(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Hp,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Hp,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Xp)}},{key:"getMinOffset",value:function(e,t){var n=this;return ol.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||wc()}))})).next(Xp)}}]),e}();function Gp(e){return lp(e,"collectionParents")}function Qp(e){return lp(e,"indexEntries")}function Yp(e){return lp(e,"indexConfiguration")}function $p(e){return lp(e,"indexState")}function Xp(e){xc(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;tl(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new el(t.readTime,t.documentKey,n)}var Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zp=function(){function e(t,n,r){se(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return le(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ev(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){xc(1===u)})));var c,l=[],f=Kn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=zd(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ol.waitFor(a).next((function(){return l}))}function tv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wc();t=e.noDocument}return JSON.stringify(t).length}Zp.DEFAULT_COLLECTION_PERCENTILE=10,Zp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zp.DEFAULT=new Zp(41943040,Zp.DEFAULT_COLLECTION_PERCENTILE,Zp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zp.DISABLED=new Zp(-1,0,0);var nv=function(){function e(t,n,r,i){se(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return le(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iv(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=av(e),o=iv(e);return o.add({}).next((function(u){xc("number"==typeof u);var s,c=new fp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return xd(e.re,t)})),i=n.mutations.map((function(t){return xd(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Il((function(e,t){return Fc(e.canonicalString(),t.canonicalString())})),d=Kn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=zd(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,qd))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),ol.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return iv(e).get(t).next((function(e){return e?(xc(e.userId===n.userId),bp(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ol.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return iv(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xc(t.batchId>=r),a=bp(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return iv(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iv(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return bp(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Bd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return av(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Ud(l);if(s===n.userId&&t.path.isEqual(h))return iv(e).get(f).next((function(e){if(!e)throw wc();xc(e.userId===n.userId),a.push(bp(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Il(Fc),i=[];return t.forEach((function(t){var a=Bd(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=av(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Ud(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),ol.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Bd(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Il(Fc);return av(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Ud(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(iv(e).get(t).next((function(e){if(null===e)throw wc();xc(e.userId===n.userId),r.push(bp(n.It,e))})))})),ol.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ev(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ol.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ol.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return av(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ud(e[1]);i.push(a)}else r.done()})).next((function(){xc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return rv(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return ov(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return xc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function rv(e,t,n){var r=Bd(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return av(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function iv(e){return lp(e,"mutations")}function av(e){return lp(e,"documentMutations")}function ov(e){return lp(e,"mutationQueues")}var uv=function(){function e(t){se(this,e),this.bn=t}return le(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),sv=function(){function e(t,n){se(this,e),this.referenceDelegate=t,this.It=n}return le(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new uv(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Bc.fromTimestamp(new jc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return cv(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return xc(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return cv(e).Z((function(o,u){var s=wp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ol.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return cv(e).Z((function(e,n){var r=wp(n);t(r)}))}},{key:"Vn",value:function(e){return lv(e).get("targetGlobalKey").next((function(e){return xc(null!==e),e}))}},{key:"Sn",value:function(e,t){return lv(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return cv(e).put(xp(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=vf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cv(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=wp(n);mf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=fv(e);return t.forEach((function(t){var o=Ld(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ol.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=fv(e);return ol.forEach(t,(function(t){var a=Ld(t.path);return ol.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=fv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fv(e),i=Wh();return r.Z({range:n,X:!0},(function(e,t,n){var r=Ud(e[1]),a=new Wc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ld(t.path),r=IDBKeyRange.bound([n],[Uc(n)],!1,!0),i=0;return fv(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return cv(e).get(t).next((function(e){return e?wp(e):null}))}}]),e}();function cv(e){return lp(e,"targets")}function lv(e){return lp(e,"targetGlobal")}function fv(e){return lp(e,"targetDocuments")}function hv(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Fc(r,o);return 0===s?Fc(i,u):s}var dv=function(){function e(t){se(this,e),this.xn=t,this.buffer=new Il(hv),this.Nn=0}return le(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();hv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),pv=function(){function e(t,n,r){se(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return le(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;yc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!fl(e.t0)){e.next=12;break}yc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,il(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),vv=function(){function e(t,n){se(this,e),this.$n=t,this.params=n}return le(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ol.resolve(gl.at);var r=new dv(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yc("LruGarbageCollector","Garbage collection skipped; disabled"),ol.resolve(Jp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Jp):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(yc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),mc()<=Ar.DEBUG&&yc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ol.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),mv=function(){function e(t,n){se(this,e),this.db=t,this.garbageCollector=function(e,t){return new vv(e,t)}(this,n)}return le(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return yv(e,n)}},{key:"removeReference",value:function(e,t,n){return yv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return yv(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return ov(e).tt((function(r){return rv(e,r,t).next((function(e){return e&&(n=!0),ol.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Bc.min()),fv(e).delete([0,Ld(o.path)])}))}));i.push(s)}})).next((function(){return ol.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return yv(e,t)}},{key:"Kn",value:function(e,t){var n,r=fv(e),i=gl.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==gl.at&&t(new Wc(Ud(n)),i),i=s,n=u):i=gl.at})).next((function(){i!==gl.at&&t(new Wc(Ud(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function yv(e,t){return fv(e).put(function(e,t){return{targetId:0,path:Ld(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var gv=function(){function e(){se(this,e),this.changes=new Mh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return le(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,hf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ol.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),kv=function(){function e(t){se(this,e),this.It=t}return le(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ev(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ev(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],yp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=hf.newInvalidDocument(t);return Ev(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_v(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:hf.newInvalidDocument(t)};return Ev(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_v(t))},(function(e,i){r={document:n.jn(t,i),size:tv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Fh();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Fh(),i=new xl(Wc.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,tv(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ol.resolve();var r=new Il(Sv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(_v(r.first()),_v(r.last())),a=r.getIterator(),o=a.getNext();return Ev(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wc.fromSegments([].concat(Er(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Sv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(_v(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),yp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ev(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Fh(),i=Kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Wc.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Fh(),o=Iv(t,n),u=Iv(t,el.max());return Ev(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Wc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new wv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return xv(e).get("remoteDocumentGlobalKey").next((function(e){return xc(!!e),e}))}},{key:"Qn",value:function(e,t){return xv(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=bd(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wc.fromSegments(t.noDocument.path),i=kp(t.noDocument.readTime);n=hf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wc();var a=Wc.fromSegments(t.unknownDocument.path),o=kp(t.unknownDocument.version);n=hf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new jc(e[0],e[1]);return Bc.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Bc.min()))return n}return hf.newInvalidDocument(e)}}]),e}();function bv(e){return new kv(e)}var wv=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Mh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return le(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Il((function(e,t){return Fc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=mp(t.Yn.It,o);i=i.add(a.path.popLast());var c=tv(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=mp(t.Yn.It,o.convertToNoDocument(Bc.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ol.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(gv);function xv(e){return lp(e,"remoteDocumentGlobal")}function Ev(e){return lp(e,"remoteDocumentsV14")}function _v(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Iv(e,t){var n=t.documentKey.path.toArray();return[e,yp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Sv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fc(n[a],r[a]))return i;return(i=Fc(n.length,r.length))||((i=Fc(n[n.length-2],r[r.length-2]))||Fc(n[n.length-1],r[r.length-1]))}var Tv=le((function e(t,n){se(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Cv=function(){function e(t,n,r,i){se(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return le(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&bh(r.mutation,e,Cl.empty(),jc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Wh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wh(),i=Bh();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Uh();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Bh();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Wh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Fh(),a=qh(),o=qh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _h)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),bh(o.mutation,t,o.mutation.getFieldMask(),jc.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Tv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=qh(),i=new xl((function(e,t){return e-t})),a=Wh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Kn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Cl.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Wh()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=zh();c.forEach((function(e){if(!a.has(e)){var n=gh(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ol.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ol.resolve(Bh()),u=-1,s=a;return o.next((function(t){return ol.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ol.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Wh())})).next((function(e){return{batchId:u,changes:jh(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wc(t)).next((function(e){var t=Uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Uh();return this.indexManager.getCollectionParents(e,i).next((function(o){return ol.forEach(o,(function(o){var u=function(e,t){return new Mf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,hf.newInvalidDocument(n)))}));var n=Uh();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&bh(a.mutation,i,Cl.empty(),jc.now()),Qf(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ol.resolve(hf.newInvalidDocument(t))}}]),e}(),Nv=function(){function e(t){se(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return le(e,[{key:"getBundleMetadata",value:function(e,t){return ol.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:ld(n.createTime)}),ol.resolve()}},{key:"getNamedQuery",value:function(e,t){return ol.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ep(e.bundledQuery),readTime:ld(e.readTime)}}(t)),ol.resolve()}}]),e}(),Av=function(){function e(){se(this,e),this.overlays=new xl(Wc.comparator),this.es=new Map}return le(e,[{key:"getOverlay",value:function(e,t){return ol.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Bh();return ol.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),ol.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ol.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Bh(),i=t.length+1,a=new Wc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ol.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xl((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Bh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Bh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ol.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new dp(t,n));var a=this.es.get(t);void 0===a&&(a=Wh(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ov=function(){function e(){se(this,e),this.ns=new Il(Pv.ss),this.rs=new Il(Pv.os)}return le(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Pv(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Pv(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Wc(new qc([])),r=new Pv(n,e),i=new Pv(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Wc(new qc([])),n=new Pv(t,e),r=new Pv(t,e+1),i=Wh();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Pv(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Pv=function(){function e(t,n){se(this,e),this.key=t,this._s=n}return le(e,null,[{key:"ss",value:function(e,t){return Wc.comparator(e.key,t.key)||Fc(e._s,t._s)}},{key:"os",value:function(e,t){return Fc(e._s,t._s)||Wc.comparator(e.key,t.key)}}]),e}(),Dv=function(){function e(t,n){se(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Il(Pv.ss)}return le(e,[{key:"checkEmpty",value:function(e){return ol.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new fp(i,t,n,r);this.mutationQueue.push(a);var o,u=Kn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Pv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ol.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ol.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ol.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ol.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ol.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Pv(t,0),i=new Pv(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),ol.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Il(Fc);return t.forEach((function(e){var t=new Pv(e,0),i=new Pv(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ol.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wc.isDocumentKey(i)||(i=i.child(""));var a=new Pv(new Wc(i),0),o=new Il(Fc);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),ol.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xc(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ol.forEach(t.mutations,(function(i){var a=new Pv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Pv(t,0),r=this.gs.firstAfterOrEqual(n);return ol.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ol.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Rv=function(){function e(t){se(this,e),this.Es=t,this.docs=new xl(Wc.comparator),this.size=0}return le(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ol.resolve(n?n.document.mutableCopy():hf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Fh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():hf.newInvalidDocument(e))})),ol.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Fh(),i=new Wc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||tl(Zc(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ol.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){wc()}},{key:"As",value:function(e,t){return ol.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Mv(this)}},{key:"getSize",value:function(e){return ol.resolve(this.size)}}]),e}(),Mv=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).Yn=e,r}return le(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ol.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(gv),Lv=function(){function e(t){se(this,e),this.persistence=t,this.Rs=new Mh((function(e){return vf(e)}),mf),this.lastRemoteSnapshotVersion=Bc.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ov,this.targetCount=0,this.vs=uv.Pn()}return le(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ol.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ol.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ol.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ol.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ol.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new uv(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ol.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ol.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ol.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ol.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ol.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ol.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ol.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ol.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ol.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ol.resolve(n)}},{key:"containsKey",value:function(e,t){return ol.resolve(this.Ps.containsKey(t))}}]),e}(),Fv=function(){function e(t,n){var r=this;se(this,e),this.Vs={},this.overlays={},this.Ss=new gl(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Lv(this),this.indexManager=new qp,this.remoteDocumentCache=new Rv((function(e){return r.referenceDelegate.xs(e)})),this.It=new vp(n),this.Ns=new Nv(this.It)}return le(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Av,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Dv(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;yc("MemoryPersistence","Starting transaction:",e);var i=new Vv(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return ol.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Vv=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return le(n)}(rl),Uv=function(){function e(t){se(this,e),this.persistence=t,this.Fs=new Ov,this.$s=null}return le(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw wc()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ol.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ol.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ol.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ol.forEach(this.Ls,(function(r){var i=Wc.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Bc.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return ol.or([function(){return ol.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),jv=function(){function e(t){se(this,e),this.It=t}return le(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new ul("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Bv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ol.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Bv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ol.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:tp});t.createIndex("collectionPathOverlayIndex",np,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",rp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Kd});t.createIndex("documentKeyIndex",Hd),t.createIndex("collectionGroupIndex",Wd)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Xd}).createIndex("sequenceNumberIndex",Jd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Zd}).createIndex("documentKeyIndex",ep,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=tv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ol.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ol.forEach(r,(function(r){xc(r.userId===n.userId);var i=bp(t.It,r);return ev(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new qc(n),o=function(e){return[0,Ld(e)]}(a);r.push(t.get(o).next((function(n){return n?ol.resolve():function(n){return t.put({targetId:0,path:Ld(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ol.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:$d});var n=t.store("collectionParents"),r=new Kp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ld(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new qc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Ud(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=wp(r),a=xp(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Wc(qc.fromString(i.document.name).popFirst(5)):i.noDocument?Wc.fromSegments(i.noDocument.path):i.unknownDocument?Wc.fromSegments(i.unknownDocument.path):wc()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ol.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=bv(this.It),a=new Fv(Uv.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Wh();bp(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ol.forEach(r,(function(e,r){var o=new dc(r),u=Ap.oe(n.It,o),s=a.getIndexManager(o),c=nv.oe(o,n.It,s,a.referenceDelegate);return new Cv(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new cp(t,gl.at),e).next()}))}))}}]),e}();function Bv(e){e.createObjectStore("targetDocuments",{keyPath:Qd}).createIndex("documentTargetsIndex",Yd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gd,{unique:!0}),e.createObjectStore("targetGlobal")}var zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(se(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Ic(_c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mv(this,i),this.ii=n+"main",this.It=new vp(s),this.ri=new sl(this.ii,this.Xs,new jv(this.It)),this.Cs=new sv(this.referenceDelegate,this.It),this.remoteDocumentCache=bv(this.It),this.Ns=new Tp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&gc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return le(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ic(_c.FAILED_PRECONDITION,zv);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new gl(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Ir(wr().mark((function n(r){return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Ir(wr().mark((function t(n){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Hv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(fl(t))return yc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Kv(e).get("owner").next((function(e){return ol.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Hv(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i,a=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=lp(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ol.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Kn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ol.resolve(!0):Kv(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Ic(_c.FAILED_PRECONDITION,zv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hv(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ir(wr().mark((function e(){var t=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new cp(e,gl.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Hv(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return nv.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Wp(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ap.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;yc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?sp:14===i?up:13===i?op:12===i?ap:11===i?ip:void wc();return this.ri.runTransaction(e,o,u,(function(i){return a=new cp(i,r.Ss?r.Ss.next():gl.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw gc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Ic(_c.FAILED_PRECONDITION,nl);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Kv(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ic(_c.FAILED_PRECONDITION,zv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kv(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Kv(e);return n.get("owner").next((function(e){return t.mi(e)?(yc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ol.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!nr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return yc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(ha){gc("Failed to set zombie client id.",ha)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(ha){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return sl.C()}}]),e}();function Kv(e){return lp(e,"owner")}function Hv(e){return lp(e,"clientMetadata")}function Wv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gv=function(){function e(t,n,r,i){se(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return le(e,null,[{key:"Ci",value:function(t,n){var r,i=Wh(),a=Wh(),o=Kn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Qv=function(){function e(){se(this,e),this.xi=!1}return le(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Vf(t))return ol.resolve(null);var r=qf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Kf(t,null,"F"),r=qf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Wh.apply(void 0,Er(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Kf(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return Vf(t)||r.isEqual(Bc.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(mc()<=Ar.DEBUG&&yc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gf(t)),i.Bi(e,o,t,Jc(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Il($f(e));return t.forEach((function(t,r){Qf(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return mc()<=Ar.DEBUG&&yc("QueryEngine","Using full collection scan to execute query:",Gf(t)),this.Ni.getDocumentsMatchingQuery(e,t,el.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Yv=function(){function e(t,n,r,i){se(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new xl(Fc),this.qi=new Mh((function(e){return vf(e)}),mf),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return le(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function $v(e,t,n,r){return new Yv(e,t,n,r)}function Xv(e,t){return Jv.apply(this,arguments)}function Jv(){return Jv=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Wh(),s=Kn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Kn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Kn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Kn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(e,t){var n=Ec(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ol.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Wh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function em(e){var t=Ec(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function tm(e,t){var n=Ec(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Nl.EMPTY_BYTE_STRING,Bc.min()).withLastLimboFreeSnapshotVersion(Bc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Fh(),s=Wh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(nm(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Bc.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ol.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function nm(e,t,n){var r=Wh(),i=Wh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Fh();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Bc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):yc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function rm(e,t){var n=Ec(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function im(e,t){var n=Ec(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ol.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new pp(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function am(e,t,n){return om.apply(this,arguments)}function om(){return om=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ec(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fl(e.t1)){e.next=12;break}throw e.t1;case 12:yc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),om.apply(this,arguments)}function um(e,t,n){var r=Ec(e),i=Bc.min(),a=Wh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ec(e),i=r.qi.get(n);return void 0!==i?ol.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,qf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Bc.min(),n?a:Wh())})).next((function(e){return lm(r,Yf(t),e),{documents:e,Hi:a}}))}))}function sm(e,t){var n=Ec(e),r=Ec(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function cm(e,t){var n=Ec(e),r=n.Ki.get(t)||Bc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Jc(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return lm(n,t,e),e}))}function lm(e,t,n){var r=Bc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function fm(e,t,n,r){return hm.apply(this,arguments)}function hm(){return hm=Ir(wr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ec(t),o=Wh(),u=Fh(),s=Kn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,im(a,function(e){return qf(Ff(qc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return nm(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=Ir(wr().mark((function e(t,n){var r,i,a,o=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Wh(),e.next=3,im(t,qf(Ep(n.bundledQuery)));case 3:return i=e.sent,a=Ec(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ld(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Nl.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function mm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ym(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var gm=function(){function e(t,n,r,i){se(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return le(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ic(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),km=function(){function e(t,n,r){se(this,e),this.targetId=t,this.state=n,this.error=r}return le(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ic(i.error.code,i.error.message))),a?new e(t,i.state,r):(gc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),bm=function(){function e(t,n){se(this,e),this.clientId=t,this.activeTargetIds=n}return le(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Qh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Bl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),wm=function(){function e(t,n){se(this,e),this.clientId=t,this.onlineState=n}return le(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),xm=function(){function e(){se(this,e),this.activeTargetIds=Qh()}return le(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Em=function(){function e(t,n,r,i,a){se(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new xl(Fc),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=vm(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new xm),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return le(e,[{key:"start",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Kn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(vm(this.persistenceKey,i)))&&(o=bm.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Kn(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ym(this.persistenceKey,e));if(n){var r=km.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ym(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return yc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){yc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){yc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void gc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Ir(wr().mark((function e(){var r,i,a,o,u,s,c;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=gl.at;if(null!=e)try{var n=JSON.parse(e);xc("number"==typeof n),t=n}catch(e){gc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==gl.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new gm(this.currentUser,e,t,n),i=mm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=mm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=ym(this.persistenceKey,e),i=new km(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return bm.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gm.Zi(new dc(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return km.Zi(r,t)}},{key:"yr",value:function(e){return wm.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:yc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Qh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_m=function(){function e(){se(this,e),this.Lr=new xm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return le(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new xm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Im=function(){function e(){se(this,e)}return le(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sm=function(){function e(){var t=this;se(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return le(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){yc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Kn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){yc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Kn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Tm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cm=function(){function e(t){se(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return le(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Nm=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return le(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new fc;o.listenOnce(oc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ac.NO_ERROR:var t=o.getResponseJson();yc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ac.TIMEOUT:yc("Connection",'RPC "'+e+'" timed out'),a(new Ic(_c.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:var n=o.getStatus();if(yc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_c).indexOf(t)>=0?t:_c.UNKNOWN}(r.status);a(new Ic(u,r.message))}else a(new Ic(_c.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ic(_c.UNAVAILABLE,"Connection failed."));break;default:wc()}}finally{yc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rc(),a=ic(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new cc({})),this.ho(o.initMessageHeaders,t,n),tr()||ir()||er().indexOf("Electron/")>=0||ar()||er().indexOf("MSAppHost/")>=0||rr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");yc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Cm({Hr:function(e){l?yc("Connection","Not sending because WebChannel is closed:",e):(c||(yc("Connection","Opening WebChannel transport."),s.open(),c=!0),yc("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,lc.EventType.OPEN,(function(){l||yc("Connection","WebChannel transport opened.")})),h(s,lc.EventType.CLOSE,(function(){l||(l=!0,yc("Connection","WebChannel transport closed"),f.io())})),h(s,lc.EventType.ERROR,(function(e){l||(l=!0,kc("Connection","WebChannel transport errored:",e),f.io(new Ic(_c.UNAVAILABLE,"The operation could not be completed")))})),h(s,lc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];xc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ch[e];if(void 0!==t)return Rh(t)}(a),u=i.message;void 0===o&&(o=_c.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Ic(o,u)),s.close()}else yc("Connection","WebChannel received:",n),f.ro(n)}})),h(a,uc.STAT_EVENT,(function(e){e.stat===sc.PROXY?yc("Connection","Detected buffering proxy"):e.stat===sc.NOPROXY&&yc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){se(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return le(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);yc("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return yc("RestConnection","Received: ",e),e}),(function(t){throw kc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Tm[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Am(){return"undefined"!=typeof window?window:null}function Om(){return"undefined"!=typeof document?document:null}function Pm(e){return new od(e,!0)}var Dm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;se(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return le(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&yc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Rm=function(){function e(t,n,r,i,a,o,u,s){se(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Dm(t,n)}return le(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===_c.RESOURCE_EXHAUSTED?(gc(n.toString()),gc("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===_c.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Ic(_c.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return yc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(yc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Mm=function(e){de(n,e);var t=ye(n);function n(e,r,i,a,o,u){var s;return se(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return le(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(xc(void 0===t||"string"==typeof t),Nl.fromBase64String(t||"")):(xc(void 0===t||t instanceof Uint8Array),Nl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?_c.UNKNOWN:Rh(e.code);return new Ic(t,e.message||"")}(o);n=new Zh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=pd(e,s.document.name),l=ld(s.document.updateTime),f=new lf({mapValue:{fields:s.document.fields}}),h=hf.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Xh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=pd(e,v.document),y=v.readTime?ld(v.readTime):Bc.min(),g=hf.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Xh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=pd(e,b.document),x=b.removedTargetIds||[];n=new Xh([],x,w,null)}else{if(!("filter"in t))return wc();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Ph(_),S=E.targetId;n=new Jh(S,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Bc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Bc.min():t.readTime?ld(t.readTime):Bc.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=yd(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=yf(r)?{documents:_d(e,r)}:{query:Id(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=sd(e,t.resumeToken):t.snapshotVersion.compareTo(Bc.min())>0&&(n.readTime=ud(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=yd(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Rm),Lm=function(e){de(n,e);var t=ye(n);function n(e,r,i,a,o,u){var s;return se(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return le(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Xi(pe(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(xc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(xc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ld(e.updateTime):ld(t);return n.isEqual(Bc.min())&&(n=ld(t)),new ph(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ld(e.commitTime);return this.listener.Zo(n,t)}return xc(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=yd(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xd(t.It,e)}))};this.Bo(n)}}]),n}(Rm),Fm=function(e){de(n,e);var t=ye(n);function n(e,r,i,a){var o;return se(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return le(n,[{key:"su",value:function(){if(this.nu)throw new Ic(_c.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_c.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ic(_c.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_c.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ic(_c.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return le((function e(){se(this,e)}))}()),Vm=function(){function e(t,n){se(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return le(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(gc(t),this.ou=!1):yc("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Um=le((function e(t,n,r,i,a){var o=this;se(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$m(o),!e.t0){e.next=5;break}return yc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ec(t))._u.add(4),e.next=4,zm(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,jm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Vm(r,i)}));function jm(e){return Bm.apply(this,arguments)}function Bm(){return Bm=Ir(wr().mark((function e(t){var n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$m(t)){e.next=18;break}n=Kn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Bm.apply(this,arguments)}function zm(e){return qm.apply(this,arguments)}function qm(){return qm=Ir(wr().mark((function e(t){var n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),qm.apply(this,arguments)}function Km(e,t){var n=Ec(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Ym(n)?Qm(n):Iy(n).ko()&&Wm(n,t))}function Hm(e,t){var n=Ec(e),r=Iy(n);n.du.delete(t),r.ko()&&Gm(n,t),0===n.du.size&&(r.ko()?r.Fo():$m(n)&&n.gu.set("Unknown"))}function Wm(e,t){e.yu.Ot(t.targetId),Iy(e).zo(t)}function Gm(e,t){e.yu.Ot(t),Iy(e).Ho(t)}function Qm(e){e.yu=new td({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),Iy(e).start(),e.gu.uu()}function Ym(e){return $m(e)&&!Iy(e).No()&&e.du.size>0}function $m(e){return 0===Ec(e)._u.size}function Xm(e){e.yu=void 0}function Jm(e){return Zm.apply(this,arguments)}function Zm(){return Zm=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Wm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xm(t),Ym(t)?(t.gu.hu(n),Qm(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=Ir(wr().mark((function e(t,n,r){var i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Zh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Kn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),yc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,iy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xh?t.yu.Gt(n):n instanceof Jh?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Bc.min())){e.next=29;break}return e.prev=14,e.next=17,em(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Nl.EMPTY_BYTE_STRING,n.snapshotVersion)),Gm(e,t);var r=new pp(n.target,t,1,n.sequenceNumber);Wm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),yc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,iy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ry.apply(this,arguments)}function iy(e,t,n){return ay.apply(this,arguments)}function ay(){return ay=Ir(wr().mark((function e(t,n,r){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fl(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,zm(t);case 5:t.gu.set("Offline"),r||(r=function(){return em(t.localStore)}),t.asyncQueue.enqueueRetryable(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,jm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t){return t().catch((function(n){return iy(e,n,t)}))}function uy(e){return sy.apply(this,arguments)}function sy(){return sy=Ir(wr().mark((function e(t){var n,r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ec(t),r=Sy(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!cy(n)){e.next=19;break}return e.prev=3,e.next=6,rm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,ly(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,iy(n,e.t0);case 17:e.next=2;break;case 19:fy(n)&&hy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sy.apply(this,arguments)}function cy(e){return $m(e)&&e.fu.length<10}function ly(e,t){e.fu.push(t);var n=Sy(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function fy(e){return $m(e)&&!Sy(e).No()&&e.fu.length>0}function hy(e){Sy(e).start()}function dy(e){return py.apply(this,arguments)}function py(){return py=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sy(t).eu();case 1:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}function vy(e){return my.apply(this,arguments)}function my(){return my=Ir(wr().mark((function e(t){var n,r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sy(t),r=Kn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function yy(e,t,n){return gy.apply(this,arguments)}function gy(){return gy=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=hp.from(i,n,r),e.next=3,oy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,uy(t);case 5:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){return by.apply(this,arguments)}function by(){return by=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Sy(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dh(i=n.code)||i===_c.ABORTED){e.next=7;break}return r=t.fu.shift(),Sy(t).Oo(),e.next=5,oy(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,uy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fy(t)&&hy(t);case 5:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ec(t)).asyncQueue.verifyOperationInProgress(),yc("RemoteStore","RemoteStore received new credentials"),i=$m(r),r._u.add(3),e.next=6,zm(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,jm(r);case 12:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}function Ey(e,t){return _y.apply(this,arguments)}function _y(){return _y=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,jm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,zm(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function Iy(e){return e.pu||(e.pu=function(e,t,n){var r=Ec(e);return r.su(),new Mm(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Jm.bind(null,e),Zr:ey.bind(null,e),Wo:ny.bind(null,e)}),e.wu.push(function(){var t=Ir(wr().mark((function t(n){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),Ym(e)?Qm(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Xm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Sy(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ec(e);return r.su(),new Lm(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:dy.bind(null,e),Zr:ky.bind(null,e),tu:vy.bind(null,e),Zo:yy.bind(null,e)}),e.wu.push(function(){var t=Ir(wr().mark((function t(n){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,uy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(yc("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Ty=function(){function e(t,n,r,i,a){se(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return le(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ic(_c.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Cy(e,t){if(gc("AsyncQueue","".concat(t,": ").concat(e)),fl(e))return new Ic(_c.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ny=function(){function e(t){se(this,e),this.comparator=t?function(e,n){return t(e,n)||Wc.comparator(e.key,n.key)}:function(e,t){return Wc.comparator(e.key,t.key)},this.keyedMap=Uh(),this.sortedSet=new xl(this.comparator)}return le(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ay=function(){function e(){se(this,e),this.Tu=new xl(Wc.comparator)}return le(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):wc():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Oy=function(){function e(t,n,r,i,a,o,u,s){se(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return le(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ny.emptySet(n),a,r,i,!0,!1)}}]),e}(),Py=le((function e(){se(this,e),this.Au=void 0,this.listeners=[]})),Dy=le((function e(){se(this,e),this.queries=new Mh((function(e){return Wf(e)}),Hf),this.onlineState="Unknown",this.Ru=new Set}));function Ry(e,t){return My.apply(this,arguments)}function My(){return My=Ir(wr().mark((function e(t,n){var r,i,a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Py),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Cy(e.t0,"Initialization of query '".concat(Gf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&jy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),My.apply(this,arguments)}function Ly(e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=Ir(wr().mark((function e(t,n){var r,i,a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function Vy(e,t){var n,r=Ec(e),i=!1,a=Kn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Kn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&jy(r)}function Uy(e,t,n){var r=Ec(e),i=r.queries.get(t);if(i){var a,o=Kn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function jy(e){e.Ru.forEach((function(e){e.next()}))}var By=function(){function e(t,n,r){se(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return le(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Kn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Oy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Oy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),zy=function(){function e(t,n){se(this,e),this.payload=t,this.byteLength=n}return le(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),qy=function(){function e(t){se(this,e),this.It=t}return le(e,[{key:"Ji",value:function(e){return pd(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?bd(this.It,e.document,!1):hf.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return ld(e)}}]),e}(),Ky=function(){function e(t,n,r){se(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hy(t)}return le(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=qc.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new qy(this.It),i=Kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Kn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Wh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fm(this.localStore,new qy(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=Kn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,dm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hy(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Wy=le((function e(t){se(this,e),this.key=t})),Gy=le((function e(t){se(this,e),this.key=t})),Qy=function(){function e(t,n){se(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Wh(),this.mutatedKeys=Wh(),this.Ku=$f(t),this.Gu=new Ny(this.Ku)}return le(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new Ay,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Qf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wc()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Oy(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Ay,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Wh(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new Gy(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new Wy(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Wh();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return Oy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),Yy=le((function e(t,n,r){se(this,e),this.query=t,this.targetId=n,this.view=r})),$y=le((function e(t){se(this,e),this.key=t,this.ec=!1})),Xy=function(){function e(t,n,r,i,a,o){se(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Mh((function(e){return Wf(e)}),Hf),this.ic=new Map,this.rc=new Set,this.oc=new xl(Wc.comparator),this.uc=new Map,this.cc=new Ov,this.ac={},this.hc=new Map,this.lc=uv.vn(),this.onlineState="Unknown",this.fc=void 0}return le(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Jy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hg(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,im(r.localStore,qf(n));case 8:return u=e.sent,r.isPrimaryClient&&Km(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,eg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function eg(e,t,n,r){return tg.apply(this,arguments)}function tg(){return tg=Ir(wr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Ir(wr().mark((function e(t,n,r,i){var a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,um(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wg(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,um(t.localStore,n,!0);case 3:return a=e.sent,o=new Qy(n,a.Hi),u=o.ju(a.documents),s=$h.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),wg(t,r,c.Yu),l=new Yy(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){return rg.apply(this,arguments)}function rg(){return rg=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Hf(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,am(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Hm(r.remoteStore,i.targetId),kg(r,i.targetId)})).catch(il);case 9:e.next=14;break;case 11:return kg(r,i.targetId),e.next=14,am(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e,t,n){return ag.apply(this,arguments)}function ag(){return ag=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ec(e),a=jc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Wh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Fh(),s=Wh();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Kn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=wh(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new _h(c.key,l,ff(l.value.mapValue),vh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:jh(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new xl(Fc)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_g(i,a.changes);case 9:return e.next=11,uy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Cy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ag.apply(this,arguments)}function og(e,t){return ug.apply(this,arguments)}function ug(){return ug=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.prev=1,e.next=4,tm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(xc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?xc(n.ec):e.removedDocuments.size>0&&(xc(n.ec),n.ec=!1))})),e.next=8,_g(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,il(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ug.apply(this,arguments)}function sg(e,t,n){var r=Ec(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ec(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Kn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&jy(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function cg(e,t,n){return lg.apply(this,arguments)}function lg(){return lg=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s,c;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ec(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new xl(Wc.comparator)).insert(o,hf.newNoDocument(o,Bc.min())),s=Wh().add(o),c=new Yh(Bc.min(),new Map,new Il(Fc),u,s),e.next=9,og(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Eg(i),e.next=16;break;case 14:return e.next=16,am(i.localStore,n,!1).then((function(){return kg(i,n,r)})).catch(il);case 16:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=n.batch.batchId,e.prev=1,e.next=4,Zv(r.localStore,n);case 4:return a=e.sent,gg(r,i,null),yg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_g(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,il(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hg.apply(this,arguments)}function dg(e,t,n){return pg.apply(this,arguments)}function pg(){return pg=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ec(t),e.prev=1,e.next=4,function(e,t){var n=Ec(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return xc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,gg(i,n,r),yg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_g(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,il(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pg.apply(this,arguments)}function vg(e,t){return mg.apply(this,arguments)}function mg(){return mg=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $m((r=Ec(t)).remoteStore)||yc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ec(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Cy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),mg.apply(this,arguments)}function yg(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function gg(e,t,n){var r=Ec(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function kg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Kn(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||bg(e,t)}))}function bg(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Hm(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Eg(e))}function wg(e,t,n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Wy?(e.cc.addReference(a.key,t),xg(e,a)):a instanceof Gy?(yc("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||bg(e,a.key)):wc()}}catch(o){i.e(o)}finally{i.f()}}function xg(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(yc("SyncEngine","New document in limbo: "+n),e.rc.add(r),Eg(e))}function Eg(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Wc(qc.fromString(t)),r=e.lc.next();e.uc.set(r,new $y(n)),e.oc=e.oc.insert(n,r),Km(e.remoteStore,new pp(qf(Ff(n.path)),r,2,gl.at))}}function _g(e,t,n){return Ig.apply(this,arguments)}function Ig(){return Ig=Ir(wr().mark((function e(t,n,r){var i,a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ec(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Gv.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ol.forEach(n,(function(t){return ol.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ol.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fl(e.t0)){e.next=10;break}throw e.t0;case 10:yc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Kn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ig.apply(this,arguments)}function Sg(e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ec(t)).currentUser.isEqual(n)){e.next=11;break}return yc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Xv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Ic(_c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_g(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Cg(e,t){var n=Ec(e),r=n.uc.get(t);if(r&&r.ec)return Wh().add(r.key);var i=Wh(),a=n.ic.get(t);if(!a)return i;var o,u=Kn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Ng(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.next=3,um(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&wg(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Og(e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.abrupt("return",cm(r.localStore,n).then((function(e){return _g(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Dg(e,t,n,r){return Rg.apply(this,arguments)}function Rg(){return Rg=Ir(wr().mark((function e(t,n,r,i){var a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ec(t),e.next=3,function(e,t){var n=Ec(e),r=Ec(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ol.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,uy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(gg(a,n,i||null),yg(a,n),function(e,t){Ec(Ec(e).mutationQueue).An(t)}(a.localStore,n)):wc();case 11:return e.next=13,_g(a,o);case 13:e.next=16;break;case 15:yc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Mg(e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hg(r=Ec(t)),Wg(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Fg(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,Ey(r.remoteStore,!0);case 9:o=Kn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Km(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return kg(r,t),am(r.localStore,t,!0)})),Hm(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Fg(r,c);case 21:return function(e){var t=Ec(e);t.uc.forEach((function(e,n){Hm(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new xl(Wc.comparator)}(r),r.fc=!1,e.next=25,Ey(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function Fg(e,t,n){return Vg.apply(this,arguments)}function Vg(){return Vg=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ec(t),a=[],o=[],u=Kn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,im(i.localStore,qf(f[0]));case 11:l=e.sent,h=Kn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,Ng(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,sm(i.localStore,c);case 36:return y=e.sent,e.next=39,im(i.localStore,y);case 39:return l=e.sent,e.next=42,eg(i,Ug(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Vg.apply(this,arguments)}function Ug(e){return Lf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jg(e){var t=Ec(e);return Ec(Ec(t.localStore).persistence).vi()}function Bg(e,t,n,r){return zg.apply(this,arguments)}function zg(){return zg=Ir(wr().mark((function e(t,n,r,i){var a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ec(t)).fc){e.next=3;break}return e.abrupt("return",void yc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,cm(a.localStore,Yf(o[0]));case 10:return u=e.sent,s=Yh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,_g(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,am(a.localStore,n,!0);case 17:return kg(a,n,i),e.abrupt("break",20);case 19:wc();case 20:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e,t,n){return Kg.apply(this,arguments)}function Kg(){return Kg=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Hg(t)).fc){e.next=45;break}a=Kn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return yc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,sm(i.localStore,u);case 12:return s=e.sent,e.next=15,im(i.localStore,s);case 15:return c=e.sent,e.next=18,eg(i,Ug(s),c.targetId,!1);case 18:Km(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Kn(r),e.prev=30,h=wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,am(i.localStore,t,!1).then((function(){Hm(i.remoteStore,t),kg(i,t)})).catch(il);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Kg.apply(this,arguments)}function Hg(e){var t=Ec(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=og.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cg.bind(null,t),t.nc.Wo=Vy.bind(null,t.eventManager),t.nc._c=Uy.bind(null,t.eventManager),t}function Wg(e){var t=Ec(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dg.bind(null,t),t}function Gg(e,t,n){var r=Ec(e);(function(){var e=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ec(e),r=ld(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Hy(i)),a=new Ky(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,_g(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Ec(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(kc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Qg=function(){function e(){se(this,e),this.synchronizeTabs=!1}return le(e,[{key:"initialize",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Pm(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return $v(this.persistence,new Qv,e.initialUser,this.It)}},{key:"gc",value:function(e){return new Fv(Uv.Bs,this.It)}},{key:"mc",value:function(e){return new _m}},{key:"terminate",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yg=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return le(n,[{key:"initialize",value:function(){var e=Ir(wr().mark((function e(t){var r=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(pe(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,Wg(this.Ec.syncEngine);case 6:return e.next=8,uy(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return $v(this.persistence,new Qv,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new pv(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new yl(t,this.persistence);return new ml(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=Wv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zp.withCacheSize(this.cacheSizeBytes):Zp.DEFAULT;return new qv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Am(),Om(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new _m}}]),n}(Qg),$g=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return le(n,[{key:"initialize",value:function(){var e=Ir(wr().mark((function e(t){var r,i=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(pe(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof Em,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Dg.bind(null,r),$r:Bg.bind(null,r),Br:qg.bind(null,r),vi:jg.bind(null,r),Or:Og.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mg(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=Am();if(!Em.C(t))throw new Ic(_c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Em(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Yg),Xg=function(){function e(){se(this,e)}return le(e,[{key:"initialize",value:function(){var e=Ir(wr().mark((function e(t,n){var r=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Sg.bind(null,this.syncEngine),e.next=12,Ey(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Dy}},{key:"createDatastore",value:function(e){var t,n=Pm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Nm(t));return function(e,t,n,r){return new Fm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return sg(o.syncEngine,e,0)},a=Sm.C()?new Sm:new Im,new Um(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Xy(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec(t),yc("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,zm(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Jg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ir(wr().mark((function r(){var i;return wr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Zg=function(){function e(t){se(this,e),this.observer=t,this.muted=!1}return le(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):gc("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ek=function(){function e(t,n){var r=this;se(this,e),this.bc=t,this.It=n,this.metadata=new Sc,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return le(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new zy(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=Ir(wr().mark((function e(){var t,n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=Ir(wr().mark((function e(){var t,n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tk=function(){function e(t){se(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return le(e,[{key:"lookup",value:function(){var e=Ir(wr().mark((function e(t){var n,r=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ic(_c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=yd(r.It)+"/documents",a={documents:n.map((function(e){return dd(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=wd(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());xc(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ir(wr().mark((function e(){var t,n=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wc.fromPath(t);n.mutations.push(new Oh(r,n.precondition(r)))})),e.next=7,function(){var e=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=yd(r.It)+"/documents",a={writes:n.map((function(e){return xd(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wc();t=Bc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ic(_c.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bc.min())?vh.exists(!1):vh.updateTime(t):vh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bc.min()))throw new Ic(_c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vh.updateTime(t)}return vh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),nk=function(){function e(t,n,r,i,a){se(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new Dm(this.asyncQueue,"transaction_retry")}return le(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(Ir(wr().mark((function t(){var n,r;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new tk(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ul(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Dh(t)}return!1}}]),e}(),rk=function(){function e(t,n,r,i){var a=this;se(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dc.UNAUTHENTICATED,this.clientId=Lc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return yc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return le(e,[{key:"getConfiguration",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ic(_c.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ir(wr().mark((function n(){var r;return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Cy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),yc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Xv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){return uk.apply(this,arguments)}function uk(){return uk=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sk(t);case 3:return r=e.sent,yc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wy(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function sk(e){return ck.apply(this,arguments)}function ck(){return ck=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return yc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ik(t,new Qg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e){return fk.apply(this,arguments)}function fk(){return fk=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return yc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ok(t,new Xg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}function hk(e){return sk(e).then((function(e){return e.persistence}))}function dk(e){return sk(e).then((function(e){return e.localStore}))}function pk(e){return lk(e).then((function(e){return e.remoteStore}))}function vk(e){return lk(e).then((function(e){return e.syncEngine}))}function mk(e){return yk.apply(this,arguments)}function yk(){return yk=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Jy.bind(null,n.syncEngine),r.onUnlisten=ng.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function gk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function i(){return wr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zg({next:function(a){t.enqueueAndForget((function(){return Ly(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ic(_c.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ic(_c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new By(Ff(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Ry(e,o)},i.next=3,mk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function i(){return wr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zg({next:function(n){t.enqueueAndForget((function(){return Ly(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ic(_c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new By(n,a,{includeMetadataChanges:!0,Nu:!0});return Ry(e,o)},i.next=3,mk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var bk=new Map;function wk(e,t,n){if(!n)throw new Ic(_c.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xk(e,t,n,r){if(!0===t&&!0===r)throw new Ic(_c.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ek(e){if(!Wc.isDocumentKey(e))throw new Ic(_c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _k(e){if(Wc.isDocumentKey(e))throw new Ic(_c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ik(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":wc()}function Sk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ic(_c.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ik(e);throw new Ic(_c.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Tk(e,t){if(t<=0)throw new Ic(_c.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ck=function(){function e(t){var n;if(se(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ic(_c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ic(_c.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return le(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Nk=function(){function e(t,n,r,i){se(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ck({}),this._settingsFrozen=!1}return le(e,[{key:"app",get:function(){if(!this._app)throw new Ic(_c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ic(_c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ck(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cc;switch(e.type){case"gapi":var t=e.client;return new Pc(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ic(_c.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=bk.get(e);t&&(yc("ComponentProvider","Removing Datastore"),bk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ak(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Sk(e,Nk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&kc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=dc.MOCK_USER;else{o=Zn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ic(_c.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dc(s)}e._authCredentials=new Nc(new Tc(o,u))}}var Ok=function(){function e(t,n,r){se(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return le(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Dk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Pk=function(){function e(t,n,r){se(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return le(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Dk=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,e,r,Ff(i)))._path=i,a.type="collection",a}return le(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ok(this.firestore,null,new Wc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Pk);function Rk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=br(e),wk("collection","path",t),e instanceof Nk){var a=qc.fromString.apply(qc,[t].concat(r));return _k(a),new Dk(e,null,a)}if(!(e instanceof Ok||e instanceof Dk))throw new Ic(_c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qc.fromString.apply(qc,[t].concat(r)));return _k(o),new Dk(e.firestore,null,o)}function Mk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=br(e),1===arguments.length&&(t=Lc.R()),wk("doc","path",t),e instanceof Nk){var a=qc.fromString.apply(qc,[t].concat(r));return Ek(a),new Ok(e,null,new Wc(a))}if(!(e instanceof Ok||e instanceof Dk))throw new Ic(_c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qc.fromString.apply(qc,[t].concat(r)));return Ek(o),new Ok(e.firestore,e instanceof Dk?e.converter:null,new Wc(o))}function Lk(e,t){return e=br(e),t=br(t),(e instanceof Ok||e instanceof Dk)&&(t instanceof Ok||t instanceof Dk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fk(e,t){return e=br(e),t=br(t),e instanceof Pk&&t instanceof Pk&&e.firestore===t.firestore&&Hf(e._query,t._query)&&e.converter===t.converter}var Vk=function(){function e(){var t=this;se(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Dm(this,"async_queue_retry"),this.jc=function(){var e=Om();e&&yc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=Om();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return le(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=Om();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Sc;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Ir(wr().mark((function e(){var t=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fl(e.t0)){e.next=12;break}throw e.t0;case 12:yc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=Ty.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&wc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Kn(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Kn(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Uk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Kn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var jk=function(){function e(){se(this,e),this._progressObserver={},this._taskCompletionResolver=new Sc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return le(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Bk=function(e){de(n,e);var t=ye(n);function n(e,r,i,a){var o;return se(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Vk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return le(n,[{key:"_terminate",value:function(){return this._firestoreClient||qk(this),this._firestoreClient.terminate()}}]),n}(Nk);function zk(e){return e._firestoreClient||qk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Fl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Kk(e,t,n){var r=new Sc;return e.asyncQueue.enqueue(Ir(wr().mark((function i(){var a;return wr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ik(e,n);case 3:return i.next=5,ok(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===_c.FAILED_PRECONDITION||e.code===_c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:kc("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Hk(e){return function(e){return e.asyncQueue.enqueue(Ir(wr().mark((function t(){var n,r;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hk(e);case 2:return n=t.sent,t.next=5,pk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ec(e);return t._u.delete(0),jm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zk(e=Sk(e,Bk)))}function Wk(e){return function(e){return e.asyncQueue.enqueue(Ir(wr().mark((function t(){var n,r;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hk(e);case 2:return n=t.sent,t.next=5,pk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ec(t))._u.add(0),e.next=4,zm(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zk(e=Sk(e,Bk)))}function Gk(e,t){var n=zk(e=Sk(e,Bk)),r=new jk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ek(e,t)}(function(e,t){if(e instanceof Uint8Array)return Jg(e,t);if(e instanceof ArrayBuffer)return Jg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Pm(t));e.asyncQueue.enqueueAndForget(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gg,t.next=3,vk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Qk(e,t){return function(e,t){return e.asyncQueue.enqueue(Ir(wr().mark((function n(){return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ec(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,dk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zk(e=Sk(e,Bk)),t).then((function(t){return t?new Pk(e,null,t.query):null}))}function Yk(e){if(e._initialized||e._terminated)throw new Ic(_c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $k=function(){function e(){se(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ic(_c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hc(n)}return le(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Xk=function(){function e(t){se(this,e),this._byteString=t}return le(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nl.fromBase64String(t))}catch(t){throw new Ic(_c.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nl.fromUint8Array(t))}}]),e}(),Jk=le((function e(t){se(this,e),this._methodName=t})),Zk=function(){function e(t,n){if(se(this,e),!isFinite(t)||t<-90||t>90)throw new Ic(_c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ic(_c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return le(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fc(this._lat,e._lat)||Fc(this._long,e._long)}}]),e}(),eb=/^__.*__$/,tb=function(){function e(t,n,r){se(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return le(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _h(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eh(e,this.data,t,this.fieldTransforms)}}]),e}(),nb=function(){function e(t,n,r){se(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return le(e,[{key:"toMutation",value:function(e,t){return new _h(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function rb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wc()}}var ib=function(){function e(t,n,r,i,a,o){se(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return le(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return _b(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(rb(this.na)&&eb.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),ab=function(){function e(t,n,r){se(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Pm(t)}return le(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ib({na:e,methodName:t,la:n,path:Hc.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function ob(e){var t=e._freezeSettings(),n=Pm(e._databaseId);return new ab(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ub(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);bb("Data must be an object, but it was:",o,r);var u,s,c=gb(r,o);if(a.merge)u=new Cl(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Kn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=wb(t,d,n);if(!o.contains(p))throw new Ic(_c.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ib(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Cl(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new tb(new lf(c),u,s)}var sb=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Jk);function cb(e,t,n){return new ib({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var lb=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"_toFieldTransform",value:function(e){return new dh(e.path,new ah)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Jk),fb=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e)).da=r,i}return le(n,[{key:"_toFieldTransform",value:function(e){var t=cb(this,e,!0),n=this.da.map((function(e){return yb(e,t)})),r=new oh(n);return new dh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Jk),hb=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e)).da=r,i}return le(n,[{key:"_toFieldTransform",value:function(e){var t=cb(this,e,!0),n=this.da.map((function(e){return yb(e,t)})),r=new sh(n);return new dh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Jk),db=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e))._a=r,i}return le(n,[{key:"_toFieldTransform",value:function(e){var t=new lh(e.It,eh(e.It,this._a));return new dh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Jk);function pb(e,t,n,r){var i=e.fa(1,t,n);bb("Data must be an object, but it was:",i,r);var a=[],o=lf.empty();bl(r,(function(e,r){var u=Eb(t,e,n);r=br(r);var s=i.ua(u);if(r instanceof sb)a.push(u);else{var c=yb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Cl(a);return new nb(o,u,i.fieldTransforms)}function vb(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[wb(t,r,n)],s=[i];if(a.length%2!=0)throw new Ic(_c.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(wb(t,a[c])),s.push(a[c+1]);for(var l=[],f=lf.empty(),h=u.length-1;h>=0;--h)if(!Ib(l,u[h])){var d=u[h],p=s[h];p=br(p);var v=o.ua(d);if(p instanceof sb)l.push(d);else{var m=yb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Cl(l);return new nb(f,y,o.fieldTransforms)}function mb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yb(n,e.fa(r?4:3,t))}function yb(e,t){if(kb(e=br(e)))return bb("Unsupported field value:",t,e),gb(e,t);if(e instanceof Jk)return function(e,t){if(!rb(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Kn(e);try{for(a.s();!(n=a.n()).done;){var o=yb(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=br(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eh(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jc.fromDate(e);return{timestampValue:ud(t.It,n)}}if(e instanceof jc){var r=new jc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ud(t.It,r)}}if(e instanceof Zk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xk)return{bytesValue:sd(t.It,e._byteString)};if(e instanceof Ok){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:fd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(Ik(e)))}(e,t)}function gb(e,t){var n={};return wl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bl(e,(function(e,r){var i=yb(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jc||e instanceof Zk||e instanceof Xk||e instanceof Ok||e instanceof Jk)}function bb(e,t,n){if(!kb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ik(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function wb(e,t,n){if((t=br(t))instanceof $k)return t._internalPath;if("string"==typeof t)return Eb(e,t);throw _b("Field path arguments must be of type string or ",e,!1,void 0,n)}var xb=new RegExp("[~\\*/\\[\\]]");function Eb(e,t,n){if(t.search(xb)>=0)throw _b("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Hn($k,Er(t.split(".")))._internalPath}catch(r){throw _b("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _b(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ic(_c.INVALID_ARGUMENT,u+e+s)}function Ib(e,t){return e.some((function(e){return e.isEqual(t)}))}var Sb=function(){function e(t,n,r,i,a){se(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return le(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ok(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Cb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Tb=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"data",value:function(){return Xi(pe(n.prototype),"data",this).call(this)}}]),n}(Sb);function Cb(e,t){return"string"==typeof t?Eb(e,t):t instanceof $k?t._internalPath:t._delegate._internalPath}var Nb=function(){function e(t,n){se(this,e),this.hasPendingWrites=t,this.fromCache=n}return le(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ab=function(e){de(n,e);var t=ye(n);function n(e,r,i,a,o,u){var s;return se(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return le(n,[{key:"exists",value:function(){return Xi(pe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Cb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Sb),Ob=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xi(pe(n.prototype),"data",this).call(this,e)}}]),n}(Ab),Pb=function(){function e(t,n,r,i){se(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nb(i.hasPendingWrites,i.fromCache),this.query=r}return le(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ob(n._firestore,n._userDataWriter,r.key,r,new Nb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ic(_c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Ob(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Nb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ob(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Nb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Db(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Db(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wc()}}function Rb(e,t){return e instanceof Ab&&t instanceof Ab?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Pb&&t instanceof Pb&&e._firestore===t._firestore&&Fk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Mb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ic(_c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lb=le((function e(){se(this,e)}));function Fb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Vb=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return le(n,[{key:"_apply",value:function(e){var t=ob(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ic(_c.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Yb(o,a);var s,c=[],l=Kn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Qb(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Qb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Yb(o,a),u=mb(n,"where",o,"in"===a||"not-in"===a);var h=wf.create(i,a,u);return function(e,t){if(t.dt()){var n=jf(e);if(null!==n&&!n.isEqual(t.field))throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Uf(e);null!==r&&$b(e,t.field,r)}var i=function(e,t){var n,r=Kn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ic(_c.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ic(_c.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Pk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Mf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Lb);var Ub=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return le(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Of(t,n);return function(e,t){if(null===Uf(e)){var n=jf(e);null!==n&&$b(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new Pk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Mf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Lb);var jb=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return le(n,[{key:"_apply",value:function(e){return new Pk(e.firestore,e.converter,Kf(e._query,this.pa,this.Ia))}}]),n}(Lb);var Bb=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return le(n,[{key:"_apply",value:function(e){var t=Gb(e,this.type,this.Ta,this.Ea);return new Pk(e.firestore,e.converter,function(e,t){return new Mf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Lb);function zb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bb("startAt",t,!0)}function qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bb("startAfter",t,!1)}var Kb=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return le(n,[{key:"_apply",value:function(e){var t=Gb(e,this.type,this.Ta,this.Ea);return new Pk(e.firestore,e.converter,function(e,t){return new Mf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Lb);function Hb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kb("endBefore",t,!1)}function Wb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kb("endAt",t,!0)}function Gb(e,t,n,r){if(n[0]=br(n[0]),n[0]instanceof Sb)return function(e,t,n,r,i){if(!r)throw new Ic(_c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Kn(zf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Xl(t,r.key));else{var c=r.data.field(s.field);if(Rl(c))throw new Ic(_c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Af(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ob(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ic(_c.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Bf(e)&&-1!==c.indexOf("/"))throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(qc.fromString(c));if(!Wc.isDocumentKey(l))throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wc(l);u.push(Xl(t,f))}else{var h=mb(n,r,c);u.push(h)}}return new Af(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Qb(e,t,n){if("string"==typeof(n=br(n))){if(""===n)throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bf(t)&&-1!==n.indexOf("/"))throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(qc.fromString(n));if(!Wc.isDocumentKey(r))throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xl(e,new Wc(r))}if(n instanceof Ok)return Xl(e,n._key);throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ik(n),"."))}function Yb(e,t){if(!Array.isArray(e)||0===e.length)throw new Ic(_c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ic(_c.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function $b(e,t,n){if(!n.isEqual(t))throw new Ic(_c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Xb={maxAttempts:5},Jb=function(){function e(){se(this,e)}return le(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Zk(Pl(e.latitude),Pl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ml(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ol(e);return new jc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qc.fromString(e);xc(Md(n));var r=new Vl(n.get(1),n.get(3)),i=new Wc(n.popFirst(5));return r.isEqual(t)||gc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Zb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ew=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).firestore=e,r}return le(n,[{key:"convertBytes",value:function(e){return new Xk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ok(this.firestore,null,t)}}]),n}(Jb),tw=function(){function e(t,n){se(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ob(t)}return le(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nw(e,this._firestore),i=Zb(r.converter,t,n),a=ub(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,vh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=br(t))||t instanceof $k?vb(this._dataReader,"WriteBatch.update",i._key,t,n,o):pb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,vh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nw(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(t._key,vh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ic(_c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nw(e,t){if((e=br(e)).firestore!==t)throw new Ic(_c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rw=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).firestore=e,r}return le(n,[{key:"convertBytes",value:function(e){return new Xk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ok(this.firestore,null,t)}}]),n}(Jb);function iw(e){e=Sk(e,Ok);var t=Sk(e.firestore,Bk),n=zk(t),r=new rw(t);return function(e,t){var n=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function r(){return wr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ec(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ic(_c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Cy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ab(t,r,e._key,n,new Nb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function aw(e){e=Sk(e,Pk);var t=Sk(e.firestore,Bk),n=zk(t),r=new rw(t);return function(e,t){var n=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function r(){return wr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,um(t,n,!0);case 3:i=e.sent,a=new Qy(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Cy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Pb(t,r,e,n)}))}function ow(e,t,n){e=Sk(e,Ok);var r=Sk(e.firestore,Bk),i=Zb(e.converter,t,n);return lw(r,[ub(ob(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vh.none())])}function uw(e,t,n){e=Sk(e,Ok);for(var r=Sk(e.firestore,Bk),i=ob(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return lw(r,[("string"==typeof(t=br(t))||t instanceof $k?vb(i,"updateDoc",e._key,t,n,o):pb(i,"updateDoc",e._key,t)).toMutation(e._key,vh.exists(!0))])}function sw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=br(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Uk(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Uk(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Ok)l=Sk(e.firestore,Bk),f=Ff(e._key.path),c={next:function(t){n[s]&&n[s](fw(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Sk(e,Pk);l=Sk(p.firestore,Bk),f=p._query;var v=new rw(l);c={next:function(e){n[s]&&n[s](new Pb(l,v,p,e))},error:n[s+1],complete:n[s+2]},Mb(e._query)}return function(e,t,n,r){var i=new Zg(r),a=new By(t,i,n);return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ry,t.next=3,mk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ly,t.next=3,mk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zk(l),f,h,c)}function cw(e,t){return function(e,t){var n=new Zg(t);return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ec(e).Ru.add(t),t.next()},t.next=3,mk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ec(e).Ru.delete(t)},t.next=3,mk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zk(e=Sk(e,Bk)),Uk(t)?t:{next:t})}function lw(e,t){return function(e,t){var n=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function r(){return wr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ig,r.next=3,vk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zk(e),t)}function fw(e,t,n){var r=n.docs.get(t._key),i=new rw(e);return new Ab(e,i,t._key,r,new Nb(n.hasPendingWrites,n.fromCache),t.converter)}var hw=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r))._firestore=e,i}return le(n,[{key:"get",value:function(e){var t=this,r=nw(e,this._firestore),i=new rw(this._firestore);return Xi(pe(n.prototype),"get",this).call(this,e).then((function(e){return new Ab(t._firestore,i,r._key,e._document,new Nb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){se(this,e),this._firestore=t,this._transaction=n,this._dataReader=ob(t)}return le(e,[{key:"get",value:function(e){var t=this,n=nw(e,this._firestore),r=new ew(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wc();var i=e[0];if(i.isFoundDocument())return new Sb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Sb(t._firestore,r,n._key,null,n.converter);throw wc()}))}},{key:"set",value:function(e,t,n){var r=nw(e,this._firestore),i=Zb(r.converter,t,n),a=ub(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=br(t))||t instanceof $k?vb(this._dataReader,"Transaction.update",i._key,t,n,o):pb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function dw(e,t,n){e=Sk(e,Bk);var r=Object.assign(Object.assign({},Xb),n);return function(e){if(e.maxAttempts<1)throw new Ic(_c.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function i(){var a;return wr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return lk(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new nk(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(zk(e),(function(n){return t(new hw(e,n))}),r)}function pw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fb("arrayUnion",t)}function vw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pc=e}(ki),hi(new Sr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Bk(new Ac(e.getProvider("auth-internal")),new Rc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ic(_c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ii(hc,"3.4.15",e),Ii(hc,"3.4.15","esm2017")}();function mw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ic("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yw(){if("undefined"===typeof Uint8Array)throw new Ic("unimplemented","Uint8Arrays are not available in this environment.")}function gw(){if("undefined"==typeof atob)throw new Ic("unimplemented","Blobs are unavailable in Firestore in this environment.")}var kw=function(){function e(t){se(this,e),this._delegate=t}return le(e,[{key:"toBase64",value:function(){return gw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return yw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return gw(),new e(Xk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return yw(),new e(Xk.fromUint8Array(t))}}]),e}();function bw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Kn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ww=function(){function e(){se(this,e)}return le(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Yk(e=Sk(e,Bk));var n=zk(e),r=e._freezeSettings(),i=new Xg;return Kk(n,i,new Yg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Yk(e=Sk(e,Bk));var t=zk(e),n=e._freezeSettings(),r=new Xg;return Kk(t,r,new $g(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ic(_c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Sc;return e._queue.enqueueAndForgetEvenWhileRestricted(Ir(wr().mark((function n(){return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sl.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Wv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),xw=function(){function e(t,n,r){var i=this;se(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Vl||(this._appCompat=t)}return le(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ak(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Hk(this._delegate)}},{key:"disableNetwork",value:function(){return Wk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&xk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Sc;return e.asyncQueue.enqueueAndForget(Ir(wr().mark((function n(){return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=vg,n.next=3,vk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zk(e=Sk(e,Bk)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return cw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ic("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Lw(this,Rk(this._delegate,e))}catch(t){throw Cw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Tw(this,Mk(this._delegate,e))}catch(t){throw Cw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Dw(this,function(e,t){if(e=Sk(e,Nk),wk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ic(_c.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Pk(e,null,function(e){return new Mf(qc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Cw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return dw(this._delegate,(function(n){return e(new _w(t,n))}))}},{key:"batch",value:function(){var e=this;return zk(this._delegate),new Iw(new tw(this._delegate,(function(t){return lw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Gk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Qk(this._delegate,e).then((function(e){return e?new Dw(t,e):null}))}}]),e}(),Ew=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).firestore=e,r}return le(n,[{key:"convertBytes",value:function(e){return new kw(new Xk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Tw.forKey(t,this.firestore,null)}}]),n}(Jb);var _w=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ew(t)}return le(e,[{key:"get",value:function(e){var t=this,n=Fw(e);return this._delegate.get(n).then((function(e){return new Ow(t._firestore,new Ab(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Fw(e);return n?(mw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Fw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Fw(e);return this._delegate.delete(t),this}}]),e}(),Iw=function(){function e(t){se(this,e),this._delegate=t}return le(e,[{key:"set",value:function(e,t,n){var r=Fw(e);return n?(mw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Fw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Fw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Sw=function(){function e(t,n,r){se(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return le(e,[{key:"fromFirestore",value:function(e,t){var n=new Ob(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ew(t),n),i.set(n,a)),a}}]),e}();Sw.INSTANCES=new WeakMap;var Tw=function(){function e(t,n){se(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ew(t)}return le(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Lw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Lw(this.firestore,Rk(this._delegate,e))}catch(t){throw Cw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=br(e))instanceof Ok&&Lk(this._delegate,e)}},{key:"set",value:function(e,t){t=mw("DocumentReference.set",t);try{return t?ow(this._delegate,e,t):ow(this._delegate,e)}catch(n){throw Cw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?uw(this._delegate,e):uw.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Cw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return lw(Sk(e.firestore,Bk),[new Ah(e._key,vh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Nw(n),a=Aw(n,(function(t){return new Ow(e.firestore,new Ab(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return sw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sk(e,Ok);var t=Sk(e.firestore,Bk);return gk(zk(t),e._key,{source:"server"}).then((function(n){return fw(t,e,n)}))}(this._delegate):function(e){e=Sk(e,Ok);var t=Sk(e.firestore,Bk);return gk(zk(t),e._key).then((function(n){return fw(t,e,n)}))}(this._delegate),t.then((function(e){return new Ow(n.firestore,new Ab(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Sw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ic("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ok(n._delegate,r,new Wc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ok(n._delegate,r,t))}}]),e}();function Cw(e,t,n){return e.message=e.message.replace(t,n),e}function Nw(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!bw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Aw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=bw(e[0])?e[0]:bw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ow=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n}return le(e,[{key:"ref",get:function(){return new Tw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Rb(this._delegate,e._delegate)}}]),e}(),Pw=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||wc()}(void 0!==t),t}}]),n}(Ow),Dw=function(){function e(t,n){se(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ew(t)}return le(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Fb(this._delegate,function(e,t,n){var r=t,i=Cb("where",e);return new Vb(i,r,n)}(t,n,r)))}catch(i){throw Cw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Fb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Cb("orderBy",e);return new Ub(n,t)}(t,n)))}catch(r){throw Cw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Fb(this._delegate,function(e){return Tk("limit",e),new jb("limit",e,"F")}(t)))}catch(n){throw Cw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Fb(this._delegate,function(e){return Tk("limitToLast",e),new jb("limitToLast",e,"L")}(t)))}catch(n){throw Cw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Fb(this._delegate,zb.apply(void 0,arguments)))}catch(t){throw Cw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Fb(this._delegate,qb.apply(void 0,arguments)))}catch(t){throw Cw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Fb(this._delegate,Hb.apply(void 0,arguments)))}catch(t){throw Cw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Fb(this._delegate,Wb.apply(void 0,arguments)))}catch(t){throw Cw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Fk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Sk(e,Pk);var t=Sk(e.firestore,Bk),n=zk(t),r=new rw(t);return kk(n,e._query,{source:"server"}).then((function(n){return new Pb(t,r,e,n)}))}(this._delegate):function(e){e=Sk(e,Pk);var t=Sk(e.firestore,Bk),n=zk(t),r=new rw(t);return Mb(e._query),kk(n,e._query).then((function(n){return new Pb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Mw(n.firestore,new Pb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Nw(n),a=Aw(n,(function(t){return new Mw(e.firestore,new Pb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return sw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Sw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Rw=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n}return le(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Pw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Mw=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n}return le(e,[{key:"query",get:function(){return new Dw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Pw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Rw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Pw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Rb(this._delegate,e._delegate)}}]),e}(),Lw=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return le(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Tw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Tw(this.firestore,void 0===e?Mk(this._delegate):Mk(this._delegate,e))}catch(t){throw Cw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Sk(e.firestore,Bk),r=Mk(e),i=Zb(e.converter,t);return lw(n,[ub(ob(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Tw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Lk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Sw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Dw);function Fw(e){return Sk(e,Ok)}var Vw,Uw=function(){function e(){se(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Hn($k,n)}return le(e,[{key:"isEqual",value:function(e){return(e=br(e))instanceof $k&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hc.keyField().canonicalString())}}]),e}(),jw=function(){function e(t){se(this,e),this._delegate=t}return le(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new lb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new sb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=pw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=vw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new db("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Bw={Firestore:xw,GeoPoint:Zk,Timestamp:jc,Blob:kw,Transaction:_w,WriteBatch:Iw,DocumentReference:Tw,DocumentSnapshot:Ow,Query:Dw,QueryDocumentSnapshot:Pw,QuerySnapshot:Mw,CollectionReference:Lw,FieldPath:Uw,FieldValue:jw,setLogLevel:function(e){!function(e){vc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Sr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Bw)))})(Vw=Yi,(function(e,t){return new xw(e,t,new ww)})),Vw.registerVersion("@firebase/firestore-compat","0.1.24");function zw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var qw;Object.create;var Kw="facebook.com",Hw="github.com",Ww="google.com",Gw="password",Qw="twitter.com",Yw="EMAIL_SIGNIN",$w="PASSWORD_RESET",Xw="RECOVER_EMAIL",Jw="REVERT_SECOND_FACTOR_ADDITION",Zw="VERIFY_AND_CHANGE_EMAIL",ex="VERIFY_EMAIL";function tx(){return W({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var nx=function(){var e;return W(e={},"admin-restricted-operation","This operation is restricted to administrators only."),W(e,"argument-error",""),W(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),W(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),W(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),W(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),W(e,"cordova-not-ready","Cordova framework is not ready."),W(e,"cors-unsupported","This browser is not supported."),W(e,"credential-already-in-use","This credential is already associated with a different user account."),W(e,"custom-token-mismatch","The custom token corresponds to a different audience."),W(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),W(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),W(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),W(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),W(e,"email-already-in-use","The email address is already in use by another account."),W(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),W(e,"expired-action-code","The action code has expired."),W(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),W(e,"internal-error","An internal AuthError has occurred."),W(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),W(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),W(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),W(e,"invalid-auth-event","An internal AuthError has occurred."),W(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),W(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),W(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),W(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),W(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),W(e,"invalid-email","The email address is badly formatted."),W(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),W(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),W(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),W(e,"invalid-credential","The supplied auth credential is malformed or has expired."),W(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),W(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),W(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),W(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),W(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),W(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),W(e,"wrong-password","The password is invalid or the user does not have a password."),W(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),W(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),W(e,"invalid-provider-id","The specified provider ID is invalid."),W(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),W(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),W(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),W(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),W(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),W(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),W(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),W(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),W(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),W(e,"missing-continue-uri","A continue URL must be provided in the request."),W(e,"missing-iframe-start","An internal AuthError has occurred."),W(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),W(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),W(e,"missing-multi-factor-info","No second factor identifier is provided."),W(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),W(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),W(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),W(e,"app-deleted","This instance of FirebaseApp has been deleted."),W(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),W(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),W(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),W(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),W(e,"no-auth-event","An internal AuthError has occurred."),W(e,"no-such-provider","User was not linked to an account with the given provider."),W(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),W(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),W(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),W(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),W(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),W(e,"provider-already-linked","User can only be linked to one identity for the given provider."),W(e,"quota-exceeded","The project's quota for this operation has been exceeded."),W(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),W(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),W(e,"rejected-credential","The request contains malformed or mismatching credentials."),W(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),W(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),W(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),W(e,"timeout","The operation has timed out."),W(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),W(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),W(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),W(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),W(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),W(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),W(e,"unverified-email","The operation requires a verified email."),W(e,"user-cancelled","The user did not grant your application the permissions it requested."),W(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),W(e,"user-disabled","The user account has been disabled by an administrator."),W(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),W(e,"user-signed-out",""),W(e,"weak-password","The password must be 6 characters long or more."),W(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),W(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},rx=tx,ix=new sr("auth","Firebase",tx()),ax=new Fr("@firebase/auth");function ox(e){if(ax.logLevel<=Ar.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ax.error.apply(ax,["Auth (".concat(ki,"): ").concat(e)].concat(n))}}function ux(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fx.apply(void 0,[e].concat(n))}function sx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fx.apply(void 0,[e].concat(n))}function cx(e,t,n){var r=Object.assign(Object.assign({},rx()),W({},t,n));return new sr("auth","Firebase",r).create(t,{appName:e.name})}function lx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ux(e,"argument-error"),cx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Er(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Er(o)))}return ix.create.apply(ix,[e].concat(n))}function hx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fx.apply(void 0,[t].concat(r))}}function dx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ox(t),new Error(t)}function px(e,t){e||dx(t)}var vx=new Map;function mx(e){px(e instanceof Function,"Expected a class definition");var t=vx.get(e);return t?(px(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vx.set(e,t),t)}function yx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gx(){return"http:"===kx()||"https:"===kx()}function kx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var bx=function(){function e(t,n){se(this,e),this.shortDelay=t,this.longDelay=n,px(n>t,"Short delay should be less than long delay!"),this.isMobile=tr()||ir()}return le(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(gx()||rr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function wx(e,t){px(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var xx=function(){function e(){se(this,e)}return le(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void dx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void dx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void dx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ex=(W(qw={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),W(qw,"MISSING_CUSTOM_TOKEN","internal-error"),W(qw,"INVALID_IDENTIFIER","invalid-email"),W(qw,"MISSING_CONTINUE_URI","internal-error"),W(qw,"INVALID_PASSWORD","wrong-password"),W(qw,"MISSING_PASSWORD","internal-error"),W(qw,"EMAIL_EXISTS","email-already-in-use"),W(qw,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),W(qw,"INVALID_IDP_RESPONSE","invalid-credential"),W(qw,"INVALID_PENDING_TOKEN","invalid-credential"),W(qw,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),W(qw,"MISSING_REQ_TYPE","internal-error"),W(qw,"EMAIL_NOT_FOUND","user-not-found"),W(qw,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),W(qw,"EXPIRED_OOB_CODE","expired-action-code"),W(qw,"INVALID_OOB_CODE","invalid-action-code"),W(qw,"MISSING_OOB_CODE","internal-error"),W(qw,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),W(qw,"INVALID_ID_TOKEN","invalid-user-token"),W(qw,"TOKEN_EXPIRED","user-token-expired"),W(qw,"USER_NOT_FOUND","user-token-expired"),W(qw,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),W(qw,"INVALID_CODE","invalid-verification-code"),W(qw,"INVALID_SESSION_INFO","invalid-verification-id"),W(qw,"INVALID_TEMPORARY_PROOF","invalid-credential"),W(qw,"MISSING_SESSION_INFO","missing-verification-id"),W(qw,"SESSION_EXPIRED","code-expired"),W(qw,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),W(qw,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),W(qw,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),W(qw,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),W(qw,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),W(qw,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),W(qw,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),W(qw,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),W(qw,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),W(qw,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),W(qw,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),qw),_x=new bx(3e4,6e4);function Ix(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Sx(e,t,n,r){return Tx.apply(this,arguments)}function Tx(){return Tx=Ir(wr().mark((function e(t,n,r,i){var a,o=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Cx(t,a,Ir(wr().mark((function e(){var a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=pr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",xx.fetch()(Px(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Cx(e,t,n){return Nx.apply(this,arguments)}function Nx(){return Nx=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ex),n),e.prev=2,a=new Dx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Rx(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Rx(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Rx(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Rx(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw cx(t,p,d);case 34:ux(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ur)){e.next=41;break}throw e.t0;case 41:ux(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Nx.apply(this,arguments)}function Ax(e,t,n,r){return Ox.apply(this,arguments)}function Ox(){return Ox=Ir(wr().mark((function e(t,n,r,i){var a,o,u=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Sx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ux(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Px(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Dx=function(){function e(t){var n=this;se(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(sx(n.auth,"network-request-failed"))}),_x.get())}))}return le(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Rx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=sx(e,t,r);return i.customData._tokenResponse=n,i}function Mx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Fx(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Ux(e,t){return jx.apply(this,arguments)}function jx(){return jx=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Bx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function zx(){return zx=Ir(wr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=br(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,hx((a=Kx(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Bx(qx(a.auth_time)),issuedAtTime:Bx(qx(a.iat)),expirationTime:Bx(qx(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e){return 1e3*Number(e)}function Kx(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ox("JWT malformed, contained fewer than 3 sections"),null;try{var o=$n(i);return o?JSON.parse(o):(ox("Failed to decode base64 JWT payload"),null)}catch(u){return ox("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Hx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=Ir(wr().mark((function e(t,n){var r=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ur&&Gx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wx.apply(this,arguments)}function Gx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Qx=function(){function e(t){se(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return le(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yx=function(){function e(t,n){se(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return le(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Bx(this.lastLoginAt),this.creationTime=Bx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function $x(e){return Xx.apply(this,arguments)}function Xx(){return Xx=Ir(wr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Hx(t,Ux(r,{idToken:i}));case 6:hx(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?eE(o.providerUserInfo):[],s=Zx(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Yx(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Jx(){return(Jx=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=br(t),e.next=3,$x(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Er(n),Er(t))}function eE(e){return e.map((function(e){var t=e.providerId,n=zw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cx(t,{},Ir(wr().mark((function e(){var r,i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Px(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",xx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}var rE=function(){function e(){se(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return le(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){hx(e.idToken,"internal-error"),hx("undefined"!==typeof e.idToken,"internal-error"),hx("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Kx(e);return hx(t,"internal-error"),hx("undefined"!==typeof t.exp,"internal-error"),hx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ir(wr().mark((function e(t){var n,r=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],hx(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return dx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(hx("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(hx("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(hx("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function iE(e,t){hx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var aE=function(){function e(t){se(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=zw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Er(a.providerData):[],this.metadata=new Yx(a.createdAt||void 0,a.lastLoginAt||void 0)}return le(e,[{key:"getIdToken",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hx(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(hx(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return zx.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Jx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(hx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){hx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ir(wr().mark((function e(t){var n,r,i=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,$x(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Hx(this,Mx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;hx(k&&E,t,"internal-error");var _=rE.fromJSON(this.name,E);hx("string"===typeof k,t,"internal-error"),iE(f,t.name),iE(h,t.name),hx("boolean"===typeof b,t,"internal-error"),hx("boolean"===typeof w,t,"internal-error"),iE(d,t.name),iE(p,t.name),iE(v,t.name),iE(m,t.name),iE(y,t.name),iE(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ir(wr().mark((function t(n,r){var i,a,o,u=arguments;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new rE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,$x(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),oE=function(){function e(){se(this,e),this.type="NONE",this.storage={}}return le(e,[{key:"_isAvailable",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();oE.type="NONE";var uE=oE;function sE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var cE=function(){function e(t,n,r){se(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=sE(this.userKey,a.apiKey,o),this.fullPersistenceKey=sE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return le(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?aE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ir(wr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(mx(uE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||mx(uE),u=sE(i,n.config.apiKey,n.name),s=null,c=Kn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=aE._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function lE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mE(t))return"Blackberry";if(yE(t))return"Webos";if(hE(t))return"Safari";if((t.includes("chrome/")||dE(t))&&!t.includes("edge/"))return"Chrome";if(vE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function fE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/firefox\//i.test(e)}function hE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/crios\//i.test(e)}function pE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/iemobile/i.test(e)}function vE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/android/i.test(e)}function mE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/blackberry/i.test(e)}function yE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/webos/i.test(e)}function gE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return gE(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function bE(){return ar()&&10===document.documentMode}function wE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return gE(e)||vE(e)||yE(e)||mE(e)||/windows phone/i.test(e)||pE(e)}function xE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=lE(er());break;case"Worker":t="".concat(lE(er()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ki,"/").concat(r)}var EE=function(){function e(t){se(this,e),this.auth=t,this.queue=[]}return le(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ir(wr().mark((function e(t){var n,r,i,a,o,u,s,c;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Kn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Kn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_E=function(){function e(t,n,r){se(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new EE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ix,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return le(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=mx(t)),this._initializationPromise=this.queue(Ir(wr().mark((function r(){var i,a;return wr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,cE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ir(wr().mark((function e(t){var n,r,i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return hx(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$x(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?br(t):null)&&hx(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ir(wr().mark((function e(t){var n,r=this,i=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&hx(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ir(wr().mark((function n(){return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(mx(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new sr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return hx(n=t&&mx(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,cE.create(this,[mx(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ir(wr().mark((function e(t){var n=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return hx(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return hx(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ir(wr().mark((function e(){var t,n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=W({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function IE(e){return br(e)}var SE=function(){function e(t){var n=this;se(this,e),this.auth=t,this.observer=null,this.addObserver=yr((function(e){return n.observer=e}))}return le(e,[{key:"next",get:function(){return hx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function TE(e,t,n){var r=IE(e);hx(r._canInitEmulator,r,"emulator-config-failed"),hx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=CE(t),o=function(e){var t=CE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:NE(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:NE(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function CE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function NE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var AE=function(){function e(t,n){se(this,e),this.providerId=t,this.signInMethod=n}return le(e,[{key:"toJSON",value:function(){return dx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return dx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return dx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return dx("not implemented")}}]),e}();function OE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:resetPassword",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function DE(e,t){return RE.apply(this,arguments)}function RE(){return RE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function ME(e,t){return LE.apply(this,arguments)}function LE(){return LE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:update",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function FE(e,t){return VE.apply(this,arguments)}function VE(){return VE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithPassword",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function UE(e,t){return jE.apply(this,arguments)}function jE(){return jE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:sendOobCode",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function BE(e,t){return zE.apply(this,arguments)}function zE(){return zE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UE(t,n));case 1:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e,t){return KE.apply(this,arguments)}function KE(){return KE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UE(t,n));case 1:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function HE(e,t){return WE.apply(this,arguments)}function WE(){return WE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UE(t,n));case 1:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function GE(e,t){return QE.apply(this,arguments)}function QE(){return QE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UE(t,n));case 1:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e,t){return $E.apply(this,arguments)}function $E(){return $E=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithEmailLink",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function XE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithEmailLink",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}var ZE=function(e){de(n,e);var t=ye(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return se(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return le(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",FE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",YE(t,{email:this._email,oobCode:this._password}));case 5:ux(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",DE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",XE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ux(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(AE);function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithIdp",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}var n_=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return le(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return e_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,e_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,e_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ux("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=zw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(AE);function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:sendVerificationCode",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(){return a_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithPhoneNumber",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(){return o_=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(t,"POST","/v1/accounts:signInWithPhoneNumber",Ix(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Rx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}var u_=W({},"USER_NOT_FOUND","user-not-found");function s_(){return s_=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithPhoneNumber",Ix(t,r),u_));case 2:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}var c_=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this,"phone","phone")).params=e,r}return le(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return a_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return o_.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return s_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(AE);var l_=function(){function e(t){var n,r,i,a,o,u;se(this,e);var s=vr(mr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);hx(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return le(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=vr(mr(e)).link,n=t?vr(mr(t)).deep_link_id:null,r=vr(mr(e)).deep_link_id;return(r?vr(mr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var f_=function(){function e(){se(this,e),this.providerId=e.PROVIDER_ID}return le(e,null,[{key:"credential",value:function(e,t){return ZE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=l_.parseLink(t);return hx(n,"argument-error"),ZE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();f_.PROVIDER_ID="password",f_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var h_=function(){function e(t){se(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return le(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),d_=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.apply(this,arguments)).scopes=[],e}return le(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Er(this.scopes)}}]),n}(h_),p_=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return hx(e.idToken||e.accessToken,"argument-error"),n_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return hx("providerId"in t&&"signInMethod"in t,"argument-error"),n_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(d_),v_=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.call(this,"facebook.com")}return le(n,null,[{key:"credential",value:function(e){return n_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(d_);v_.FACEBOOK_SIGN_IN_METHOD="facebook.com",v_.PROVIDER_ID="facebook.com";var m_=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return le(n,null,[{key:"credential",value:function(e,t){return n_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(d_);m_.GOOGLE_SIGN_IN_METHOD="google.com",m_.PROVIDER_ID="google.com";var y_=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.call(this,"github.com")}return le(n,null,[{key:"credential",value:function(e){return n_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(d_);y_.GITHUB_SIGN_IN_METHOD="github.com",y_.PROVIDER_ID="github.com";var g_=function(e){de(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return le(n,[{key:"_getIdTokenResponse",value:function(e){return e_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,e_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,e_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(AE),k_=function(e){de(n,e);var t=ye(n);function n(e){return se(this,n),hx(e.startsWith("saml."),"argument-error"),t.call(this,e)}return le(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=g_.fromJSON(e);return hx(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return g_._create(r,n)}catch(i){return null}}}]),n}(h_),b_=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.call(this,"twitter.com")}return le(n,null,[{key:"credential",value:function(e,t){return n_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(d_);function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signUp",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}b_.TWITTER_SIGN_IN_METHOD="twitter.com",b_.PROVIDER_ID="twitter.com";var E_=function(){function e(t){se(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return le(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ir(wr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,aE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=__(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ir(wr().mark((function t(n,r,i){var a;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=__(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function __(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function I_(){return I_=Ir(wr().mark((function e(t){var n,r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=IE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new E_({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,w_(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,E_._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}var S_=function(e){de(n,e);var t=ye(n);function n(e,r,i,a){var o,u;return se(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(fe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return le(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ur);function T_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw S_._fromErrorAndOperation(e,n,t,r);throw n}))}function C_(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function N_(e,t){return A_.apply(this,arguments)}function A_(){return A_=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(t),e.next=3,D_(!0,r,n);case 3:return e.t0=Fx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=C_(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function O_(e,t){return P_.apply(this,arguments)}function P_(){return P_=Ir(wr().mark((function e(t,n){var r,i,a=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Hx,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",E_._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function D_(e,t,n){return R_.apply(this,arguments)}function R_(){return(R_=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$x(n);case 2:i=C_(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",hx(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Hx(t,T_(a,o,n,t),r);case 6:return hx((u=e.sent).idToken,a,"internal-error"),hx(s=Kx(u.idToken),a,"internal-error"),c=s.sub,hx(t.uid===c,a,"user-mismatch"),e.abrupt("return",E_._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ux(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),L_.apply(this,arguments)}function F_(e,t){return V_.apply(this,arguments)}function V_(){return V_=Ir(wr().mark((function e(t,n){var r,i,a,o,u=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,T_(t,i,n);case 4:return a=e.sent,e.next=7,E_._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function U_(e,t){return j_.apply(this,arguments)}function j_(){return j_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(IE(t),n));case 1:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return(z_=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(t),e.next=3,D_(!1,r,n.providerId);case 3:return e.abrupt("return",O_(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q_(e,t){return K_.apply(this,arguments)}function K_(){return(K_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M_(br(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H_(e,t){return W_.apply(this,arguments)}function W_(){return W_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ax(t,"POST","/v1/accounts:signInWithCustomToken",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function G_(){return G_=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=IE(t),e.next=3,H_(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,E_._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}var Q_=function(){function e(t,n){se(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return le(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Y_._fromServerResponse(e,t):ux(e,"internal-error")}}]),e}(),Y_=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return le(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Q_);function $_(e,t,n){var r;hx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),hx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(hx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(hx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function X_(){return X_=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),a={requestType:"PASSWORD_RESET",email:n},r&&$_(i,a,r),e.next=5,qE(i,a);case 5:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function J_(){return J_=Ir(wr().mark((function e(t,n,r){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OE(br(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function Z_(){return Z_=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ME(br(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(t),e.next=3,OE(r,{oobCode:n});case 3:i=e.sent,hx(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return hx(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:hx(i.mfaInfo,r,"internal-error");case 13:hx(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Q_._fromServerResponse(IE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(){return nI=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eI(br(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t,n){return iI.apply(this,arguments)}function iI(){return iI=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IE(t),e.next=3,w_(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,E_._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(){return aI=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),a={requestType:"EMAIL_SIGNIN",email:n},hx(r.handleCodeInApp,i,"argument-error"),r&&$_(i,a,r),e.next=6,HE(i,a);case 6:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(){return oI=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),hx((a=f_.credentialWithLink(n,r||yx()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",U_(i,a));case 4:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e,t){return sI.apply(this,arguments)}function sI(){return sI=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:createAuthUri",Ix(t,n)));case 1:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(){return cI=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gx()?yx():"http://localhost",i={identifier:n,continueUri:r},e.next=4,uI(br(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(){return(lI=Ir(wr().mark((function e(t,n){var r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&$_(r.auth,a,n),e.next=8,BE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fI(){return(fI=Ir(wr().mark((function e(t,n,r){var i,a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&$_(i.auth,o,r),e.next=8,GE(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(){return(pI=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s,c;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=br(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Hx(a,hI(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vI(e,t,n){return mI.apply(this,arguments)}function mI(){return mI=Ir(wr().mark((function e(t,n,r){var i,a,o,u;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Hx(t,DE(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}var yI=le((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};se(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),gI=function(e){de(n,e);var t=ye(n);function n(e,r,i,a){var o;return se(this,n),(o=t.call(this,e,r,i)).username=a,o}return le(n)}(yI),kI=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"facebook.com",r)}return le(n)}(yI),bI=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return le(n)}(gI),wI=function(e){de(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"google.com",r)}return le(n)}(yI),xI=function(e){de(n,e);var t=ye(n);function n(e,r,i){return se(this,n),t.call(this,e,"twitter.com",r,i)}return le(n)}(gI);function EI(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Kx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new yI(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new kI(a,i);case"github.com":return new bI(a,i);case"google.com":return new wI(a,i);case"twitter.com":return new xI(a,i,e.screenName||null);case"custom":case"anonymous":return new yI(a,null);default:return new yI(a,r,i)}}(n)}var _I=function(){function e(t,n){se(this,e),this.type=t,this.credential=n}return le(e,[{key:"toJSON",value:function(){return{multiFactorSession:W({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),II=function(){function e(t,n,r){se(this,e),this.session=t,this.hints=n,this.signInResolver=r}return le(e,[{key:"resolveSignIn",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=IE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Q_._fromServerResponse(r,e)}));hx(i.mfaPendingCredential,r,"internal-error");var o=_I._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ir(wr().mark((function e(t){var a,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,E_._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return hx(n.user,r,"internal-error"),e.abrupt("return",E_._forOperation(n.user,n.operationType,u));case 17:ux(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function SI(e,t){return Sx(e,"POST","/v2/accounts/mfaEnrollment:start",Ix(e,t))}function TI(e,t){return Sx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ix(e,t))}var CI=function(){function e(t){var n=this;se(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Q_._fromServerResponse(t.auth,e)})))}))}return le(e,[{key:"getSession",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_I,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Hx(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ir(wr().mark((function e(t){var n,r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Hx(this.user,TI(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),NI=new WeakMap;var AI="__sak",OI=function(){function e(t,n){se(this,e),this.storageRetriever=t,this.type=n}return le(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(AI,"1"),this.storage.removeItem(AI),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var PI=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=er();return hE(e)||gE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=wE(),e._shouldAllowMigration=!0,e}return le(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);bE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ir(wr().mark((function e(t,r){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(pe(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ir(wr().mark((function e(t){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(pe(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(pe(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(OI);PI.type="LOCAL";var DI=PI,RI=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return le(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(OI);RI.type="SESSION";var MI=RI;function LI(e){return Promise.all(e.map(function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var FI=function(){function e(t){se(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return le(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ir(wr().mark((function e(t){var n,r,i,a,o,u,s,c;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,LI(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function VI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}FI.receivers=[];var UI=function(){function e(t){se(this,e),this.target=t,this.handlers=new Set}return le(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ir(wr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=VI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jI(){return window}function BI(){return"undefined"!==typeof jI().WorkerGlobalScope&&"function"===typeof jI().importScripts}function zI(){return qI.apply(this,arguments)}function qI(){return(qI=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function KI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var HI="firebaseLocalStorageDb",WI="firebaseLocalStorage",GI="fbase_key",QI=function(){function e(t){se(this,e),this.request=t}return le(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function YI(e,t){return e.transaction([WI],t?"readwrite":"readonly").objectStore(WI)}function $I(){var e=indexedDB.deleteDatabase(HI);return new QI(e).toPromise()}function XI(){var e=indexedDB.open(HI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(WI,{keyPath:GI})}catch(r){n(r)}})),e.addEventListener("success",Ir(wr().mark((function n(){var r;return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(WI)){n.next=12;break}return r.close(),n.next=5,$I();case 5:return n.t0=t,n.next=8,XI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function JI(e,t,n){return ZI.apply(this,arguments)}function ZI(){return ZI=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=YI(t,!0).put((W(i={},GI,n),W(i,"value",r),i)),e.abrupt("return",new QI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=Ir(wr().mark((function e(t,n){var r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YI(t,!1).get(n),e.next=3,new QI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){var n=YI(e,!0).delete(t);return new QI(n).toPromise()}var rS=function(){function e(){se(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return le(e,[{key:"_openDb",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,XI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ir(wr().mark((function e(){var t=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=FI._getInstance(BI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ir(wr().mark((function e(n,r){var i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ir(wr().mark((function e(){var t,n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new UI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&KI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,XI();case 5:return t=e.sent,e.next=8,JI(t,AI,"1");case 8:return e.next=10,nS(t,AI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ir(wr().mark((function e(t,n){var r=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return JI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return eS(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ir(wr().mark((function e(t){var n=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return nS(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=YI(e,!1).getAll();return new QI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Kn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ir(wr().mark((function t(){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rS.type="LOCAL";var iS=rS;function aS(e,t){return Sx(e,"POST","/v2/accounts/mfaSignIn:start",Ix(e,t))}function oS(e){return uS.apply(this,arguments)}function uS(){return uS=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function sS(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=sx("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function cS(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var lS=1e12,fS=function(){function e(t){se(this,e),this.auth=t,this.counter=lS,this._widgets=new Map}return le(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hS(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||lS;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||lS;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||lS,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hS=function(){function e(t,n,r){var i=this;se(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;hx(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return le(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var dS=cS("rcb"),pS=new bx(3e4,6e4),vS="https://www.google.com/recaptcha/api.js?",mS=function(){function e(){var t;se(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=jI().grecaptcha)||void 0===t?void 0:t.render)}return le(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return hx(yS(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(jI().grecaptcha):new Promise((function(r,i){var a=jI().setTimeout((function(){i(sx(e,"network-request-failed"))}),pS.get());jI()[dS]=function(){jI().clearTimeout(a),delete jI()[dS];var o=jI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(sx(e,"internal-error"))},sS("".concat(vS,"?").concat(pr({onload:dS,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(sx(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=jI().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function yS(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var gS=function(){function e(){se(this,e)}return le(e,[{key:"load",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new fS(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),kS="recaptcha",bS={theme:"light",type:"image"},wS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},bS),r=arguments.length>2?arguments[2]:void 0;se(this,e),this.parameters=n,this.type=kS,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=IE(r),this.isInvisible="invisible"===this.parameters.size,hx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;hx(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gS:new mS,this.validateStartingState()}return le(e,[{key:"verify",value:function(){var e=Ir(wr().mark((function e(){var t,n,r,i=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){hx(!this.parameters.sitekey,this.auth,"argument-error"),hx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),hx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=jI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){hx(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ir(wr().mark((function e(){var t,n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hx(gx()&&!BI(),this.auth,"internal-error"),e.next=3,xS();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,oS(this.auth);case 8:hx(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return hx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function xS(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ES=function(){function e(t,n){se(this,e),this.verificationId=t,this.onConfirmation=n}return le(e,[{key:"confirm",value:function(e){var t=c_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function _S(){return _S=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IE(t),e.next=3,CS(i,n,br(r));case 3:return a=e.sent,e.abrupt("return",new ES(a,(function(e){return U_(i,e)})));case 5:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function IS(e,t,n){return SS.apply(this,arguments)}function SS(){return(SS=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),e.next=3,D_(!1,i,"phone");case 3:return e.next=5,CS(i.auth,n,br(r));case 5:return a=e.sent,e.abrupt("return",new ES(a,(function(e){return B_(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TS(){return(TS=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),e.next=3,CS(i.auth,n,br(r));case 3:return a=e.sent,e.abrupt("return",new ES(a,(function(e){return q_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,hx("string"===typeof a,t,"argument-error"),hx(r.type===kS,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return hx("enroll"===u.type,t,"internal-error"),e.next=13,SI(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return hx("signin"===u.type,t,"internal-error"),hx(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,aS(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,r_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),NS.apply(this,arguments)}function AS(){return(AS=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O_(br(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OS=function(){function e(t){se(this,e),this.providerId=e.PROVIDER_ID,this.auth=IE(t)}return le(e,[{key:"verifyPhoneNumber",value:function(e,t){return CS(this.auth,e,br(t))}}],[{key:"credential",value:function(e,t){return c_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?c_._fromTokenResponse(n,r):null}}]),e}();function PS(e,t){return t?mx(t):(hx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}OS.PROVIDER_ID="phone",OS.PHONE_SIGN_IN_METHOD="phone";var DS=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this,"custom","custom")).params=e,r}return le(n,[{key:"_getIdTokenResponse",value:function(e){return e_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return e_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return e_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(AE);function RS(e){return F_(e.auth,new DS(e),e.bypassAuthState)}function MS(e){var t=e.auth,n=e.user;return hx(n,t,"internal-error"),M_(n,new DS(e),e.bypassAuthState)}function LS(e){return FS.apply(this,arguments)}function FS(){return FS=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,hx(r=t.user,n,"internal-error"),e.abrupt("return",O_(r,new DS(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}var VS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];se(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return le(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ir(wr().mark((function t(n,r){return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ir(wr().mark((function e(t){var n,r,i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RS;case"linkViaPopup":case"linkViaRedirect":return LS;case"reauthViaPopup":case"reauthViaRedirect":return MS;default:ux(this.auth,"internal-error")}}},{key:"resolve",value:function(e){px(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){px(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),US=new bx(2e3,1e4);function jS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IE(t),lx(t,n,h_),a=PS(i,r),o=new HS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function zS(){return(zS=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx((i=br(t)).auth,n,h_),a=PS(i.auth,r),o=new HS(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qS(e,t,n){return KS.apply(this,arguments)}function KS(){return(KS=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx((i=br(t)).auth,n,h_),a=PS(i.auth,r),o=new HS(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HS=function(e){de(n,e);var t=ye(n);function n(e,r,i,a,o){var u;return se(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=fe(u),u}return le(n,[{key:"executeNotNull",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return hx(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ir(wr().mark((function e(){var t,n=this;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return px(1===this.filter.length,"Popup operations only handle one event"),t=VI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(sx(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(sx(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(sx(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,US.get())}()}}]),n}(VS);HS.currentPopupAction=null;var WS=new Map,GS=function(e){de(n,e);var t=ye(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return se(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return le(n,[{key:"execute",value:function(){var e=Ir(wr().mark((function e(){var t,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=WS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,QS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Xi(pe(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:WS.set(this.auth._key(),t);case 21:return this.bypassAuthState||WS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ir(wr().mark((function e(t){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Xi(pe(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Xi(pe(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(VS);function QS(e,t){return YS.apply(this,arguments)}function YS(){return YS=Ir(wr().mark((function e(t,n){var r,i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(n),i=ZS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function $S(e,t){return XS.apply(this,arguments)}function XS(){return XS=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZS(t)._set(eT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function JS(e,t){WS.set(e._key(),t)}function ZS(e){return mx(e._redirectPersistence)}function eT(e){return sE("pendingRedirect",e.config.apiKey,e.name)}function tT(e,t,n){return function(e,t,n){return nT.apply(this,arguments)}(e,t,n)}function nT(){return nT=Ir(wr().mark((function e(t,n,r){var i,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IE(t),lx(t,n,h_),a=PS(i,r),e.next=5,$S(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t,n){return function(e,t,n){return iT.apply(this,arguments)}(e,t,n)}function iT(){return(iT=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx((i=br(t)).auth,n,h_),a=PS(i.auth,r),e.next=5,$S(a,i.auth);case 5:return e.next=7,fT(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aT(e,t,n){return function(e,t,n){return oT.apply(this,arguments)}(e,t,n)}function oT(){return(oT=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx((i=br(t)).auth,n,h_),a=PS(i.auth,r),e.next=5,D_(!1,i,n.providerId);case 5:return e.next=7,$S(a,i.auth);case 7:return e.next=9,fT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(e,t){return sT.apply(this,arguments)}function sT(){return sT=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IE(t)._initializationPromise;case 2:return e.abrupt("return",cT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=Ir(wr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=IE(t),a=PS(i,n),o=new GS(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e){return hT.apply(this,arguments)}function hT(){return(hT=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=VI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dT=function(){function e(t){se(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return le(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!vT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sx(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function pT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function vT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function mT(e){return yT.apply(this,arguments)}function yT(){return yT=Ir(wr().mark((function e(t){var n,r=arguments;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Sx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}var gT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kT=/^https?/;function bT(){return bT=Ir(wr().mark((function e(t){var n,r,i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mT(t);case 4:n=e.sent,r=n.authorizedDomains,i=Kn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!wT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ux(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bT.apply(this,arguments)}function wT(e){var t=yx(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!kT.test(r))return!1;if(gT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xT=new bx(3e4,6e4);function ET(){var e=jI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Er(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _T=null;function IT(e){return _T=_T||function(e){return new Promise((function(t,n){var r,i,a;function o(){ET(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ET(),n(sx(e,"network-request-failed"))},timeout:xT.get()})}if(null===(i=null===(r=jI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jI().gapi)||void 0===a?void 0:a.load)){var u=cS("iframefcb");return jI()[u]=function(){gapi.load?o():n(sx(e,"network-request-failed"))},sS("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _T=null,e}))}(e),_T}var ST=new bx(5e3,15e3),TT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NT(e){var t=e.config;hx(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?wx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ki},i=CT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(pr(r).slice(1))}function AT(e){return OT.apply(this,arguments)}function OT(){return OT=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT(t);case 2:return n=e.sent,hx(r=jI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:NT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TT,dontclear:!0},(function(e){return new Promise(function(){var n=Ir(wr().mark((function n(r,i){var a,o,u;return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){jI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=sx(t,"network-request-failed"),o=jI().setTimeout((function(){i(a)}),ST.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}var PT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DT="_blank",RT="http://localhost",MT=function(){function e(t){se(this,e),this.window=t,this.associatedEvent=null}return le(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function LT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},PT),{width:r.toString(),height:i.toString(),top:a,left:o}),l=er().toLowerCase();n&&(u=dE(l)?DT:n),fE(l)&&(t=t||RT,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(kE(l)&&"_self"!==u)return FT(t||"",u),new MT(null);var h=window.open(t||"",u,f);hx(h,e,"popup-blocked");try{h.focus()}catch(d){}return new MT(h)}function FT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var VT="__/auth/handler",UT="emulator/auth/handler";function jT(e,t,n,r,i,a){hx(e.config.authDomain,e,"auth-domain-config-required"),hx(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ki,eventId:i};if(t instanceof h_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof d_){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(VT);return wx(t,UT)}(e),"?").concat(pr(p).slice(1))}var BT="webStorageSupport",zT=function(){function e(){se(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MI,this._completeRedirectFn=cT,this._overrideRedirectResult=JS}return le(e,[{key:"_openPopup",value:function(){var e=Ir(wr().mark((function e(t,n,r,i){var a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return px(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=jT(t,n,r,yx(),i),e.abrupt("return",LT(t,o,VI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ir(wr().mark((function e(t,n,r,i){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=jT(t,n,r,yx(),i),jI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(px(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AT(t);case 2:return n=e.sent,r=new dT(t),n.register("authEvent",(function(e){return hx(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(BT,{type:BT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ux(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return wE()||hE()||gE()}}]),e}(),qT=zT,KT=function(){function e(t){se(this,e),this.factorId=t}return le(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dx("unexpected MultiFactorSessionType")}}}]),e}(),HT=function(e){de(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this,"phone")).credential=e,r}return le(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Sx(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ix(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Sx(e,"POST","/v2/accounts/mfaSignIn:finalize",Ix(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(KT),WT=function(){function e(){se(this,e)}return le(e,null,[{key:"assertion",value:function(e){return HT._fromCredential(e)}}]),e}();WT.FACTOR_ID="phone";var GT,QT="@firebase/auth",YT="0.20.6",$T=function(){function e(t){se(this,e),this.auth=t,this.internalListeners=new Map}return le(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){hx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function XT(){return window}GT="Browser",hi(new Sr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){hx(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),hx(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:GT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(GT)},i=new _E(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),hi(new Sr("auth-internal",(function(e){return function(e){return new $T(e)}(IE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(QT,YT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(GT)),Ii(QT,YT,"esm2017");function JT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return ZT=Ir(wr().mark((function e(t,n,r){var i,a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=XT(),o=a.BuildInfo,px(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,aC(n.sessionId);case 4:return u=e.sent,s={},gE()?s.ibi=o.packageName:vE()?s.apn=o.packageName:ux(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",jT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eC(){return eC=Ir(wr().mark((function e(t){var n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=XT(),r=n.BuildInfo,i={},gE()?i.iosBundleId=r.packageName:vE()?i.androidPackageName=r.packageName:ux(t,"operation-not-supported-in-this-environment"),e.next=5,mT(t,i);case 5:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e){var t=XT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function nC(e,t,n){return rC.apply(this,arguments)}function rC(){return rC=Ir(wr().mark((function e(t,n,r){var i,a,o;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(sx(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),vE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),rC.apply(this,arguments)}function iC(e){var t,n,r,i,a,o,u,s,c,l,f=XT();hx("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),hx("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),hx("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hx("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hx("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function aC(e){return oC.apply(this,arguments)}function oC(){return(oC=Ir(wr().mark((function e(t){var n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uC(e){if(px(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var sC=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return le(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Xi(pe(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dT);function cC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:pC(),postBody:null,tenantId:e.tenantId,error:sx(e,"no-auth-event")}}function lC(e,t){return vC()._set(mC(e),t)}function fC(e){return hC.apply(this,arguments)}function hC(){return hC=Ir(wr().mark((function e(t){var n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vC()._get(mC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,vC()._remove(mC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){var n,r,i=function(e){var t=yC(e),n=t.link?decodeURIComponent(t.link):void 0,r=yC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return yC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=yC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?sx(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function pC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function vC(){return mx(DI)}function mC(e){return sE("authEvent",e.config.apiKey,e.name)}function yC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||xr(t)||u(t)||s();r[0];return vr(r.slice(1).join("?"))}var gC=function(){function e(){se(this,e),this._redirectPersistence=MI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cT,this._overrideRedirectResult=JS}return le(e,[{key:"_initialize",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new sC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ux(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ir(wr().mark((function e(t,n,r,i){var a,o,u,s;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),WS.clear(),e.next=10,this._originValidation(t);case 10:return o=cC(t,r,i),e.next=13,lC(t,o);case 13:return e.next=15,JT(t,o,n);case 15:return u=e.sent,e.next=18,tC(u);case 18:return s=e.sent,e.abrupt("return",nC(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return eC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=XT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ir(wr().mark((function n(){return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fC(e);case 2:t.onEvent(bC());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ir(wr().mark((function n(r){var i,a;return wr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,fC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=dC(i,r.url)),t.onEvent(a||bC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");XT().handleOpenURL=function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),kC=gC;function bC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:sx("no-auth-event")}}function wC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function xC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return!("file:"!==wC()&&"ionic:"!==wC()&&"capacitor:"!==wC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function EC(){return ar()&&11===(null===document||void 0===document?void 0:document.documentMode)}function _C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return/Edge\/\d+/.test(e)}function IC(){try{var e=self.localStorage,t=VI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();return EC()||_C(e)}()||or()}catch(n){return SC()&&or()}return!1}function SC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function TC(){return("http:"===wC()||"https:"===wC()||rr()||xC())&&!(ir()||nr())&&IC()&&!SC()}function CC(){return xC()&&"undefined"!==typeof document}function NC(){return AC.apply(this,arguments)}function AC(){return(AC=Ir(wr().mark((function e(){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OC={LOCAL:"local",NONE:"none",SESSION:"session"},PC=hx,DC="persistence";function RC(e,t){PC(Object.values(OC).includes(t),e,"invalid-persistence-type"),ir()?PC(t!==OC.SESSION,e,"unsupported-persistence-type"):nr()?PC(t===OC.NONE,e,"unsupported-persistence-type"):SC()?PC(t===OC.NONE||t===OC.LOCAL&&or(),e,"unsupported-persistence-type"):PC(t===OC.NONE||IC(),e,"unsupported-persistence-type")}function MC(e){return LC.apply(this,arguments)}function LC(){return LC=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=FC(),r=sE(DC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function FC(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var VC=hx,UC=function(){function e(){se(this,e),this.browserResolver=mx(qT),this.cordovaResolver=mx(kC),this.underlyingResolver=null,this._redirectPersistence=MI,this._completeRedirectFn=cT,this._overrideRedirectResult=JS}return le(e,[{key:"_initialize",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ir(wr().mark((function e(t,n,r,i){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ir(wr().mark((function e(t,n,r,i){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return CC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return VC(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,NC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jC(e){return e.unwrap()}function BC(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new WC(e,function(e,t){var n,r=br(e),i=t;return hx(t.customData.operationType,r,"argument-error"),hx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),II._fromError(r,i)}(e,t));else if(i){var a=zC(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function zC(e){var t=(e instanceof ur?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ur)&&"temporaryProof"in t&&"phoneNumber"in t)return OS.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Gw)return null;switch(r){case Ww:n=m_;break;case Kw:n=v_;break;case Hw:n=y_;break;case Qw:n=b_;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?g_._create(r,u):n_._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new p_(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ur?n.credentialFromError(e):n.credentialFromResult(e)}function qC(e,t){return t.catch((function(t){throw t instanceof ur&&BC(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zC(t)),additionalUserInfo:EI(e),user:GC.getOrCreate(r)}}))}function KC(e,t){return HC.apply(this,arguments)}function HC(){return HC=Ir(wr().mark((function e(t,n){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qC(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}var WC=function(){function e(t,n){se(this,e),this.resolver=n,this.auth=t.wrapped()}return le(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qC(jC(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),GC=function(){function e(t){se(this,e),this._delegate=t,this.multiFactor=function(e){var t=br(e);return NI.has(t)||NI.set(t,CI._fromUser(t)),NI.get(t)}(t)}return le(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qC(this.auth,B_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KC(this.auth,IS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qC(this.auth,qS(this._delegate,t,UC)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MC(IE(this.auth));case 2:return e.abrupt("return",aT(this._delegate,t,UC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qC(this.auth,q_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return KC(this.auth,function(e,t,n){return TS.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qC(this.auth,function(e,t,n){return zS.apply(this,arguments)}(this._delegate,e,UC))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MC(IE(this.auth));case 2:return e.abrupt("return",rT(this._delegate,t,UC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return lI.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return vI(br(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return vI(br(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return AS.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return pI.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return fI.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();GC.USER_MAP=new WeakMap;var QC=hx,YC=function(){function e(t,n){if(se(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;QC(r,"invalid-api-key",{appName:t.name}),QC(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?UC:void 0;this._delegate=n.initialize({options:{persistence:XC(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(nx),this.linkUnderlyingAuth()}return le(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?GC.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){TE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Z_.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return eI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return J_.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ir(wr().mark((function e(t,n){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qC(this._delegate,rI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return cI.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=l_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ir(wr().mark((function e(){var t;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QC(TC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,uT(this._delegate,UC);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qC(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){IE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=$C(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=$C(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return aI.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return X_.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ir(wr().mark((function e(t){var n,r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:RC(this._delegate,t),e.t0=t,e.next=e.t0===OC.SESSION?4:e.t0===OC.LOCAL?6:e.t0===OC.NONE?11:13;break;case 4:return n=MI,e.abrupt("break",14);case 6:return e.next=8,mx(iS)._isAvailable();case 8:return r=e.sent,n=r?iS:DI,e.abrupt("break",14);case 11:return n=uE,e.abrupt("break",14);case 13:return e.abrupt("return",ux("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qC(this._delegate,function(e){return I_.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qC(this._delegate,U_(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qC(this._delegate,function(e,t){return G_.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qC(this._delegate,function(e,t,n){return U_(br(e),f_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qC(this._delegate,function(e,t,n){return oI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return KC(this._delegate,function(e,t,n){return _S.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QC(TC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qC(this._delegate,jS(this._delegate,t,UC)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ir(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QC(TC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,MC(this._delegate);case 3:return e.abrupt("return",tT(this._delegate,t,UC));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return nI.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function $C(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&GC.getOrCreate(e))},error:t,complete:n}}function XC(e,t){var n=function(e,t){var n=FC();if(!n)return[];var r=sE(DC,e,t);switch(n.getItem(r)){case OC.NONE:return[uE];case OC.LOCAL:return[iS,MI];case OC.SESSION:return[MI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(iS)||n.push(iS),"undefined"!==typeof window)for(var r=0,i=[DI,MI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(uE)||n.push(uE),n}YC.Persistence=OC;var JC=function(){function e(){se(this,e),this.providerId="phone",this._delegate=new OS(jC(Yi.auth()))}return le(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return OS.credential(e,t)}}]),e}();JC.PHONE_SIGN_IN_METHOD=OS.PHONE_SIGN_IN_METHOD,JC.PROVIDER_ID=OS.PROVIDER_ID;var ZC=hx,eN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yi.app();se(this,e),ZC(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new wS(t,n,i.auth()),this.type=this._delegate.type}return le(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Sr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new YC(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yw,PASSWORD_RESET:$w,RECOVER_EMAIL:Xw,REVERT_SECOND_FACTOR_ADDITION:Jw,VERIFY_AND_CHANGE_EMAIL:Zw,VERIFY_EMAIL:ex}},EmailAuthProvider:f_,FacebookAuthProvider:v_,GithubAuthProvider:y_,GoogleAuthProvider:m_,OAuthProvider:p_,SAMLAuthProvider:k_,PhoneAuthProvider:JC,PhoneMultiFactorGenerator:WT,RecaptchaVerifier:eN,TwitterAuthProvider:b_,Auth:YC,AuthCredential:AE,Error:ur}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.19")}(Yi);var tN=function(e){var t=e.auth;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{className:"pt-3",children:(0,z.jsx)(qn,{onClick:function(e){var n=new Yi.auth.GoogleAuthProvider;t.signInWithPopup(n)},children:"Sign in with Google"})})})};function nN(){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{children:"Privacy Policy"}),(0,z.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function rN(){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{children:"Terms"}),(0,z.jsx)("p",{children:"We do not share any of your information, but are not liable for any risks involved with sharing."})]})}function iN(){return(0,z.jsx)("div",{children:"ResetPassword"})}function aN(){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"h-full",children:(0,z.jsx)("div",{className:"flyingObject"})}),(0,z.jsx)("div",{className:"text-xl -mt-6",children:"Wombol Alpha 1.0.4 is where you can learn for free."}),(0,z.jsx)("div",{className:"text-2xl -mt-2",children:"Coming Soon!"})]})}function oN(){return(0,z.jsx)("div",{children:"Question"})}var uN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},sN=function(e,t){return r.createElement(jt,X(X({},e),{},{ref:t,icon:uN}))};sN.displayName="EllipsisOutlined";var cN=r.forwardRef(sN),lN=n(9613),fN=n.n(lN);function hN(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var dN,pN=ge()?r.useLayoutEffect:r.useEffect,vN=pN;function mN(e){return void 0!==e}function yN(e,t){var n=t||{},i=n.defaultValue,a=n.value,o=n.onChange,u=n.postState,s=c(dn((function(){var t,n=void 0;return mN(a)?(n=a,t=dN.PROP):mN(i)?(n="function"===typeof i?i():i,t=dN.PROP):(n="function"===typeof e?e():e,t=dN.INNER),[n,t,n]})),2),l=s[0],f=s[1],h=mN(a)?a:l[0],d=u?u(h):h;!function(e,t){var n=r.useRef(!0);pN((function(){if(!n.current)return e()}),t),pN((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){f((function(e){var t=c(e,1)[0];return[a,dN.PROP,t]}))}),[a]);var p=r.useRef(),v=hN((function(e,t){f((function(t){var n=c(t,3),r=n[0],i=n[1],a=n[2],o="function"===typeof e?e(r):e;if(o===r)return t;var u=i===dN.INNER&&p.current!==a?a:r;return[o,dN.INNER,u]}),t)})),m=hN(o);return vN((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===dN.INNER&&(m(t,r),p.current=r)}),[l]),[d,v]}function gN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(gN(e)):(0,Ne.isFragment)(e)&&e.props?n=n.concat(gN(e.props.children,t)):n.push(e))})),n}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(dN||(dN={}));var kN=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),bN="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,wN="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),xN="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(wN):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var EN=["top","right","bottom","left","width","height","size","weight"],_N="undefined"!==typeof MutationObserver,IN=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function o(){xN(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){bN&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_N?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){bN&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;EN.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),SN=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},TN=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||wN},CN=RN(0,0,0,0);function NN(e){return parseFloat(e)||0}function AN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+NN(e["border-"+n+"-width"])}),0)}function ON(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return CN;var r=TN(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=NN(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=NN(r.width),s=NN(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=AN(r,"left","right")+a),Math.round(s+o)!==n&&(s-=AN(r,"top","bottom")+o)),!function(e){return e===TN(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return RN(i.left,i.top,u,s)}var PN="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof TN(e).SVGGraphicsElement}:function(e){return e instanceof TN(e).SVGElement&&"function"===typeof e.getBBox};function DN(e){return bN?PN(e)?function(e){var t=e.getBBox();return RN(0,0,t.width,t.height)}(e):ON(e):CN}function RN(e,t,n,r){return{x:e,y:t,width:n,height:r}}var MN=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=RN(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=DN(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),LN=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return SN(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);SN(this,{target:e,contentRect:n})},FN=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new kN,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof TN(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new MN(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof TN(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new LN(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),VN="undefined"!==typeof WeakMap?new WeakMap:new kN,UN=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=IN.getInstance(),r=new FN(t,n,this);VN.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){UN.prototype[e]=function(){var t;return(t=VN.get(this))[e].apply(t,arguments)}}));var jN="undefined"!==typeof wN.ResizeObserver?wN.ResizeObserver:UN,BN=new Map;var zN=new jN((function(e){e.forEach((function(e){var t,n=e.target;null===(t=BN.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var qN=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),KN=r.createContext(null);function HN(e){var t=e.children,n=e.disabled,i=r.useRef(null),a=r.useRef(null),o=r.useContext(KN),u="function"===typeof t,s=u?t(i):t,c=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!u&&r.isValidElement(s)&&Pe(s),f=l?s.ref:null,h=r.useMemo((function(){return Oe(f,i)}),[f,i]),d=r.useRef(e);d.current=e;var p=r.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(u);if(c.current.width!==f||c.current.height!==h||c.current.offsetWidth!==s||c.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:s,offsetHeight:l};c.current=p;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,y=X(X({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return r.useEffect((function(){var e=Kt(i.current)||Kt(a.current);return e&&!n&&function(e,t){BN.has(e)||(BN.set(e,new Set),zN.observe(e)),BN.get(e).add(t)}(e,p),function(){return function(e,t){BN.has(e)&&(BN.get(e).delete(t),BN.get(e).size||(zN.unobserve(e),BN.delete(e)))}(e,p)}}),[i.current,n]),r.createElement(qN,{ref:a},l?r.cloneElement(s,{ref:h}):s)}function WN(e){var t=e.children;return("function"===typeof t?[t]:gN(t)).map((function(t,n){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(HN,l({},e,{key:i}),t)}))}WN.Collection=function(e){var t=e.children,n=e.onBatchResize,i=r.useRef(0),a=r.useRef([]),o=r.useContext(KN),u=r.useCallback((function(e,t,r){i.current+=1;var u=i.current;a.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){u===i.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,r)}),[n,o]);return r.createElement(KN.Provider,{value:u},t)};var GN=WN,QN=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],YN=void 0;function $N(e,t){var n=e.prefixCls,i=e.invalidate,a=e.item,o=e.renderItem,u=e.responsive,s=e.responsiveDisabled,c=e.registerSize,f=e.itemKey,h=e.className,d=e.style,p=e.children,v=e.display,m=e.order,y=e.component,g=void 0===y?"div":y,k=Xe(e,QN),b=u&&!v;function w(e){c(f,e)}r.useEffect((function(){return function(){w(null)}}),[]);var x,E=o&&a!==YN?o(a):p;i||(x={opacity:b?0:1,height:b?0:YN,overflowY:b?"hidden":YN,order:u?m:YN,pointerEvents:b?"none":YN,position:b?"absolute":YN});var _={};b&&(_["aria-hidden"]=!0);var I=r.createElement(g,l({className:Y()(!i&&n,h),style:X(X({},x),d)},_,k,{ref:t}),E);return u&&(I=r.createElement(GN,{onResize:function(e){w(e.offsetWidth)},disabled:s},I)),I}var XN=r.forwardRef($N);XN.displayName="Item";var JN=XN;var ZN=["component"],eA=["className"],tA=["className"],nA=function(e,t){var n=r.useContext(oA);if(!n){var i=e.component,a=void 0===i?"div":i,o=Xe(e,ZN);return r.createElement(a,l({},o,{ref:t}))}var u=n.className,s=Xe(n,eA),c=e.className,f=Xe(e,tA);return r.createElement(oA.Provider,{value:null},r.createElement(JN,l({ref:t,className:Y()(u,c)},s,f)))},rA=r.forwardRef(nA);rA.displayName="RawItem";var iA=rA,aA=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],oA=r.createContext(null),uA="responsive",sA="invalidate";function cA(e){return"+ ".concat(e.length," ...")}function lA(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,a=e.data,o=void 0===a?[]:a,u=e.renderItem,s=e.renderRawItem,f=e.itemKey,h=e.itemWidth,d=void 0===h?10:h,p=e.ssr,v=e.style,m=e.className,y=e.maxCount,g=e.renderRest,k=e.renderRawRest,b=e.suffix,w=e.component,x=void 0===w?"div":w,E=e.itemComponent,_=e.onVisibleChange,I=Xe(e,aA),S=function(){var e=c(dn({}),2)[1],t=(0,r.useRef)([]),n=0,i=0;return function(r){var a=n;return n+=1,t.current.length<a+1&&(t.current[a]=r),[t.current[a],function(n){t.current[a]="function"===typeof n?n(t.current[a]):n,Ve.cancel(i),i=Ve((function(){e({},!0)}))}]}}(),T="full"===p,C=c(S(null),2),N=C[0],A=C[1],O=N||0,P=c(S(new Map),2),D=P[0],R=P[1],M=c(S(0),2),L=M[0],F=M[1],V=c(S(0),2),U=V[0],j=V[1],B=c(S(0),2),z=B[0],q=B[1],K=c((0,r.useState)(null),2),H=K[0],W=K[1],G=c((0,r.useState)(null),2),Q=G[0],$=G[1],J=r.useMemo((function(){return null===Q&&T?Number.MAX_SAFE_INTEGER:Q||0}),[Q,N]),Z=c((0,r.useState)(!1),2),ee=Z[0],te=Z[1],ne="".concat(i,"-item"),re=Math.max(L,U),ie=y===uA,ae=o.length&&ie,oe=y===sA,ue=ae||"number"===typeof y&&o.length>y,se=(0,r.useMemo)((function(){var e=o;return ae?e=null===N&&T?o:o.slice(0,Math.min(o.length,O/d)):"number"===typeof y&&(e=o.slice(0,y)),e}),[o,d,N,y,ae]),ce=(0,r.useMemo)((function(){return ae?o.slice(J+1):o.slice(se.length)}),[o,se,ae,J]),le=(0,r.useCallback)((function(e,t){var n;return"function"===typeof f?f(e):null!==(n=f&&(null===e||void 0===e?void 0:e[f]))&&void 0!==n?n:t}),[f]),fe=(0,r.useCallback)(u||function(e){return e},[u]);function he(e,t,n){(Q!==e||void 0!==t&&t!==H)&&($(e),n||(te(e<o.length-1),null===_||void 0===_||_(e)),void 0!==t&&W(t))}function de(e,t){R((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function pe(e){return D.get(le(se[e],e))}vN((function(){if(O&&re&&se){var e=z,t=se.length,n=t-1;if(!t)return void he(0,null);for(var r=0;r<t;r+=1){var i=pe(r);if(T&&(i=i||0),void 0===i){he(r-1,void 0,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+pe(n)<=O){he(n,null);break}if(e+re>O){he(r-1,e-i-z+U);break}}b&&pe(0)+z>O&&W(null)}}),[O,D,U,z,le,se]);var ve=ee&&!!ce.length,me={};null!==H&&ae&&(me={position:"absolute",left:H,top:0});var ye,ge={prefixCls:ne,responsive:ae,component:E,invalidate:oe},ke=s?function(e,t){var n=le(e,t);return r.createElement(oA.Provider,{key:n,value:X(X({},ge),{},{order:t,item:e,itemKey:n,registerSize:de,display:t<=J})},s(e,t))}:function(e,t){var n=le(e,t);return r.createElement(JN,l({},ge,{order:t,key:n,item:e,renderItem:fe,itemKey:n,registerSize:de,display:t<=J}))},be={order:ve?J:Number.MAX_SAFE_INTEGER,className:"".concat(ne,"-rest"),registerSize:function(e,t){j(t),F(U)},display:ve};if(k)k&&(ye=r.createElement(oA.Provider,{value:X(X({},ge),be)},k(ce)));else{var we=g||cA;ye=r.createElement(JN,l({},ge,be),"function"===typeof we?we(ce):we)}var xe=r.createElement(x,l({className:Y()(!oe&&i,m),style:v,ref:t},I),se.map(ke),ue?ye:null,b&&r.createElement(JN,l({},ge,{responsive:ie,responsiveDisabled:!ae,order:J,className:"".concat(ne,"-suffix"),registerSize:function(e,t){q(t)},display:!0,style:me}),b));return ie&&(xe=r.createElement(GN,{onResize:function(e,t){A(t.clientWidth)},disabled:!ae},xe)),xe}var fA=r.forwardRef(lA);fA.displayName="Overflow",fA.Item=iA,fA.RESPONSIVE=uA,fA.INVALIDATE=sA;var hA=fA,dA={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=dA.F1&&t<=dA.F12)return!1;switch(t){case dA.ALT:case dA.CAPS_LOCK:case dA.CONTEXT_MENU:case dA.CTRL:case dA.DOWN:case dA.END:case dA.ESC:case dA.HOME:case dA.INSERT:case dA.LEFT:case dA.MAC_FF_META:case dA.META:case dA.NUMLOCK:case dA.NUM_CENTER:case dA.PAGE_DOWN:case dA.PAGE_UP:case dA.PAUSE:case dA.PRINT_SCREEN:case dA.RIGHT:case dA.SHIFT:case dA.UP:case dA.WIN_KEY:case dA.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=dA.ZERO&&e<=dA.NINE)return!0;if(e>=dA.NUM_ZERO&&e<=dA.NUM_MULTIPLY)return!0;if(e>=dA.A&&e<=dA.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case dA.SPACE:case dA.QUESTION_MARK:case dA.NUM_PLUS:case dA.NUM_MINUS:case dA.NUM_PERIOD:case dA.NUM_DIVISION:case dA.SEMICOLON:case dA.DASH:case dA.EQUALS:case dA.COMMA:case dA.PERIOD:case dA.SLASH:case dA.APOSTROPHE:case dA.SINGLE_QUOTE:case dA.OPEN_SQUARE_BRACKET:case dA.BACKSLASH:case dA.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},pA=dA,vA=["children","locked"],mA=r.createContext(null);function yA(e){var t=e.children,n=e.locked,i=Xe(e,vA),a=r.useContext(mA),o=function(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}((function(){return function(e,t){var n=X({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,i)}),[a,i],(function(e,t){return!n&&(e[0]!==t[0]||!fN()(e[1],t[1]))}));return r.createElement(mA.Provider,{value:o},t)}function gA(e,t,n,i){var a=r.useContext(mA),o=a.activeKey,u=a.onActive,s=a.onInactive,c={active:o===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),u(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),s(e)}),c}var kA=["item"];function bA(e){var t=e.item,n=Xe(e,kA);return Object.defineProperty(n,"item",{get:function(){return St(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function wA(e){var t=e.icon,n=e.props,i=e.children;return("function"===typeof t?r.createElement(t,X({},n)):t)||i||null}function xA(e){var t=r.useContext(mA),n=t.mode,i=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return i?{paddingRight:e*a}:{paddingLeft:e*a}}var EA=[],_A=r.createContext(null);function IA(){return r.useContext(_A)}var SA=r.createContext(EA);function TA(e){var t=r.useContext(SA);return r.useMemo((function(){return void 0!==e?[].concat(Er(t),[e]):t}),[t,e])}var CA=r.createContext(null),NA=r.createContext(null);function AA(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function OA(e){return AA(r.useContext(NA),e)}var PA=r.createContext({}),DA=["title","attribute","elementRef"],RA=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],MA=["active"],LA=function(e){de(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=J(Xe(e,DA),["eventKey"]);return St(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(hA.Item,l({},n,{title:"string"===typeof t?t:void 0},a,{ref:i}))}}]),n}(r.Component),FA=function(e){var t,n=e.style,i=e.className,a=e.eventKey,o=(e.warnKey,e.disabled),u=e.itemIcon,s=e.children,c=e.role,f=e.onMouseEnter,h=e.onMouseLeave,d=e.onClick,p=e.onKeyDown,v=e.onFocus,m=Xe(e,RA),y=OA(a),g=r.useContext(mA),k=g.prefixCls,b=g.onItemClick,w=g.disabled,x=g.overflowDisabled,E=g.itemIcon,_=g.selectedKeys,I=g.onActive,S=r.useContext(PA)._internalRenderMenuItem,T="".concat(k,"-item"),C=r.useRef(),N=r.useRef(),A=w||o,O=TA(a);var P=function(e){return{key:a,keyPath:Er(O).reverse(),item:C.current,domEvent:e}},D=u||E,R=gA(a,A,f,h),M=R.active,L=Xe(R,MA),F=_.includes(a),V=xA(O.length),U={};"option"===e.role&&(U["aria-selected"]=F);var j=r.createElement(LA,l({ref:C,elementRef:N,role:null===c?"none":c||"menuitem",tabIndex:o?null:-1,"data-menu-id":x&&y?null:y},m,L,U,{component:"li","aria-disabled":o,style:X(X({},V),n),className:Y()(T,(t={},W(t,"".concat(T,"-active"),M),W(t,"".concat(T,"-selected"),F),W(t,"".concat(T,"-disabled"),A),t),i),onClick:function(e){if(!A){var t=P(e);null===d||void 0===d||d(bA(t)),b(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===pA.ENTER){var t=P(e);null===d||void 0===d||d(bA(t)),b(t)}},onFocus:function(e){I(a),null===v||void 0===v||v(e)}}),s,r.createElement(wA,{props:X(X({},e),{},{isSelected:F}),icon:D}));return S&&(j=S(j,e,{selected:F})),j};var VA=function(e){var t=e.eventKey,n=IA(),i=TA(t);return r.useEffect((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r.createElement(FA,e)},UA=["label","children","key","type"];function jA(e,t){return gN(e).map((function(e,n){if(r.isValidElement(e)){var i,a,o=e.key,u=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o;(null===u||void 0===u)&&(u="tmp_key-".concat([].concat(Er(t),[n]).join("-")));var s={key:u,eventKey:u};return r.cloneElement(e,s)}return e}))}function BA(e){return(e||[]).map((function(e,t){if(e&&"object"===G(e)){var n=e.label,i=e.children,a=e.key,o=e.type,u=Xe(e,UA),s=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?r.createElement(uD,l({key:s},u,{title:n}),BA(i)):r.createElement(RP,l({key:s},u,{title:n}),BA(i)):"divider"===o?r.createElement(sD,l({key:s},u)):r.createElement(VA,l({key:s},u),n)}return null})).filter((function(e){return e}))}function zA(e,t,n){var r=e;return t&&(r=BA(t)),jA(r,n)}function qA(e){var t=r.useRef(e);t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var KA=["className","children"],HA=function(e,t){var n=e.className,i=e.children,a=Xe(e,KA),o=r.useContext(mA),u=o.prefixCls,s=o.mode,c=o.rtl;return r.createElement("ul",l({className:Y()(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===s?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},WA=r.forwardRef(HA);WA.displayName="SubMenuList";var GA=WA;function QA(e,t){return!!e&&e.contains(t)}function YA(e,t,n,r){var i=qt.unstable_batchedUpdates?function(e){qt.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var $A=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,a=e.children,o=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var s=(0,r.useRef)(!1);return!s.current&&ge()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?qt.createPortal(a,u.current):null})),XA=$A;function JA(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function ZA(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function eO(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,u=e.maskAnimation,s=e.maskTransitionName;if(!a)return null;var c={};return(o||s||u)&&(c=X({motionAppear:!0},ZA({motion:o,prefixCls:t,transitionName:s,animation:u}))),r.createElement(Pn,l({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:i},className:Y()("".concat(t,"-mask"),n)})}))}var tO,nO=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}return!1};function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rO(Object(n),!0).forEach((function(t){oO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aO(e){return aO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aO(e)}function oO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uO={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function sO(){if(void 0!==tO)return tO;tO="";var e=document.createElement("p").style;for(var t in uO)t+"Transform"in e&&(tO=t);return tO}function cO(){return sO()?"".concat(sO(),"TransitionProperty"):"transitionProperty"}function lO(){return sO()?"".concat(sO(),"Transform"):"transform"}function fO(e,t){var n=cO();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function hO(e,t){var n=lO();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var dO,pO=/matrix\((.*)\)/,vO=/matrix3d\((.*)\)/;function mO(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function yO(e,t,n){var r=n;if("object"!==aO(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):dO(e,t);for(var i in t)t.hasOwnProperty(i)&&yO(e,i,t[i])}function gO(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function kO(e){return gO(e)}function bO(e){return gO(e,!0)}function wO(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=kO(r),t.top+=bO(r),t}function xO(e){return null!==e&&void 0!==e&&e==e.window}function EO(e){return xO(e)?e.document:9===e.nodeType?e:e.ownerDocument}var _O=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),IO=/^(top|right|bottom|left)$/;function SO(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function TO(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function CO(e,t,n){"static"===yO(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=SO("left",n),o=SO("top",n),u=TO(a),s=TO(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=wO(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[cO()]||"",fO(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),mO(e);var h=wO(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var v=SO(p,n),m="left"===p?r:i,y=f[p]-h[p];d[v]=v===p?m+y:m-y}yO(e,d),mO(e),("left"in t||"top"in t)&&fO(e,l);var g={};for(var k in t)if(t.hasOwnProperty(k)){var b=SO(k,n),w=t[k]-f[k];g[b]=k===b?d[b]+w:d[b]-w}yO(e,g)}function NO(e,t){var n=wO(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(lO());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(lO());if(r&&"none"!==r){var i,a=r.match(pO);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,hO(e,"matrix(".concat(i.join(","),")"))):((i=r.match(vO)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,hO(e,"matrix3d(".concat(i.join(","),")")))}else hO(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function AO(e,t){for(var n=0;n<e.length;n++)t(e[n])}function OO(e){return"border-box"===dO(e,"boxSizing")}"undefined"!==typeof window&&(dO=window.getComputedStyle?function(e,t,n){var r=n,i="",a=EO(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(_O.test(n)&&!IO.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var PO=["margin","border","padding"];function DO(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function RO(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(dO(e,u))||0}return o}var MO={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function LO(e,t,n){var r=n;if(xO(e))return"width"===t?MO.viewportWidth(e):MO.viewportHeight(e);if(9===e.nodeType)return"width"===t?MO.docWidth(e):MO.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=OO(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=dO(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-RO(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-RO(e,["border"],i):RO(e,["margin"],i)):u+RO(e,PO.slice(r),i)}AO(["Width","Height"],(function(e){MO["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],MO["viewport".concat(e)](n))},MO["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var FO={position:"absolute",visibility:"hidden",display:"block"};function VO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=LO.apply(void 0,t):DO(i,FO,(function(){r=LO.apply(void 0,t)})),r}function UO(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}AO(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);MO["outer".concat(t)]=function(t,n){return t&&VO(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];MO[e]=function(t,r){var i=r;return void 0!==i?t?(OO(t)&&(i+=RO(t,["padding","border"],n)),yO(t,e,i)):void 0:t&&VO(t,e,-1)}}));var jO={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:EO,offset:function(e,t,n){if("undefined"===typeof t)return wO(e);!function(e,t,n){if(n.ignoreShake){var r=wO(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?CO(e,t,n):n.useCssTransform&&lO()in document.body.style?NO(e,t):CO(e,t,n)}(e,t,n||{})},isWindow:xO,each:AO,css:yO,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:UO,getWindowScrollLeft:function(e){return kO(e)},getWindowScrollTop:function(e){return bO(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)jO.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};UO(jO,MO);var BO=jO.getParent;function zO(e){if(jO.isWindow(e)||9===e.nodeType)return null;var t,n=jO.getDocument(e).body,r=jO.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:BO(e);for(t=BO(e);t&&t!==n&&9!==t.nodeType;t=BO(t))if("static"!==(r=jO.css(t,"position")))return t;return null}var qO=jO.getParent;function KO(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=zO(e),i=jO.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===jO.css(r,"overflow")){if(r===o||r===u)break}else{var s=jO.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=zO(r)}var c=null;jO.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===jO.css(e,"position")&&(e.style.position="fixed"));var l=jO.getWindowScrollLeft(a),f=jO.getWindowScrollTop(a),h=jO.viewportWidth(a),d=jO.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(jO.isWindow(e)||9===e.nodeType)return!1;var t=jO.getDocument(e),n=t.body,r=null;for(r=qO(e);r&&r!==n&&r!==t;r=qO(r))if("fixed"===jO.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+h),n.bottom=Math.min(n.bottom,f+d);else{var y=Math.max(p,l+h);n.right=Math.min(n.right,y);var g=Math.max(v,f+d);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function HO(e){var t,n,r;if(jO.isWindow(e)||9===e.nodeType){var i=jO.getWindow(e);t={left:jO.getWindowScrollLeft(i),top:jO.getWindowScrollTop(i)},n=jO.viewportWidth(i),r=jO.viewportHeight(i)}else t=jO.offset(e),n=jO.outerWidth(e),r=jO.outerHeight(e);return t.width=n,t.height=r,t}function WO(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function GO(e,t,n,r,i){var a=WO(t,n[1]),o=WO(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function QO(e,t,n){return e.left<n.left||e.left+t.width>n.right}function YO(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function $O(e,t,n){var r=[];return jO.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function XO(e,t){return e[t]=-e[t],e}function JO(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function ZO(e,t){e[0]=JO(e[0],t.width),e[1]=JO(e[1],t.height)}function eP(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=KO(s,!(!(u=u||{})||!u.alwaysByViewport)),h=HO(s);ZO(a,h),ZO(o,t);var d=GO(h,t,i,a,o),p=jO.merge(h,d);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&QO(d,h,f)){var v=$O(i,/[lr]/gi,{l:"r",r:"l"}),m=XO(a,0),y=XO(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(GO(h,t,v,m,y),h,f)||(l=1,i=v,a=m,o=y)}if(u.adjustY&&YO(d,h,f)){var g=$O(i,/[tb]/gi,{t:"b",b:"t"}),k=XO(a,1),b=XO(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(GO(h,t,g,k,b),h,f)||(l=1,i=g,a=k,o=b)}l&&(d=GO(h,t,i,a,o),jO.mix(p,d));var w=QO(d,h,f),x=YO(d,h,f);if(w||x){var E=i;w&&(E=$O(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=$O(i,/[tb]/gi,{t:"b",b:"t"})),i=E,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&w,c.adjustY=u.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=jO.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),jO.mix(i,a)}(d,h,f,c))}return p.width!==h.width&&jO.css(s,"width",jO.width(s)+p.width-h.width),p.height!==h.height&&jO.css(s,"height",jO.height(s)+p.height-h.height),jO.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function tP(e,t,n){var r=n.target||t,i=HO(r),a=!function(e,t){var n=KO(e,t),r=HO(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return eP(e,i,n,a)}tP.__getOffsetParent=zO,tP.__getVisibleRectForElement=KO;var nP=n(8111),rP=n.n(nP);function iP(e,t){var n=null,r=null;var i=new jN((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,s=Math.floor(o),l=Math.floor(u);n===s&&r===l||Promise.resolve().then((function(){t({width:s,height:l})})),n=s,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function aP(e){return"function"!==typeof e?null:e()}function oP(e){return"object"===G(e)&&e?e:null}var uP=function(e,t){var n=e.children,i=e.disabled,a=e.target,o=e.align,u=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,h=r.useRef({}),d=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=i,v.current.target=a,v.current.align=o,v.current.onAlign=u;var m=function(e,t){var n=r.useRef(!1),i=r.useRef(null);function a(){window.clearTimeout(i.current)}return[function r(o){if(a(),n.current&&!0!==o)i.current=window.setTimeout((function(){n.current=!1,r()}),t);else{if(!1===e())return;n.current=!0,i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,a()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=d.current,u=aP(n),s=oP(n);h.current.element=u,h.current.point=s,h.current.align=r;var c=document.activeElement;return u&&nO(u)?a=tP(o,u,r):s&&(a=function(e,t,n){var r,i,a=jO.getDocument(e),o=a.defaultView||a.parentWindow,u=jO.getWindowScrollLeft(o),s=jO.getWindowScrollTop(o),c=jO.viewportWidth(o),l=jO.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},h=r>=0&&r<=u+c&&i>=0&&i<=s+l,d=[n.points[0],"cc"];return eP(e,f,iO(iO({},n),{},{points:d}),h)}(o,s,r)),function(e,t){e!==document.activeElement&&QA(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),f),y=c(m,2),g=y[0],k=y[1],b=r.useRef({cancel:function(){}}),w=r.useRef({cancel:function(){}});r.useEffect((function(){var e,t,n=aP(a),r=oP(a);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=iP(d.current,g)),h.current.element===n&&((e=h.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&rP()(h.current.align,o)||(g(),b.current.element!==n&&(b.current.cancel(),b.current.element=n,b.current.cancel=iP(n,g)))})),r.useEffect((function(){i?k():g()}),[i]);var x=r.useRef(null);return r.useEffect((function(){s?x.current||(x.current=YA(window,"resize",g)):x.current&&(x.current.remove(),x.current=null)}),[s]),r.useEffect((function(){return function(){b.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),k()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:Oe(p.ref,d)})),p},sP=r.forwardRef(uP);sP.displayName="Align";var cP=sP,lP=["measure","alignPre","align",null,"motion"],fP=r.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,a=e.className,o=e.style,u=e.children,s=e.zIndex,f=e.stretch,h=e.destroyPopupOnHide,d=e.forceRender,p=e.align,v=e.point,m=e.getRootDomNode,y=e.getClassNameFromAlign,g=e.onAlign,k=e.onMouseEnter,b=e.onMouseLeave,w=e.onMouseDown,x=e.onTouchStart,E=e.onClick,_=(0,r.useRef)(),I=(0,r.useRef)(),S=c((0,r.useState)(),2),T=S[0],C=S[1],N=function(e){var t=c(r.useState({width:0,height:0}),2),n=t[0],i=t[1];return[r.useMemo((function(){var t={};if(e){var r=n.width,i=n.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(f),A=c(N,2),O=A[0],P=A[1];var D=function(e,t){var n=c(dn(null),2),i=n[0],a=n[1],o=(0,r.useRef)();function u(e){a(e,!0)}function s(){Ve.cancel(o.current)}return(0,r.useEffect)((function(){u("measure")}),[e]),(0,r.useEffect)((function(){"measure"===i&&t(),i&&(o.current=Ve(Ir(wr().mark((function e(){var t,n;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=lP.indexOf(i),(n=lP[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,r.useEffect)((function(){return function(){s()}}),[]),[i,function(e){s(),o.current=Ve((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){f&&P(m())})),R=c(D,2),M=R[0],L=R[1],F=c((0,r.useState)(0),2),V=F[0],U=F[1],j=(0,r.useRef)();function B(){var e;null===(e=_.current)||void 0===e||e.forceAlign()}function z(e,t){var n=y(t);T!==n&&C(n),U((function(e){return e+1})),"align"===M&&(null===g||void 0===g||g(e,t))}vN((function(){"alignPre"===M&&U(0)}),[M]),vN((function(){"align"===M&&(V<2?B():L((function(){var e;null===(e=j.current)||void 0===e||e.call(j)})))}),[V]);var q=X({},ZA(e));function K(){return new Promise((function(e){j.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return L(),null===t||void 0===t?void 0:t(e,n)}})),r.useEffect((function(){q.motionName||"motion"!==M||L()}),[q.motionName,M]),r.useImperativeHandle(t,(function(){return{forceAlign:B,getElement:function(){return I.current}}}));var H=X(X({},O),{},{zIndex:s,opacity:"motion"!==M&&"stable"!==M&&n?0:void 0,pointerEvents:n||"stable"===M?void 0:"none"},o),W=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==M&&"stable"!==M||(W=!1);var G=u;return r.Children.count(u)>1&&(G=r.createElement("div",{className:"".concat(i,"-content")},u)),r.createElement(Pn,l({visible:n,ref:I,leavedClassName:"".concat(i,"-hidden")},q,{onAppearPrepare:K,onEnterPrepare:K,removeOnLeave:h,forceRender:d}),(function(e,t){var n=e.className,o=e.style,u=Y()(i,a,T,n);return r.createElement(cP,{target:v||m,key:"popup",ref:_,monitorWindowResize:!0,disabled:W,align:p,onAlign:z},r.createElement("div",{ref:t,className:u,onMouseEnter:k,onMouseLeave:b,onMouseDownCapture:w,onTouchStartCapture:x,onClick:E,style:X(X({},o),H)},G))}))}));fP.displayName="PopupInner";var hP=fP,dP=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,u=e.mobile,s=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,f=u.popupMotion,h=void 0===f?{}:f,d=u.popupRender,p=e.onClick,v=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var m=X({zIndex:a},c),y=o;return r.Children.count(o)>1&&(y=r.createElement("div",{className:"".concat(n,"-content")},o)),d&&(y=d(y)),r.createElement(Pn,l({visible:i,ref:v,removeOnLeave:!0},h),(function(e,t){var i=e.className,a=e.style,o=Y()(n,s,i);return r.createElement("div",{ref:t,className:o,onClick:p,style:X(X({},a),m)},y)}))}));dP.displayName="MobilePopupInner";var pP=dP,vP=["visible","mobile"],mP=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,a=Xe(e,vP),o=c((0,r.useState)(n),2),u=o[0],s=o[1],f=c((0,r.useState)(!1),2),h=f[0],d=f[1],p=X(X({},a),{},{visible:u});(0,r.useEffect)((function(){s(n),n&&i&&d(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}())}),[n,i]);var v=h?r.createElement(pP,l({},p,{mobile:i,ref:t})):r.createElement(hP,l({},p,{ref:t}));return r.createElement("div",null,r.createElement(eO,p),v)}));mP.displayName="Popup";var yP=mP,gP=r.createContext(null);function kP(){}function bP(){return""}function wP(e){return e?e.ownerDocument:window.document}var xP=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var EP=function(e){var t=function(t){de(i,t);var n=ye(i);function i(e){var t,a;return se(this,i),(t=n.call(this,e)).popupRef=r.createRef(),t.triggerRef=r.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&QA(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();QA(r,n)&&!t.isContextMenuOnly()||QA(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Kt(t.triggerRef.current);if(n)return n}catch(r){}return qt.findDOMNode(fe(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(JA(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&n.push(s(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,f=e.popupStyle,h=e.mask,d=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,k=e.alignPoint,b=e.mobile,w=e.forceRender,x=e.onPopupClick,E=t.state,_=E.popupVisible,I=E.point,S=t.getPopupAlign(),T={};return t.isMouseEnterToShow()&&(T.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(T.onMouseLeave=t.onPopupMouseLeave),T.onMouseDown=t.onPopupMouseDown,T.onTouchStart=t.onPopupMouseDown,r.createElement(yP,l({prefixCls:n,destroyPopupOnHide:i,visible:_,point:k&&I,className:a,align:S,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},T,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:h,zIndex:m,transitionName:c,maskAnimation:d,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:u,mobile:b,forceRender:w,onClick:x}),"function"===typeof y?y():y)},t.attachParent=function(e){Ve.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Ve((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},xP.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return le(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=YA(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=YA(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=YA(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=YA(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Ve.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return X(X({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,u=n.className,s=n.autoDestroy,c=r.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=Y()(c&&c.props&&c.props.className,u);f&&(l.className=f);var h=X({},l);Pe(c)&&(h.ref=Oe(this.triggerRef,c.ref));var d,p=r.cloneElement(c,h);return(t||this.popupRef.current||a)&&(d=r.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(d=null),r.createElement(gP.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r.Component);return t.contextType=gP,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:bP,getDocument:wP,onPopupVisibleChange:kP,afterPopupVisibleChange:kP,onPopupAlign:kP,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(XA),_P={adjustX:1,adjustY:1},IP={topLeft:{points:["bl","tl"],overflow:_P,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:_P,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:_P,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:_P,offset:[4,0]}},SP={topLeft:{points:["bl","tl"],overflow:_P,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:_P,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:_P,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:_P,offset:[4,0]}};function TP(e,t,n){return t||(n?n[e]||n.other:void 0)}var CP={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function NP(e){var t=e.prefixCls,n=e.visible,i=e.children,a=e.popup,o=e.popupClassName,u=e.popupOffset,s=e.disabled,l=e.mode,f=e.onVisibleChange,h=r.useContext(mA),d=h.getPopupContainer,p=h.rtl,v=h.subMenuOpenDelay,m=h.subMenuCloseDelay,y=h.builtinPlacements,g=h.triggerSubMenuAction,k=h.forceSubMenuRender,b=h.rootClassName,w=h.motion,x=h.defaultMotions,E=c(r.useState(!1),2),_=E[0],I=E[1],S=X(X({},p?SP:IP),y),T=CP[l],C=X(X({},TP(l,w,x)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=r.useRef();return r.useEffect((function(){return N.current=Ve((function(){I(n)})),function(){Ve.cancel(N.current)}}),[n]),r.createElement(EP,{prefixCls:t,popupClassName:Y()("".concat(t,"-popup"),W({},"".concat(t,"-rtl"),p),o,b),stretch:"horizontal"===l?"minWidth":null,getPopupContainer:d,builtinPlacements:S,popupPlacement:T,popupVisible:_,popup:a,popupAlign:u&&{offset:u},action:s?[]:[g],mouseEnterDelay:v,mouseLeaveDelay:m,onPopupVisibleChange:f,forceRender:k,popupMotion:C},i)}function AP(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,o="inline",u=r.useContext(mA),s=u.prefixCls,f=u.forceSubMenuRender,h=u.motion,d=u.defaultMotions,p=u.mode,v=r.useRef(!1);v.current=p===o;var m=c(r.useState(!v.current),2),y=m[0],g=m[1],k=!!v.current&&n;r.useEffect((function(){v.current&&g(!1)}),[p]);var b=X({},TP(o,h,d));i.length>1&&(b.motionAppear=!1);var w=b.onVisibleChanged;return b.onVisibleChanged=function(e){return v.current||e||g(!0),null===w||void 0===w?void 0:w(e)},y?null:r.createElement(yA,{mode:o,locked:!v.current},r.createElement(Pn,l({visible:k},b,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,i=e.style;return r.createElement(GA,{id:t,className:n,style:i},a)})))}var OP=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],PP=["active"],DP=function(e){var t,n=e.style,i=e.className,a=e.title,o=e.eventKey,u=(e.warnKey,e.disabled),s=e.internalPopupClose,f=e.children,h=e.itemIcon,d=e.expandIcon,p=e.popupClassName,v=e.popupOffset,m=e.onClick,y=e.onMouseEnter,g=e.onMouseLeave,k=e.onTitleClick,b=e.onTitleMouseEnter,w=e.onTitleMouseLeave,x=Xe(e,OP),E=OA(o),_=r.useContext(mA),I=_.prefixCls,S=_.mode,T=_.openKeys,C=_.disabled,N=_.overflowDisabled,A=_.activeKey,O=_.selectedKeys,P=_.itemIcon,D=_.expandIcon,R=_.onItemClick,M=_.onOpenChange,L=_.onActive,F=r.useContext(PA)._internalRenderSubMenuItem,V=r.useContext(CA).isSubPathKey,U=TA(),j="".concat(I,"-submenu"),B=C||u,z=r.useRef(),q=r.useRef();var K=h||P,H=d||D,G=T.includes(o),Q=!N&&G,$=V(O,o),J=gA(o,B,b,w),Z=J.active,ee=Xe(J,PP),te=c(r.useState(!1),2),ne=te[0],re=te[1],ie=function(e){B||re(e)},ae=r.useMemo((function(){return Z||"inline"!==S&&(ne||V([A],o))}),[S,Z,A,ne,o,V]),oe=xA(U.length),ue=qA((function(e){null===m||void 0===m||m(bA(e)),R(e)})),se=E&&"".concat(E,"-popup"),ce=r.createElement("div",l({role:"menuitem",style:oe,className:"".concat(j,"-title"),tabIndex:B?null:-1,ref:z,title:"string"===typeof a?a:null,"data-menu-id":N&&E?null:E,"aria-expanded":Q,"aria-haspopup":!0,"aria-controls":se,"aria-disabled":B,onClick:function(e){B||(null===k||void 0===k||k({key:o,domEvent:e}),"inline"===S&&M(o,!G))},onFocus:function(){L(o)}},ee),a,r.createElement(wA,{icon:"horizontal"!==S?H:null,props:X(X({},e),{},{isOpen:Q,isSubMenu:!0})},r.createElement("i",{className:"".concat(j,"-arrow")}))),le=r.useRef(S);if("inline"!==S&&(le.current=U.length>1?"vertical":S),!N){var fe=le.current;ce=r.createElement(NP,{mode:fe,prefixCls:j,visible:!s&&Q&&"inline"!==S,popupClassName:p,popupOffset:v,popup:r.createElement(yA,{mode:"horizontal"===fe?"vertical":fe},r.createElement(GA,{id:se,ref:q},f)),disabled:B,onVisibleChange:function(e){"inline"!==S&&M(o,e)}},ce)}var he=r.createElement(hA.Item,l({role:"none"},x,{component:"li",style:n,className:Y()(j,"".concat(j,"-").concat(S),i,(t={},W(t,"".concat(j,"-open"),Q),W(t,"".concat(j,"-active"),ae),W(t,"".concat(j,"-selected"),$),W(t,"".concat(j,"-disabled"),B),t)),onMouseEnter:function(e){ie(!0),null===y||void 0===y||y({key:o,domEvent:e})},onMouseLeave:function(e){ie(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),ce,!N&&r.createElement(AP,{id:se,open:Q,keyPath:U},f));return F&&(he=F(he,e,{selected:$,active:ae,open:Q,disabled:B})),r.createElement(yA,{onItemClick:ue,mode:"horizontal"===S?"vertical":S,itemIcon:K,expandIcon:H},he)};function RP(e){var t,n=e.eventKey,i=e.children,a=TA(n),o=jA(i,a),u=IA();return r.useEffect((function(){if(u)return u.registerPath(n,a),function(){u.unregisterPath(n,a)}}),[a]),t=u?o:r.createElement(DP,e,o),r.createElement(SA.Provider,{value:a},t)}function MP(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(nO(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function LP(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Er(e.querySelectorAll("*")).filter((function(e){return MP(e,t)}));return MP(e,t)&&n.unshift(e),n}var FP=pA.LEFT,VP=pA.RIGHT,UP=pA.UP,jP=pA.DOWN,BP=pA.ENTER,zP=pA.ESC,qP=pA.HOME,KP=pA.END,HP=[UP,jP,FP,VP];function WP(e,t){return LP(e,!0).filter((function(e){return t.has(e)}))}function GP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=WP(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function QP(e,t,n,i,a,o,u,s,c,l){var f=r.useRef(),h=r.useRef();h.current=t;var d=function(){Ve.cancel(f.current)};return r.useEffect((function(){return function(){d()}}),[]),function(r){var p=r.which;if([].concat(HP,[BP,zP,qP,KP]).includes(p)){var v,m,y,g=function(){return v=new Set,m=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(AA(i,e),"']"));t&&(v.add(t),y.set(t,e),m.set(e,t))})),v};g();var k=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),v),b=y.get(k),w=function(e,t,n,r){var i,a,o,u,s="prev",c="next",l="children",f="parent";if("inline"===e&&r===BP)return{inlineTrigger:!0};var h=(W(i={},UP,s),W(i,jP,c),i),d=(W(a={},FP,n?c:s),W(a,VP,n?s:c),W(a,jP,l),W(a,BP,l),a),p=(W(o={},UP,s),W(o,jP,c),W(o,BP,l),W(o,zP,f),W(o,FP,n?l:f),W(o,VP,n?f:l),o);switch(null===(u={inline:h,horizontal:d,vertical:p,inlineSub:h,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===u(b,!0).length,n,p);if(!w&&p!==qP&&p!==KP)return;(HP.includes(p)||[qP,KP].includes(p))&&r.preventDefault();var x=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);s(r),d(),f.current=Ve((function(){h.current===r&&t.focus()}))}};if([qP,KP].includes(p)||w.sibling||!k){var E,_,I=WP(E=k&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(k):a.current,v);_=p===qP?I[0]:p===KP?I[I.length-1]:GP(E,v,k,w.offset),x(_)}else if(w.inlineTrigger)c(b);else if(w.offset>0)c(b,!0),d(),f.current=Ve((function(){g();var e=k.getAttribute("aria-controls"),t=GP(document.getElementById(e),v);x(t)}),5);else if(w.offset<0){var S=u(b,!0),T=S[S.length-2],C=m.get(T);c(T,!1),x(C)}}null===l||void 0===l||l(r)}}var YP=Math.random().toFixed(5).toString().slice(2),$P=0;var XP="__RC_UTIL_PATH_SPLIT__",JP=function(e){return e.join(XP)},ZP="rc-menu-more";function eD(){var e=c(r.useState({}),2)[1],t=(0,r.useRef)(new Map),n=(0,r.useRef)(new Map),i=c(r.useState([]),2),a=i[0],o=i[1],u=(0,r.useRef)(0),s=(0,r.useRef)(!1),l=(0,r.useCallback)((function(r,i){var a=JP(i);n.current.set(a,r),t.current.set(r,a),u.current+=1;var o=u.current;!function(e){Promise.resolve().then(e)}((function(){o===u.current&&(s.current||e({}))}))}),[]),f=(0,r.useCallback)((function(e,r){var i=JP(r);n.current.delete(i),t.current.delete(e)}),[]),h=(0,r.useCallback)((function(e){o(e)}),[]),d=(0,r.useCallback)((function(e,n){var r=t.current.get(e)||"",i=r.split(XP);return n&&a.includes(i[0])&&i.unshift(ZP),i}),[a]),p=(0,r.useCallback)((function(e,t){return e.some((function(e){return d(e,!0).includes(t)}))}),[d]),v=(0,r.useCallback)((function(e){var r="".concat(t.current.get(e)).concat(XP),i=new Set;return Er(n.current.keys()).forEach((function(e){e.startsWith(r)&&i.add(n.current.get(e))})),i}),[]);return r.useEffect((function(){return function(){s.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:h,isSubPathKey:p,getKeyPath:d,getKeys:function(){var e=Er(t.current.keys());return a.length&&e.push(ZP),e},getSubPathKeys:v}}var tD=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],nD=[],rD=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=void 0===a?"rc-menu":a,u=e.rootClassName,s=e.style,f=e.className,h=e.tabIndex,d=void 0===h?0:h,p=e.items,v=e.children,m=e.direction,y=e.id,g=e.mode,k=void 0===g?"vertical":g,b=e.inlineCollapsed,w=e.disabled,x=e.disabledOverflow,E=e.subMenuOpenDelay,_=void 0===E?.1:E,I=e.subMenuCloseDelay,S=void 0===I?.1:I,T=e.forceSubMenuRender,C=e.defaultOpenKeys,N=e.openKeys,A=e.activeKey,O=e.defaultActiveFirst,P=e.selectable,D=void 0===P||P,R=e.multiple,M=void 0!==R&&R,L=e.defaultSelectedKeys,F=e.selectedKeys,V=e.onSelect,U=e.onDeselect,j=e.inlineIndent,B=void 0===j?24:j,z=e.motion,q=e.defaultMotions,K=e.triggerSubMenuAction,H=void 0===K?"hover":K,G=e.builtinPlacements,Q=e.itemIcon,$=e.expandIcon,J=e.overflowedIndicator,Z=void 0===J?"...":J,ee=e.overflowedIndicatorPopupClassName,te=e.getPopupContainer,ne=e.onClick,re=e.onOpenChange,ie=e.onKeyDown,ae=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),oe=e._internalRenderSubMenuItem,ue=Xe(e,tD),se=r.useMemo((function(){return zA(v,p,nD)}),[v,p]),ce=c(r.useState(!1),2),le=ce[0],fe=ce[1],he=r.useRef(),de=function(e){var t=c(yN(e,{value:e}),2),n=t[0],i=t[1];return r.useEffect((function(){$P+=1;var e="".concat(YP,"-").concat($P);i("rc-menu-uuid-".concat(e))}),[]),n}(y),pe="rtl"===m;var ve=c(r.useMemo((function(){return"inline"!==k&&"vertical"!==k||!b?[k,!1]:["vertical",b]}),[k,b]),2),me=ve[0],ye=ve[1],ge=c(r.useState(0),2),ke=ge[0],be=ge[1],we=ke>=se.length-1||"horizontal"!==me||x,xe=c(yN(C,{value:N,postState:function(e){return e||nD}}),2),Ee=xe[0],_e=xe[1],Ie=function(e){_e(e),null===re||void 0===re||re(e)},Se=c(r.useState(Ee),2),Te=Se[0],Ce=Se[1],Ne="inline"===me,Ae=r.useRef(!1);r.useEffect((function(){Ne&&Ce(Ee)}),[Ee]),r.useEffect((function(){Ae.current&&(Ne?_e(Te):Ie(nD))}),[Ne]),r.useEffect((function(){return Ae.current=!0,function(){Ae.current=!1}}),[]);var Oe=eD(),Pe=Oe.registerPath,De=Oe.unregisterPath,Re=Oe.refreshOverflowKeys,Me=Oe.isSubPathKey,Le=Oe.getKeyPath,Fe=Oe.getKeys,Ve=Oe.getSubPathKeys,Ue=r.useMemo((function(){return{registerPath:Pe,unregisterPath:De}}),[Pe,De]),je=r.useMemo((function(){return{isSubPathKey:Me}}),[Me]);r.useEffect((function(){Re(we?nD:se.slice(ke+1).map((function(e){return e.key})))}),[ke,we]);var Be=c(yN(A||O&&(null===(n=se[0])||void 0===n?void 0:n.key),{value:A}),2),ze=Be[0],qe=Be[1],Ke=qA((function(e){qe(e)})),He=qA((function(){qe(void 0)}));(0,r.useImperativeHandle)(t,(function(){return{list:he.current,focus:function(e){var t,n,r,i,a=null!==ze&&void 0!==ze?ze:null===(t=se.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=he.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(AA(de,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var We=c(yN(L||[],{value:F,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?nD:[e]}}),2),Ge=We[0],Qe=We[1],Ye=qA((function(e){null===ne||void 0===ne||ne(bA(e)),function(e){if(D){var t,n=e.key,r=Ge.includes(n);t=M?r?Ge.filter((function(e){return e!==n})):[].concat(Er(Ge),[n]):[n],Qe(t);var i=X(X({},e),{},{selectedKeys:t});r?null===U||void 0===U||U(i):null===V||void 0===V||V(i)}!M&&Ee.length&&"inline"!==me&&Ie(nD)}(e)})),$e=qA((function(e,t){var n=Ee.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==me){var r=Ve(e);n=n.filter((function(e){return!r.has(e)}))}fN()(Ee,n)||Ie(n)})),Je=qA(te),Ze=QP(me,ze,pe,de,he,Fe,Le,qe,(function(e,t){var n=null!==t&&void 0!==t?t:!Ee.includes(e);$e(e,n)}),ie);r.useEffect((function(){fe(!0)}),[]);var et=r.useMemo((function(){return{_internalRenderMenuItem:ae,_internalRenderSubMenuItem:oe}}),[ae,oe]),tt="horizontal"!==me||x?se:se.map((function(e,t){return r.createElement(yA,{key:e.key,overflowDisabled:t>ke},e)})),nt=r.createElement(hA,l({id:y,ref:he,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:VA,className:Y()(o,"".concat(o,"-root"),"".concat(o,"-").concat(me),f,(i={},W(i,"".concat(o,"-inline-collapsed"),ye),W(i,"".concat(o,"-rtl"),pe),i),u),dir:m,style:s,role:"menu",tabIndex:d,data:tt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?se.slice(-t):null;return r.createElement(RP,{eventKey:ZP,title:Z,disabled:we,internalPopupClose:0===t,popupClassName:ee},n)},maxCount:"horizontal"!==me||x?hA.INVALIDATE:hA.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){be(e)},onKeyDown:Ze},ue));return r.createElement(PA.Provider,{value:et},r.createElement(NA.Provider,{value:de},r.createElement(yA,{prefixCls:o,rootClassName:u,mode:me,openKeys:Ee,rtl:pe,disabled:w,motion:le?z:null,defaultMotions:le?q:null,activeKey:ze,onActive:Ke,onInactive:He,selectedKeys:Ge,inlineIndent:B,subMenuOpenDelay:_,subMenuCloseDelay:S,forceSubMenuRender:T,builtinPlacements:G,triggerSubMenuAction:H,getPopupContainer:Je,itemIcon:Q,expandIcon:$,onItemClick:Ye,onOpenChange:$e},r.createElement(CA.Provider,{value:je},nt),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(_A.Provider,{value:Ue},se)))))})),iD=["className","title","eventKey","children"],aD=["children"],oD=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=Xe(e,iD),o=r.useContext(mA).prefixCls,u="".concat(o,"-item-group");return r.createElement("li",l({},a,{onClick:function(e){return e.stopPropagation()},className:Y()(u,t)}),r.createElement("div",{className:"".concat(u,"-title"),title:"string"===typeof n?n:void 0},n),r.createElement("ul",{className:"".concat(u,"-list")},i))};function uD(e){var t=e.children,n=Xe(e,aD),i=jA(t,TA(n.eventKey));return IA()?i:r.createElement(oD,J(n,["warnKey"]),i)}function sD(e){var t=e.className,n=e.style,i=r.useContext(mA).prefixCls;return IA()?null:r.createElement("li",{className:Y()("".concat(i,"-item-divider"),t),style:n})}var cD=TA,lD=rD;lD.Item=VA,lD.SubMenu=RP,lD.ItemGroup=uD,lD.Divider=sD;var fD=lD,hD=r.createContext({});!function(){var e=0}();var dD=function(){return{height:0,opacity:0}},pD=function(e){return{height:e.scrollHeight,opacity:1}},vD=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},mD={motionName:"ant-motion-collapse",onAppearStart:dD,onEnterStart:dD,onAppearActive:pD,onEnterActive:pD,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:dD,onAppearEnd:vD,onEnterEnd:vD,onLeaveEnd:vD,motionDeadline:500},yD=(ue("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),gD=mD,kD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},bD=function(e){var t=e.prefixCls,n=e.className,i=e.dashed,a=kD(e,["prefixCls","className","dashed"]),o=(0,r.useContext(Z).getPrefixCls)("menu",t),u=Y()(W({},"".concat(o,"-item-divider-dashed"),!!i),n);return r.createElement(sD,l({className:u},a))},wD={adjustX:1,adjustY:1},xD=[0,0],ED={left:{points:["cr","cl"],overflow:wD,offset:[-4,0],targetOffset:xD},right:{points:["cl","cr"],overflow:wD,offset:[4,0],targetOffset:xD},top:{points:["bc","tc"],overflow:wD,offset:[0,-4],targetOffset:xD},bottom:{points:["tc","bc"],overflow:wD,offset:[0,4],targetOffset:xD},topLeft:{points:["bl","tl"],overflow:wD,offset:[0,-4],targetOffset:xD},leftTop:{points:["tr","tl"],overflow:wD,offset:[-4,0],targetOffset:xD},topRight:{points:["br","tr"],overflow:wD,offset:[0,-4],targetOffset:xD},rightTop:{points:["tl","tr"],overflow:wD,offset:[4,0],targetOffset:xD},bottomRight:{points:["tr","br"],overflow:wD,offset:[0,4],targetOffset:xD},rightBottom:{points:["bl","br"],overflow:wD,offset:[4,0],targetOffset:xD},bottomLeft:{points:["tl","bl"],overflow:wD,offset:[0,4],targetOffset:xD},leftBottom:{points:["br","bl"],overflow:wD,offset:[-4,0],targetOffset:xD}};function _D(e){var t=e.showArrow,n=e.arrowContent,i=e.children,a=e.prefixCls,o=e.id,u=e.overlayInnerStyle,s=e.className,c=e.style;return r.createElement("div",{className:Y()("".concat(a,"-content"),s),style:c},!1!==t&&r.createElement("div",{className:"".concat(a,"-arrow"),key:"arrow"},n),r.createElement("div",{className:"".concat(a,"-inner"),id:o,role:"tooltip",style:u},"function"===typeof i?i():i))}var ID=function(e,t){var n=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,u=void 0===o?0:o,s=e.mouseLeaveDelay,c=void 0===s?.1:s,f=e.overlayStyle,h=e.prefixCls,d=void 0===h?"rc-tooltip":h,p=e.children,v=e.onVisibleChange,m=e.afterVisibleChange,y=e.transitionName,g=e.animation,k=e.motion,b=e.placement,w=void 0===b?"right":b,x=e.align,E=void 0===x?{}:x,_=e.destroyTooltipOnHide,I=void 0!==_&&_,S=e.defaultVisible,T=e.getTooltipContainer,C=e.overlayInnerStyle,N=e.arrowContent,A=e.overlay,O=e.id,P=e.showArrow,D=Xe(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),R=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return R.current}));var M=X({},D);"visible"in e&&(M.popupVisible=e.visible);var L=!1,F=!1;if("boolean"===typeof I)L=I;else if(I&&"object"===G(I)){var V=I.keepParent;L=!0===V,F=!1===V}return r.createElement(EP,l({popupClassName:n,prefixCls:d,popup:function(){return r.createElement(_D,{showArrow:P,arrowContent:N,key:"content",prefixCls:d,id:O,overlayInnerStyle:C},A)},action:a,builtinPlacements:ED,popupPlacement:w,ref:R,popupAlign:E,getPopupContainer:T,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:y,popupAnimation:g,popupMotion:k,defaultPopupVisible:S,destroyPopupOnHide:L,autoDestroy:F,mouseLeaveDelay:c,popupStyle:f,mouseEnterDelay:u},M),p)},SD=(0,r.forwardRef)(ID),TD=(ue("success","processing","error","default","warning"),ue("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),CD={adjustX:1,adjustY:1},ND={adjustX:0,adjustY:0},AD=[0,0];function OD(e){return"boolean"===typeof e?e?CD:ND:l(l({},ND),e)}var PD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},DD=new RegExp("^(".concat(TD.join("|"),")(-inverse)?$"));function RD(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=l({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,u=l(l({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=oe(e,{style:l(l({},o),{pointerEvents:"none"}),className:null});return r.createElement("span",{style:u,className:Y()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var MD=r.forwardRef((function(e,t){var n,i=r.useContext(Z),a=i.getPopupContainer,o=i.getPrefixCls,u=i.direction;var s=c(yN(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),f=s[0],h=s[1],d=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},p=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,u=e.autoAdjustOverflow,s=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=s?l(l({},c[e]),{overflow:OD(u),targetOffset:AD}):l(l({},ED[e]),{overflow:OD(u)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},v=e.getPopupContainer,m=PD(e,["getPopupContainer"]),y=e.prefixCls,g=e.openClassName,k=e.getTooltipContainer,b=e.overlayClassName,w=e.color,x=e.overlayInnerStyle,E=e.children,_=o("tooltip",y),I=o(),S=f;"open"in e||"visible"in e||!d()||(S=!1);var T,C=RD(ae(E)&&!function(e){return e&&e.type===r.Fragment}(E)?E:r.createElement("span",null,E),_),N=C.props,A=Y()(N.className,W({},g||"".concat(_,"-open"),!0)),O=Y()(b,(W(n={},"".concat(_,"-rtl"),"rtl"===u),W(n,"".concat(_,"-").concat(w),w&&DD.test(w)),n)),P=x;return w&&!DD.test(w)&&(P=l(l({},x),{background:w}),T={"--antd-arrow-background-color":w}),r.createElement(SD,l({},m,{prefixCls:_,overlayClassName:O,getTooltipContainer:v||k||a,ref:t,builtinPlacements:p(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:S,onVisibleChange:function(t){var n,r;h(!d()&&t),d()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=p(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:P,arrowContent:r.createElement("span",{className:"".concat(_,"-arrow-content"),style:T}),motion:{motionName:yD(I,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),S?oe(C,{className:A}):C)}));MD.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var LD=MD,FD=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),VD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},UD=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,i,a=t.siderCollapsed,o=e.context,u=o.prefixCls,s=o.firstLevel,c=o.inlineCollapsed,f=o.direction,h=o.disableMenuItemTitleTooltip,d=e.props,p=d.className,v=d.children,m=e.props,y=m.title,g=m.icon,k=m.danger,b=VD(m,["title","icon","danger"]),w=y;"undefined"===typeof y?w=s?v:"":!1===y&&(w="");var x={title:w};a||c||(x.title=null,x.open=!1);var E=gN(v).length,_=r.createElement(VA,l({},b,{className:Y()((n={},W(n,"".concat(u,"-item-danger"),k),W(n,"".concat(u,"-item-only-child"),1===(g?E+1:E)),n),p),title:"string"===typeof y?y:void 0}),oe(g,{className:Y()(ae(g)?null===(i=g.props)||void 0===i?void 0:i.className:"","".concat(u,"-item-icon"))}),e.renderItemChildren(c));return h||(_=r.createElement(LD,l({},x,{placement:"rtl"===f?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),_)),_},e}return le(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,i=t.firstLevel,a=this.props,o=a.icon,u=a.children,s=r.createElement("span",{className:"".concat(n,"-title-content")},u);return(!o||ae(u)&&"span"===u.type)&&u&&e&&i&&"string"===typeof u?r.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},u.charAt(0)):s}},{key:"render",value:function(){return r.createElement(hD.Consumer,null,this.renderItem)}}]),n}(r.Component);UD.contextType=FD;var jD=function(e){var t,n,i=e.popupClassName,a=e.icon,o=e.title,u=e.theme,s=r.useContext(FD),c=s.prefixCls,f=s.inlineCollapsed,h=s.antdMenuTheme,d=cD();if(a){var p=ae(o)&&"span"===o.type;n=r.createElement(r.Fragment,null,oe(a,{className:Y()(ae(a)?null===(t=a.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),p?o:r.createElement("span",{className:"".concat(c,"-title-content")},o))}else n=f&&!d.length&&o&&"string"===typeof o?r.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(c,"-title-content")},o);var v=r.useMemo((function(){return l(l({},s),{firstLevel:!1})}),[s]);return r.createElement(FD.Provider,{value:v},r.createElement(RP,l({},J(e,["icon"]),{title:n,popupClassName:Y()(c,"".concat(c,"-").concat(u||h),i)})))},BD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function zD(e){return(e||[]).map((function(e,t){if(e&&"object"===G(e)){var n=e,i=n.label,a=n.children,o=n.key,u=n.type,s=BD(n,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===u?"group"===u?r.createElement(uD,l({key:c},s,{title:i}),zD(a)):r.createElement(jD,l({key:c},s,{title:i}),zD(a)):"divider"===u?r.createElement(bD,l({key:c},s)):r.createElement(UD,l({key:c},s),i)}return null})).filter((function(e){return e}))}function qD(e){return r.useMemo((function(){return e?zD(e):e}),[e])}var KD=r.createContext(null),HD=KD,WD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},GD=(0,r.forwardRef)((function(e,t){var n,i=r.useContext(HD)||{},a=r.useContext(Z),o=a.getPrefixCls,u=a.getPopupContainer,s=a.direction,c=o(),f=e.prefixCls,h=e.className,d=e.theme,p=void 0===d?"light":d,v=e.expandIcon,m=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,g=e.siderCollapsed,k=e.items,b=e.children,w=e.mode,x=e.selectable,E=e.onClick,_=J(WD(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),["collapsedWidth"]),I=qD(k)||b;null===(n=i.validator)||void 0===n||n.call(i,{mode:w});var S,T=hN((function(){var e;null===E||void 0===E||E.apply(void 0,arguments),null===(e=null===i||void 0===i?void 0:i.onClick)||void 0===e||e.call(i)})),C=i.mode||w,N=null!==x&&void 0!==x?x:i.selectable,A=r.useMemo((function(){return void 0!==g?g:y}),[y,g]),O={horizontal:{motionName:"".concat(c,"-slide-up")},inline:gD,other:{motionName:"".concat(c,"-zoom-big")}},P=o("menu",f||i.prefixCls),D=Y()("".concat(P,"-").concat(p),h);S="function"===typeof v?v:oe(v||i.expandIcon,{className:"".concat(P,"-submenu-expand-icon")});var R=r.useMemo((function(){return{prefixCls:P,inlineCollapsed:A||!1,antdMenuTheme:p,direction:s,firstLevel:!0,disableMenuItemTitleTooltip:m}}),[P,A,p,s,m]);return r.createElement(HD.Provider,{value:null},r.createElement(FD.Provider,{value:R},r.createElement(fD,l({getPopupContainer:u,overflowedIndicator:r.createElement(cN,null),overflowedIndicatorPopupClassName:"".concat(P,"-").concat(p),mode:C,selectable:N,onClick:T},_,{inlineCollapsed:A,className:D,prefixCls:P,direction:s,defaultMotions:O,expandIcon:S,ref:t}),I)))})),QD=function(e){de(n,e);var t=ye(n);function n(){var e;return se(this,n),(e=t.apply(this,arguments)).focus=function(t){var n;null===(n=e.menu)||void 0===n||n.focus(t)},e}return le(n,[{key:"render",value:function(){var e=this;return r.createElement(hD.Consumer,null,(function(t){return r.createElement(GD,l({ref:function(t){e.menu=t}},e.props,t))}))}}]),n}(r.Component);QD.Divider=bD,QD.Item=UD,QD.SubMenu=jD,QD.ItemGroup=uD;var YD=QD,$D=[{label:"Mathematics",key:"/category?c=Mathematics"},{label:"Statistics",key:"/category?c=Statistics"},{label:"Economics",key:"/category?c=Economics"},{label:"Finance",key:"/category?c=Finance"},{label:"Accounting",key:"/category?c=Accounting"},{label:"Software Development",key:"/category?c=SoftwareDevelopment"},{label:"Marketing",key:"/category?c=Marketing"}],XD=function(e){var t=e.key;return window.location.href="/#"+t},JD=function(){var e="";return $D.forEach((function(t){-1!==window.location.pathname.indexOf(t.label)&&(e=t.label)})),e},ZD=Navigator=function(){return(0,z.jsx)(YD,{mode:"horizontal",align:"center",items:$D,onClick:XD,selectedKeys:[JD]})},eR=[{label:"Home",key:"home"},{label:"Login",key:"login"}],tR=[{label:"Home",key:"home"},{label:"Logout",key:"logout"}],nR=Navigator=function(e){var t=e.user,n=e.auth;return(0,z.jsx)(YD,{mode:"horizontal",items:t?tR:eR,onClick:function(e){var t=e.key;console.log(t),"logout"===t?(console.log("LOGGING OUT"),n.signOut(),window.location.href="/"):window.location.href="/#/"+t},selectedKeys:[window.location.pathname.replace("/","").toLowerCase()]})};function rR(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function iR(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var aR=function(){return aR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aR.apply(this,arguments)},oR=function(e){return{loading:void 0===e||null===e,value:e}},uR=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return aR(aR({},e),{error:t.error,loading:!1,value:void 0});case"reset":return oR(t.defaultValue);case"value":return aR(aR({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),oR(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},sR=function(e,t){var n=uR((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return br(e).onAuthStateChanged(t,n,r)}(e,(function(e){return rR(void 0,void 0,void 0,(function(){var n;return iR(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)};Yi.initializeApp({apiKey:"AIzaSyDLZtN_iioKBgGTrjzIF8DWp-zNksYS7TQ",authDomain:"wombol-df415.firebaseapp.com",projectId:"wombol-df415",storageBucket:"wombol-df415.appspot.com",messagingSenderId:"211219277241",appId:"1:211219277241:web:946571b670da366d87c268",measurementId:"G-MLWY4LNEZ0"});var cR=Yi.auth();Yi.firestore();function lR(){var e=window;return{innerWidth:e.innerWidth,innerHeight:e.innerHeight}}var fR=function(){var e=c(sR(cR),1)[0],t=c((0,r.useState)(lR()),2),n=(t[0],t[1]);return(0,r.useEffect)((function(){function e(){n(lR())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,z.jsxs)("div",{className:"App",children:[(0,z.jsx)("div",{className:"text-4xl italic font-bold",children:(0,z.jsx)("a",{href:"/",children:"Wombol"})}),(0,z.jsx)(nR,{user:e,auth:cR}),(0,z.jsx)(ZD,{}),(0,z.jsx)(B,{basename:"",children:(0,z.jsxs)(U,{children:[(0,z.jsx)(F,{path:"/",element:(0,z.jsx)(aN,{})}),(0,z.jsx)(F,{path:"/login",element:(0,z.jsx)(tN,{auth:cR})}),(0,z.jsx)(F,{path:"/resetPassword",element:(0,z.jsx)(iN,{})}),(0,z.jsx)(F,{path:"/confirmAccount",element:(0,z.jsx)(K,{})}),(0,z.jsx)(F,{path:"/home",element:(0,z.jsx)(H,{user:e})}),(0,z.jsx)(F,{path:"/category",element:(0,z.jsx)(q,{})}),(0,z.jsx)(F,{path:"/question",element:(0,z.jsx)(oN,{})}),(0,z.jsx)(F,{path:"/privacy",element:(0,z.jsx)(nN,{})}),(0,z.jsx)(F,{path:"/terms",element:(0,z.jsx)(rN,{})})]})})]})},hR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,z.jsx)(r.StrictMode,{children:(0,z.jsx)(fR,{})})),hR()}()}();
//# sourceMappingURL=main.f0935abf.js.map